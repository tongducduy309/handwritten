"use strict";(self.webpackChunkHandwritten_admin=self.webpackChunkHandwritten_admin||[]).push([[179],{2011:(Dt,Ie,F)=>{F.d(Ie,{Dh:()=>Ee,GT:()=>ee,cc:()=>Ae,hO:()=>je,on:()=>$,pX:()=>le,xv:()=>ye});var d=F(4650),te=F(9260),R=F(4976);Dt=F.hmd(Dt);const ce=["ngOnDestroy"],le=(ze,Oe,Ye,Re={})=>new Proxy(ze,{get:(De,Me)=>Ye.runOutsideAngular(()=>{var qe;if(ze[Me])return!(null===(qe=Re?.spy)||void 0===qe)&&qe.get&&Re.spy.get(Me,ze[Me]),ze[Me];if(ce.indexOf(Me)>-1)return()=>{};const Le=Oe.toPromise().then(ct=>{const ae=ct&&ct[Me];return"function"==typeof ae?ae.bind(ct):ae&&ae.then?ae.then(At=>Ye.run(()=>At)):Ye.run(()=>ae)});return new Proxy(()=>{},{get:(ct,ae)=>Le[ae],apply:(ct,ae,At)=>Le.then(nt=>{var Kt;const ft=nt&&nt(...At);return!(null===(Kt=Re?.spy)||void 0===Kt)&&Kt.apply&&Re.spy.apply(Me,At,ft),ft})})})}),ee=(ze,Oe)=>{Oe.forEach(Ye=>{Object.getOwnPropertyNames(Ye.prototype||Ye).forEach(Re=>{Object.defineProperty(ze.prototype,Re,Object.getOwnPropertyDescriptor(Ye.prototype||Ye,Re))})})};class be{constructor(Oe){return Oe}}const Ee=new d.OlP("angularfire2.app.options"),ye=new d.OlP("angularfire2.app.name");function $(ze,Oe,Ye){const De="object"==typeof Ye&&Ye||{};De.name=De.name||"string"==typeof Ye&&Ye||"[DEFAULT]";const qe=te.Z.apps.filter(Le=>Le&&Le.name===De.name)[0]||Oe.runOutsideAngular(()=>te.Z.initializeApp(ze,De));try{JSON.stringify(ze)!==JSON.stringify(qe.options)&&j("error",`${qe.name} Firebase App already initialized with different options${Dt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new be(qe)}const j=(ze,...Oe)=>{(0,d.X6Q)()&&typeof console<"u"&&console[ze](...Oe)},K={provide:be,useFactory:$,deps:[Ee,d.R0b,[new d.FiY,ye]]};let je=(()=>{class ze{constructor(Ye){te.Z.registerVersion("angularfire",R.q4.full,"core"),te.Z.registerVersion("angularfire",R.q4.full,"app-compat"),te.Z.registerVersion("angular",d.q4F.full,Ye.toString())}static initializeApp(Ye,Re){return{ngModule:ze,providers:[{provide:Ee,useValue:Ye},{provide:ye,useValue:Re}]}}}return ze.\u0275fac=function(Ye){return new(Ye||ze)(d.LFG(d.Lbi))},ze.\u0275mod=d.oAB({type:ze}),ze.\u0275inj=d.cJS({providers:[K]}),ze})();function Ae(ze,Oe,Ye,Re,De){const[,Me,qe]=globalThis.\u0275AngularfireInstanceCache.find(Le=>Le[0]===ze)||[];if(Me)return function Ze(ze,Oe){try{return ze.toString()===Oe.toString()}catch{return ze===Oe}}(De,qe)||(_e("error",`${Oe} was already initialized on the ${Ye} Firebase App with different settings.${ht?" You may need to reload as Firebase is not HMR aware.":""}`),_e("warn",{is:De,was:qe})),Me;{const Le=Re();return globalThis.\u0275AngularfireInstanceCache.push([ze,Le,De]),Le}}const ht=!!Dt.hot,_e=(ze,...Oe)=>{(0,d.X6Q)()&&typeof console<"u"&&console[ze](...Oe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(Dt,Ie,F)=>{F.d(Ie,{q4:()=>Yn,iC:()=>Xi,HU:()=>Mt,vb:()=>Yl,JM:()=>Bl});var d=F(4650),te=F(259),R=F(5861),ce=F(6881),le=F(2090),ee=F(4859),be=F(1877);const Ee=(C,D)=>D.some(I=>C instanceof I);let ye,$;const je=new WeakMap,Ae=new WeakMap,Ze=new WeakMap,ht=new WeakMap,_e=new WeakMap;let Ye={get(C,D,I){if(C instanceof IDBTransaction){if("done"===D)return Ae.get(C);if("objectStoreNames"===D)return C.objectStoreNames||Ze.get(C);if("store"===D)return I.objectStoreNames[1]?void 0:I.objectStore(I.objectStoreNames[0])}return qe(C[D])},set:(C,D,I)=>(C[D]=I,!0),has:(C,D)=>C instanceof IDBTransaction&&("done"===D||"store"===D)||D in C};function Me(C){return"function"==typeof C?function De(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function K(){return $||($=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(C)?function(...D){return C.apply(Le(this),D),qe(je.get(this))}:function(...D){return qe(C.apply(Le(this),D))}:function(D,...I){const O=C.call(Le(this),D,...I);return Ze.set(O,D.sort?D.sort():[D]),qe(O)}}(C):(C instanceof IDBTransaction&&function Oe(C){if(Ae.has(C))return;const D=new Promise((I,O)=>{const G=()=>{C.removeEventListener("complete",Q),C.removeEventListener("error",oe),C.removeEventListener("abort",oe)},Q=()=>{I(),G()},oe=()=>{O(C.error||new DOMException("AbortError","AbortError")),G()};C.addEventListener("complete",Q),C.addEventListener("error",oe),C.addEventListener("abort",oe)});Ae.set(C,D)}(C),Ee(C,function j(){return ye||(ye=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(C,Ye):C)}function qe(C){if(C instanceof IDBRequest)return function ze(C){const D=new Promise((I,O)=>{const G=()=>{C.removeEventListener("success",Q),C.removeEventListener("error",oe)},Q=()=>{I(qe(C.result)),G()},oe=()=>{O(C.error),G()};C.addEventListener("success",Q),C.addEventListener("error",oe)});return D.then(I=>{I instanceof IDBCursor&&je.set(I,C)}).catch(()=>{}),_e.set(D,C),D}(C);if(ht.has(C))return ht.get(C);const D=Me(C);return D!==C&&(ht.set(C,D),_e.set(D,C)),D}const Le=C=>_e.get(C),At=["get","getKey","getAll","getAllKeys","count"],nt=["put","add","delete","clear"],Kt=new Map;function ft(C,D){if(!(C instanceof IDBDatabase)||D in C||"string"!=typeof D)return;if(Kt.get(D))return Kt.get(D);const I=D.replace(/FromIndex$/,""),O=D!==I,G=nt.includes(I);if(!(I in(O?IDBIndex:IDBObjectStore).prototype)||!G&&!At.includes(I))return;const Q=function(){var oe=(0,R.Z)(function*(We,...$e){const pt=this.transaction(We,G?"readwrite":"readonly");let zt=pt.store;return O&&(zt=zt.index($e.shift())),(yield Promise.all([zt[I](...$e),G&&pt.done]))[0]});return function($e){return oe.apply(this,arguments)}}();return Kt.set(D,Q),Q}!function Re(C){Ye=C(Ye)}(C=>({...C,get:(D,I,O)=>ft(D,I)||C.get(D,I,O),has:(D,I)=>!!ft(D,I)||C.has(D,I)}));const is="@firebase/installations",di="0.6.4",Ds=1e4,ho=`w:${di}`,de="FIS_v2",pe="https://firebaseinstallations.googleapis.com/v1",ge=36e5,lt=new le.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function yt(C){return C instanceof le.ZR&&C.code.includes("request-failed")}function wn({projectId:C}){return`${pe}/projects/${C}/installations`}function Ct(C){return{token:C.token,requestStatus:2,expiresIn:Pr(C.expiresIn),creationTime:Date.now()}}function Xt(C,D){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,R.Z)(function*(C,D){const O=(yield D.json()).error;return lt.create("request-failed",{requestName:C,serverCode:O.code,serverMessage:O.message,serverStatus:O.status})})).apply(this,arguments)}function Ei({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function Hn(C){return In.apply(this,arguments)}function In(){return(In=(0,R.Z)(function*(C){const D=yield C();return D.status>=500&&D.status<600?C():D})).apply(this,arguments)}function Pr(C){return Number(C.replace("s","000"))}function St(){return(St=(0,R.Z)(function*({appConfig:C,heartbeatServiceProvider:D},{fid:I}){const O=wn(C),G=Ei(C),Q=D.getImmediate({optional:!0});if(Q){const pt=yield Q.getHeartbeatsHeader();pt&&G.append("x-firebase-client",pt)}const We={method:"POST",headers:G,body:JSON.stringify({fid:I,authVersion:de,appId:C.appId,sdkVersion:ho})},$e=yield Hn(()=>fetch(O,We));if($e.ok){const pt=yield $e.json();return{fid:pt.fid||I,registrationStatus:2,refreshToken:pt.refreshToken,authToken:Ct(pt.authToken)}}throw yield Xt("Create Installation",$e)})).apply(this,arguments)}function hi(C){return new Promise(D=>{setTimeout(D,C)})}const zr=/^[cdef][\w-]{21}$/,ei="";function fo(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const I=function an(C){return function yu(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return zr.test(I)?I:ei}catch{return ei}}function ln(C){return`${C.appName}!${C.appId}`}const ut=new Map;function Nt(C,D){const I=ln(C);br(I,D),function ti(C,D){const I=function pi(){return!Bn&&"BroadcastChannel"in self&&(Bn=new BroadcastChannel("[Firebase] FID Change"),Bn.onmessage=C=>{br(C.data.key,C.data.fid)}),Bn}();I&&I.postMessage({key:C,fid:D}),function bn(){0===ut.size&&Bn&&(Bn.close(),Bn=null)}()}(I,D)}function br(C,D){const I=ut.get(C);if(I)for(const O of I)O(D)}let Bn=null;const os="firebase-installations-database",tn=1,po="firebase-installations-store";let un=null;function Ti(){return un||(un=function ct(C,D,{blocked:I,upgrade:O,blocking:G,terminated:Q}={}){const oe=indexedDB.open(C,D),We=qe(oe);return O&&oe.addEventListener("upgradeneeded",$e=>{O(qe(oe.result),$e.oldVersion,$e.newVersion,qe(oe.transaction))}),I&&oe.addEventListener("blocked",()=>I()),We.then($e=>{Q&&$e.addEventListener("close",()=>Q()),G&&$e.addEventListener("versionchange",()=>G())}).catch(()=>{}),We}(os,tn,{upgrade:(C,D)=>{0===D&&C.createObjectStore(po)}})),un}function Un(C,D){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,R.Z)(function*(C,D){const I=ln(C),G=(yield Ti()).transaction(po,"readwrite"),Q=G.objectStore(po),oe=yield Q.get(I);return yield Q.put(D,I),yield G.done,(!oe||oe.fid!==D.fid)&&Nt(C,D.fid),D})).apply(this,arguments)}function $i(C){return An.apply(this,arguments)}function An(){return(An=(0,R.Z)(function*(C){const D=ln(C),O=(yield Ti()).transaction(po,"readwrite");yield O.objectStore(po).delete(D),yield O.done})).apply(this,arguments)}function Gi(C,D){return ni.apply(this,arguments)}function ni(){return(ni=(0,R.Z)(function*(C,D){const I=ln(C),G=(yield Ti()).transaction(po,"readwrite"),Q=G.objectStore(po),oe=yield Q.get(I),We=D(oe);return void 0===We?yield Q.delete(I):yield Q.put(We,I),yield G.done,We&&(!oe||oe.fid!==We.fid)&&Nt(C,We.fid),We})).apply(this,arguments)}function Y(C){return H.apply(this,arguments)}function H(){return H=(0,R.Z)(function*(C){let D;const I=yield Gi(C.appConfig,O=>{const G=function q(C){return zn(C||{fid:fo(),registrationStatus:0})}(O),Q=function we(C,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(lt.create("app-offline"))};const I={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},O=function ne(C,D){return He.apply(this,arguments)}(C,I);return{installationEntry:I,registrationPromise:O}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:kt(C)}:{installationEntry:D}}(C,G);return D=Q.registrationPromise,Q.installationEntry});return I.fid===ei?{installationEntry:yield D}:{installationEntry:I,registrationPromise:D}}),H.apply(this,arguments)}function He(){return He=(0,R.Z)(function*(C,D){try{const I=yield function $r(C,D){return St.apply(this,arguments)}(C,D);return Un(C.appConfig,I)}catch(I){throw yt(I)&&409===I.customData.serverCode?yield $i(C.appConfig):yield Un(C.appConfig,{fid:D.fid,registrationStatus:0}),I}}),He.apply(this,arguments)}function kt(C){return on.apply(this,arguments)}function on(){return(on=(0,R.Z)(function*(C){let D=yield qn(C.appConfig);for(;1===D.registrationStatus;)yield hi(100),D=yield qn(C.appConfig);if(0===D.registrationStatus){const{installationEntry:I,registrationPromise:O}=yield Y(C);return O||I}return D})).apply(this,arguments)}function qn(C){return Gi(C,D=>{if(!D)throw lt.create("installation-not-found");return zn(D)})}function zn(C){return function pn(C){return 1===C.registrationStatus&&C.registrationTime+Ds<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function Gr(){return(Gr=(0,R.Z)(function*({appConfig:C,heartbeatServiceProvider:D},I){const O=function qi(C,{fid:D}){return`${wn(C)}/${D}/authTokens:generate`}(C,I),G=function rn(C,{refreshToken:D}){const I=Ei(C);return I.append("Authorization",function jr(C){return`${de} ${C}`}(D)),I}(C,I),Q=D.getImmediate({optional:!0});if(Q){const pt=yield Q.getHeartbeatsHeader();pt&&G.append("x-firebase-client",pt)}const We={method:"POST",headers:G,body:JSON.stringify({installation:{sdkVersion:ho,appId:C.appId}})},$e=yield Hn(()=>fetch(O,We));if($e.ok)return Ct(yield $e.json());throw yield Xt("Generate Auth Token",$e)})).apply(this,arguments)}function mo(C){return ic.apply(this,arguments)}function ic(){return ic=(0,R.Z)(function*(C,D=!1){let I;const O=yield Gi(C.appConfig,Q=>{if(!Gt(Q))throw lt.create("not-registered");const oe=Q.authToken;if(!D&&function Et(C){return 2===C.requestStatus&&!function cn(C){const D=Date.now();return D<C.creationTime||C.creationTime+C.expiresIn<D+ge}(C)}(oe))return Q;if(1===oe.requestStatus)return I=function me(C,D){return ie.apply(this,arguments)}(C,D),Q;{if(!navigator.onLine)throw lt.create("app-offline");const We=function sn(C){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:D})}(Q);return I=function bt(C,D){return It.apply(this,arguments)}(C,We),We}});return I?yield I:O.authToken}),ic.apply(this,arguments)}function ie(){return(ie=(0,R.Z)(function*(C,D){let I=yield Fe(C.appConfig);for(;1===I.authToken.requestStatus;)yield hi(100),I=yield Fe(C.appConfig);const O=I.authToken;return 0===O.requestStatus?mo(C,D):O})).apply(this,arguments)}function Fe(C){return Gi(C,D=>{if(!Gt(D))throw lt.create("not-registered");return function Cr(C){return 1===C.requestStatus&&C.requestTime+Ds<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function It(){return It=(0,R.Z)(function*(C,D){try{const I=yield function Jt(C,D){return Gr.apply(this,arguments)}(C,D),O=Object.assign(Object.assign({},D),{authToken:I});return yield Un(C.appConfig,O),I}catch(I){if(!yt(I)||401!==I.customData.serverCode&&404!==I.customData.serverCode){const O=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield Un(C.appConfig,O)}else yield $i(C.appConfig);throw I}}),It.apply(this,arguments)}function Gt(C){return void 0!==C&&2===C.registrationStatus}function il(){return(il=(0,R.Z)(function*(C){const D=C,{installationEntry:I,registrationPromise:O}=yield Y(D);return O?O.catch(console.error):mo(D).catch(console.error),I.fid})).apply(this,arguments)}function Ts(){return Ts=(0,R.Z)(function*(C,D=!1){const I=C;return yield function Mi(C){return Qe.apply(this,arguments)}(I),(yield mo(I,D)).token}),Ts.apply(this,arguments)}function Qe(){return(Qe=(0,R.Z)(function*(C){const{registrationPromise:D}=yield Y(C);D&&(yield D)})).apply(this,arguments)}function go(C){return lt.create("missing-app-config-values",{valueName:C})}const $t="installations",Ms=C=>{const D=C.getProvider("app").getImmediate(),I=function oc(C){if(!C||!C.options)throw go("App Configuration");if(!C.name)throw go("App Name");const D=["projectId","apiKey","appId"];for(const I of D)if(!C.options[I])throw go(I);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(D);return{app:D,appConfig:I,heartbeatServiceProvider:(0,ce._getProvider)(D,"heartbeat"),_delete:()=>Promise.resolve()}},Ro=C=>{const D=C.getProvider("app").getImmediate(),I=(0,ce._getProvider)(D,$t).getImmediate();return{getId:()=>function er(C){return il.apply(this,arguments)}(I),getToken:G=>function z1(C){return Ts.apply(this,arguments)}(I,G)}};(function xs(){(0,ce._registerComponent)(new ee.wA($t,Ms,"PUBLIC")),(0,ce._registerComponent)(new ee.wA("installations-internal",Ro,"PRIVATE"))})(),(0,ce.registerVersion)(is,di),(0,ce.registerVersion)(is,di,"esm2017");const Wn="@firebase/remote-config",Or=new le.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class No{constructor(D,I,O,G){this.client=D,this.storage=I,this.storageCache=O,this.logger=G}isCachedDataFresh(D,I){if(!I)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const O=Date.now()-I,G=O<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${O}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${G}.`),G}fetch(D){var I=this;return(0,R.Z)(function*(){const[O,G]=yield Promise.all([I.storage.getLastSuccessfulFetchTimestampMillis(),I.storage.getLastSuccessfulFetchResponse()]);if(G&&I.isCachedDataFresh(D.cacheMaxAgeMillis,O))return G;D.eTag=G&&G.eTag;const Q=yield I.client.fetch(D),oe=[I.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Q.status&&oe.push(I.storage.setLastSuccessfulFetchResponse(Q)),yield Promise.all(oe),Q})()}}function P2(C=navigator){return C.languages&&C.languages[0]||C.language}class bu{constructor(D,I,O,G,Q,oe){this.firebaseInstallations=D,this.sdkVersion=I,this.namespace=O,this.projectId=G,this.apiKey=Q,this.appId=oe}fetch(D){var I=this;return(0,R.Z)(function*(){const[O,G]=yield Promise.all([I.firebaseInstallations.getId(),I.firebaseInstallations.getToken()]),oe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${I.projectId}/namespaces/${I.namespace}:fetch?key=${I.apiKey}`,We={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},$e={sdk_version:I.sdkVersion,app_instance_id:O,app_instance_id_token:G,app_id:I.appId,language_code:P2()},pt={method:"POST",headers:We,body:JSON.stringify($e)},zt=fetch(oe,pt),Ot=new Promise((Mr,eo)=>{D.signal.addEventListener(()=>{const gs=new Error("The operation was aborted.");gs.name="AbortError",eo(gs)})});let Kr;try{yield Promise.race([zt,Ot]),Kr=yield zt}catch(Mr){let eo="fetch-client-network";throw"AbortError"===Mr?.name&&(eo="fetch-timeout"),Or.create(eo,{originalErrorMessage:Mr?.message})}let Sn=Kr.status;const Vt=Kr.headers.get("ETag")||void 0;let ms,Qs;if(200===Kr.status){let Mr;try{Mr=yield Kr.json()}catch(eo){throw Or.create("fetch-client-parse",{originalErrorMessage:eo?.message})}ms=Mr.entries,Qs=Mr.state}if("INSTANCE_STATE_UNSPECIFIED"===Qs?Sn=500:"NO_CHANGE"===Qs?Sn=304:("NO_TEMPLATE"===Qs||"EMPTY_CONFIG"===Qs)&&(ms={}),304!==Sn&&200!==Sn)throw Or.create("fetch-status",{httpStatus:Sn});return{status:Sn,eTag:Vt,config:ms}})()}}class O2{constructor(D,I){this.client=D,this.storage=I}fetch(D){var I=this;return(0,R.Z)(function*(){const O=(yield I.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return I.attemptFetch(D,O)})()}attemptFetch(D,{throttleEndTimeMillis:I,backoffCount:O}){var G=this;return(0,R.Z)(function*(){yield function z2(C,D){return new Promise((I,O)=>{const G=Math.max(D-Date.now(),0),Q=setTimeout(I,G);C.addEventListener(()=>{clearTimeout(Q),O(Or.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,I);try{const Q=yield G.client.fetch(D);return yield G.storage.deleteThrottleMetadata(),Q}catch(Q){if(!function R1(C){if(!(C instanceof le.ZR&&C.customData))return!1;const D=Number(C.customData.httpStatus);return 429===D||500===D||503===D||504===D}(Q))throw Q;const oe={throttleEndTimeMillis:Date.now()+(0,le.$s)(O),backoffCount:O+1};return yield G.storage.setThrottleMetadata(oe),G.attemptFetch(D,oe)}})()}}class Q0{constructor(D,I,O,G,Q){this.app=D,this._client=I,this._storageCache=O,this._storage=G,this._logger=Q,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function cl(C,D){const I=C.target.error||void 0;return Or.create(D,{originalErrorMessage:I&&I?.message})}const nr="app_namespace_store";class J0{constructor(D,I,O,G=function _a(){return new Promise((C,D)=>{try{const I=indexedDB.open("firebase_remote_config",1);I.onerror=O=>{D(cl(O,"storage-open"))},I.onsuccess=O=>{C(O.target.result)},I.onupgradeneeded=O=>{0===O.oldVersion&&O.target.result.createObjectStore(nr,{keyPath:"compositeKey"})}}catch(I){D(Or.create("storage-open",{originalErrorMessage:I?.message}))}})}()){this.appId=D,this.appName=I,this.namespace=O,this.openDbPromise=G}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var I=this;return(0,R.Z)(function*(){const O=yield I.openDbPromise;return new Promise((G,Q)=>{const We=O.transaction([nr],"readonly").objectStore(nr),$e=I.createCompositeKey(D);try{const pt=We.get($e);pt.onerror=zt=>{Q(cl(zt,"storage-get"))},pt.onsuccess=zt=>{const Ot=zt.target.result;G(Ot?Ot.value:void 0)}}catch(pt){Q(Or.create("storage-get",{originalErrorMessage:pt?.message}))}})})()}set(D,I){var O=this;return(0,R.Z)(function*(){const G=yield O.openDbPromise;return new Promise((Q,oe)=>{const $e=G.transaction([nr],"readwrite").objectStore(nr),pt=O.createCompositeKey(D);try{const zt=$e.put({compositeKey:pt,value:I});zt.onerror=Ot=>{oe(cl(Ot,"storage-set"))},zt.onsuccess=()=>{Q()}}catch(zt){oe(Or.create("storage-set",{originalErrorMessage:zt?.message}))}})})()}delete(D){var I=this;return(0,R.Z)(function*(){const O=yield I.openDbPromise;return new Promise((G,Q)=>{const We=O.transaction([nr],"readwrite").objectStore(nr),$e=I.createCompositeKey(D);try{const pt=We.delete($e);pt.onerror=zt=>{Q(cl(zt,"storage-delete"))},pt.onsuccess=()=>{G()}}catch(pt){Q(Or.create("storage-delete",{originalErrorMessage:pt?.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class L1{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,R.Z)(function*(){const I=D.storage.getLastFetchStatus(),O=D.storage.getLastSuccessfulFetchTimestampMillis(),G=D.storage.getActiveConfig(),Q=yield I;Q&&(D.lastFetchStatus=Q);const oe=yield O;oe&&(D.lastSuccessfulFetchTimestampMillis=oe);const We=yield G;We&&(D.activeConfig=We)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function Cu(){return lc.apply(this,arguments)}function lc(){return(lc=(0,R.Z)(function*(){if(!(0,le.hl)())return!1;try{return yield(0,le.eu)()}catch{return!1}})).apply(this,arguments)}!function Lo(){(0,ce._registerComponent)(new ee.wA("remote-config",function C(D,{instanceIdentifier:I}){const O=D.getProvider("app").getImmediate(),G=D.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Or.create("registration-window");if(!(0,le.hl)())throw Or.create("indexed-db-unavailable");const{projectId:Q,apiKey:oe,appId:We}=O.options;if(!Q)throw Or.create("registration-project-id");if(!oe)throw Or.create("registration-api-key");if(!We)throw Or.create("registration-app-id");const $e=new J0(We,O.name,I=I||"firebase"),pt=new L1($e),zt=new be.Yd(Wn);zt.logLevel=be.in.ERROR;const Ot=new bu(G,ce.SDK_VERSION,I,Q,oe,We),Kr=new O2(Ot,$e),Sn=new No(Kr,$e,pt,zt),Vt=new Q0(O,Sn,pt,$e,zt);return function gi(C){const D=(0,le.m9)(C);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(Vt),Vt},"PUBLIC").setMultipleInstances(!0)),(0,ce.registerVersion)(Wn,"0.4.4"),(0,ce.registerVersion)(Wn,"0.4.4","esm2017")}();const V1=(C,D)=>D.some(I=>C instanceof I);let Su,as;const ll=new WeakMap,cs=new WeakMap,ri=new WeakMap,qr=new WeakMap,dc=new WeakMap;let Vo={get(C,D,I){if(C instanceof IDBTransaction){if("done"===D)return cs.get(C);if("objectStoreNames"===D)return C.objectStoreNames||ri.get(C);if("store"===D)return I.objectStoreNames[1]?void 0:I.objectStore(I.objectStoreNames[0])}return Wr(C[D])},set:(C,D,I)=>(C[D]=I,!0),has:(C,D)=>C instanceof IDBTransaction&&("done"===D||"store"===D)||D in C};function B1(C){return"function"==typeof C?function H1(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function uc(){return as||(as=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(C)?function(...D){return C.apply(fr(this),D),Wr(ll.get(this))}:function(...D){return Wr(C.apply(fr(this),D))}:function(D,...I){const O=C.call(fr(this),D,...I);return ri.set(O,D.sort?D.sort():[D]),Wr(O)}}(C):(C instanceof IDBTransaction&&function wa(C){if(cs.has(C))return;const D=new Promise((I,O)=>{const G=()=>{C.removeEventListener("complete",Q),C.removeEventListener("error",oe),C.removeEventListener("abort",oe)},Q=()=>{I(),G()},oe=()=>{O(C.error||new DOMException("AbortError","AbortError")),G()};C.addEventListener("complete",Q),C.addEventListener("error",oe),C.addEventListener("abort",oe)});cs.set(C,D)}(C),V1(C,function Ih(){return Su||(Su=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(C,Vo):C)}function Wr(C){if(C instanceof IDBRequest)return function Er(C){const D=new Promise((I,O)=>{const G=()=>{C.removeEventListener("success",Q),C.removeEventListener("error",oe)},Q=()=>{I(Wr(C.result)),G()},oe=()=>{O(C.error),G()};C.addEventListener("success",Q),C.addEventListener("error",oe)});return D.then(I=>{I instanceof IDBCursor&&ll.set(I,C)}).catch(()=>{}),dc.set(D,C),D}(C);if(qr.has(C))return qr.get(C);const D=B1(C);return D!==C&&(qr.set(C,D),dc.set(D,C)),D}const fr=C=>dc.get(C);function ul(C,D,{blocked:I,upgrade:O,blocking:G,terminated:Q}={}){const oe=indexedDB.open(C,D),We=Wr(oe);return O&&oe.addEventListener("upgradeneeded",$e=>{O(Wr(oe.result),$e.oldVersion,$e.newVersion,Wr(oe.transaction))}),I&&oe.addEventListener("blocked",()=>I()),We.then($e=>{Q&&$e.addEventListener("close",()=>Q()),G&&$e.addEventListener("versionchange",()=>G())}).catch(()=>{}),We}function Ho(C,{blocked:D}={}){const I=indexedDB.deleteDatabase(C);return D&&I.addEventListener("blocked",()=>D()),Wr(I).then(()=>{})}const Eu=["get","getKey","getAll","getAllKeys","count"],ls=["put","add","delete","clear"],ba=new Map;function hc(C,D){if(!(C instanceof IDBDatabase)||D in C||"string"!=typeof D)return;if(ba.get(D))return ba.get(D);const I=D.replace(/FromIndex$/,""),O=D!==I,G=ls.includes(I);if(!(I in(O?IDBIndex:IDBObjectStore).prototype)||!G&&!Eu.includes(I))return;const Q=function(){var oe=(0,R.Z)(function*(We,...$e){const pt=this.transaction(We,G?"readwrite":"readonly");let zt=pt.store;return O&&(zt=zt.index($e.shift())),(yield Promise.all([zt[I](...$e),G&&pt.done]))[0]});return function($e){return oe.apply(this,arguments)}}();return ba.set(D,Q),Q}!function Dr(C){Vo=C(Vo)}(C=>({...C,get:(D,I,O)=>hc(D,I)||C.get(D,I,O),has:(D,I)=>!!hc(D,I)||C.has(D,I)}));const Lt="/firebase-messaging-sw.js",fc="/firebase-cloud-messaging-push-scope",Y1="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",U1="https://fcmregistrations.googleapis.com/v1",dl="google.c.a.c_id",j1="google.c.a.c_l",hl="google.c.a.ts",R2="google.c.a.e";var ve=(()=>{return(C=ve||(ve={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",ve;var C})();function Bt(C){const D=new Uint8Array(C);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function pc(C){const I=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),O=atob(I),G=new Uint8Array(O.length);for(let Q=0;Q<O.length;++Q)G[Q]=O.charCodeAt(Q);return G}const mc="fcm_token_details_db",pr=5,ks="fcm_token_object_Store";function ii(){return ii=(0,R.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Q=>Q.name).includes(mc))return null;let D=null;return(yield ul(mc,pr,{upgrade:(O=(0,R.Z)(function*(G,Q,oe,We){var $e;if(Q<2||!G.objectStoreNames.contains(ks))return;const pt=We.objectStore(ks),zt=yield pt.index("fcmSenderId").get(C);if(yield pt.clear(),zt)if(2===Q){const Ot=zt;if(!Ot.auth||!Ot.p256dh||!Ot.endpoint)return;D={token:Ot.fcmToken,createTime:null!==($e=Ot.createTime)&&void 0!==$e?$e:Date.now(),subscriptionOptions:{auth:Ot.auth,p256dh:Ot.p256dh,endpoint:Ot.endpoint,swScope:Ot.swScope,vapidKey:"string"==typeof Ot.vapidKey?Ot.vapidKey:Bt(Ot.vapidKey)}}}else if(3===Q){const Ot=zt;D={token:Ot.fcmToken,createTime:Ot.createTime,subscriptionOptions:{auth:Bt(Ot.auth),p256dh:Bt(Ot.p256dh),endpoint:Ot.endpoint,swScope:Ot.swScope,vapidKey:Bt(Ot.vapidKey)}}}else if(4===Q){const Ot=zt;D={token:Ot.fcmToken,createTime:Ot.createTime,subscriptionOptions:{auth:Bt(Ot.auth),p256dh:Bt(Ot.p256dh),endpoint:Ot.endpoint,swScope:Ot.swScope,vapidKey:Bt(Ot.vapidKey)}}}}),function(Q,oe,We,$e){return O.apply(this,arguments)})})).close(),yield Ho(mc),yield Ho("fcm_vapid_details_db"),yield Ho("undefined"),function G1(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:D}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}(D)?D:null;var O}),ii.apply(this,arguments)}const pl="firebase-messaging-database",F2=1,Bo="firebase-messaging-store";let gc=null;function rr(){return gc||(gc=ul(pl,F2,{upgrade:(C,D)=>{0===D&&C.createObjectStore(Bo)}})),gc}function Ai(C){return _o.apply(this,arguments)}function _o(){return _o=(0,R.Z)(function*(C){const D=ml(C),O=yield(yield rr()).transaction(Bo).objectStore(Bo).get(D);if(O)return O;{const G=yield function fl(C){return ii.apply(this,arguments)}(C.appConfig.senderId);if(G)return yield Ps(C,G),G}}),_o.apply(this,arguments)}function Ps(C,D){return ki.apply(this,arguments)}function ki(){return(ki=(0,R.Z)(function*(C,D){const I=ml(C),G=(yield rr()).transaction(Bo,"readwrite");return yield G.objectStore(Bo).put(D,I),yield G.done,D})).apply(this,arguments)}function vc(){return(vc=(0,R.Z)(function*(C){const D=ml(C),O=(yield rr()).transaction(Bo,"readwrite");yield O.objectStore(Bo).delete(D),yield O.done})).apply(this,arguments)}function ml({appConfig:C}){return C.appId}const ir=new le.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ca(C,D){return Du.apply(this,arguments)}function Du(){return(Du=(0,R.Z)(function*(C,D){const I=yield Tu(C),O=K1(D),G={method:"POST",headers:I,body:JSON.stringify(O)};let Q;try{Q=yield(yield fetch(yc(C.appConfig),G)).json()}catch(oe){throw ir.create("token-subscribe-failed",{errorInfo:oe?.toString()})}if(Q.error)throw ir.create("token-subscribe-failed",{errorInfo:Q.error.message});if(!Q.token)throw ir.create("token-subscribe-no-token");return Q.token})).apply(this,arguments)}function W1(){return(W1=(0,R.Z)(function*(C,D){const I=yield Tu(C),O=K1(D.subscriptionOptions),G={method:"PATCH",headers:I,body:JSON.stringify(O)};let Q;try{Q=yield(yield fetch(`${yc(C.appConfig)}/${D.token}`,G)).json()}catch(oe){throw ir.create("token-update-failed",{errorInfo:oe?.toString()})}if(Q.error)throw ir.create("token-update-failed",{errorInfo:Q.error.message});if(!Q.token)throw ir.create("token-update-no-token");return Q.token})).apply(this,arguments)}function vl(C,D){return yl.apply(this,arguments)}function yl(){return(yl=(0,R.Z)(function*(C,D){const O={method:"DELETE",headers:yield Tu(C)};try{const Q=yield(yield fetch(`${yc(C.appConfig)}/${D}`,O)).json();if(Q.error)throw ir.create("token-unsubscribe-failed",{errorInfo:Q.error.message})}catch(G){throw ir.create("token-unsubscribe-failed",{errorInfo:G?.toString()})}})).apply(this,arguments)}function yc({projectId:C}){return`${U1}/projects/${C}/registrations`}function Tu(C){return _c.apply(this,arguments)}function _c(){return(_c=(0,R.Z)(function*({appConfig:C,installations:D}){const I=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${I}`})})).apply(this,arguments)}function K1({p256dh:C,auth:D,endpoint:I,vapidKey:O}){const G={web:{endpoint:I,auth:D,p256dh:C}};return O!==Y1&&(G.web.applicationPubKey=O),G}const _l=6048e5;function wl(){return wl=(0,R.Z)(function*(C){const D=yield function Ph(C,D){return Z1.apply(this,arguments)}(C.swRegistration,C.vapidKey),I={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:D.endpoint,auth:Bt(D.getKey("auth")),p256dh:Bt(D.getKey("p256dh"))},O=yield Ai(C.firebaseDependencies);if(O){if(function L2(C,D){return D.vapidKey===C.vapidKey&&D.endpoint===C.endpoint&&D.auth===C.auth&&D.p256dh===C.p256dh}(O.subscriptionOptions,I))return Date.now()>=O.createTime+_l?function On(C,D){return bl.apply(this,arguments)}(C,{token:O.token,createTime:Date.now(),subscriptionOptions:I}):O.token;try{yield vl(C.firebaseDependencies,O.token)}catch(G){console.warn(G)}return kh(C.firebaseDependencies,I)}return kh(C.firebaseDependencies,I)}),wl.apply(this,arguments)}function Yo(){return Yo=(0,R.Z)(function*(C){const D=yield Ai(C.firebaseDependencies);D&&(yield vl(C.firebaseDependencies,D.token),yield function q1(C){return vc.apply(this,arguments)}(C.firebaseDependencies));const I=yield C.swRegistration.pushManager.getSubscription();return!I||I.unsubscribe()}),Yo.apply(this,arguments)}function bl(){return bl=(0,R.Z)(function*(C,D){try{const I=yield function gl(C,D){return W1.apply(this,arguments)}(C.firebaseDependencies,D),O=Object.assign(Object.assign({},D),{token:I,createTime:Date.now()});return yield Ps(C.firebaseDependencies,O),I}catch(I){throw yield function Rr(C){return Yo.apply(this,arguments)}(C),I}}),bl.apply(this,arguments)}function kh(C,D){return zs.apply(this,arguments)}function zs(){return(zs=(0,R.Z)(function*(C,D){const O={token:yield Ca(C,D),createTime:Date.now(),subscriptionOptions:D};return yield Ps(C,O),O.token})).apply(this,arguments)}function Z1(){return(Z1=(0,R.Z)(function*(C,D){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:pc(D)})})).apply(this,arguments)}function Cl(C){const D={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function Mu(C,D){if(!D.notification)return;C.notification={};const I=D.notification.title;I&&(C.notification.title=I);const O=D.notification.body;O&&(C.notification.body=O);const G=D.notification.image;G&&(C.notification.image=G);const Q=D.notification.icon;Q&&(C.notification.icon=Q)}(D,C),function xu(C,D){D.data&&(C.data=D.data)}(D,C),function Q1(C,D){var I,O,G,Q,oe;if(!(D.fcmOptions||null!==(I=D.notification)&&void 0!==I&&I.click_action))return;C.fcmOptions={};const We=null!==(G=null===(O=D.fcmOptions)||void 0===O?void 0:O.link)&&void 0!==G?G:null===(Q=D.notification)||void 0===Q?void 0:Q.click_action;We&&(C.fcmOptions.link=We);const $e=null===(oe=D.fcmOptions)||void 0===oe?void 0:oe.analytics_label;$e&&(C.fcmOptions.analyticsLabel=$e)}(D,C),D}function Sa(C,D){const I=[];for(let O=0;O<C.length;O++)I.push(C.charAt(O)),O<D.length&&I.push(D.charAt(O));return I.join("")}function Uo(C){return ir.create("missing-app-config-values",{valueName:C})}Sa("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Sa("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class V2{constructor(D,I,O){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const G=function Ea(C){if(!C||!C.options)throw Uo("App Configuration Object");if(!C.name)throw Uo("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:I}=C;for(const O of D)if(!I[O])throw Uo(O);return{appName:C.name,projectId:I.projectId,apiKey:I.apiKey,appId:I.appId,senderId:I.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:G,installations:I,analyticsProvider:O}}_delete(){return Promise.resolve()}}function zh(C){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,R.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(Lt,{scope:fc}),C.swRegistration.update().catch(()=>{})}catch(D){throw ir.create("failed-service-worker-registration",{browserErrorMessage:D?.message})}})).apply(this,arguments)}function wc(){return(wc=(0,R.Z)(function*(C,D){if(!D&&!C.swRegistration&&(yield zh(C)),D||!C.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw ir.create("invalid-sw-registration");C.swRegistration=D}})).apply(this,arguments)}function Rs(){return(Rs=(0,R.Z)(function*(C,D){D?C.vapidKey=D:C.vapidKey||(C.vapidKey=Y1)})).apply(this,arguments)}function Da(){return Da=(0,R.Z)(function*(C,D){if(!navigator)throw ir.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ir.create("permission-blocked");return yield function Os(C,D){return Rs.apply(this,arguments)}(C,D?.vapidKey),yield function X0(C,D){return wc.apply(this,arguments)}(C,D?.serviceWorkerRegistration),function Ah(C){return wl.apply(this,arguments)}(C)}),Da.apply(this,arguments)}function Fs(){return(Fs=(0,R.Z)(function*(C,D,I){const O=function Ns(C){switch(C){case ve.NOTIFICATION_CLICKED:return"notification_open";case ve.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(D);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(O,{message_id:I[dl],message_name:I[j1],message_time:I[hl],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ls(){return Ls=(0,R.Z)(function*(C,D){const I=D.data;if(!I.isFirebaseMessaging)return;C.onMessageHandler&&I.messageType===ve.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(Cl(I)):C.onMessageHandler.next(Cl(I)));const O=I.data;(function Iu(C){return"object"==typeof C&&!!C&&dl in C})(O)&&"1"===O[R2]&&(yield function Au(C,D,I){return Fs.apply(this,arguments)}(C,I.messageType,O))}),Ls.apply(this,arguments)}const us="@firebase/messaging",Vs=C=>{const D=new V2(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",I=>function Dl(C,D){return Ls.apply(this,arguments)}(D,I)),D},Tl=C=>{const D=C.getProvider("messaging").getImmediate();return{getToken:O=>function El(C,D){return Da.apply(this,arguments)}(D,O)}};function Oh(){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,R.Z)(function*(){try{yield(0,le.eu)()}catch{return!1}return typeof window<"u"&&(0,le.hl)()&&(0,le.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function bc(){(0,ce._registerComponent)(new ee.wA("messaging",Vs,"PUBLIC")),(0,ce._registerComponent)(new ee.wA("messaging-internal",Tl,"PRIVATE")),(0,ce.registerVersion)(us,"0.12.4"),(0,ce.registerVersion)(us,"0.12.4","esm2017")}();const Cn="analytics",td="firebase_id",xl="origin",Pu=6e4,Il="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Al="https://www.googletagmanager.com/gtag/js",mr=new be.Yd("@firebase/analytics"),Kn=new le.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function zu(C){if(!C.startsWith(Al)){const D=Kn.create("invalid-gtag-resource",{gtagURL:C});return mr.warn(D.message),""}return C}function Cc(C){return Promise.all(C.map(D=>D.catch(I=>I)))}function Ys(){return(Ys=(0,R.Z)(function*(C,D,I,O,G,Q){const oe=O[G];try{if(oe)yield D[oe];else{const $e=(yield Cc(I)).find(pt=>pt.measurementId===G);$e&&(yield D[$e.appId])}}catch(We){mr.error(We)}C("config",G,Q)})).apply(this,arguments)}function Ec(){return(Ec=(0,R.Z)(function*(C,D,I,O,G){try{let Q=[];if(G&&G.send_to){let oe=G.send_to;Array.isArray(oe)||(oe=[oe]);const We=yield Cc(I);for(const $e of oe){const pt=We.find(Ot=>Ot.measurementId===$e),zt=pt&&D[pt.appId];if(!zt){Q=[];break}Q.push(zt)}}0===Q.length&&(Q=Object.values(D)),yield Promise.all(Q),C("event",O,G||{})}catch(Q){mr.error(Q)}})).apply(this,arguments)}const Dc=30,$s=new class js{constructor(D={},I=1e3){this.throttleMetadata=D,this.intervalMillis=I}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,I){this.throttleMetadata[D]=I}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function Nh(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function nn(){return(nn=(0,R.Z)(function*(C){var D;const{appId:I,apiKey:O}=C,G={method:"GET",headers:Nh(O)},Q=Il.replace("{app-id}",I),oe=yield fetch(Q,G);if(200!==oe.status&&304!==oe.status){let We="";try{const $e=yield oe.json();null!==(D=$e.error)&&void 0!==D&&D.message&&(We=$e.error.message)}catch{}throw Kn.create("config-fetch-failed",{httpStatus:oe.status,responseMessage:We})}return oe.json()})).apply(this,arguments)}function Tc(){return(Tc=(0,R.Z)(function*(C,D=$s,I){const{appId:O,apiKey:G,measurementId:Q}=C.options;if(!O)throw Kn.create("no-app-id");if(!G){if(Q)return{measurementId:Q,appId:O};throw Kn.create("no-api-key")}const oe=D.getThrottleMetadata(O)||{backoffCount:0,throttleEndTimeMillis:Date.now()},We=new t8;return setTimeout((0,R.Z)(function*(){We.abort()}),void 0!==I?I:Pu),Ru({appId:O,apiKey:G,measurementId:Q},oe,We,D)})).apply(this,arguments)}function Ru(C,D,I){return Fu.apply(this,arguments)}function Fu(){return Fu=(0,R.Z)(function*(C,{throttleEndTimeMillis:D,backoffCount:I},O,G=$s){var Q;const{appId:oe,measurementId:We}=C;try{yield function e8(C,D){return new Promise((I,O)=>{const G=Math.max(D-Date.now(),0),Q=setTimeout(I,G);C.addEventListener(()=>{clearTimeout(Q),O(Kn.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(O,D)}catch($e){if(We)return mr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${We} provided in the "measurementId" field in the local Firebase config. [${$e?.message}]`),{appId:oe,measurementId:We};throw $e}try{const $e=yield function nd(C){return nn.apply(this,arguments)}(C);return G.deleteThrottleMetadata(oe),$e}catch($e){const pt=$e;if(!function Lh(C){if(!(C instanceof le.ZR&&C.customData))return!1;const D=Number(C.customData.httpStatus);return 429===D||500===D||503===D||504===D}(pt)){if(G.deleteThrottleMetadata(oe),We)return mr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${We} provided in the "measurementId" field in the local Firebase config. [${pt?.message}]`),{appId:oe,measurementId:We};throw $e}const zt=503===Number(null===(Q=pt?.customData)||void 0===Q?void 0:Q.httpStatus)?(0,le.$s)(I,G.intervalMillis,Dc):(0,le.$s)(I,G.intervalMillis),Ot={throttleEndTimeMillis:Date.now()+zt,backoffCount:I+1};return G.setThrottleMetadata(oe,Ot),mr.debug(`Calling attemptFetch again in ${zt} millis`),Ru(C,Ot,O,G)}}),Fu.apply(this,arguments)}class t8{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}let Gs,Ia;function Vh(){return(Vh=(0,R.Z)(function*(C,D,I,O,G){if(G&&G.global)C("event",I,O);else{const Q=yield D;C("event",I,Object.assign(Object.assign({},O),{send_to:Q}))}})).apply(this,arguments)}function dn(){return(dn=(0,R.Z)(function*(){if(!(0,le.hl)())return mr.warn(Kn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,le.eu)()}catch(C){return mr.warn(Kn.create("indexeddb-unavailable",{errorInfo:C?.toString()}).message),!1}return!0})).apply(this,arguments)}function at(){return at=(0,R.Z)(function*(C,D,I,O,G,Q,oe){var We;const $e=function H2(C){return Tc.apply(this,arguments)}(C);$e.then(Sn=>{I[Sn.measurementId]=Sn.appId,C.options.measurementId&&Sn.measurementId!==C.options.measurementId&&mr.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${Sn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Sn=>mr.error(Sn)),D.push($e);const pt=function oi(){return dn.apply(this,arguments)}().then(Sn=>{if(Sn)return O.getId()}),[zt,Ot]=yield Promise.all([$e,pt]);(function Us(C){const D=window.document.getElementsByTagName("script");for(const I of Object.values(D))if(I.src&&I.src.includes(Al)&&I.src.includes(C))return I;return null})(Q)||function $o(C,D){const I=function Sc(C,D){let I;return window.trustedTypes&&(I=window.trustedTypes.createPolicy(C,D)),I}("firebase-js-sdk-policy",{createScriptURL:zu}),O=document.createElement("script"),G=`${Al}?l=${C}&id=${D}`;O.src=I?I?.createScriptURL(G):G,O.async=!0,document.head.appendChild(O)}(Q,zt.measurementId),Ia&&(G("consent","default",Ia),function Rl(C){Ia=C}(void 0)),G("js",new Date);const Kr=null!==(We=oe?.config)&&void 0!==We?We:{};return Kr[xl]="firebase",Kr.update=!0,null!=Ot&&(Kr[td]=Ot),G("config",zt.measurementId,Kr),Gs&&(G("set",Gs),function xc(C){Gs=C}(void 0)),zt.measurementId}),at.apply(this,arguments)}class dt{constructor(D){this.app=D}_delete(){return delete Rn[this.app.options.appId],Promise.resolve()}}let Rn={},rd=[];const Ic={};let Lu,zi,$n="dataLayer",Fl="gtag",Aa=!1;function hs(C,D,I){!function Ac(){const C=[];if((0,le.ru)()&&C.push("This is a browser extension environment."),(0,le.zI)()||C.push("Cookies are not available."),C.length>0){const D=C.map((O,G)=>`(${G+1}) ${O}`).join(" "),I=Kn.create("invalid-analytics-context",{errorInfo:D});mr.warn(I.message)}}();const O=C.options.appId;if(!O)throw Kn.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw Kn.create("no-api-key");mr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Rn[O])throw Kn.create("already-exists",{id:O});if(!Aa){!function Rh(C){let D=[];Array.isArray(window[C])?D=window[C]:window[C]=D}($n);const{wrappedGtag:Q,gtagCore:oe}=function ds(C,D,I,O,G){let Q=function(...oe){window[O].push(arguments)};return window[G]&&"function"==typeof window[G]&&(Q=window[G]),window[G]=function xa(C,D,I,O){function Q(){return Q=(0,R.Z)(function*(oe,...We){try{if("event"===oe){const[$e,pt]=We;yield function Ou(C,D,I,O,G){return Ec.apply(this,arguments)}(C,D,I,$e,pt)}else if("config"===oe){const[$e,pt]=We;yield function kl(C,D,I,O,G,Q){return Ys.apply(this,arguments)}(C,D,I,O,$e,pt)}else if("consent"===oe){const[$e]=We;C("consent","update",$e)}else if("get"===oe){const[$e,pt,zt]=We;C("get",$e,pt,zt)}else if("set"===oe){const[$e]=We;C("set",$e)}else C(oe,...We)}catch($e){mr.error($e)}}),Q.apply(this,arguments)}return function G(oe){return Q.apply(this,arguments)}}(Q,C,D,I),{gtagCore:Q,wrappedGtag:window[G]}}(Rn,rd,Ic,$n,Fl);zi=Q,Lu=oe,Aa=!0}return Rn[O]=function yi(C,D,I,O,G,Q,oe){return at.apply(this,arguments)}(C,rd,Ic,D,Lu,$n,I),new dt(C)}function Nl(){return Go.apply(this,arguments)}function Go(){return(Go=(0,R.Z)(function*(){if((0,le.ru)()||!(0,le.zI)()||!(0,le.hl)())return!1;try{return yield(0,le.eu)()}catch{return!1}})).apply(this,arguments)}const qo="@firebase/analytics";!function Bh(){(0,ce._registerComponent)(new ee.wA(Cn,(D,{options:I})=>hs(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),I),"PUBLIC")),(0,ce._registerComponent)(new ee.wA("analytics-internal",function C(D){try{const I=D.getProvider(Cn).getImmediate();return{logEvent:(O,G,Q)=>function id(C,D,I,O){C=(0,le.m9)(C),function n8(C,D,I,O,G){return Vh.apply(this,arguments)}(zi,Rn[C.app.options.appId],D,I,O).catch(G=>mr.error(G))}(I,O,G,Q)}}catch(I){throw Kn.create("interop-component-reg-failed",{reason:I})}},"PRIVATE")),(0,ce.registerVersion)(qo,"0.10.0"),(0,ce.registerVersion)(qo,"0.10.0","esm2017")}();var Oi=F(4408),Zi=F(7565);const Tr=new class si extends Zi.v{}(class kc extends Oi.o{constructor(D,I){super(D,I),this.scheduler=D,this.work=I}schedule(D,I=0){return I>0?super.schedule(D,I):(this.delay=I,this.state=D,this.scheduler.flush(this),this)}execute(D,I){return I>0||this.closed?super.execute(D,I):this._execute(D,I)}requestAsyncId(D,I,O=0){return null!=O&&O>0||null==O&&this.delay>0?super.requestAsyncId(D,I,O):(D.flush(this),0)}});var Uu=F(4986),Zn=F(8505),ai=F(9468),ci=F(5363);const Yn=new d.GfV("7.6.1"),Gn="__angularfire_symbol__analyticsIsSupportedValue",Zs="__angularfire_symbol__analyticsIsSupported",ju="__angularfire_symbol__remoteConfigIsSupportedValue",Pa="__angularfire_symbol__remoteConfigIsSupported",Qi="__angularfire_symbol__messagingIsSupportedValue",bo="__angularfire_symbol__messagingIsSupported";function Bl(C,D,I){if(D){if(1===D.length)return D[0];const Q=D.filter(oe=>oe.app===I);if(1===Q.length)return Q[0]}return I.container.getProvider(C).getImmediate({optional:!0})}globalThis[Zs]||(globalThis[Zs]=Nl().then(C=>globalThis[Gn]=C).catch(()=>globalThis[Gn]=!1)),globalThis[bo]||(globalThis[bo]=Oh().then(C=>globalThis[Qi]=C).catch(()=>globalThis[Qi]=!1)),globalThis[Pa]||(globalThis[Pa]=Cu().then(C=>globalThis[ju]=C).catch(()=>globalThis[ju]=!1));const Yl=(C,D)=>{const I=D?[D]:(0,te.C6)(),O=[];return I.forEach(G=>{G.container.getProvider(C).instances.forEach(oe=>{O.includes(oe)||O.push(oe)})}),O};function Wo(){}class Ul{constructor(D,I=Tr){this.zone=D,this.delegate=I}now(){return this.delegate.now()}schedule(D,I,O){const G=this.zone;return this.delegate.schedule(function(oe){G.runGuarded(()=>{D.apply(this,[oe])})},I,O)}}class za{constructor(D){this.zone=D,this.task=null}call(D,I){const O=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Wo,{},Wo,Wo)),I.pipe((0,Zn.b)({next:O,complete:O,error:O})).subscribe(D).add(O)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Mt=(()=>{class C{constructor(I){this.ngZone=I,this.outsideAngular=I.runOutsideAngular(()=>new Ul(Zone.current)),this.insideAngular=I.run(()=>new Ul(Zone.current,Uu.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(I){return new(I||C)(d.LFG(d.R0b))},C.\u0275prov=d.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function Ji(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function Xi(C){return Ji(),function ad(C){return function(I){return(I=I.lift(new za(C.ngZone))).pipe((0,ai.R)(C.outsideAngular),(0,ci.Q)(C.insideAngular))}}(Ji())(C)}},2090:(Dt,Ie,F)=>{F.d(Ie,{$s:()=>$i,BH:()=>Me,G6:()=>ho,L:()=>ye,LL:()=>xe,Pz:()=>De,Sg:()=>qe,UG:()=>ae,US:()=>ee,ZB:()=>K,ZR:()=>Te,aH:()=>Re,b$:()=>Kt,eu:()=>pe,hl:()=>de,jU:()=>At,m9:()=>ni,ne:()=>ln,pd:()=>fo,r3:()=>In,ru:()=>nt,tV:()=>$,uI:()=>ct,vZ:()=>St,w1:()=>is,xO:()=>zr,xb:()=>jr,z$:()=>Le,zI:()=>ge,zd:()=>ei});const ce=function(Y){const H=[];let q=0;for(let we=0;we<Y.length;we++){let ne=Y.charCodeAt(we);ne<128?H[q++]=ne:ne<2048?(H[q++]=ne>>6|192,H[q++]=63&ne|128):55296==(64512&ne)&&we+1<Y.length&&56320==(64512&Y.charCodeAt(we+1))?(ne=65536+((1023&ne)<<10)+(1023&Y.charCodeAt(++we)),H[q++]=ne>>18|240,H[q++]=ne>>12&63|128,H[q++]=ne>>6&63|128,H[q++]=63&ne|128):(H[q++]=ne>>12|224,H[q++]=ne>>6&63|128,H[q++]=63&ne|128)}return H},ee={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Y,H){if(!Array.isArray(Y))throw Error("encodeByteArray takes an array as a parameter");this.init_();const q=H?this.byteToCharMapWebSafe_:this.byteToCharMap_,we=[];for(let ne=0;ne<Y.length;ne+=3){const He=Y[ne],kt=ne+1<Y.length,on=kt?Y[ne+1]:0,qn=ne+2<Y.length,zn=qn?Y[ne+2]:0;let Gr=(15&on)<<2|zn>>6,qi=63&zn;qn||(qi=64,kt||(Gr=64)),we.push(q[He>>2],q[(3&He)<<4|on>>4],q[Gr],q[qi])}return we.join("")},encodeString(Y,H){return this.HAS_NATIVE_SUPPORT&&!H?btoa(Y):this.encodeByteArray(ce(Y),H)},decodeString(Y,H){return this.HAS_NATIVE_SUPPORT&&!H?atob(Y):function(Y){const H=[];let q=0,we=0;for(;q<Y.length;){const ne=Y[q++];if(ne<128)H[we++]=String.fromCharCode(ne);else if(ne>191&&ne<224){const He=Y[q++];H[we++]=String.fromCharCode((31&ne)<<6|63&He)}else if(ne>239&&ne<365){const qn=((7&ne)<<18|(63&Y[q++])<<12|(63&Y[q++])<<6|63&Y[q++])-65536;H[we++]=String.fromCharCode(55296+(qn>>10)),H[we++]=String.fromCharCode(56320+(1023&qn))}else{const He=Y[q++],kt=Y[q++];H[we++]=String.fromCharCode((15&ne)<<12|(63&He)<<6|63&kt)}}return H.join("")}(this.decodeStringToByteArray(Y,H))},decodeStringToByteArray(Y,H){this.init_();const q=H?this.charToByteMapWebSafe_:this.charToByteMap_,we=[];for(let ne=0;ne<Y.length;){const He=q[Y.charAt(ne++)],on=ne<Y.length?q[Y.charAt(ne)]:0;++ne;const zn=ne<Y.length?q[Y.charAt(ne)]:64;++ne;const Jt=ne<Y.length?q[Y.charAt(ne)]:64;if(++ne,null==He||null==on||null==zn||null==Jt)throw new be;we.push(He<<2|on>>4),64!==zn&&(we.push(on<<4&240|zn>>2),64!==Jt&&we.push(zn<<6&192|Jt))}return we},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Y=0;Y<this.ENCODED_VALS.length;Y++)this.byteToCharMap_[Y]=this.ENCODED_VALS.charAt(Y),this.charToByteMap_[this.byteToCharMap_[Y]]=Y,this.byteToCharMapWebSafe_[Y]=this.ENCODED_VALS_WEBSAFE.charAt(Y),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Y]]=Y,Y>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Y)]=Y,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Y)]=Y)}}};class be extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ye=function(Y){return function(Y){const H=ce(Y);return ee.encodeByteArray(H,!0)}(Y).replace(/\./g,"")},$=function(Y){try{return ee.decodeString(Y,!0)}catch(H){console.error("base64Decode failed: ",H)}return null};function K(Y,H){if(!(H instanceof Object))return H;switch(H.constructor){case Date:return new Date(H.getTime());case Object:void 0===Y&&(Y={});break;case Array:Y=[];break;default:return H}for(const q in H)!H.hasOwnProperty(q)||!je(q)||(Y[q]=K(Y[q],H[q]));return Y}function je(Y){return"__proto__"!==Y}const ze=()=>{try{return function Ae(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Y=process.env.__FIREBASE_DEFAULTS__;return Y?JSON.parse(Y):void 0})()||(()=>{if(typeof document>"u")return;let Y;try{Y=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const H=Y&&$(Y[1]);return H&&JSON.parse(H)})()}catch(Y){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Y}`)}},Re=()=>{var Y;return null===(Y=ze())||void 0===Y?void 0:Y.config},De=Y=>{var H;return null===(H=ze())||void 0===H?void 0:H[`_${Y}`]};class Me{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((H,q)=>{this.resolve=H,this.reject=q})}wrapCallback(H){return(q,we)=>{q?this.reject(q):this.resolve(we),"function"==typeof H&&(this.promise.catch(()=>{}),1===H.length?H(q):H(q,we))}}}function qe(Y,H){if(Y.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const we=H||"demo-project",ne=Y.iat||0,He=Y.sub||Y.user_id;if(!He)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const kt=Object.assign({iss:`https://securetoken.google.com/${we}`,aud:we,iat:ne,exp:ne+3600,auth_time:ne,sub:He,user_id:He,firebase:{sign_in_provider:"custom",identities:{}}},Y);return[ye(JSON.stringify({alg:"none",type:"JWT"})),ye(JSON.stringify(kt)),""].join(".")}function Le(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ct(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Le())}function ae(){var Y;const H=null===(Y=ze())||void 0===Y?void 0:Y.forceEnvironment;if("node"===H)return!0;if("browser"===H)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function At(){return"object"==typeof self&&self.self===self}function nt(){const Y="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Y&&void 0!==Y.id}function Kt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function is(){const Y=Le();return Y.indexOf("MSIE ")>=0||Y.indexOf("Trident/")>=0}function ho(){return!ae()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function de(){try{return"object"==typeof indexedDB}catch{return!1}}function pe(){return new Promise((Y,H)=>{try{let q=!0;const we="validate-browser-context-for-indexeddb-analytics-module",ne=self.indexedDB.open(we);ne.onsuccess=()=>{ne.result.close(),q||self.indexedDB.deleteDatabase(we),Y(!0)},ne.onupgradeneeded=()=>{q=!1},ne.onerror=()=>{var He;H((null===(He=ne.error)||void 0===He?void 0:He.message)||"")}}catch(q){H(q)}})}function ge(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Te extends Error{constructor(H,q,we){super(q),this.code=H,this.customData=we,this.name="FirebaseError",Object.setPrototypeOf(this,Te.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xe.prototype.create)}}class xe{constructor(H,q,we){this.service=H,this.serviceName=q,this.errors=we}create(H,...q){const we=q[0]||{},ne=`${this.service}/${H}`,He=this.errors[H],kt=He?function lt(Y,H){return Y.replace(yt,(q,we)=>{const ne=H[we];return null!=ne?String(ne):`<${we}?>`})}(He,we):"Error";return new Te(ne,`${this.serviceName}: ${kt} (${ne}).`,we)}}const yt=/\{\$([^}]+)}/g;function In(Y,H){return Object.prototype.hasOwnProperty.call(Y,H)}function jr(Y){for(const H in Y)if(Object.prototype.hasOwnProperty.call(Y,H))return!1;return!0}function St(Y,H){if(Y===H)return!0;const q=Object.keys(Y),we=Object.keys(H);for(const ne of q){if(!we.includes(ne))return!1;const He=Y[ne],kt=H[ne];if(hi(He)&&hi(kt)){if(!St(He,kt))return!1}else if(He!==kt)return!1}for(const ne of we)if(!q.includes(ne))return!1;return!0}function hi(Y){return null!==Y&&"object"==typeof Y}function zr(Y){const H=[];for(const[q,we]of Object.entries(Y))Array.isArray(we)?we.forEach(ne=>{H.push(encodeURIComponent(q)+"="+encodeURIComponent(ne))}):H.push(encodeURIComponent(q)+"="+encodeURIComponent(we));return H.length?"&"+H.join("&"):""}function ei(Y){const H={};return Y.replace(/^\?/,"").split("&").forEach(we=>{if(we){const[ne,He]=we.split("=");H[decodeURIComponent(ne)]=decodeURIComponent(He)}}),H}function fo(Y){const H=Y.indexOf("?");if(!H)return"";const q=Y.indexOf("#",H);return Y.substring(H,q>0?q:void 0)}function ln(Y,H){const q=new ut(Y,H);return q.subscribe.bind(q)}class ut{constructor(H,q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=q,this.task.then(()=>{H(this)}).catch(we=>{this.error(we)})}next(H){this.forEachObserver(q=>{q.next(H)})}error(H){this.forEachObserver(q=>{q.error(H)}),this.close(H)}complete(){this.forEachObserver(H=>{H.complete()}),this.close()}subscribe(H,q,we){let ne;if(void 0===H&&void 0===q&&void 0===we)throw new Error("Missing Observer.");ne=function Di(Y,H){if("object"!=typeof Y||null===Y)return!1;for(const q of H)if(q in Y&&"function"==typeof Y[q])return!0;return!1}(H,["next","error","complete"])?H:{next:H,error:q,complete:we},void 0===ne.next&&(ne.next=fi),void 0===ne.error&&(ne.error=fi),void 0===ne.complete&&(ne.complete=fi);const He=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ne.error(this.finalError):ne.complete()}catch{}}),this.observers.push(ne),He}unsubscribeOne(H){void 0===this.observers||void 0===this.observers[H]||(delete this.observers[H],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(H){if(!this.finalized)for(let q=0;q<this.observers.length;q++)this.sendOne(q,H)}sendOne(H,q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[H])try{q(this.observers[H])}catch(we){typeof console<"u"&&console.error&&console.error(we)}})}close(H){this.finalized||(this.finalized=!0,void 0!==H&&(this.finalError=H),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fi(){}const un=1e3,Ti=2,Un=144e5,Xn=.5;function $i(Y,H=un,q=Ti){const we=H*Math.pow(q,Y),ne=Math.round(Xn*we*(Math.random()-.5)*2);return Math.min(Un,we+ne)}function ni(Y){return Y&&Y._delegate?Y._delegate:Y}},8182:(Dt,Ie,F)=>{var d=F(4650);let te=null;function R(){return te}class le{}const ee=new d.OlP("DocumentToken");let be=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return function Ee(){return(0,d.LFG)($)}()},providedIn:"platform"}),n})();const ye=new d.OlP("Location Initialized");let $=(()=>{class n extends be{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return R().getBaseHref(this._doc)}onPopState(t){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){j()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){j()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ee))},n.\u0275prov=d.Yz7({token:n,factory:function(){return function K(){return new $((0,d.LFG)(ee))}()},providedIn:"platform"}),n})();function j(){return!!window.history.pushState}function je(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ae(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ze(n){return n&&"?"!==n[0]?"?"+n:n}let ht=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(ze)},providedIn:"root"}),n})();const _e=new d.OlP("appBaseHref");let ze=(()=>{class n extends ht{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,d.f3M)(ee).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return je(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ze(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const l=this.prepareExternalUrl(i+Ze(s));this._platformLocation.pushState(t,r,l)}replaceState(t,r,i,s){const l=this.prepareExternalUrl(i+Ze(s));this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(be),d.LFG(_e,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Oe=(()=>{class n extends ht{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=je(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let l=this.prepareExternalUrl(i+Ze(s));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,r,l)}replaceState(t,r,i,s){let l=this.prepareExternalUrl(i+Ze(s));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(be),d.LFG(_e,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Ye=(()=>{class n{constructor(t){this._subject=new d.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function qe(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Ae(Me(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ze(r))}normalize(t){return n.stripTrailingSlash(function De(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,Me(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ze(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ze(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Ze,n.joinWithSlash=je,n.stripTrailingSlash=Ae,n.\u0275fac=function(t){return new(t||n)(d.LFG(ht))},n.\u0275prov=d.Yz7({token:n,factory:function(){return function Re(){return new Ye((0,d.LFG)(ht))}()},providedIn:"root"}),n})();function Me(n){return n.replace(/\/index.html$/,"")}function Ts(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}class tr{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let pa=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,l)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new tr(i.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)r.remove(null===s?void 0:s);else if(null!==s){const h=r.get(s);r.move(h,l),jn(h,i)}});for(let i=0,s=r.length;i<s;i++){const h=r.get(i).context;h.index=i,h.count=s,h.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{jn(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function jn(n,e){n.context.$implicit=e.item}let go=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new $t,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){sc("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){sc("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class $t{constructor(){this.$implicit=null,this.ngIf=null}}function sc(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,d.AaK)(e)}'.`)}let nr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const xh="browser",N1="server";function Lo(n){return n===N1}let lc=(()=>{class n{}return n.\u0275prov=(0,d.Yz7)({token:n,providedIn:"root",factory:()=>new V1((0,d.LFG)(ee),window)}),n})();class V1{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function as(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const l=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(l)return l}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Su(this.window.history)||Su(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Su(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class uc{}class Q1 extends le{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Iu extends Q1{static makeCurrent(){!function ce(n){te||(te=n)}(new Iu)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Ea(){return Sa=Sa||document.querySelector("base"),Sa?Sa.getAttribute("href"):null}();return null==t?null:function V2(n){Uo=Uo||document.createElement("a"),Uo.setAttribute("href",n);const e=Uo.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Sa=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ts(document.cookie,e)}}let Uo,Sa=null;const zh=new d.OlP("TRANSITION_ID"),X0=[{provide:d.ip1,useFactory:function Sl(n,e,t){return()=>{t.get(d.CZH).donePromise.then(()=>{const r=R(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[zh,ee,d.zs3],multi:!0}];let Os=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Rs=new d.OlP("EventManagerPlugins");let El=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const l=i[s];if(l.supports(t))return this._eventNameToPlugin.set(t,l),l}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Rs),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class Da{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=R().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Au=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const i=this.usageCount;let s=i.get(t)??0;return s+=r,s>0?i.set(t,s):i.delete(t),s}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Fs=(()=>{class n extends Au{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(s=>s.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const i=this.doc.createElement("style");i.textContent=r,t.appendChild(i);const s=this.styleRef.get(r);s?s.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ee))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Ns={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Dl=/%COMP%/g,bc=new d.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function X1(n,e){return e.flat(100).map(t=>t.replace(Dl,n))}function Hs(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Pi=(()=>{class n{constructor(t,r,i,s){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=s,this.rendererByCompId=new Map,this.defaultRenderer=new jo(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(t,r);return i instanceof td?i.applyToHost(t):i instanceof Cn&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const l=this.eventManager,h=this.sharedStylesHost,v=this.removeStylesOnCompDestory;switch(r.encapsulation){case d.ifc.Emulated:s=new td(l,h,r,this.appId,v);break;case d.ifc.ShadowDom:return new ed(l,h,t,r);default:s=new Cn(l,h,r,v)}s.onDestroy=()=>i.delete(r.id),i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(El),d.LFG(Fs),d.LFG(d.AFp),d.LFG(bc))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class jo{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Ns[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Ma(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Ma(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=Ns[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Ns[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(d.JOm.DashCase|d.JOm.Important)?e.style.setProperty(t,r,i&d.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&d.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Hs(r)):this.eventManager.addEventListener(e,t,Hs(r))}}function Ma(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class ed extends jo{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=X1(i.id,i.styles);for(const l of s){const h=document.createElement("style");h.textContent=l,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Cn extends jo{constructor(e,t,r,i,s=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=X1(s,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class td extends Cn{constructor(e,t,r,i,s){const l=i+"-"+r.id;super(e,t,r,s,l),this.contentAttr=function Oh(n){return"_ngcontent-%COMP%".replace(Dl,n)}(l),this.hostAttr=function Ml(n){return"_nghost-%COMP%".replace(Dl,n)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let xl=(()=>{class n extends Da{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ee))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Pu=["alt","control","meta","shift"],Il={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Al={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let mr=(()=>{class n extends Da{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),l=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>R().onAndCancel(t,s.domEventName,l))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let l="",h=r.indexOf("code");if(h>-1&&(r.splice(h,1),l="code."),Pu.forEach(w=>{const E=r.indexOf(w);E>-1&&(r.splice(E,1),l+=w+".")}),l+=s,0!=r.length||0===s.length)return null;const v={};return v.domEventName=i,v.fullKey=l,v}static matchEventFullKeyCode(t,r){let i=Il[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Pu.forEach(l=>{l!==i&&(0,Al[l])(t)&&(s+=l+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ee))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Ou=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:xh},{provide:d.g9A,useValue:function $o(){Iu.makeCurrent()},multi:!0},{provide:ee,useFactory:function kl(){return(0,d.RDi)(document),document},deps:[]}]),Ec=new d.OlP(""),xa=[{provide:d.rWj,useClass:class wc{addToWindow(e){d.dqk.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},d.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(r=>{const i=d.dqk.getAllAngularTestabilities();let s=i.length,l=!1;const h=function(v){l=l||v,s--,0==s&&r(l)};i.forEach(function(v){v.whenStable(h)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?R().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:d.lri,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]}],ds=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function Rh(){return new d.qLn},deps:[]},{provide:Rs,useClass:xl,multi:!0,deps:[ee,d.R0b,d.Lbi]},{provide:Rs,useClass:mr,multi:!0,deps:[ee]},{provide:Pi,useClass:Pi,deps:[El,Fs,d.AFp,bc]},{provide:d.FYo,useExisting:Pi},{provide:Au,useExisting:Fs},{provide:Fs,useClass:Fs,deps:[ee]},{provide:El,useClass:El,deps:[Rs,d.R0b]},{provide:uc,useClass:Os,deps:[]},[]];let Us=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:d.AFp,useValue:t.appId},{provide:zh,useExisting:d.AFp},X0]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ec,12))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[...ds,...xa],imports:[nr,d.hGG]}),n})(),Nh=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ee))},n.\u0275prov=d.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function $s(){return new Nh((0,d.LFG)(ee))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let Ia=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):d.LFG(xc),r},providedIn:"root"}),n})(),xc=(()=>{class n extends Ia{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case d.q3G.NONE:return r;case d.q3G.HTML:return(0,d.qzn)(r,"HTML")?(0,d.z3N)(r):(0,d.EiD)(this._doc,String(r)).toString();case d.q3G.STYLE:return(0,d.qzn)(r,"Style")?(0,d.z3N)(r):r;case d.q3G.SCRIPT:if((0,d.qzn)(r,"Script"))return(0,d.z3N)(r);throw new Error("unsafe value used in a script context");case d.q3G.URL:return(0,d.qzn)(r,"URL")?(0,d.z3N)(r):(0,d.mCW)(String(r));case d.q3G.RESOURCE_URL:if((0,d.qzn)(r,"ResourceURL"))return(0,d.z3N)(r);throw new Error(`unsafe value used in a resource URL context (see ${d.JZr})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${d.JZr})`)}}bypassSecurityTrustHtml(t){return(0,d.JVY)(t)}bypassSecurityTrustStyle(t){return(0,d.L6k)(t)}bypassSecurityTrustScript(t){return(0,d.eBb)(t)}bypassSecurityTrustUrl(t){return(0,d.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,d.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ee))},n.\u0275prov=d.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Rl(n){return new xc(n.get(ee))}(d.LFG(d.zs3)),r},providedIn:"root"}),n})();var dn=F(8996),yi=F(3269);function at(...n){const e=(0,yi.yG)(n);return(0,dn.D)(n,e)}var dt=F(7579);class Rn extends dt.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Ic=(0,F(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var $n=F(9751);const{isArray:Fl}=Array,{getPrototypeOf:Lu,prototype:zi,keys:Aa}=Object;function ka(n){if(1===n.length){const e=n[0];if(Fl(e))return{args:e,keys:null};if(function Ac(n){return n&&"object"==typeof n&&Lu(n)===zi}(e)){const t=Aa(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var hs=F(4671),vt=F(4004);const{isArray:Vu}=Array;function Go(n){return(0,vt.U)(e=>function Nl(n,e){return Vu(e)?n(...e):n(e)}(n,e))}function fs(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var or=F(5403),Hu=F(9672);function Bu(...n){const e=(0,yi.yG)(n),t=(0,yi.jO)(n),{args:r,keys:i}=ka(n);if(0===r.length)return(0,dn.D)([],e);const s=new $n.y(function Ws(n,e,t=hs.y){return r=>{Ks(e,()=>{const{length:i}=n,s=new Array(i);let l=i,h=i;for(let v=0;v<i;v++)Ks(e,()=>{const w=(0,dn.D)(n[v],e);let E=!1;w.subscribe((0,or.x)(r,x=>{s[v]=x,E||(E=!0,h--),h||r.next(t(s.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,e,i?l=>fs(i,l):hs.y));return t?s.pipe(Go(t)):s}function Ks(n,e,t){n?(0,Hu.f)(t,n,e):e()}var Ll=F(8189);function Vl(...n){return function id(){return(0,Ll.J)(1)}()((0,dn.D)(n,(0,yi.yG)(n)))}var qo=F(8421);function od(n){return new $n.y(e=>{(0,qo.Xf)(n()).subscribe(e)})}var Bh=F(9635),Oi=F(576);function kc(n,e){const t=(0,Oi.m)(n)?n:()=>n,r=i=>i.error(t());return new $n.y(e?i=>e.schedule(r,0,i):r)}var Zi=F(515),si=F(727),Tr=F(4482);function Yu(){return(0,Tr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,or.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Uu extends $n.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Tr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new si.w0;const t=this.getSubject();e.add(this.source.subscribe((0,or.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=si.w0.EMPTY)}return e}refCount(){return Yu()(this)}}function Zn(n,e){return(0,Tr.e)((t,r)=>{let i=null,s=0,l=!1;const h=()=>l&&!i&&r.complete();t.subscribe((0,or.x)(r,v=>{i?.unsubscribe();let w=0;const E=s++;(0,qo.Xf)(n(v,E)).subscribe(i=(0,or.x)(r,x=>r.next(e?e(v,x,E,w++):x),()=>{i=null,h()}))},()=>{l=!0,h()}))})}function ai(n){return n<=0?()=>Zi.E:(0,Tr.e)((e,t)=>{let r=0;e.subscribe((0,or.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function ci(...n){const e=(0,yi.yG)(n);return(0,Tr.e)((t,r)=>{(e?Vl(n,t,e):Vl(n,t)).subscribe(r)})}function Yn(n,e){return(0,Tr.e)((t,r)=>{let i=0;t.subscribe((0,or.x)(r,s=>n.call(e,s,i++)&&r.next(s)))})}var Gn=F(5577);function Zs(n){return(0,Tr.e)((e,t)=>{let r=!1;e.subscribe((0,or.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function ju(n=Pa){return(0,Tr.e)((e,t)=>{let r=!1;e.subscribe((0,or.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Pa(){return new Ic}function Qi(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Yn((i,s)=>n(i,s,r)):hs.y,ai(1),t?Zs(e):ju(()=>new Ic))}function bo(n,e){return(0,Oi.m)(e)?(0,Gn.z)(n,e,1):(0,Gn.z)(n,1)}var sr=F(8505);function ps(n){return(0,Tr.e)((e,t)=>{let s,r=null,i=!1;r=e.subscribe((0,or.x)(t,void 0,void 0,l=>{s=(0,qo.Xf)(n(l,ps(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function Hl(n,e){return(0,Tr.e)(function Yh(n,e,t,r,i){return(s,l)=>{let h=t,v=e,w=0;s.subscribe((0,or.x)(l,E=>{const x=w++;v=h?n(v,E,x):(h=!0,E),r&&l.next(v)},i&&(()=>{h&&l.next(v),l.complete()})))}}(n,e,arguments.length>=2,!0))}function Bl(n){return n<=0?()=>Zi.E:(0,Tr.e)((e,t)=>{let r=[];e.subscribe((0,or.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Yl(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Yn((i,s)=>n(i,s,r)):hs.y,Bl(1),t?Zs(e):ju(()=>new Ic))}function Ul(n){return(0,vt.U)(()=>n)}function za(n){return(0,Tr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Mt="primary",Ji=Symbol("RouteTitle");class jl{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ri(n){return new jl(n)}function Uh(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const l=r[s],h=n[s];if(l.startsWith(":"))i[l.substring(1)]=h;else if(l!==h.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Xi(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!ad(n[i],e[i]))return!1;return!0}function ad(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function cd(n){return Array.prototype.concat.apply([],n)}function ld(n){return n.length>0?n[n.length-1]:null}function D(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function I(n){return(0,d.CqO)(n)?n:(0,d.QGY)(n)?(0,dn.D)(Promise.resolve(n)):at(n)}const O=!1,G={exact:function $e(n,e,t){if(!Mr(n.segments,e.segments)||!Kr(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!$e(n.children[r],e.children[r],t))return!1;return!0},subset:zt},Q={exact:function We(n,e){return Xi(n,e)},subset:function pt(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>ad(n[t],e[t]))},ignored:()=>!0};function oe(n,e,t){return G[t.paths](n.root,e.root,t.matrixParams)&&Q[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function zt(n,e,t){return Ot(n,e,e.segments,t)}function Ot(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Mr(i,t)||e.hasChildren()||!Kr(i,t,r))}if(n.segments.length===t.length){if(!Mr(n.segments,t)||!Kr(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!zt(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Mr(n.segments,i)&&Kr(n.segments,i,r)&&n.children[Mt])&&Ot(n.children[Mt],e,s,r)}}function Kr(n,e,t){return e.every((r,i)=>Q[t](n[i].parameters,r.parameters))}class Sn{constructor(e=new Vt([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ri(this.queryParams)),this._queryParamMap}toString(){return Gu.serialize(this)}}class Vt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,D(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return jh(this)}}class ms{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ri(this.parameters)),this._parameterMap}toString(){return B2(this)}}function Mr(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let gs=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return new $u},providedIn:"root"}),n})();class $u{parse(e){const t=new Wu(e);return new Sn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Pc(e.root,!0)}`,r=function r8(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Js(t)}=${Js(i)}`).join("&"):`${Js(t)}=${Js(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function $h(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Gu=new $u;function jh(n){return n.segments.map(e=>B2(e)).join("/")}function Pc(n,e){if(!n.hasChildren())return jh(n);if(e){const t=n.children[Mt]?Pc(n.children[Mt],!1):"",r=[];return D(n.children,(i,s)=>{s!==Mt&&r.push(`${s}:${Pc(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function eo(n,e){let t=[];return D(n.children,(r,i)=>{i===Mt&&(t=t.concat(e(r,i)))}),D(n.children,(r,i)=>{i!==Mt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Mt?[Pc(n.children[Mt],!1)]:[`${i}:${Pc(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Mt]?`${jh(n)}/${t[0]}`:`${jh(n)}/(${t.join("//")})`}}function qu(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Js(n){return qu(n).replace(/%3B/gi,";")}function Xs(n){return qu(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $l(n){return decodeURIComponent(n)}function Gh(n){return $l(n.replace(/\+/g,"%20"))}function B2(n){return`${Xs(n.path)}${function qh(n){return Object.keys(n).map(e=>`;${Xs(e)}=${Xs(n[e])}`).join("")}(n.parameters)}`}const Y2=/^[^\/()?;=#]+/;function ud(n){const e=n.match(Y2);return e?e[0]:""}const Lp=/^[^=?&#]+/,i8=/^[^&#]+/;class Wu{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Vt([],{}):new Vt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Mt]=new Vt(e,t)),r}parseSegment(){const e=ud(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new d.vHH(4009,O);return this.capture(e),new ms($l(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=ud(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=ud(this.remaining);i&&(r=i,this.capture(r))}e[$l(t)]=$l(r)}parseQueryParam(e){const t=function zc(n){const e=n.match(Lp);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const l=function U2(n){const e=n.match(i8);return e?e[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const i=Gh(t),s=Gh(r);if(e.hasOwnProperty(i)){let l=e[i];Array.isArray(l)||(l=[l],e[i]=l),l.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=ud(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new d.vHH(4010,O);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Mt);const l=this.parseChildren();t[s]=1===Object.keys(l).length?l[Mt]:new Vt([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new d.vHH(4011,O)}}function dd(n){return n.segments.length>0?new Vt([],{[Mt]:n}):n}function Oa(n){const e={};for(const r of Object.keys(n.children)){const s=Oa(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function o8(n){if(1===n.numberOfChildren&&n.children[Mt]){const e=n.children[Mt];return new Vt(n.segments.concat(e.segments),e.children)}return n}(new Vt(n.segments,e))}function Oc(n){return n instanceof Sn}const Gl=!1;function j2(n,e,t,r,i){if(0===t.length)return ea(e.root,e.root,e.root,r,i);const s=function Qu(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new fd(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,l)=>{if("object"==typeof s&&null!=s){if(s.outlets){const h={};return D(s.outlets,(v,w)=>{h[w]="string"==typeof v?v.split("/"):v}),[...i,{outlets:h}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===l?(s.split("/").forEach((h,v)=>{0==v&&"."===h||(0==v&&""===h?t=!0:".."===h?e++:""!=h&&i.push(h))}),i):[...i,s]},[]);return new fd(t,e,r)}(t);return s.toRoot()?ea(e.root,e.root,new Vt([],{}),r,i):function l(v){const w=function pd(n,e,t,r){if(n.isAbsolute)return new Rc(e.root,!0,0);if(-1===r)return new Rc(t,t===e.root,0);return function Fc(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new d.vHH(4005,Gl&&"Invalid number of '../'");i=r.segments.length}return new Rc(r,!1,i-s)}(t,r+(Zu(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,v),E=w.processChildren?Ko(w.segmentGroup,w.index,s.commands):gd(w.segmentGroup,w.index,s.commands);return ea(e.root,w.segmentGroup,E,r,i)}(n.snapshot?._lastPathIndex)}function Zu(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function hd(n){return"object"==typeof n&&null!=n&&n.outlets}function ea(n,e,t,r,i){let l,s={};r&&D(r,(v,w)=>{s[w]=Array.isArray(v)?v.map(E=>`${E}`):`${v}`}),l=n===e?t:$2(n,e,t);const h=dd(Oa(l));return new Sn(h,s,i)}function $2(n,e,t){const r={};return D(n.children,(i,s)=>{r[s]=i===e?t:$2(i,e,t)}),new Vt(n.segments,r)}class fd{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Zu(r[0]))throw new d.vHH(4003,Gl&&"Root segment cannot have matrix parameters");const i=r.find(hd);if(i&&i!==ld(r))throw new d.vHH(4004,Gl&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Rc{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function gd(n,e,t){if(n||(n=new Vt([],{})),0===n.segments.length&&n.hasChildren())return Ko(n,e,t);const r=function Kh(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const l=n.segments[i],h=t[r];if(hd(h))break;const v=`${h}`,w=r<t.length-1?t[r+1]:null;if(i>0&&void 0===v)break;if(v&&w&&"object"==typeof w&&void 0===w.outlets){if(!Qh(v,w,l))return s;r+=2}else{if(!Qh(v,{},l))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new Vt(n.segments.slice(0,r.pathIndex),{});return s.children[Mt]=new Vt(n.segments.slice(r.pathIndex),n.children),Ko(s,0,i)}return r.match&&0===i.length?new Vt(n.segments,{}):r.match&&!n.hasChildren()?Ju(n,e,t):r.match?Ko(n,0,i):Ju(n,e,t)}function Ko(n,e,t){if(0===t.length)return new Vt(n.segments,{});{const r=function md(n){return hd(n[0])?n[0].outlets:{[Mt]:n}}(t),i={};if(!r[Mt]&&n.children[Mt]&&1===n.numberOfChildren&&0===n.children[Mt].segments.length){const s=Ko(n.children[Mt],e,t);return new Vt(n.segments,s.children)}return D(r,(s,l)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[l]=gd(n.children[l],e,s))}),D(n.children,(s,l)=>{void 0===r[l]&&(i[l]=s)}),new Vt(n.segments,i)}}function Ju(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(hd(s)){const v=Xu(s.outlets);return new Vt(r,v)}if(0===i&&Zu(t[0])){r.push(new ms(n.segments[e].path,Zh(t[0]))),i++;continue}const l=hd(s)?s.outlets[Mt]:`${s}`,h=i<t.length-1?t[i+1]:null;l&&h&&Zu(h)?(r.push(new ms(l,Zh(h))),i+=2):(r.push(new ms(l,{})),i++)}return new Vt(r,{})}function Xu(n){const e={};return D(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Ju(new Vt([],{}),0,t))}),e}function Zh(n){const e={};return D(n,(t,r)=>e[r]=`${t}`),e}function Qh(n,e,t){return n==t.path&&Xi(e,t.parameters)}const e1="imperative";class vs{constructor(e,t){this.id=e,this.url=t}}class Jh extends vs{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Co extends vs{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class t1 extends vs{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Fa extends vs{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class n1 extends vs{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ql extends vs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class a8 extends vs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class c8 extends vs{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class l8 extends vs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xh extends vs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class r1{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class G2{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class q2{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wl{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class e4{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fi{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Nc{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let n4=(()=>{class n{createUrlTree(t,r,i,s,l,h){return j2(t||r.root,i,s,l,h)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),u8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(e){return n4.\u0275fac(e)},providedIn:"root"}),n})();class o4{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=s4(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=s4(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Fr(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Fr(e,this._root).map(t=>t.value)}}function s4(n,e){if(n===e.value)return e;for(const t of e.children){const r=s4(n,t);if(r)return r}return null}function Fr(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Fr(n,t);if(r.length)return r.unshift(e),r}return[]}class _i{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Kl(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class W2 extends o4{constructor(e,t){super(e),this.snapshot=t,Vc(this,e)}toString(){return this.snapshot.toString()}}function K2(n,e){const t=function Z2(n,e){const l=new _d([],{},{},"",{},Mt,e,null,n.root,-1,{});return new ys("",new _i(l,[]))}(n,e),r=new Rn([new ms("",{})]),i=new Rn({}),s=new Rn({}),l=new Rn({}),h=new Rn(""),v=new xr(r,i,l,h,s,Mt,e,t.root);return v.snapshot=t.root,new W2(new _i(v,[]),t)}class xr{constructor(e,t,r,i,s,l,h,v){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=l,this.component=h,this.title=this.data?.pipe((0,vt.U)(w=>w[Ji]))??at(void 0),this._futureSnapshot=v}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,vt.U)(e=>Ri(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,vt.U)(e=>Ri(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function vd(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function yd(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class _d{get title(){return this.data?.[Ji]}constructor(e,t,r,i,s,l,h,v,w,E,x){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=l,this.component=h,this.routeConfig=v,this._urlSegment=w,this._lastPathIndex=E,this._resolve=x}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ri(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ri(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ys extends o4{constructor(e,t){super(t),this.url=e,Vc(this,t)}toString(){return a4(this._root)}}function Vc(n,e){e.value._routerState=n,e.children.forEach(t=>Vc(n,t))}function a4(n){const e=n.children.length>0?` { ${n.children.map(a4).join(", ")} } `:"";return`${n.value}${e}`}function Hc(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Xi(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Xi(e.params,t.params)||n.params.next(t.params),function sd(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Xi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Xi(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Zo(n,e){const t=Xi(n.params,e.params)&&function Qs(n,e){return Mr(n,e)&&n.every((t,r)=>Xi(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Zo(n.parent,e.parent))}function Zl(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Q2(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Zl(n,r,i);return Zl(n,r)})}(n,e,t);return new _i(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const l=s.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(h=>Zl(n,h)),l}}const r=function J2(n){return new xr(new Rn(n.url),new Rn(n.params),new Rn(n.queryParams),new Rn(n.fragment),new Rn(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>Zl(n,s));return new _i(r,i)}}const X2="ngNavigationCancelingError";function y(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Oc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=p(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function p(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[X2]=!0,r.cancellationCode=e,t&&(r.url=t),r}function m(n){return b(n)&&Oc(n.url)}function b(n){return n&&n[X2]}class M{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new P,this.attachRef=null}}let P=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new M,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const B=!1;let J=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Mt,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.parentContexts=(0,d.f3M)(P),this.location=(0,d.f3M)(d.s_b),this.changeDetector=(0,d.f3M)(d.sBO),this.environmentInjector=(0,d.f3M)(d.lqb)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.vHH(4012,B);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.vHH(4012,B);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.vHH(4012,B);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new d.vHH(4013,B);this._activatedRoute=t;const i=this.location,l=t.snapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,v=new Pe(t,h,i.injector);if(r&&function Ge(n){return!!n.resolveComponentFactory}(r)){const w=r.resolveComponentFactory(l);this.activated=i.createComponent(w,i.length,v)}else this.activated=i.createComponent(l,{index:i.length,injector:v,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[d.TTD]}),n})();class Pe{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===xr?this.route:e===P?this.childContexts:this.parent.get(e,t)}}let rt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[d.jDz],decls:1,vars:0,template:function(t,r){1&t&&d._UZ(0,"router-outlet")},dependencies:[J],encapsulation:2}),n})();function st(n,e){return n.providers&&!n._injector&&(n._injector=(0,d.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function a1(n){const e=n.children&&n.children.map(a1),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Mt&&(t.component=rt),t}function to(n){return n.outlet||Mt}function wd(n,e){const t=n.filter(r=>to(r)===e);return t.push(...n.filter(r=>to(r)!==e)),t}function Ql(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class bd{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Hc(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Kl(t);e.children.forEach(s=>{const l=s.value.outlet;this.deactivateRoutes(s,i[l],r),delete i[l]}),D(i,(s,l)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const l=r.getContext(i.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Kl(e);for(const l of Object.keys(s))this.deactivateRouteAndItsChildren(s[l],i);if(r&&r.outlet){const l=r.outlet.detach(),h=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:h})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Kl(e);for(const l of Object.keys(s))this.deactivateRouteAndItsChildren(s[l],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Kl(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Fi(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Wl(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(Hc(i),i===s)if(i.component){const l=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const l=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const h=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),l.children.onOutletReAttached(h.contexts),l.attachRef=h.componentRef,l.route=h.route.value,l.outlet&&l.outlet.attach(h.componentRef,h.route.value),Hc(h.route.value),this.activateChildRoutes(e,null,l.children)}else{const h=Ql(i.snapshot),v=h?.get(d._Vd)??null;l.attachRef=null,l.route=i,l.resolver=v,l.injector=h,l.outlet&&l.outlet.activateWith(i,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,r)}}class f8{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class p8{constructor(e,t){this.component=e,this.route=t}}function c4(n,e,t){const r=n._root;return Cd(r,e?e._root:null,t,[r.value])}function c1(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,d.Z0I)(n)?e.get(n):n:r}function Cd(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Kl(e);return n.children.forEach(l=>{(function Vp(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,l=e?e.value:null,h=t?t.getContext(n.value.outlet):null;if(l&&s.routeConfig===l.routeConfig){const v=function Vv(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Mr(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Mr(n.url,e.url)||!Xi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Zo(n,e)||!Xi(n.queryParams,e.queryParams);default:return!Zo(n,e)}}(l,s,s.routeConfig.runGuardsAndResolvers);v?i.canActivateChecks.push(new f8(r)):(s.data=l.data,s._resolvedData=l._resolvedData),Cd(n,e,s.component?h?h.children:null:t,r,i),v&&h&&h.outlet&&h.outlet.isActivated&&i.canDeactivateChecks.push(new p8(h.outlet.component,l))}else l&&l4(e,h,i),i.canActivateChecks.push(new f8(r)),Cd(n,null,s.component?h?h.children:null:t,r,i)})(l,s[l.value.outlet],t,r.concat([l.value]),i),delete s[l.value.outlet]}),D(s,(l,h)=>l4(l,t.getContext(h),i)),i}function l4(n,e,t){const r=Kl(n),i=n.value;D(r,(s,l)=>{l4(s,i.component?e?e.children.getContext(l):null:e,t)}),t.canDeactivateChecks.push(new p8(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Sd(n){return"function"==typeof n}function Yc(n){return n instanceof Ic||"EmptyError"===n?.name}const n3=Symbol("INITIAL_VALUE");function Jl(){return Zn(n=>Bu(n.map(e=>e.pipe(ai(1),ci(n3)))).pipe((0,vt.U)(e=>{for(const t of e)if(!0!==t){if(t===n3)return n3;if(!1===t||t instanceof Sn)return t}return!0}),Yn(e=>e!==n3),ai(1)))}function b8(n){return(0,Bh.z)((0,sr.b)(e=>{if(Oc(e))throw y(0,e)}),(0,vt.U)(e=>!0===e))}const C8={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Up(n,e,t,r,i){const s=S8(n,e,t);return s.matched?function Ed(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?at(i.map(l=>{const h=c1(l,n);return I(function y8(n){return n&&Sd(n.canMatch)}(h)?h.canMatch(e,t):n.runInContext(()=>h(e,t)))})).pipe(Jl(),b8()):at(!0)}(r=st(e,r),e,t).pipe((0,vt.U)(l=>!0===l?s:{...C8})):at(s)}function S8(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...C8}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Uh)(t,n,e);if(!i)return{...C8};const s={};D(i.posParams,(h,v)=>{s[v]=h.path});const l=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:l,positionalParamSegments:i.posParams??{}}}function Dd(n,e,t,r){if(t.length>0&&function Gv(n,e,t){return t.some(r=>E8(n,e,r)&&to(r)!==Mt)}(n,t,r)){const s=new Vt(e,function jp(n,e,t,r){const i={};i[Mt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&to(s)!==Mt){const l=new Vt([],{});l._sourceSegment=n,l._segmentIndexShift=e.length,i[to(s)]=l}return i}(n,e,r,new Vt(t,n.children)));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function $p(n,e,t){return t.some(r=>E8(n,e,r))}(n,t,r)){const s=new Vt(n.segments,function $v(n,e,t,r,i){const s={};for(const l of r)if(E8(n,t,l)&&!i[to(l)]){const h=new Vt([],{});h._sourceSegment=n,h._segmentIndexShift=e.length,s[to(l)]=h}return{...i,...s}}(n,e,t,r,n.children));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}const i=new Vt(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function E8(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Gp(n,e,t,r){return!!(to(n)===r||r!==Mt&&E8(e,t,n))&&("**"===n.path||S8(e,n,t).matched)}function Td(n,e,t){return 0===e.length&&!n.children[t]}const s3=!1;class Uc{constructor(e){this.segmentGroup=e||null}}class Md{constructor(e){this.urlTree=e}}function u4(n){return kc(new Uc(n))}function D8(n){return kc(new Md(n))}class qp{constructor(e,t,r,i,s){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=Dd(this.urlTree.root,[],[],this.config).segmentGroup,t=new Vt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Mt).pipe((0,vt.U)(s=>this.createUrlTree(Oa(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ps(s=>{if(s instanceof Md)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Uc?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Mt).pipe((0,vt.U)(i=>this.createUrlTree(Oa(i),e.queryParams,e.fragment))).pipe(ps(i=>{throw i instanceof Uc?this.noMatchError(i):i}))}noMatchError(e){return new d.vHH(4002,s3)}createUrlTree(e,t,r){const i=dd(e);return new Sn(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,vt.U)(s=>new Vt([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return(0,dn.D)(i).pipe(bo(s=>{const l=r.children[s],h=wd(t,s);return this.expandSegmentGroup(e,h,l,s).pipe((0,vt.U)(v=>({segment:v,outlet:s})))}),Hl((s,l)=>(s[l.outlet]=l.segment,s),{}),Yl())}expandSegment(e,t,r,i,s,l){return(0,dn.D)(r).pipe(bo(h=>this.expandSegmentAgainstRoute(e,t,r,h,i,s,l).pipe(ps(w=>{if(w instanceof Uc)return at(null);throw w}))),Qi(h=>!!h),ps((h,v)=>{if(Yc(h))return Td(t,i,s)?at(new Vt([],{})):u4(t);throw h}))}expandSegmentAgainstRoute(e,t,r,i,s,l,h){return Gp(i,t,s,l)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,l):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,l):u4(t):u4(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,l){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?D8(s):this.lineralizeSegments(r,s).pipe((0,Gn.z)(l=>{const h=new Vt(l,{});return this.expandSegment(e,h,t,l,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,l){const{matched:h,consumedSegments:v,remainingSegments:w,positionalParamSegments:E}=S8(t,i,s);if(!h)return u4(t);const x=this.applyRedirectCommands(v,i.redirectTo,E);return i.redirectTo.startsWith("/")?D8(x):this.lineralizeSegments(i,x).pipe((0,Gn.z)(N=>this.expandSegment(e,t,r,N.concat(w),l,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){return"**"===r.path?(e=st(r,e),r.loadChildren?(r._loadedRoutes?at({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,vt.U)(h=>(r._loadedRoutes=h.routes,r._loadedInjector=h.injector,new Vt(i,{})))):at(new Vt(i,{}))):Up(t,r,i,e).pipe(Zn(({matched:l,consumedSegments:h,remainingSegments:v})=>l?this.getChildConfig(e=r._injector??e,r,i).pipe((0,Gn.z)(E=>{const x=E.injector??e,N=E.routes,{segmentGroup:V,slicedSegments:U}=Dd(t,h,v,N),X=new Vt(V.segments,V.children);if(0===U.length&&X.hasChildren())return this.expandChildren(x,N,X).pipe((0,vt.U)(Je=>new Vt(h,Je)));if(0===N.length&&0===U.length)return at(new Vt(h,{}));const he=to(r)===s;return this.expandSegment(x,X,N,U,he?Mt:s,!0).pipe((0,vt.U)(Ke=>new Vt(h.concat(Ke.segments),Ke.children)))})):u4(t)))}getChildConfig(e,t,r){return t.children?at({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?at({routes:t._loadedRoutes,injector:t._loadedInjector}):function jv(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?at(!0):at(i.map(l=>{const h=c1(l,n);return I(function g8(n){return n&&Sd(n.canLoad)}(h)?h.canLoad(e,t):n.runInContext(()=>h(e,t)))})).pipe(Jl(),b8())}(e,t,r).pipe((0,Gn.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,sr.b)(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function Wv(n){return kc(p(s3,3))}())):at({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return at(r);if(i.numberOfChildren>1||!i.children[Mt])return e.redirectTo,kc(new d.vHH(4e3,s3));i=i.children[Mt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new Sn(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return D(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const h=i.substring(1);r[s]=t[h]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let l={};return D(t.children,(h,v)=>{l[v]=this.createSegmentGroup(e,h,r,i)}),new Vt(s,l)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new d.vHH(4001,s3);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class T8{}class d4{constructor(e,t,r,i,s,l,h){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=l,this.urlSerializer=h}recognize(){const e=Dd(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Mt).pipe((0,vt.U)(t=>{if(null===t)return null;const r=new _d([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Mt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new _i(r,t),s=new ys(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,r=vd(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,dn.D)(Object.keys(r.children)).pipe(bo(i=>{const s=r.children[i],l=wd(t,i);return this.processSegmentGroup(e,l,s,i)}),Hl((i,s)=>i&&s?(i.push(...s),i):null),function Wo(n,e=!1){return(0,Tr.e)((t,r)=>{let i=0;t.subscribe((0,or.x)(r,s=>{const l=n(s,i++);(l||e)&&r.next(s),!l&&r.complete()}))})}(i=>null!==i),Zs(null),Yl(),(0,vt.U)(i=>{if(null===i)return null;const s=Kp(i);return function Qv(n){n.sort((e,t)=>e.value.outlet===Mt?-1:t.value.outlet===Mt?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,r,i,s){return(0,dn.D)(t).pipe(bo(l=>this.processSegmentAgainstRoute(l._injector??e,l,r,i,s)),Qi(l=>!!l),ps(l=>{if(Yc(l))return Td(r,i,s)?at([]):at(null);throw l}))}processSegmentAgainstRoute(e,t,r,i,s){if(t.redirectTo||!Gp(t,r,i,s))return at(null);let l;if("**"===t.path){const h=i.length>0?ld(i).parameters:{},v=Qp(r)+i.length;l=at({snapshot:new _d(i,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Na(t),to(t),t.component??t._loadedComponent??null,t,Zp(r),v,Jp(t)),consumedSegments:[],remainingSegments:[]})}else l=Up(r,t,i,e).pipe((0,vt.U)(({matched:h,consumedSegments:v,remainingSegments:w,parameters:E})=>{if(!h)return null;const x=Qp(r)+v.length;return{snapshot:new _d(v,E,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Na(t),to(t),t.component??t._loadedComponent??null,t,Zp(r),x,Jp(t)),consumedSegments:v,remainingSegments:w}}));return l.pipe(Zn(h=>{if(null===h)return at(null);const{snapshot:v,consumedSegments:w,remainingSegments:E}=h;e=t._injector??e;const x=t._loadedInjector??e,N=function Jv(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:V,slicedSegments:U}=Dd(r,w,E,N.filter(he=>void 0===he.redirectTo));if(0===U.length&&V.hasChildren())return this.processChildren(x,N,V).pipe((0,vt.U)(he=>null===he?null:[new _i(v,he)]));if(0===N.length&&0===U.length)return at([new _i(v,[])]);const X=to(t)===s;return this.processSegment(x,N,V,U,X?Mt:s).pipe((0,vt.U)(he=>null===he?null:[new _i(v,he)]))}))}}function Xv(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Kp(n){const e=[],t=new Set;for(const r of n){if(!Xv(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=Kp(r.children);e.push(new _i(r.value,i))}return e.filter(r=>!t.has(r))}function Zp(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Qp(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function Na(n){return n.data||{}}function Jp(n){return n.resolve||{}}function x8(n){return"string"==typeof n.title||null===n.title}function I8(n){return Zn(e=>{const t=n(e);return t?(0,dn.D)(t).pipe((0,vt.U)(()=>e)):at(e)})}const xd=new d.OlP("ROUTES");let k8=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,d.f3M)(d.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return at(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=I(t.loadComponent()).pipe((0,vt.U)(tm),(0,sr.b)(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),za(()=>{this.componentLoaders.delete(t)})),i=new Uu(r,()=>new dt.x).pipe(Yu());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return at({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,vt.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(r);let v,w,E=!1;Array.isArray(h)?w=h:(v=h.create(t).injector,w=cd(v.get(xd,[],d.XFs.Self|d.XFs.Optional)));return{routes:w.map(a1),injector:v}}),za(()=>{this.childrenLoaders.delete(r)})),l=new Uu(s,()=>new dt.x).pipe(Yu());return this.childrenLoaders.set(r,l),l}loadModuleFactoryOrRoutes(t){return I(t()).pipe((0,vt.U)(tm),(0,Gn.z)(r=>r instanceof d.YKP||Array.isArray(r)?at(r):(0,dn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function tm(n){return function ta(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let c3=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new dt.x,this.configLoader=(0,d.f3M)(k8),this.environmentInjector=(0,d.f3M)(d.lqb),this.urlSerializer=(0,d.f3M)(gs),this.rootContexts=(0,d.f3M)(P),this.navigationId=0,this.afterPreactivation=()=>at(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new G2(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new r1(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Rn({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:e1,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Yn(r=>0!==r.id),(0,vt.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),Zn(r=>{let i=!1,s=!1;return at(r).pipe((0,sr.b)(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Zn(l=>{const h=t.browserUrlTree.toString(),v=!t.navigated||l.extractedUrl.toString()!==h||h!==t.currentUrlTree.toString();if(!v&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const E="";return this.events.next(new Fa(l.id,t.serializeUrl(r.rawUrl),E,0)),t.rawUrlTree=l.rawUrl,l.resolve(null),Zi.E}if(t.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return nm(l.source)&&(t.browserUrlTree=l.extractedUrl),at(l).pipe(Zn(E=>{const x=this.transitions?.getValue();return this.events.next(new Jh(E.id,this.urlSerializer.serialize(E.extractedUrl),E.source,E.restoredState)),x!==this.transitions?.getValue()?Zi.E:Promise.resolve(E)}),function Wp(n,e,t,r){return Zn(i=>function Kv(n,e,t,r,i){return new qp(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,vt.U)(s=>({...i,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,sr.b)(E=>{this.currentNavigation={...this.currentNavigation,finalUrl:E.urlAfterRedirects},r.urlAfterRedirects=E.urlAfterRedirects}),function t9(n,e,t,r,i){return(0,Gn.z)(s=>function M8(n,e,t,r,i,s,l="emptyOnly"){return new d4(n,e,t,r,i,l,s).recognize().pipe(Zn(h=>null===h?function Zv(n){return new $n.y(e=>e.error(n))}(new T8):at(h)))}(n,e,t,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i).pipe((0,vt.U)(l=>({...s,targetSnapshot:l}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,sr.b)(E=>{if(r.targetSnapshot=E.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!E.extras.skipLocationChange){const N=t.urlHandlingStrategy.merge(E.urlAfterRedirects,E.rawUrl);t.setBrowserUrl(N,E)}t.browserUrlTree=E.urlAfterRedirects}const x=new ql(E.id,this.urlSerializer.serialize(E.extractedUrl),this.urlSerializer.serialize(E.urlAfterRedirects),E.targetSnapshot);this.events.next(x)}));if(v&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:E,extractedUrl:x,source:N,restoredState:V,extras:U}=l,X=new Jh(E,this.urlSerializer.serialize(x),N,V);this.events.next(X);const he=K2(x,this.rootComponentType).snapshot;return at(r={...l,targetSnapshot:he,urlAfterRedirects:x,extras:{...U,skipLocationChange:!1,replaceUrl:!1}})}{const E="";return this.events.next(new Fa(l.id,t.serializeUrl(r.extractedUrl),E,1)),t.rawUrlTree=l.rawUrl,l.resolve(null),Zi.E}}),(0,sr.b)(l=>{const h=new a8(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),(0,vt.U)(l=>r={...l,guards:c4(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),function r3(n,e){return(0,Gn.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:l}}=t;return 0===l.length&&0===s.length?at({...t,guardsResult:!0}):function Yv(n,e,t,r){return(0,dn.D)(n).pipe((0,Gn.z)(i=>function Uv(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?at(s.map(h=>{const v=Ql(e)??i,w=c1(h,v);return I(function Hv(n){return n&&Sd(n.canDeactivate)}(w)?w.canDeactivate(n,e,t,r):v.runInContext(()=>w(n,e,t,r))).pipe(Qi())})).pipe(Jl()):at(!0)}(i.component,i.route,t,e,r)),Qi(i=>!0!==i,!0))}(l,r,i,n).pipe((0,Gn.z)(h=>h&&function Hp(n){return"boolean"==typeof n}(h)?function _8(n,e,t,r){return(0,dn.D)(e).pipe(bo(i=>Vl(function l1(n,e){return null!==n&&e&&e(new q2(n)),at(!0)}(i.route.parent,r),function o3(n,e){return null!==n&&e&&e(new e4(n)),at(!0)}(i.route,r),function w8(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(l=>function m8(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>od(()=>at(l.guards.map(v=>{const w=Ql(l.node)??t,E=c1(v,w);return I(function v8(n){return n&&Sd(n.canActivateChild)}(E)?E.canActivateChild(r,n):w.runInContext(()=>E(r,n))).pipe(Qi())})).pipe(Jl())));return at(s).pipe(Jl())}(n,i.path,t),function Yp(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return at(!0);const i=r.map(s=>od(()=>{const l=Ql(e)??t,h=c1(s,l);return I(function pE(n){return n&&Sd(n.canActivate)}(h)?h.canActivate(e,n):l.runInContext(()=>h(e,n))).pipe(Qi())}));return at(i).pipe(Jl())}(n,i.route,t))),Qi(i=>!0!==i,!0))}(r,s,n,e):at(h)),(0,vt.U)(h=>({...t,guardsResult:h})))})}(this.environmentInjector,l=>this.events.next(l)),(0,sr.b)(l=>{if(r.guardsResult=l.guardsResult,Oc(l.guardsResult))throw y(0,l.guardsResult);const h=new c8(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),Yn(l=>!!l.guardsResult||(t.restoreHistory(l),this.cancelNavigationTransition(l,"",3),!1)),I8(l=>{if(l.guards.canActivateChecks.length)return at(l).pipe((0,sr.b)(h=>{const v=new l8(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(v)}),Zn(h=>{let v=!1;return at(h).pipe(function mE(n,e){return(0,Gn.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return at(t);let s=0;return(0,dn.D)(i).pipe(bo(l=>function gE(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!x8(i)&&(s[Ji]=i.title),function Xp(n,e,t,r){const i=function vE(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return at({});const s={};return(0,dn.D)(i).pipe((0,Gn.z)(l=>function em(n,e,t,r){const i=Ql(e)??r,s=c1(n,i);return I(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[l],e,t,r).pipe(Qi(),(0,sr.b)(h=>{s[l]=h}))),Bl(1),Ul(s),ps(l=>Yc(l)?Zi.E:kc(l)))}(s,n,e,r).pipe((0,vt.U)(l=>(n._resolvedData=l,n.data=vd(n,t).resolve,i&&x8(i)&&(n.data[Ji]=i.title),null)))}(l.route,r,n,e)),(0,sr.b)(()=>s++),Bl(1),(0,Gn.z)(l=>s===i.length?at(t):Zi.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,sr.b)({next:()=>v=!0,complete:()=>{v||(t.restoreHistory(h),this.cancelNavigationTransition(h,"",2))}}))}),(0,sr.b)(h=>{const v=new Xh(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(v)}))}),I8(l=>{const h=v=>{const w=[];v.routeConfig?.loadComponent&&!v.routeConfig._loadedComponent&&w.push(this.configLoader.loadComponent(v.routeConfig).pipe((0,sr.b)(E=>{v.component=E}),(0,vt.U)(()=>{})));for(const E of v.children)w.push(...h(E));return w};return Bu(h(l.targetSnapshot.root)).pipe(Zs(),ai(1))}),I8(()=>this.afterPreactivation()),(0,vt.U)(l=>{const h=function Bc(n,e,t){const r=Zl(n,e._root,t?t._root:void 0);return new W2(r,e)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return r={...l,targetRouterState:h}}),(0,sr.b)(l=>{t.currentUrlTree=l.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),t.routerState=l.targetRouterState,"deferred"===t.urlUpdateStrategy&&(l.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,l),t.browserUrlTree=l.urlAfterRedirects)}),((n,e,t)=>(0,vt.U)(r=>(new bd(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l)),ai(1),(0,sr.b)({next:l=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Co(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{i=!0}}),za(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),ps(l=>{if(s=!0,b(l)){m(l)||(t.navigated=!0,t.restoreHistory(r,!0));const h=new t1(r.id,this.urlSerializer.serialize(r.extractedUrl),l.message,l.cancellationCode);if(this.events.next(h),m(l)){const v=t.urlHandlingStrategy.merge(l.url,t.rawUrlTree),w={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||nm(r.source)};t.scheduleNavigation(v,e1,null,w,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const h=new n1(r.id,this.urlSerializer.serialize(r.extractedUrl),l,r.targetSnapshot??void 0);this.events.next(h);try{r.resolve(t.errorHandler(l))}catch(v){r.reject(v)}}return Zi.E}))}))}cancelNavigationTransition(t,r,i){const s=new t1(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function nm(n){return n!==e1}let rm=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===Mt);return r}getResolvedTitleForRoute(t){return t.data[Ji]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(n9)},providedIn:"root"}),n})(),n9=(()=>{class n extends rm{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Nh))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),im=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(i9)},providedIn:"root"}),n})();class r9{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let i9=(()=>{class n extends r9{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Yt=new d.OlP("",{providedIn:"root",factory:()=>({})});let om=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(sm)},providedIn:"root"}),n})(),sm=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function s9(n){throw n}function a9(n,e,t){return e.parse("/")}const am={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},c9={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ni=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,d.f3M)(d.c2e),this.isNgZoneEnabled=!1,this.options=(0,d.f3M)(Yt,{optional:!0})||{},this.errorHandler=this.options.errorHandler||s9,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||a9,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,d.f3M)(om),this.routeReuseStrategy=(0,d.f3M)(im),this.urlCreationStrategy=(0,d.f3M)(u8),this.titleStrategy=(0,d.f3M)(rm),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=cd((0,d.f3M)(xd,{optional:!0})??[]),this.navigationTransitions=(0,d.f3M)(c3),this.urlSerializer=(0,d.f3M)(gs),this.location=(0,d.f3M)(Ye),this.isNgZoneEnabled=(0,d.f3M)(d.R0b)instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Sn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=K2(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),e1,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const s={replaceUrl:!0},l=i?.navigationId?i:null;if(i){const v={...i};delete v.navigationId,delete v.\u0275routerPageId,0!==Object.keys(v).length&&(s.state=v)}const h=this.parseUrl(t);this.scheduleNavigation(h,r,l,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(a1),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:l,queryParamsHandling:h,preserveFragment:v}=r,w=v?this.currentUrlTree.fragment:l;let E=null;switch(h){case"merge":E={...this.currentUrlTree.queryParams,...s};break;case"preserve":E=this.currentUrlTree.queryParams;break;default:E=s||null}return null!==E&&(E=this.removeEmptyProps(E)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,E,w??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Oc(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,e1,null,r)}navigate(t,r={skipLocationChange:!1}){return function l9(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new d.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...am}:!1===r?{...c9}:r,Oc(t))return oe(this.currentUrlTree,t,i);const s=this.parseUrl(t);return oe(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(t,r,i,s,l){if(this.disposed)return Promise.resolve(!1);let h,v,w,E;return l?(h=l.resolve,v=l.reject,w=l.promise):w=new Promise((x,N)=>{h=x,v=N}),E="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:E,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:h,reject:v,promise:w,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),w.catch(x=>Promise.reject(x))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const l={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",l)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(i,"",s)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class z8{}let O8=(()=>{class n{constructor(t,r,i,s,l){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(Yn(t=>t instanceof Co),bo(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=(0,d.MMx)(s.providers,t,`Route: ${s.path}`));const l=s._injector??t,h=s._loadedInjector??l;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(l,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(h,s.children??s._loadedRoutes))}return(0,dn.D)(i).pipe((0,Ll.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):at(null);const s=i.pipe((0,Gn.z)(l=>null===l?at(void 0):(r._loadedRoutes=l.routes,r._loadedInjector=l.injector,this.processRoutes(l.injector??t,l.routes))));if(r.loadComponent&&!r._loadedComponent){const l=this.loader.loadComponent(r);return(0,dn.D)([s,l]).pipe((0,Ll.J)())}return s})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ni),d.LFG(d.Sil),d.LFG(d.lqb),d.LFG(z8),d.LFG(k8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const p4=new d.OlP("");let lm=(()=>{class n{constructor(t,r,i,s,l={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Jh?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Co&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Nc&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Nc(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){d.$Z()},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();var _s=(()=>((_s=_s||{})[_s.COMPLETE=0]="COMPLETE",_s[_s.FAILED=1]="FAILED",_s[_s.REDIRECTING=2]="REDIRECTING",_s))();const m4=!1;function u1(n,e){return{\u0275kind:n,\u0275providers:e}}const F8=new d.OlP("",{providedIn:"root",factory:()=>!1});function g4(){const n=(0,d.f3M)(d.zs3);return e=>{const t=n.get(d.z2F);if(e!==t.components[0])return;const r=n.get(Ni),i=n.get(um);1===n.get(u3)&&r.initialNavigation(),n.get(dm,null,d.XFs.Optional)?.setUpPreloading(),n.get(p4,null,d.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const um=new d.OlP(m4?"bootstrap done indicator":"",{factory:()=>new dt.x}),u3=new d.OlP(m4?"initial navigation":"",{providedIn:"root",factory:()=>1});function f9(){let n=[];return n=m4?[{provide:d.Xts,multi:!0,useFactory:()=>{const e=(0,d.f3M)(Ni);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function t4(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],u1(1,n)}const dm=new d.OlP(m4?"router preloader":"");function p9(n){return u1(0,[{provide:dm,useExisting:O8},{provide:z8,useExisting:n}])}const kd=!1,v9=new d.OlP(kd?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),N8=[Ye,{provide:gs,useClass:$u},Ni,P,{provide:xr,useFactory:function R8(n){return n.routerState.root},deps:[Ni]},k8,kd?{provide:F8,useValue:!0}:[]];function y9(){return new d.PXZ("Router",Ni)}let _9=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[N8,kd&&r?.enableTracing?f9().\u0275providers:[],{provide:xd,multi:!0,useValue:t},{provide:v9,useFactory:pm,deps:[[Ni,new d.FiY,new d.tp0]]},{provide:Yt,useValue:r||{}},r?.useHash?{provide:ht,useClass:Oe}:{provide:ht,useClass:ze},{provide:p4,useFactory:()=>{const n=(0,d.f3M)(lc),e=(0,d.f3M)(d.R0b),t=(0,d.f3M)(Yt),r=(0,d.f3M)(c3),i=(0,d.f3M)(gs);return t.scrollOffset&&n.setOffset(t.scrollOffset),new lm(i,r,n,e,t)}},r?.preloadingStrategy?p9(r.preloadingStrategy).\u0275providers:[],{provide:d.PXZ,multi:!0,useFactory:y9},r?.initialNavigation?b9(r):[],[{provide:mm,useFactory:g4},{provide:d.tb,multi:!0,useExisting:mm}]]}}static forChild(t){return{ngModule:n,providers:[{provide:xd,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(v9,8))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[rt]}),n})();function pm(n){if(kd&&n)throw new d.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function b9(n){return["disabled"===n.initialNavigation?u1(3,[{provide:d.ip1,multi:!0,useFactory:()=>{const e=(0,d.f3M)(Ni);return()=>{e.setUpLocationChangeListener()}}},{provide:u3,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?u1(2,[{provide:u3,useValue:0},{provide:d.ip1,multi:!0,deps:[d.zs3],useFactory:e=>{const t=e.get(ye,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(Ni),s=e.get(um);(function wE(n,e){n.events.pipe(Yn(t=>t instanceof Co||t instanceof t1||t instanceof n1||t instanceof Fa),(0,vt.U)(t=>t instanceof Co||t instanceof Fa?_s.COMPLETE:t instanceof t1&&(0===t.code||1===t.code)?_s.REDIRECTING:_s.FAILED),Yn(t=>t!==_s.REDIRECTING),ai(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(c3).afterPreactivation=()=>(r(!0),s.closed?at(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const mm=new d.OlP(kd?"Router Initializer":"");let h3=(()=>{const e=class{constructor(r){this.router=r,this.code=null}getCode(){return this.code}setCode(r){this.code=r}isUser(){null==this.code&&null==localStorage.getItem("hadwritten-invite")&&this.router.navigate(["login"])}};let n=e;return e.\u0275fac=function(i){return new(i||e)(d.LFG(Ni))},e.\u0275prov=d.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),n})(),f3=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n}),n})(),La=(()=>{class n extends f3{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,features:[d.qOj]}),n})();const na=new d.OlP("NgValueAccessor"),V8={provide:na,useExisting:(0,d.Gpc)(()=>_4),multi:!0},H8=new d.OlP("CompositionEventMode");let _4=(()=>{class n extends f3{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function gm(){const n=R()?R().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(H8,8))},n.\u0275dir=d.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&d.NdJ("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[d._Bn([V8]),d.qOj]}),n})();const C9=!1,wi=new d.OlP("NgValidators"),$c=new d.OlP("NgAsyncValidators");function Y8(n){return null!=n}function Cm(n){const e=(0,d.QGY)(n)?(0,dn.D)(n):n;if(C9&&!(0,d.CqO)(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new d.vHH(-1101,t)}return e}function Sm(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function v3(n,e){return e.map(t=>t(n))}function Em(n){return n.map(e=>function D9(n){return!n.validate}(e)?e:t=>e.validate(t))}function U8(n){return null!=n?function Dm(n){if(!n)return null;const e=n.filter(Y8);return 0==e.length?null:function(t){return Sm(v3(t,e))}}(Em(n)):null}function ws(n){return null!=n?function Tm(n){if(!n)return null;const e=n.filter(Y8);return 0==e.length?null:function(t){return function y4(...n){const e=(0,yi.jO)(n),{args:t,keys:r}=ka(n),i=new $n.y(s=>{const{length:l}=t;if(!l)return void s.complete();const h=new Array(l);let v=l,w=l;for(let E=0;E<l;E++){let x=!1;(0,qo.Xf)(t[E]).subscribe((0,or.x)(s,N=>{x||(x=!0,w--),h[E]=N},()=>v--,void 0,()=>{(!v||!x)&&(w||s.next(r?fs(r,h):h),s.complete())}))}});return e?i.pipe(Go(e)):i}(v3(t,e).map(Cm)).pipe((0,vt.U)(Sm))}}(Em(n)):null}function y3(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function _3(n){return n?Array.isArray(n)?n:[n]:[]}function w3(n,e){return Array.isArray(n)?n.includes(e):n===e}function Im(n,e){const t=_3(e);return _3(n).forEach(i=>{w3(t,i)||t.push(i)}),t}function Am(n,e){return _3(e).filter(t=>!w3(n,t))}class b3{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=U8(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=ws(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class no extends b3{get formDirective(){return null}get path(){return null}}class Gc extends b3{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class w4{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let km=(()=>{class n extends w4{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Gc,2))},n.\u0275dir=d.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&d.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[d.qOj]}),n})();const S4="VALID",E3="INVALID",zd="PENDING",E4="DISABLED";function Od(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class Bm{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===S4}get invalid(){return this.status===E3}get pending(){return this.status==zd}get disabled(){return this.status===E4}get enabled(){return this.status!==E4}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Im(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Im(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Am(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Am(e,this._rawAsyncValidators))}hasValidator(e){return w3(this._rawValidators,e)}hasAsyncValidator(e){return w3(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=zd,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=E4,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=S4,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===S4||this.status===zd)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?E4:S4}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=zd,this._hasOwnPendingAsyncValidator=!0;const t=Cm(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?E4:this.errors?E3:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(zd)?zd:this._anyControlsHaveStatus(E3)?E3:S4}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Od(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function I9(n){return Array.isArray(n)?U8(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Vm(n){return Array.isArray(n)?ws(n):n||null}(this._rawAsyncValidators)}}const Rd=new d.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>D4}),D4="always";function M4(n,e,t=D4){(function Fd(n,e){const t=function Mm(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(y3(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function xm(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(y3(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();x4(e._rawValidators,i),x4(e._rawAsyncValidators,i)})(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function k9(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Ym(n,e)})}(n,e),function Va(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function X8(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Ym(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function IE(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function x4(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Ym(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function e6(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function t6(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const n6=class extends Bm{constructor(e=null,t,r){super(function K8(n){return(Od(n)?n.validators:n)||null}(t),function Z8(n,e){return(Od(e)?e.asyncValidators:n)||null}(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Od(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=t6(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){e6(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){e6(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){t6(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},R9={provide:Gc,useExisting:(0,d.Gpc)(()=>Yd)},I3=(()=>Promise.resolve())();let Yd=(()=>{class n extends Gc{constructor(t,r,i,s,l,h){super(),this._changeDetectorRef=l,this.callSetDisabledState=h,this.control=new n6,this._registered=!1,this.update=new d.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function tu(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===_4?t=s:function Vd(n){return Object.getPrototypeOf(n.constructor)===La}(s)?r=s:i=s}),i||r||t||null}(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function eu(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){M4(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){I3.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&(0,d.D6c)(r);I3.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function T4(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(no,9),d.Y36(wi,10),d.Y36($c,10),d.Y36(na,10),d.Y36(d.sBO,8),d.Y36(Rd,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d._Bn([R9]),d.qOj,d.TTD]}),n})(),P4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})(),Ud=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[P4]}),n})(),Ba=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Rd,useValue:t.callSetDisabledState??D4}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Ud]}),n})();var bs=F(7582);function Jo(n,e=hs.y){return n=n??ra,(0,Tr.e)((t,r)=>{let i,s=!0;t.subscribe((0,or.x)(r,l=>{const h=e(l);(s||!n(i,h))&&(s=!1,i=h,r.next(l))}))})}function ra(n,e){return n===e}var ia=F(5032);function Mn(n){return(0,Tr.e)((e,t)=>{(0,qo.Xf)(n).subscribe((0,or.x)(t,()=>t.complete(),ia.Z)),!t.closed&&e.subscribe(t)})}var hg=F(6063);class g6 extends dt.x{constructor(e=1/0,t=1/0,r=hg.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:l}=this;t||(r.push(e),!i&&r.push(s.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let l=0;l<s.length&&!e.closed;l+=r?1:2)e.next(s[l]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const l=t.now();let h=0;for(let v=1;v<r.length&&r[v]<=l;v+=2)h=v;h&&r.splice(0,h+1)}}}let v6;try{v6=typeof Intl<"u"&&Intl.v8BreakIterator}catch{v6=!1}let $d,R4,iu,H3,Ya=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function L1(n){return n===xh}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!v6)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.Lbi))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),z4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();function O4(n){return function G9(){if(null==$d&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>$d=!0}))}finally{$d=$d||!1}return $d}()?n:!!n.capture}function F4(){if(null==iu){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return iu=!1,iu;if("scrollBehavior"in document.documentElement.style)iu=!0;else{const n=Element.prototype.scrollTo;iu=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return iu}function N4(){if("object"!=typeof document||!document)return 0;if(null==R4){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),r=t.style;r.width="2px",r.height="1px",n.appendChild(t),document.body.appendChild(n),R4=0,0===n.scrollLeft&&(n.scrollLeft=1,R4=0===n.scrollLeft?1:2),n.remove()}return R4}function y6(n){if(function fg(){if(null==H3){const n=typeof document<"u"?document.head:null;H3=!(!n||!n.createShadowRoot&&!n.attachShadow)}return H3}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function f1(n){return n.composedPath?n.composedPath()[0]:n.target}function _6(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function li(n,e){(function mg(n){return"string"==typeof n&&-1!==n.indexOf(".")&&1===parseFloat(n)})(n)&&(n="100%");var t=function gg(n){return"string"==typeof n&&-1!==n.indexOf("%")}(n);return n=360===e?n:Math.min(e,Math.max(0,parseFloat(n))),t&&(n=parseInt(String(n*e),10)/100),Math.abs(n-e)<1e-6?1:n=360===e?(n<0?n%e+e:n%e)/parseFloat(String(e)):n%e/parseFloat(String(e))}function L4(n){return Math.min(1,Math.max(0,n))}function w6(n){return n=parseFloat(n),(isNaN(n)||n<0||n>1)&&(n=1),n}function V4(n){return n<=1?"".concat(100*Number(n),"%"):n}function p1(n){return 1===n.length?"0"+n:String(n)}function vg(n,e,t){n=li(n,255),e=li(e,255),t=li(t,255);var r=Math.max(n,e,t),i=Math.min(n,e,t),s=0,l=0,h=(r+i)/2;if(r===i)l=0,s=0;else{var v=r-i;switch(l=h>.5?v/(2-r-i):v/(r+i),r){case n:s=(e-t)/v+(e<t?6:0);break;case e:s=(t-n)/v+2;break;case t:s=(n-e)/v+4}s/=6}return{h:s,s:l,l:h}}function b6(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+6*t*(e-n):t<.5?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function C6(n,e,t){n=li(n,255),e=li(e,255),t=li(t,255);var r=Math.max(n,e,t),i=Math.min(n,e,t),s=0,l=r,h=r-i,v=0===r?0:h/r;if(r===i)s=0;else{switch(r){case n:s=(e-t)/h+(e<t?6:0);break;case e:s=(t-n)/h+2;break;case t:s=(n-e)/h+4}s/=6}return{h:s,s:v,v:l}}function S6(n,e,t,r){var i=[p1(Math.round(n).toString(16)),p1(Math.round(e).toString(16)),p1(Math.round(t).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function yg(n){return Math.round(255*parseFloat(n)).toString(16)}function _g(n){return Xo(n)/255}function Xo(n){return parseInt(n,16)}var E6={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Gd(n){var e={r:0,g:0,b:0},t=1,r=null,i=null,s=null,l=!1,h=!1;return"string"==typeof n&&(n=function wg(n){if(0===(n=n.trim().toLowerCase()).length)return!1;var e=!1;if(E6[n])n=E6[n],e=!0;else if("transparent"===n)return{r:0,g:0,b:0,a:0,format:"name"};var t=Cs.rgb.exec(n);return t?{r:t[1],g:t[2],b:t[3]}:(t=Cs.rgba.exec(n))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=Cs.hsl.exec(n))?{h:t[1],s:t[2],l:t[3]}:(t=Cs.hsla.exec(n))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=Cs.hsv.exec(n))?{h:t[1],s:t[2],v:t[3]}:(t=Cs.hsva.exec(n))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=Cs.hex8.exec(n))?{r:Xo(t[1]),g:Xo(t[2]),b:Xo(t[3]),a:_g(t[4]),format:e?"name":"hex8"}:(t=Cs.hex6.exec(n))?{r:Xo(t[1]),g:Xo(t[2]),b:Xo(t[3]),format:e?"name":"hex"}:(t=Cs.hex4.exec(n))?{r:Xo(t[1]+t[1]),g:Xo(t[2]+t[2]),b:Xo(t[3]+t[3]),a:_g(t[4]+t[4]),format:e?"name":"hex8"}:!!(t=Cs.hex3.exec(n))&&{r:Xo(t[1]+t[1]),g:Xo(t[2]+t[2]),b:Xo(t[3]+t[3]),format:e?"name":"hex"}}(n)),"object"==typeof n&&(Ua(n.r)&&Ua(n.g)&&Ua(n.b)?(e=function q9(n,e,t){return{r:255*li(n,255),g:255*li(e,255),b:255*li(t,255)}}(n.r,n.g,n.b),l=!0,h="%"===String(n.r).substr(-1)?"prgb":"rgb"):Ua(n.h)&&Ua(n.s)&&Ua(n.v)?(r=V4(n.s),i=V4(n.v),e=function K9(n,e,t){n=6*li(n,360),e=li(e,100),t=li(t,100);var r=Math.floor(n),i=n-r,s=t*(1-e),l=t*(1-i*e),h=t*(1-(1-i)*e),v=r%6;return{r:255*[t,l,s,s,h,t][v],g:255*[h,t,t,l,s,s][v],b:255*[s,s,h,t,t,l][v]}}(n.h,r,i),l=!0,h="hsv"):Ua(n.h)&&Ua(n.s)&&Ua(n.l)&&(r=V4(n.s),s=V4(n.l),e=function W9(n,e,t){var r,i,s;if(n=li(n,360),e=li(e,100),t=li(t,100),0===e)i=t,s=t,r=t;else{var l=t<.5?t*(1+e):t+e-t*e,h=2*t-l;r=b6(h,l,n+1/3),i=b6(h,l,n),s=b6(h,l,n-1/3)}return{r:255*r,g:255*i,b:255*s}}(n.h,r,s),l=!0,h="hsl"),Object.prototype.hasOwnProperty.call(n,"a")&&(t=n.a)),t=w6(t),{ok:l,format:n.format||h,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:t}}var Wc="(?:".concat("[-\\+]?\\d*\\.\\d+%?",")|(?:").concat("[-\\+]?\\d+%?",")"),B3="[\\s|\\(]+(".concat(Wc,")[,|\\s]+(").concat(Wc,")[,|\\s]+(").concat(Wc,")\\s*\\)?"),Y3="[\\s|\\(]+(".concat(Wc,")[,|\\s]+(").concat(Wc,")[,|\\s]+(").concat(Wc,")[,|\\s]+(").concat(Wc,")\\s*\\)?"),Cs={CSS_UNIT:new RegExp(Wc),rgb:new RegExp("rgb"+B3),rgba:new RegExp("rgba"+Y3),hsl:new RegExp("hsl"+B3),hsla:new RegExp("hsla"+Y3),hsv:new RegExp("hsv"+B3),hsva:new RegExp("hsva"+Y3),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function Ua(n){return Boolean(Cs.CSS_UNIT.exec(String(n)))}var Kc=function(){function n(e,t){var r;if(void 0===e&&(e=""),void 0===t&&(t={}),e instanceof n)return e;"number"==typeof e&&(e=function Q9(n){return{r:n>>16,g:(65280&n)>>8,b:255&n}}(e)),this.originalInput=e;var i=Gd(e);this.originalInput=e,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(r=t.format)&&void 0!==r?r:i.format,this.gradientType=t.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return n.prototype.isDark=function(){return this.getBrightness()<128},n.prototype.isLight=function(){return!this.isDark()},n.prototype.getBrightness=function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},n.prototype.getLuminance=function(){var e=this.toRgb(),s=e.r/255,l=e.g/255,h=e.b/255;return.2126*(s<=.03928?s/12.92:Math.pow((s+.055)/1.055,2.4))+.7152*(l<=.03928?l/12.92:Math.pow((l+.055)/1.055,2.4))+.0722*(h<=.03928?h/12.92:Math.pow((h+.055)/1.055,2.4))},n.prototype.getAlpha=function(){return this.a},n.prototype.setAlpha=function(e){return this.a=w6(e),this.roundA=Math.round(100*this.a)/100,this},n.prototype.isMonochrome=function(){return 0===this.toHsl().s},n.prototype.toHsv=function(){var e=C6(this.r,this.g,this.b);return{h:360*e.h,s:e.s,v:e.v,a:this.a}},n.prototype.toHsvString=function(){var e=C6(this.r,this.g,this.b),t=Math.round(360*e.h),r=Math.round(100*e.s),i=Math.round(100*e.v);return 1===this.a?"hsv(".concat(t,", ").concat(r,"%, ").concat(i,"%)"):"hsva(".concat(t,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},n.prototype.toHsl=function(){var e=vg(this.r,this.g,this.b);return{h:360*e.h,s:e.s,l:e.l,a:this.a}},n.prototype.toHslString=function(){var e=vg(this.r,this.g,this.b),t=Math.round(360*e.h),r=Math.round(100*e.s),i=Math.round(100*e.l);return 1===this.a?"hsl(".concat(t,", ").concat(r,"%, ").concat(i,"%)"):"hsla(".concat(t,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},n.prototype.toHex=function(e){return void 0===e&&(e=!1),S6(this.r,this.g,this.b,e)},n.prototype.toHexString=function(e){return void 0===e&&(e=!1),"#"+this.toHex(e)},n.prototype.toHex8=function(e){return void 0===e&&(e=!1),function Z9(n,e,t,r,i){var s=[p1(Math.round(n).toString(16)),p1(Math.round(e).toString(16)),p1(Math.round(t).toString(16)),p1(yg(r))];return i&&s[0].startsWith(s[0].charAt(1))&&s[1].startsWith(s[1].charAt(1))&&s[2].startsWith(s[2].charAt(1))&&s[3].startsWith(s[3].charAt(1))?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}(this.r,this.g,this.b,this.a,e)},n.prototype.toHex8String=function(e){return void 0===e&&(e=!1),"#"+this.toHex8(e)},n.prototype.toHexShortString=function(e){return void 0===e&&(e=!1),1===this.a?this.toHexString(e):this.toHex8String(e)},n.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},n.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),r=Math.round(this.b);return 1===this.a?"rgb(".concat(e,", ").concat(t,", ").concat(r,")"):"rgba(".concat(e,", ").concat(t,", ").concat(r,", ").concat(this.roundA,")")},n.prototype.toPercentageRgb=function(){var e=function(t){return"".concat(Math.round(100*li(t,255)),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},n.prototype.toPercentageRgbString=function(){var e=function(t){return Math.round(100*li(t,255))};return 1===this.a?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},n.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var e="#"+S6(this.r,this.g,this.b,!1),t=0,r=Object.entries(E6);t<r.length;t++){var i=r[t];if(e===i[1])return i[0]}return!1},n.prototype.toString=function(e){var t=Boolean(e);e=e??this.format;var r=!1;return!t&&this.a<1&&this.a>=0&&(e.startsWith("hex")||"name"===e)?"name"===e&&0===this.a?this.toName():this.toRgbString():("rgb"===e&&(r=this.toRgbString()),"prgb"===e&&(r=this.toPercentageRgbString()),("hex"===e||"hex6"===e)&&(r=this.toHexString()),"hex3"===e&&(r=this.toHexString(!0)),"hex4"===e&&(r=this.toHex8String(!0)),"hex8"===e&&(r=this.toHex8String()),"name"===e&&(r=this.toName()),"hsl"===e&&(r=this.toHslString()),"hsv"===e&&(r=this.toHsvString()),r||this.toHexString())},n.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},n.prototype.clone=function(){return new n(this.toString())},n.prototype.lighten=function(e){void 0===e&&(e=10);var t=this.toHsl();return t.l+=e/100,t.l=L4(t.l),new n(t)},n.prototype.brighten=function(e){void 0===e&&(e=10);var t=this.toRgb();return t.r=Math.max(0,Math.min(255,t.r-Math.round(-e/100*255))),t.g=Math.max(0,Math.min(255,t.g-Math.round(-e/100*255))),t.b=Math.max(0,Math.min(255,t.b-Math.round(-e/100*255))),new n(t)},n.prototype.darken=function(e){void 0===e&&(e=10);var t=this.toHsl();return t.l-=e/100,t.l=L4(t.l),new n(t)},n.prototype.tint=function(e){return void 0===e&&(e=10),this.mix("white",e)},n.prototype.shade=function(e){return void 0===e&&(e=10),this.mix("black",e)},n.prototype.desaturate=function(e){void 0===e&&(e=10);var t=this.toHsl();return t.s-=e/100,t.s=L4(t.s),new n(t)},n.prototype.saturate=function(e){void 0===e&&(e=10);var t=this.toHsl();return t.s+=e/100,t.s=L4(t.s),new n(t)},n.prototype.greyscale=function(){return this.desaturate(100)},n.prototype.spin=function(e){var t=this.toHsl(),r=(t.h+e)%360;return t.h=r<0?360+r:r,new n(t)},n.prototype.mix=function(e,t){void 0===t&&(t=50);var r=this.toRgb(),i=new n(e).toRgb(),s=t/100;return new n({r:(i.r-r.r)*s+r.r,g:(i.g-r.g)*s+r.g,b:(i.b-r.b)*s+r.b,a:(i.a-r.a)*s+r.a})},n.prototype.analogous=function(e,t){void 0===e&&(e=6),void 0===t&&(t=30);var r=this.toHsl(),i=360/t,s=[this];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,s.push(new n(r));return s},n.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new n(e)},n.prototype.monochromatic=function(e){void 0===e&&(e=6);for(var t=this.toHsv(),r=t.h,i=t.s,s=t.v,l=[],h=1/e;e--;)l.push(new n({h:r,s:i,v:s})),s=(s+h)%1;return l},n.prototype.splitcomplement=function(){var e=this.toHsl(),t=e.h;return[this,new n({h:(t+72)%360,s:e.s,l:e.l}),new n({h:(t+216)%360,s:e.s,l:e.l})]},n.prototype.onBackground=function(e){var t=this.toRgb(),r=new n(e).toRgb(),i=t.a+r.a*(1-t.a);return new n({r:(t.r*t.a+r.r*r.a*(1-t.a))/i,g:(t.g*t.a+r.g*r.a*(1-t.a))/i,b:(t.b*t.a+r.b*r.a*(1-t.a))/i,a:i})},n.prototype.triad=function(){return this.polyad(3)},n.prototype.tetrad=function(){return this.polyad(4)},n.prototype.polyad=function(e){for(var t=this.toHsl(),r=t.h,i=[this],s=360/e,l=1;l<e;l++)i.push(new n({h:(r+l*s)%360,s:t.s,l:t.l}));return i},n.prototype.equals=function(e){return this.toRgbString()===new n(e).toRgbString()},n}(),H4=2,D6=.16,T6=.05,m1=.05,ty=.15,bg=5,g1=4,ny=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function U3(n,e,t){var r;return(r=Math.round(n.h)>=60&&Math.round(n.h)<=240?t?Math.round(n.h)-H4*e:Math.round(n.h)+H4*e:t?Math.round(n.h)+H4*e:Math.round(n.h)-H4*e)<0?r+=360:r>=360&&(r-=360),r}function ry(n,e,t){return 0===n.h&&0===n.s?n.s:((r=t?n.s-D6*e:e===g1?n.s+D6:n.s+T6*e)>1&&(r=1),t&&e===bg&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2)));var r}function M6(n,e,t){var r;return(r=t?n.v+m1*e:n.v-ty*e)>1&&(r=1),Number(r.toFixed(2))}function j3(n){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=[],r=new Kc(n),i=bg;i>0;i-=1){var s=r.toHsv(),l=new Kc({h:U3(s,i,!0),s:ry(s,i,!0),v:M6(s,i,!0)}).toHexString();t.push(l)}t.push(r.toHexString());for(var h=1;h<=g1;h+=1){var v=r.toHsv(),w=new Kc({h:U3(v,h),s:ry(v,h),v:M6(v,h)}).toHexString();t.push(w)}return"dark"===e.theme?ny.map(function(E){var x=E.index,N=E.opacity;return new Kc(e.backgroundColor||"#141414").mix(t[x],100*N).toHexString()}):t}var Cg={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},mt={},x6={};Object.keys(Cg).forEach(function(n){mt[n]=j3(Cg[n]),mt[n].primary=mt[n][5],x6[n]=j3(Cg[n],{theme:"dark",backgroundColor:"#141414"}),x6[n].primary=x6[n][5]});class Y4{}class qd{}class Zc{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),l=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(l):this.headers.set(s,[l])}})}:()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{let i;if(i="string"==typeof r?[r]:"number"==typeof r?[r.toString()]:r.map(s=>s.toString()),i.length>0){const s=t.toLowerCase();this.headers.set(s,i),this.maybeSetNormalizedName(t,s)}})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Zc?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Zc;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Zc?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let l=this.headers.get(t);if(!l)return;l=l.filter(h=>-1===s.indexOf(h)),0===l.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,l)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class cy{encodeKey(e){return Sg(e)}encodeValue(e){return Sg(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const ly=/%(\d[a-f0-9])/gi,uy={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Sg(n){return encodeURIComponent(n).replace(ly,(e,t)=>uy[t]??e)}function v1(n){return`${n}`}class Qc{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new cy,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function U4(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[l,h]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],v=t.get(l)||[];v.push(h),t.set(l,v)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(v1):[v1(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Qc({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(v1(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(v1(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Eg{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function Wd(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Kd(n){return typeof Blob<"u"&&n instanceof Blob}function Dg(n){return typeof FormData<"u"&&n instanceof FormData}class j4{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function hy(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Zc),this.context||(this.context=new Eg),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=t;else{const h=t.indexOf("?");this.urlWithParams=t+(-1===h?"?":h<t.length-1?"&":"")+l}}else this.params=new Qc,this.urlWithParams=t}serializeBody(){return null===this.body?null:Wd(this.body)||Kd(this.body)||Dg(this.body)||function fy(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Qc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Dg(this.body)?null:Kd(this.body)?this.body.type||null:Wd(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Qc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,l=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,h=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let v=e.headers||this.headers,w=e.params||this.params;const E=e.context??this.context;return void 0!==e.setHeaders&&(v=Object.keys(e.setHeaders).reduce((x,N)=>x.set(N,e.setHeaders[N]),v)),e.setParams&&(w=Object.keys(e.setParams).reduce((x,N)=>x.set(N,e.setParams[N]),w)),new j4(t,r,s,{params:w,headers:v,context:E,reportProgress:h,responseType:i,withCredentials:l})}}var Ar=(()=>((Ar=Ar||{})[Ar.Sent=0]="Sent",Ar[Ar.UploadProgress=1]="UploadProgress",Ar[Ar.ResponseHeader=2]="ResponseHeader",Ar[Ar.DownloadProgress=3]="DownloadProgress",Ar[Ar.Response=4]="Response",Ar[Ar.User=5]="User",Ar))();class $3{constructor(e,t=200,r="OK"){this.headers=e.headers||new Zc,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class G3 extends $3{constructor(e={}){super(e),this.type=Ar.ResponseHeader}clone(e={}){return new G3({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class q3 extends $3{constructor(e={}){super(e),this.type=Ar.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new q3({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class k6 extends $3{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function P6(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Tg=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof j4)s=t;else{let v,w;v=i.headers instanceof Zc?i.headers:new Zc(i.headers),i.params&&(w=i.params instanceof Qc?i.params:new Qc({fromObject:i.params})),s=new j4(t,r,void 0!==i.body?i.body:null,{headers:v,context:i.context,params:w,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const l=at(s).pipe(bo(v=>this.handler.handle(v)));if(t instanceof j4||"events"===i.observe)return l;const h=l.pipe(Yn(v=>v instanceof q3));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return h.pipe((0,vt.U)(v=>{if(null!==v.body&&!(v.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return v.body}));case"blob":return h.pipe((0,vt.U)(v=>{if(null!==v.body&&!(v.body instanceof Blob))throw new Error("Response is not a Blob.");return v.body}));case"text":return h.pipe((0,vt.U)(v=>{if(null!==v.body&&"string"!=typeof v.body)throw new Error("Response is not a string.");return v.body}));default:return h.pipe((0,vt.U)(v=>v.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Qc).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,P6(i,r))}post(t,r,i={}){return this.request("POST",t,P6(i,r))}put(t,r,i={}){return this.request("PUT",t,P6(i,r))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Y4))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function py(n,e){return e(n)}function $E(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const qE=new d.OlP("HTTP_INTERCEPTORS"),Zd=new d.OlP("HTTP_INTERCEPTOR_FNS");function W3(){let n=null;return(e,t)=>(null===n&&(n=((0,d.f3M)(qE,{optional:!0})??[]).reduceRight($E,py)),n(e,t))}let Mg=(()=>{class n extends Y4{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=Array.from(new Set(this.injector.get(Zd)));this.chain=r.reduceRight((i,s)=>function GE(n,e,t){return(r,i)=>t.runInContext(()=>e(r,s=>n(s,i)))}(i,s,this.injector),py)}return this.chain(t,r=>this.backend.handle(r))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(qd),d.LFG(d.lqb))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const vy=/^\)\]\}',?\n/;let Ag=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new $n.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((V,U)=>i.setRequestHeader(V,U.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const V=t.detectContentTypeHeader();null!==V&&i.setRequestHeader("Content-Type",V)}if(t.responseType){const V=t.responseType.toLowerCase();i.responseType="json"!==V?V:"text"}const s=t.serializeBody();let l=null;const h=()=>{if(null!==l)return l;const V=i.statusText||"OK",U=new Zc(i.getAllResponseHeaders()),X=function $4(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return l=new G3({headers:U,status:i.status,statusText:V,url:X}),l},v=()=>{let{headers:V,status:U,statusText:X,url:he}=h(),Ve=null;204!==U&&(Ve=typeof i.response>"u"?i.responseText:i.response),0===U&&(U=Ve?200:0);let Ke=U>=200&&U<300;if("json"===t.responseType&&"string"==typeof Ve){const Je=Ve;Ve=Ve.replace(vy,"");try{Ve=""!==Ve?JSON.parse(Ve):null}catch(ot){Ve=Je,Ke&&(Ke=!1,Ve={error:ot,text:Ve})}}Ke?(r.next(new q3({body:Ve,headers:V,status:U,statusText:X,url:he||void 0})),r.complete()):r.error(new k6({error:Ve,headers:V,status:U,statusText:X,url:he||void 0}))},w=V=>{const{url:U}=h(),X=new k6({error:V,status:i.status||0,statusText:i.statusText||"Unknown Error",url:U||void 0});r.error(X)};let E=!1;const x=V=>{E||(r.next(h()),E=!0);let U={type:Ar.DownloadProgress,loaded:V.loaded};V.lengthComputable&&(U.total=V.total),"text"===t.responseType&&i.responseText&&(U.partialText=i.responseText),r.next(U)},N=V=>{let U={type:Ar.UploadProgress,loaded:V.loaded};V.lengthComputable&&(U.total=V.total),r.next(U)};return i.addEventListener("load",v),i.addEventListener("error",w),i.addEventListener("timeout",w),i.addEventListener("abort",w),t.reportProgress&&(i.addEventListener("progress",x),null!==s&&i.upload&&i.upload.addEventListener("progress",N)),i.send(s),r.next({type:Ar.Sent}),()=>{i.removeEventListener("error",w),i.removeEventListener("abort",w),i.removeEventListener("load",v),i.removeEventListener("timeout",w),t.reportProgress&&(i.removeEventListener("progress",x),null!==s&&i.upload&&i.upload.removeEventListener("progress",N)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(uc))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Z3=new d.OlP("XSRF_ENABLED"),z6=new d.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),O6=new d.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class kg{}let R6=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ts(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ee),d.LFG(d.Lbi),d.LFG(z6))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function wy(n,e){const t=n.url.toLowerCase();if(!(0,d.f3M)(Z3)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=(0,d.f3M)(kg).getToken(),i=(0,d.f3M)(O6);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var vr=(()=>((vr=vr||{})[vr.Interceptors=0]="Interceptors",vr[vr.LegacyInterceptors=1]="LegacyInterceptors",vr[vr.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",vr[vr.NoXsrfProtection=3]="NoXsrfProtection",vr[vr.JsonpSupport=4]="JsonpSupport",vr[vr.RequestsMadeViaParent=5]="RequestsMadeViaParent",vr))();function Qd(n,e){return{\u0275kind:n,\u0275providers:e}}function Cy(...n){const e=[Tg,Ag,Mg,{provide:Y4,useExisting:Mg},{provide:qd,useExisting:Ag},{provide:Zd,useValue:wy,multi:!0},{provide:Z3,useValue:!0},{provide:kg,useClass:R6}];for(const t of n)e.push(...t.\u0275providers);return(0,d.MR2)(e)}const Q3=new d.OlP("LEGACY_INTERCEPTOR_FN");let Dy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[Cy(Qd(vr.LegacyInterceptors,[{provide:Q3,useFactory:W3},{provide:Zd,useExisting:Q3,multi:!0}]))]}),n})();var Pg=F(3099);const ja="[@ant-design/icons-angular]:";function Og(n){(0,d.X6Q)()&&console.warn(`${ja} ${n}.`)}function Rg(n){return j3(n)[0]}function G4(n,e){switch(e){case"fill":return`${n}-fill`;case"outline":return`${n}-o`;case"twotone":return`${n}-twotone`;case void 0:return n;default:throw new Error(`${ja}Theme "${e}" is not a recognized theme!`)}}function J3(n){return"object"==typeof n&&"string"==typeof n.name&&("string"==typeof n.theme||void 0===n.theme)&&"string"==typeof n.icon}function X3(n){const e=n.split(":");switch(e.length){case 1:return[n,""];case 2:return[e[1],e[0]];default:throw new Error(`${ja}The icon type ${n} is not valid!`)}}function Ng(n){return new Error(`${ja}the icon ${n} does not exist or is not registered.`)}function Vg(){return new Error(`${ja}<svg> tag not found.`)}const Hg=new d.OlP("ant_icons");let e0=(()=>{class n{constructor(t,r,i,s,l){this._rendererFactory=t,this._handler=r,this._document=i,this.sanitizer=s,this._antIcons=l,this.defaultTheme="outline",this._svgDefinitions=new Map,this._svgRenderedDefinitions=new Map,this._inProgressFetches=new Map,this._assetsUrlRoot="",this._twoToneColorPalette={primaryColor:"#333333",secondaryColor:"#E6E6E6"},this._enableJsonpLoading=!1,this._jsonpIconLoad$=new dt.x,this._renderer=this._rendererFactory.createRenderer(null,null),this._handler&&(this._http=new Tg(this._handler)),this._antIcons&&this.addIcon(...this._antIcons)}set twoToneColor({primaryColor:t,secondaryColor:r}){this._twoToneColorPalette.primaryColor=t,this._twoToneColorPalette.secondaryColor=r||Rg(t)}get twoToneColor(){return{...this._twoToneColorPalette}}get _disableDynamicLoading(){return!1}useJsonpLoading(){this._enableJsonpLoading?Og("You are already using jsonp loading."):(this._enableJsonpLoading=!0,window.__ant_icon_load=t=>{this._jsonpIconLoad$.next(t)})}changeAssetsSource(t){this._assetsUrlRoot=t.endsWith("/")?t:t+"/"}addIcon(...t){t.forEach(r=>{this._svgDefinitions.set(G4(r.name,r.theme),r)})}addIconLiteral(t,r){const[i,s]=X3(t);if(!s)throw function L6(){return new Error(`${ja}Type should have a namespace. Try "namespace:${name}".`)}();this.addIcon({name:t,icon:r})}clear(){this._svgDefinitions.clear(),this._svgRenderedDefinitions.clear()}getRenderedContent(t,r){const i=J3(t)?t:this._svgDefinitions.get(t)||null;if(!i&&this._disableDynamicLoading)throw Ng(t);return(i?at(i):this._loadIconDynamically(t)).pipe((0,vt.U)(l=>{if(!l)throw Ng(t);return this._loadSVGFromCacheOrCreateNew(l,r)}))}getCachedIcons(){return this._svgDefinitions}_loadIconDynamically(t){if(!this._http&&!this._enableJsonpLoading)return at(function Lg(){return function zg(n){console.error(`${ja} ${n}.`)}('you need to import "HttpClientModule" to use dynamic importing.'),null}());let r=this._inProgressFetches.get(t);if(!r){const[i,s]=X3(t),l=s?{name:t,icon:""}:function F6(n){const e=n.split("-"),t=function My(n){return"o"===n?"outline":n}(e.splice(e.length-1,1)[0]);return{name:e.join("-"),theme:t,icon:""}}(i),v=(s?`${this._assetsUrlRoot}assets/${s}/${i}`:`${this._assetsUrlRoot}assets/${l.theme}/${l.name}`)+(this._enableJsonpLoading?".js":".svg"),w=this.sanitizer.sanitize(d.q3G.URL,v);if(!w)throw function Jd(n){return new Error(`${ja}The url "${n}" is unsafe.`)}(v);r=(this._enableJsonpLoading?this._loadIconDynamicallyWithJsonp(l,w):this._http.get(w,{responseType:"text"}).pipe((0,vt.U)(x=>({...l,icon:x})))).pipe((0,sr.b)(x=>this.addIcon(x)),za(()=>this._inProgressFetches.delete(t)),ps(()=>at(null)),(0,Pg.B)()),this._inProgressFetches.set(t,r)}return r}_loadIconDynamicallyWithJsonp(t,r){return new $n.y(i=>{const s=this._document.createElement("script"),l=setTimeout(()=>{h(),i.error(function Ay(){return new Error(`${ja}Importing timeout error.`)}())},6e3);function h(){s.parentNode.removeChild(s),clearTimeout(l)}s.src=r,this._document.body.appendChild(s),this._jsonpIconLoad$.pipe(Yn(v=>v.name===t.name&&v.theme===t.theme),ai(1)).subscribe(v=>{i.next(v),h()})})}_loadSVGFromCacheOrCreateNew(t,r){let i;const s=r||this._twoToneColorPalette.primaryColor,l=Rg(s)||this._twoToneColorPalette.secondaryColor,h="twotone"===t.theme?function Ty(n,e,t,r){return`${G4(n,e)}-${t}-${r}`}(t.name,t.theme,s,l):void 0===t.theme?t.name:G4(t.name,t.theme),v=this._svgRenderedDefinitions.get(h);return v?i=v.icon:(i=this._setSVGAttribute(this._colorizeSVGIcon(this._createSVGElementFromString(function Iy(n){return""!==X3(n)[1]}(t.name)?t.icon:function N6(n){return n.replace(/['"]#333['"]/g,'"primaryColor"').replace(/['"]#E6E6E6['"]/g,'"secondaryColor"').replace(/['"]#D9D9D9['"]/g,'"secondaryColor"').replace(/['"]#D8D8D8['"]/g,'"secondaryColor"')}(t.icon)),"twotone"===t.theme,s,l)),this._svgRenderedDefinitions.set(h,{...t,icon:i})),function Fg(n){return n.cloneNode(!0)}(i)}_createSVGElementFromString(t){const r=this._document.createElement("div");r.innerHTML=t;const i=r.querySelector("svg");if(!i)throw Vg;return i}_setSVGAttribute(t){return this._renderer.setAttribute(t,"width","1em"),this._renderer.setAttribute(t,"height","1em"),t}_colorizeSVGIcon(t,r,i,s){if(r){const l=t.childNodes,h=l.length;for(let v=0;v<h;v++){const w=l[v];"secondaryColor"===w.getAttribute("fill")?this._renderer.setAttribute(w,"fill",s):this._renderer.setAttribute(w,"fill",i)}}return this._renderer.setAttribute(t,"fill","currentColor"),t}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.FYo),d.LFG(qd,8),d.LFG(ee,8),d.LFG(Ia),d.LFG(Hg,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),V6=(()=>{class n{constructor(t,r,i){this._iconService=t,this._elementRef=r,this._renderer=i}ngOnChanges(t){(t.type||t.theme||t.twoToneColor)&&this._changeIcon()}_changeIcon(){return new Promise(t=>{if(!this.type)return this._clearSVGElement(),void t(null);const r=this._getSelfRenderMeta();this._iconService.getRenderedContent(this._parseIconType(this.type,this.theme),this.twoToneColor).subscribe(i=>{const s=this._getSelfRenderMeta();!function ky(n,e){return n.type===e.type&&n.theme===e.theme&&n.twoToneColor===e.twoToneColor}(r,s)?t(null):(this._setSVGElement(i),t(i))})})}_getSelfRenderMeta(){return{type:this.type,theme:this.theme,twoToneColor:this.twoToneColor}}_parseIconType(t,r){if(J3(t))return t;{const[i,s]=X3(t);return s?t:function xy(n){return n.endsWith("-fill")||n.endsWith("-o")||n.endsWith("-twotone")}(i)?(r&&Og(`'type' ${i} already gets a theme inside so 'theme' ${r} would be ignored`),i):G4(i,r||this._iconService.defaultTheme)}}_setSVGElement(t){this._clearSVGElement(),this._renderer.appendChild(this._elementRef.nativeElement,t)}_clearSVGElement(){const t=this._elementRef.nativeElement,r=t.childNodes;for(let s=r.length-1;s>=0;s--){const l=r[s];"svg"===l.tagName?.toLowerCase()&&this._renderer.removeChild(t,l)}}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(e0),d.Y36(d.SBq),d.Y36(d.Qsj))},n.\u0275dir=d.lG2({type:n,selectors:[["","antIcon",""]],inputs:{type:"type",theme:"theme",twoToneColor:"twoToneColor"},features:[d.TTD]}),n})();const H6={isTestMode:!1},B6={};const n0=(...n)=>function Y6(n,...e){(H6.isTestMode||(0,d.X6Q)()&&function Bg(...n){const e=n.reduce((t,r)=>t+r.toString(),"");return!B6[e]&&(B6[e]=!0,!0)}(...e))&&n(...e)}((...e)=>console.warn("[NG-ZORRO]:",...e),...n);function $a(n){return null!=n&&"false"!=`${n}`}function r0(n){return Array.isArray(n)?n:[n]}function Lr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Do(n){return n instanceof d.SBq?n.nativeElement:n}function Jc(n){return typeof n<"u"&&null!==n}function Oy(n){return $a(n)}function Ga(){return function y1(n,e){return function t(r,i,s){const l=`$$__zorroPropDecorator__${i}`;return Object.prototype.hasOwnProperty.call(r,l)&&n0(`The prop "${l}" is already exist, it will be overrided by ${n} decorator.`),Object.defineProperty(r,l,{configurable:!0,writable:!0}),{get(){return s&&s.get?s.get.bind(this)():this[l]},set(h){s&&s.set&&s.set.bind(this)(e(h)),this[l]=e(h)}}}}("InputBoolean",Oy)}function oa(n){return"number"==typeof n&&isFinite(n)}function jg(n,e){return Math.round(n*Math.pow(10,e))/Math.pow(10,e)}function K6(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}typeof window<"u"&&window;const Zg="rc-util-key";function Qg({mark:n}={}){return n?n.startsWith("data-")?n:`data-${n}`:Zg}function l0(n){return n.attachTo?n.attachTo:document.querySelector("head")||document.body}function Z6(n,e={}){if(!K6())return null;const t=document.createElement("style");e.csp?.nonce&&(t.nonce=e.csp?.nonce),t.innerHTML=n;const r=l0(e),{firstChild:i}=r;return e.prepend&&r.prepend?r.prepend(t):e.prepend&&i?r.insertBefore(t,i):r.appendChild(t),t}const Q6=new Map;const NT={name:"star",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z" /></svg>'},C5=2,LT=.16,XR=.05,eF=.05,tF=.15,VT=5,HT=4,nF=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function BT({r:n,g:e,b:t}){const r=C6(n,e,t);return{h:360*r.h,s:r.s,v:r.v}}function S5({r:n,g:e,b:t}){return`#${S6(n,e,t,!1)}`}function YT(n,e,t){let r;return r=Math.round(n.h)>=60&&Math.round(n.h)<=240?t?Math.round(n.h)-C5*e:Math.round(n.h)+C5*e:t?Math.round(n.h)+C5*e:Math.round(n.h)-C5*e,r<0?r+=360:r>=360&&(r-=360),r}function UT(n,e,t){if(0===n.h&&0===n.s)return n.s;let r;return r=t?n.s-LT*e:e===HT?n.s+LT:n.s+XR*e,r>1&&(r=1),t&&e===VT&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2))}function jT(n,e,t){let r;return r=t?n.v+eF*e:n.v-tF*e,r>1&&(r=1),Number(r.toFixed(2))}function $T(n,e={}){const t=[],r=Gd(n);for(let i=VT;i>0;i-=1){const s=BT(r),l=S5(Gd({h:YT(s,i,!0),s:UT(s,i,!0),v:jT(s,i,!0)}));t.push(l)}t.push(S5(r));for(let i=1;i<=HT;i+=1){const s=BT(r),l=S5(Gd({h:YT(s,i),s:UT(s,i),v:jT(s,i)}));t.push(l)}return"dark"===e.theme?nF.map(({index:i,opacity:s})=>S5(function rF(n,e,t){const r=t/100;return{r:(e.r-n.r)*r+n.r,g:(e.g-n.g)*r+n.g,b:(e.b-n.b)*r+n.b}}(Gd(e.backgroundColor||"#141414"),Gd(t[i]),100*s))):t}const iF=new d.OlP("nz-config"),oF=`-ant-${Date.now()}-${Math.random()}`;function GT(n,e){const t=function sF(n,e){const t={},r=(l,h)=>{let v=l.clone();return v=h?.(v)||v,v.toRgbString()},i=(l,h)=>{const v=new Kc(l),w=$T(v.toRgbString());t[`${h}-color`]=r(v),t[`${h}-color-disabled`]=w[1],t[`${h}-color-hover`]=w[4],t[`${h}-color-active`]=w[7],t[`${h}-color-outline`]=v.clone().setAlpha(.2).toRgbString(),t[`${h}-color-deprecated-bg`]=w[1],t[`${h}-color-deprecated-border`]=w[3]};if(e.primaryColor){i(e.primaryColor,"primary");const l=new Kc(e.primaryColor),h=$T(l.toRgbString());h.forEach((w,E)=>{t[`primary-${E+1}`]=w}),t["primary-color-deprecated-l-35"]=r(l,w=>w.lighten(35)),t["primary-color-deprecated-l-20"]=r(l,w=>w.lighten(20)),t["primary-color-deprecated-t-20"]=r(l,w=>w.tint(20)),t["primary-color-deprecated-t-50"]=r(l,w=>w.tint(50)),t["primary-color-deprecated-f-12"]=r(l,w=>w.setAlpha(.12*w.getAlpha()));const v=new Kc(h[0]);t["primary-color-active-deprecated-f-30"]=r(v,w=>w.setAlpha(.3*w.getAlpha())),t["primary-color-active-deprecated-d-02"]=r(v,w=>w.darken(2))}return e.successColor&&i(e.successColor,"success"),e.warningColor&&i(e.warningColor,"warning"),e.errorColor&&i(e.errorColor,"error"),e.infoColor&&i(e.infoColor,"info"),`\n  :root {\n    ${Object.keys(t).map(l=>`--${n}-${l}: ${t[l]};`).join("\n")}\n  }\n  `.trim()}(n,e);K6()?function ro(n,e,t={}){const r=l0(t);if(!Q6.has(r)){const l=Z6("",t),{parentNode:h}=l;Q6.set(r,h),h.removeChild(l)}const i=function J6(n,e={}){const t=l0(e);return Array.from(Q6.get(t)?.children||[]).find(r=>"STYLE"===r.tagName&&r.getAttribute(Qg(e))===n)}(e,t);if(i)return t.csp?.nonce&&i.nonce!==t.csp?.nonce&&(i.nonce=t.csp?.nonce),i.innerHTML!==n&&(i.innerHTML=n),i;const s=Z6(n,t);s?.setAttribute(Qg(t),e)}(t,`${oF}-dynamic-theme`):n0("NzConfigService: SSR do not support dynamic theme with css variables.")}const qT=function(n){return void 0!==n};let lf=(()=>{class n{constructor(t){this.configUpdated$=new dt.x,this.config=t||{},this.config.theme&&GT(this.getConfig().prefixCls?.prefixCls||"ant",this.config.theme)}getConfig(){return this.config}getConfigForComponent(t){return this.config[t]}getConfigChangeEventForComponent(t){return this.configUpdated$.pipe(Yn(r=>r===t),Ul(void 0))}set(t,r){this.config[t]={...this.config[t],...r},"theme"===t&&this.config.theme&&GT(this.getConfig().prefixCls?.prefixCls||"ant",this.config.theme),this.configUpdated$.next(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(iF,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function E5(){return function(e,t,r){const i=`$$__zorroConfigDecorator__${t}`;return Object.defineProperty(e,i,{configurable:!0,writable:!0,enumerable:!1}),{get(){const s=r?.get?r.get.bind(this)():this[i],l=(this.propertyAssignCounter?.[t]||0)>1,h=this.nzConfigService.getConfigForComponent(this._nzModuleName)?.[t];return l&&qT(s)?s:qT(h)?h:s},set(s){this.propertyAssignCounter=this.propertyAssignCounter||{},this.propertyAssignCounter[t]=(this.propertyAssignCounter[t]||0)+1,r?.set?r.set.bind(this)(s):this[i]=s},configurable:!0,enumerable:!0}}}const aF=[{name:"bars",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z" /></svg>'},{name:"calendar",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z" /></svg>'},{name:"caret-up",theme:"fill",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z" /></svg>'},{name:"caret-up",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z" /></svg>'},{name:"caret-down",theme:"fill",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z" /></svg>'},{name:"caret-down",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z" /></svg>'},{name:"check-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z" /></svg>'},{name:"check-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z" /><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /></svg>'},{name:"check",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z" /></svg>'},{name:"clock-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z" /></svg>'},{name:"close-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z" /><path d="M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /></svg>'},{name:"close-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z" /></svg>'},{name:"close",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z" /></svg>'},{name:"copy",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z" /></svg>'},{name:"delete",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z" /></svg>'},{name:"double-left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z" /></svg>'},{name:"double-right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z" /></svg>'},{name:"down",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z" /></svg>'},{name:"edit",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z" /></svg>'},{name:"ellipsis",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z" /></svg>'},{name:"exclamation-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z" /></svg>'},{name:"exclamation-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z" /></svg>'},{name:"eye",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z" /></svg>'},{name:"file",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M854.6 288.7c6 6 9.4 14.1 9.4 22.6V928c0 17.7-14.3 32-32 32H192c-17.7 0-32-14.3-32-32V96c0-17.7 14.3-32 32-32h424.7c8.5 0 16.7 3.4 22.7 9.4l215.2 215.3zM790.2 326L602 137.8V326h188.2z" /></svg>'},{name:"file",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z" /></svg>'},{name:"filter",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z" /></svg>'},{name:"info-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z" /></svg>'},{name:"info-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z" /></svg>'},{name:"left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z" /></svg>'},{name:"loading",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z" /></svg>'},{name:"paper-clip",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z" /></svg>'},{name:"question-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z" /></svg>'},{name:"right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z" /></svg>'},{name:"rotate-right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><defs><style /></defs><path d="M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z" /><path d="M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z" /></svg>'},{name:"rotate-left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><defs><style /></defs><path d="M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z" /><path d="M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z" /></svg>'},NT,{name:"search",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z" /></svg>'},NT,{name:"upload",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z" /></svg>'},{name:"vertical-align-top",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M859.9 168H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM518.3 355a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V848c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V509.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 355z" /></svg>'},{name:"up",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z" /></svg>'},{name:"swap-right",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M873.1 596.2l-164-208A32 32 0 00684 376h-64.8c-6.7 0-10.4 7.7-6.3 13l144.3 183H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h695.9c26.8 0 41.7-30.8 25.2-51.8z" /></svg>'},{name:"zoom-in",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z" /></svg>'},{name:"zoom-out",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z" /></svg>'}],KT=new d.OlP("nz_icons"),ZT=(new d.OlP("nz_icon_default_twotone_color"),"#1890ff");let QT=(()=>{class n extends e0{constructor(t,r,i,s,l,h,v){super(t,l,h,r,[...aF,...v||[]]),this.nzConfigService=i,this.platform=s,this.configUpdated$=new dt.x,this.iconfontCache=new Set,this.subscription=null,this.onConfigChange(),this.configDefaultTwotoneColor(),this.configDefaultTheme()}get _disableDynamicLoading(){return!this.platform.isBrowser}ngOnDestroy(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}normalizeSvgElement(t){t.getAttribute("viewBox")||this._renderer.setAttribute(t,"viewBox","0 0 1024 1024"),(!t.getAttribute("width")||!t.getAttribute("height"))&&(this._renderer.setAttribute(t,"width","1em"),this._renderer.setAttribute(t,"height","1em")),t.getAttribute("fill")||this._renderer.setAttribute(t,"fill","currentColor")}fetchFromIconfont(t){const{scriptUrl:r}=t;if(this._document&&!this.iconfontCache.has(r)){const i=this._renderer.createElement("script");this._renderer.setAttribute(i,"src",r),this._renderer.setAttribute(i,"data-namespace",r.replace(/^(https?|http):/g,"")),this._renderer.appendChild(this._document.body,i),this.iconfontCache.add(r)}}createIconfontIcon(t){return this._createSVGElementFromString(`<svg><use xlink:href="${t}"></svg>`)}onConfigChange(){this.subscription=this.nzConfigService.getConfigChangeEventForComponent("icon").subscribe(()=>{this.configDefaultTwotoneColor(),this.configDefaultTheme(),this.configUpdated$.next()})}configDefaultTheme(){const t=this.getConfig();this.defaultTheme=t.nzTheme||"outline"}configDefaultTwotoneColor(){const r=this.getConfig().nzTwotoneColor||ZT;let i=ZT;r&&(r.startsWith("#")?i=r:n0("Twotone color must be a hex color!")),this.twoToneColor={primaryColor:i}}getConfig(){return this.nzConfigService.getConfigForComponent("icon")||{}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.FYo),d.LFG(Ia),d.LFG(lf),d.LFG(Ya),d.LFG(qd,8),d.LFG(ee,8),d.LFG(KT,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const JT=new d.OlP("nz_icons_patch");let XT=(()=>{class n{constructor(t,r){this.extraIcons=t,this.rootIconService=r,this.patched=!1}doPatch(){this.patched||(this.extraIcons.forEach(t=>this.rootIconService.addIcon(t)),this.patched=!0)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(JT,2),d.LFG(QT))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),uf=(()=>{class n extends V6{constructor(t,r,i,s,l,h){super(s,i,l),this.ngZone=t,this.changeDetectorRef=r,this.iconService=s,this.renderer=l,this.cacheClassName=null,this.nzRotate=0,this.spin=!1,this.destroy$=new dt.x,h&&h.doPatch(),this.el=i.nativeElement}set nzSpin(t){this.spin=t}set nzType(t){this.type=t}set nzTheme(t){this.theme=t}set nzTwotoneColor(t){this.twoToneColor=t}set nzIconfont(t){this.iconfont=t}ngOnChanges(t){const{nzType:r,nzTwotoneColor:i,nzSpin:s,nzTheme:l,nzRotate:h}=t;r||i||s||l?this.changeIcon2():h?this.handleRotate(this.el.firstChild):this._setSVGElement(this.iconService.createIconfontIcon(`#${this.iconfont}`))}ngOnInit(){this.renderer.setAttribute(this.el,"class",`anticon ${this.el.className}`.trim())}ngAfterContentChecked(){if(!this.type){const t=this.el.children;let r=t.length;if(!this.type&&t.length)for(;r--;){const i=t[r];"svg"===i.tagName.toLowerCase()&&this.iconService.normalizeSvgElement(i)}}}ngOnDestroy(){this.destroy$.next()}changeIcon2(){this.setClassName(),this.ngZone.runOutsideAngular(()=>{(0,dn.D)(this._changeIcon()).pipe(Mn(this.destroy$)).subscribe({next:t=>{this.ngZone.run(()=>{this.changeDetectorRef.detectChanges(),t&&(this.setSVGData(t),this.handleSpin(t),this.handleRotate(t))})},error:n0})})}handleSpin(t){this.spin||"loading"===this.type?this.renderer.addClass(t,"anticon-spin"):this.renderer.removeClass(t,"anticon-spin")}handleRotate(t){this.nzRotate?this.renderer.setAttribute(t,"style",`transform: rotate(${this.nzRotate}deg)`):this.renderer.removeAttribute(t,"style")}setClassName(){this.cacheClassName&&this.renderer.removeClass(this.el,this.cacheClassName),this.cacheClassName=`anticon-${this.type}`,this.renderer.addClass(this.el,this.cacheClassName)}setSVGData(t){this.renderer.setAttribute(t,"data-icon",this.type),this.renderer.setAttribute(t,"aria-hidden","true")}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.R0b),d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(QT),d.Y36(d.Qsj),d.Y36(XT,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","nz-icon",""]],hostVars:2,hostBindings:function(t,r){2&t&&d.ekj("anticon",!0)},inputs:{nzSpin:"nzSpin",nzRotate:"nzRotate",nzType:"nzType",nzTheme:"nzTheme",nzTwotoneColor:"nzTwotoneColor",nzIconfont:"nzIconfont"},exportAs:["nzIcon"],features:[d.qOj,d.TTD]}),(0,bs.gn)([Ga()],n.prototype,"nzSpin",null),n})(),df=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:KT,useValue:t}]}}static forChild(t){return{ngModule:n,providers:[XT,{provide:JT,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[z4]}),n})();function cF(n,e){if(1&n&&d._UZ(0,"span",1),2&n){const t=d.oxw();d.Q6J("nzType",t.iconType)}}let lF=(()=>{class n{constructor(){this.formStatusChanges=new g6(1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),uF=(()=>{class n{constructor(){this.noFormStatus=new Rn(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const dF={error:"close-circle-fill",validating:"loading",success:"check-circle-fill",warning:"exclamation-circle-fill"};let hF=(()=>{class n{constructor(t){this.cdr=t,this.status="",this.iconType=null}ngOnChanges(t){this.updateIcon()}updateIcon(){this.iconType=this.status?dF[this.status]:null,this.cdr.markForCheck()}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.sBO))},n.\u0275cmp=d.Xpm({type:n,selectors:[["nz-form-item-feedback-icon"]],hostAttrs:[1,"ant-form-item-feedback-icon"],hostVars:8,hostBindings:function(t,r){2&t&&d.ekj("ant-form-item-feedback-icon-error","error"===r.status)("ant-form-item-feedback-icon-warning","warning"===r.status)("ant-form-item-feedback-icon-success","success"===r.status)("ant-form-item-feedback-icon-validating","validating"===r.status)},inputs:{status:"status"},exportAs:["nzFormFeedbackIcon"],features:[d.TTD],decls:1,vars:1,consts:[["nz-icon","",3,"nzType",4,"ngIf"],["nz-icon","",3,"nzType"]],template:function(t,r){1&t&&d.YNc(0,cF,1,1,"span",0),2&t&&d.Q6J("ngIf",r.iconType)},dependencies:[go,uf],encapsulation:2,changeDetection:0}),n})(),fF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[nr,df]}),n})();const pF=new d.OlP("cdk-dir-doc",{providedIn:"root",factory:function mF(){return(0,d.f3M)(ee)}}),gF=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Wa=(()=>{class n{constructor(t){this.value="ltr",this.change=new d.vpe,t&&(this.value=function vF(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?gF.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(pF,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Z4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})(),yF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[nr]}),n})(),eM=(()=>{class n{constructor(t,r,i,s,l,h,v){this.ngControl=t,this.renderer=r,this.elementRef=i,this.hostView=s,this.directionality=l,this.nzFormStatusService=h,this.nzFormNoStatusService=v,this.nzBorderless=!1,this.nzSize="default",this.nzStatus="",this._disabled=!1,this.disabled$=new dt.x,this.dir="ltr",this.prefixCls="ant-input",this.status="",this.statusCls={},this.hasFeedback=!1,this.feedbackRef=null,this.components=[],this.destroy$=new dt.x}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=null!=t&&"false"!=`${t}`}ngOnInit(){this.nzFormStatusService?.formStatusChanges.pipe(Jo((t,r)=>t.status===r.status&&t.hasFeedback===r.hasFeedback),Mn(this.destroy$)).subscribe(({status:t,hasFeedback:r})=>{this.setStatusStyles(t,r)}),this.ngControl&&this.ngControl.statusChanges?.pipe(Yn(()=>null!==this.ngControl.disabled),Mn(this.destroy$)).subscribe(()=>{this.disabled$.next(this.ngControl.disabled)}),this.dir=this.directionality.value,this.directionality.change?.pipe(Mn(this.destroy$)).subscribe(t=>{this.dir=t})}ngOnChanges(t){const{disabled:r,nzStatus:i}=t;r&&this.disabled$.next(this.disabled),i&&this.setStatusStyles(this.nzStatus,this.hasFeedback)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}setStatusStyles(t,r){this.status=t,this.hasFeedback=r,this.renderFeedbackIcon(),this.statusCls=function Xd(n,e,t){return{[`${n}-status-success`]:"success"===e,[`${n}-status-warning`]:"warning"===e,[`${n}-status-error`]:"error"===e,[`${n}-status-validating`]:"validating"===e,[`${n}-has-feedback`]:t}}(this.prefixCls,t,r),Object.keys(this.statusCls).forEach(i=>{this.statusCls[i]?this.renderer.addClass(this.elementRef.nativeElement,i):this.renderer.removeClass(this.elementRef.nativeElement,i)})}renderFeedbackIcon(){if(!this.status||!this.hasFeedback||this.nzFormNoStatusService)return this.hostView.clear(),void(this.feedbackRef=null);this.feedbackRef=this.feedbackRef||this.hostView.createComponent(hF),this.feedbackRef.location.nativeElement.classList.add("ant-input-suffix"),this.feedbackRef.instance.status=this.status,this.feedbackRef.instance.updateIcon()}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Gc,10),d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(d.s_b),d.Y36(Wa,8),d.Y36(lF,8),d.Y36(uF,8))},n.\u0275dir=d.lG2({type:n,selectors:[["input","nz-input",""],["textarea","nz-input",""]],hostAttrs:[1,"ant-input"],hostVars:11,hostBindings:function(t,r){2&t&&(d.uIk("disabled",r.disabled||null),d.ekj("ant-input-disabled",r.disabled)("ant-input-borderless",r.nzBorderless)("ant-input-lg","large"===r.nzSize)("ant-input-sm","small"===r.nzSize)("ant-input-rtl","rtl"===r.dir))},inputs:{nzBorderless:"nzBorderless",nzSize:"nzSize",nzStatus:"nzStatus",disabled:"disabled"},exportAs:["nzInput"],features:[d.TTD]}),(0,bs.gn)([Ga()],n.prototype,"nzBorderless",void 0),n})(),AF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Z4,nr,df,z4,yF,fF]}),n})();var kF=F(1144);const PF=["addListener","removeListener"],zF=["addEventListener","removeEventListener"],OF=["on","off"];function w1(n,e,t,r){if((0,Oi.m)(t)&&(r=t,t=void 0),r)return w1(n,e,t).pipe(Go(r));const[i,s]=function NF(n){return(0,Oi.m)(n.addEventListener)&&(0,Oi.m)(n.removeEventListener)}(n)?zF.map(l=>h=>n[l](e,h,t)):function RF(n){return(0,Oi.m)(n.addListener)&&(0,Oi.m)(n.removeListener)}(n)?PF.map(tM(n,e)):function FF(n){return(0,Oi.m)(n.on)&&(0,Oi.m)(n.off)}(n)?OF.map(tM(n,e)):[];if(!i&&(0,kF.z)(n))return(0,Gn.z)(l=>w1(l,e,t))((0,qo.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new $n.y(l=>{const h=(...v)=>l.next(1<v.length?v:v[0]);return i(h),()=>s(h)})}function tM(n,e){return t=>r=>n[t](e,r)}let U_=(()=>{class n{constructor(t,r){this.elementRef=t,this.renderer=r,this.hidden=null,this.renderer.setAttribute(this.elementRef.nativeElement,"hidden","")}setHiddenAttribute(){this.hidden?this.renderer.setAttribute(this.elementRef.nativeElement,"hidden","string"==typeof this.hidden?this.hidden:""):this.renderer.removeAttribute(this.elementRef.nativeElement,"hidden")}ngOnChanges(){this.setHiddenAttribute()}ngAfterViewInit(){this.setHiddenAttribute()}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.Qsj))},n.\u0275dir=d.lG2({type:n,selectors:[["","nz-button",""],["nz-button-group"],["","nz-icon",""],["","nz-menu-item",""],["","nz-submenu",""],["nz-select-top-control"],["nz-select-placeholder"],["nz-input-group"]],inputs:{hidden:"hidden"},features:[d.TTD]}),n})(),nM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[z4]}),n})();class LF{constructor(e,t,r,i){this.triggerElement=e,this.ngZone=t,this.insertExtraNode=r,this.platformId=i,this.waveTransitionDuration=400,this.styleForPseudo=null,this.extraNode=null,this.lastTime=0,this.onClick=s=>{!this.triggerElement||!this.triggerElement.getAttribute||this.triggerElement.getAttribute("disabled")||"INPUT"===s.target.tagName||this.triggerElement.className.indexOf("disabled")>=0||this.fadeOutWave()},this.platform=new Ya(this.platformId),this.clickHandler=this.onClick.bind(this),this.bindTriggerEvent()}get waveAttributeName(){return this.insertExtraNode?"ant-click-animating":"ant-click-animating-without-extra-node"}bindTriggerEvent(){this.platform.isBrowser&&this.ngZone.runOutsideAngular(()=>{this.removeTriggerEvent(),this.triggerElement&&this.triggerElement.addEventListener("click",this.clickHandler,!0)})}removeTriggerEvent(){this.triggerElement&&this.triggerElement.removeEventListener("click",this.clickHandler,!0)}removeStyleAndExtraNode(){this.styleForPseudo&&document.body.contains(this.styleForPseudo)&&(document.body.removeChild(this.styleForPseudo),this.styleForPseudo=null),this.insertExtraNode&&this.triggerElement.contains(this.extraNode)&&this.triggerElement.removeChild(this.extraNode)}destroy(){this.removeTriggerEvent(),this.removeStyleAndExtraNode()}fadeOutWave(){const e=this.triggerElement,t=this.getWaveColor(e);e.setAttribute(this.waveAttributeName,"true"),!(Date.now()<this.lastTime+this.waveTransitionDuration)&&(this.isValidColor(t)&&(this.styleForPseudo||(this.styleForPseudo=document.createElement("style")),this.styleForPseudo.innerHTML=`\n      [ant-click-animating-without-extra-node='true']::after, .ant-click-animating-node {\n        --antd-wave-shadow-color: ${t};\n      }`,document.body.appendChild(this.styleForPseudo)),this.insertExtraNode&&(this.extraNode||(this.extraNode=document.createElement("div")),this.extraNode.className="ant-click-animating-node",e.appendChild(this.extraNode)),this.lastTime=Date.now(),this.runTimeoutOutsideZone(()=>{e.removeAttribute(this.waveAttributeName),this.removeStyleAndExtraNode()},this.waveTransitionDuration))}isValidColor(e){return!!e&&"#ffffff"!==e&&"rgb(255, 255, 255)"!==e&&this.isNotGrey(e)&&!/rgba\(\d*, \d*, \d*, 0\)/.test(e)&&"transparent"!==e}isNotGrey(e){const t=e.match(/rgba?\((\d*), (\d*), (\d*)(, [\.\d]*)?\)/);return!(t&&t[1]&&t[2]&&t[3]&&t[1]===t[2]&&t[2]===t[3])}getWaveColor(e){const t=getComputedStyle(e);return t.getPropertyValue("border-top-color")||t.getPropertyValue("border-color")||t.getPropertyValue("background-color")}runTimeoutOutsideZone(e,t){this.ngZone.runOutsideAngular(()=>setTimeout(e,t))}}const VF={disabled:!1},HF=new d.OlP("nz-wave-global-options",{providedIn:"root",factory:function BF(){return VF}});let rM=(()=>{class n{constructor(t,r,i,s,l){this.ngZone=t,this.elementRef=r,this.config=i,this.animationType=s,this.platformId=l,this.nzWaveExtraNode=!1,this.waveDisabled=!1,this.waveDisabled=this.isConfigDisabled()}get disabled(){return this.waveDisabled}get rendererRef(){return this.waveRenderer}isConfigDisabled(){let t=!1;return this.config&&"boolean"==typeof this.config.disabled&&(t=this.config.disabled),"NoopAnimations"===this.animationType&&(t=!0),t}ngOnDestroy(){this.waveRenderer&&this.waveRenderer.destroy()}ngOnInit(){this.renderWaveIfEnabled()}renderWaveIfEnabled(){!this.waveDisabled&&this.elementRef.nativeElement&&(this.waveRenderer=new LF(this.elementRef.nativeElement,this.ngZone,this.nzWaveExtraNode,this.platformId))}disable(){this.waveDisabled=!0,this.waveRenderer&&(this.waveRenderer.removeTriggerEvent(),this.waveRenderer.removeStyleAndExtraNode())}enable(){this.waveDisabled=this.isConfigDisabled()||!1,this.waveRenderer&&this.waveRenderer.bindTriggerEvent()}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.R0b),d.Y36(d.SBq),d.Y36(HF,8),d.Y36(d.QbO,8),d.Y36(d.Lbi))},n.\u0275dir=d.lG2({type:n,selectors:[["","nz-wave",""],["button","nz-button","",3,"nzType","link",3,"nzType","text"]],inputs:{nzWaveExtraNode:"nzWaveExtraNode"},exportAs:["nzWave"]}),n})(),iM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[z4]}),n})();const YF=["nz-button",""];function UF(n,e){1&n&&d._UZ(0,"span",1)}const jF=["*"];let sM=(()=>{class n{constructor(t,r,i,s,l,h){this.ngZone=t,this.elementRef=r,this.cdr=i,this.renderer=s,this.nzConfigService=l,this.directionality=h,this._nzModuleName="button",this.nzBlock=!1,this.nzGhost=!1,this.nzSearch=!1,this.nzLoading=!1,this.nzDanger=!1,this.disabled=!1,this.tabIndex=null,this.nzType=null,this.nzShape=null,this.nzSize="default",this.dir="ltr",this.destroy$=new dt.x,this.loading$=new dt.x,this.nzConfigService.getConfigChangeEventForComponent("button").pipe(Mn(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}insertSpan(t,r){t.forEach(i=>{if("#text"===i.nodeName){const s=r.createElement("span"),l=r.parentNode(i);r.insertBefore(l,s,i),r.appendChild(s,i)}})}assertIconOnly(t,r){const i=Array.from(t.childNodes),s=i.filter(w=>{const E=Array.from(w.childNodes||[]);return"SPAN"===w.nodeName&&E.length>0&&E.every(x=>"svg"===x.nodeName)}).length,l=i.every(w=>"#text"!==w.nodeName);i.filter(w=>{const E=Array.from(w.childNodes||[]);return!("SPAN"===w.nodeName&&E.length>0&&E.every(x=>"svg"===x.nodeName))}).every(w=>"SPAN"!==w.nodeName)&&l&&s>=1&&r.addClass(t,"ant-btn-icon-only")}ngOnInit(){this.directionality.change?.pipe(Mn(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value,this.ngZone.runOutsideAngular(()=>{w1(this.elementRef.nativeElement,"click",{capture:!0}).pipe(Mn(this.destroy$)).subscribe(t=>{(this.disabled&&"A"===t.target?.tagName||this.nzLoading)&&(t.preventDefault(),t.stopImmediatePropagation())})})}ngOnChanges(t){const{nzLoading:r}=t;r&&this.loading$.next(this.nzLoading)}ngAfterViewInit(){this.assertIconOnly(this.elementRef.nativeElement,this.renderer),this.insertSpan(this.elementRef.nativeElement.childNodes,this.renderer)}ngAfterContentInit(){this.loading$.pipe(ci(this.nzLoading),Yn(()=>!!this.nzIconDirectiveElement),Mn(this.destroy$)).subscribe(t=>{const r=this.nzIconDirectiveElement.nativeElement;t?this.renderer.setStyle(r,"display","none"):this.renderer.removeStyle(r,"display")})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.R0b),d.Y36(d.SBq),d.Y36(d.sBO),d.Y36(d.Qsj),d.Y36(lf),d.Y36(Wa,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["button","nz-button",""],["a","nz-button",""]],contentQueries:function(t,r,i){if(1&t&&d.Suo(i,uf,5,d.SBq),2&t){let s;d.iGM(s=d.CRH())&&(r.nzIconDirectiveElement=s.first)}},hostAttrs:[1,"ant-btn"],hostVars:30,hostBindings:function(t,r){2&t&&(d.uIk("tabindex",r.disabled?-1:null===r.tabIndex?null:r.tabIndex)("disabled",r.disabled||null),d.ekj("ant-btn-primary","primary"===r.nzType)("ant-btn-dashed","dashed"===r.nzType)("ant-btn-link","link"===r.nzType)("ant-btn-text","text"===r.nzType)("ant-btn-circle","circle"===r.nzShape)("ant-btn-round","round"===r.nzShape)("ant-btn-lg","large"===r.nzSize)("ant-btn-sm","small"===r.nzSize)("ant-btn-dangerous",r.nzDanger)("ant-btn-loading",r.nzLoading)("ant-btn-background-ghost",r.nzGhost)("ant-btn-block",r.nzBlock)("ant-input-search-button",r.nzSearch)("ant-btn-rtl","rtl"===r.dir))},inputs:{nzBlock:"nzBlock",nzGhost:"nzGhost",nzSearch:"nzSearch",nzLoading:"nzLoading",nzDanger:"nzDanger",disabled:"disabled",tabIndex:"tabIndex",nzType:"nzType",nzShape:"nzShape",nzSize:"nzSize"},exportAs:["nzButton"],features:[d.TTD],attrs:YF,ngContentSelectors:jF,decls:2,vars:1,consts:[["nz-icon","","nzType","loading",4,"ngIf"],["nz-icon","","nzType","loading"]],template:function(t,r){1&t&&(d.F$t(),d.YNc(0,UF,1,0,"span",0),d.Hsn(1)),2&t&&d.Q6J("ngIf",r.nzLoading)},dependencies:[go,uf,U_],encapsulation:2,changeDetection:0}),(0,bs.gn)([Ga()],n.prototype,"nzBlock",void 0),(0,bs.gn)([Ga()],n.prototype,"nzGhost",void 0),(0,bs.gn)([Ga()],n.prototype,"nzSearch",void 0),(0,bs.gn)([Ga()],n.prototype,"nzLoading",void 0),(0,bs.gn)([Ga()],n.prototype,"nzDanger",void 0),(0,bs.gn)([Ga()],n.prototype,"disabled",void 0),(0,bs.gn)([E5()],n.prototype,"nzSize",void 0),n})(),$F=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Z4,nr,iM,df,nM,nM,iM]}),n})();var aM=F(4408);const hf={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=hf;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(s=>{t=void 0,n(s)});return new si.w0(()=>t?.(i))},requestAnimationFrame(...n){const{delegate:e}=hf;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=hf;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var cM=F(7565);const lM=new class qF extends cM.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class GF extends aM.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=hf.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(hf.cancelAnimationFrame(t),e._scheduled=void 0)}});let j_,WF=1;const D5={};function uM(n){return n in D5&&(delete D5[n],!0)}const KF={setImmediate(n){const e=WF++;return D5[e]=!0,j_||(j_=Promise.resolve()),j_.then(()=>uM(e)&&n()),e},clearImmediate(n){uM(n)}},{setImmediate:ZF,clearImmediate:QF}=KF,T5={setImmediate(...n){const{delegate:e}=T5;return(e?.setImmediate||ZF)(...n)},clearImmediate(n){const{delegate:e}=T5;return(e?.clearImmediate||QF)(n)},delegate:void 0},eN=new class XF extends cM.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class JF extends aM.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=T5.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(T5.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});var M5=F(4986),nN=F(3532);function dM(n=0,e,t=M5.P){let r=-1;return null!=e&&((0,nN.K)(e)?t=e:r=e),new $n.y(i=>{let s=function rN(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let l=0;return t.schedule(function(){i.closed||(i.next(l++),0<=r?this.schedule(void 0,r):i.complete())},s)})}function x5(n,e=M5.z){return function tN(n){return(0,Tr.e)((e,t)=>{let r=!1,i=null,s=null,l=!1;const h=()=>{if(s?.unsubscribe(),s=null,r){r=!1;const w=i;i=null,t.next(w)}l&&t.complete()},v=()=>{s=null,l&&t.complete()};e.subscribe((0,or.x)(t,w=>{r=!0,i=w,s||(0,qo.Xf)(n(w)).subscribe(s=(0,or.x)(t,h,v))},()=>{l=!0,(!r||!s||s.closed)&&t.complete()}))})}(()=>dM(n,e))}const iN=["contentWrapper"],oN=["*"],sN=new d.OlP("VIRTUAL_SCROLL_STRATEGY");let ff=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new dt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new $n.y(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(x5(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):at()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(Yn(s=>!s||i.indexOf(s)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,s)=>{this._scrollableContainsElement(s,t)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=Do(r),s=t.getElementRef().nativeElement;do{if(i==s)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>w1(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.R0b),d.LFG(Ya),d.LFG(ee,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hM=(()=>{class n{constructor(t,r,i,s){this.elementRef=t,this.scrollDispatcher=r,this.ngZone=i,this.dir=s,this._destroyed=new dt.x,this._elementScrolled=new $n.y(l=>this.ngZone.runOutsideAngular(()=>w1(this.elementRef.nativeElement,"scroll").pipe(Mn(this._destroyed)).subscribe(l)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const r=this.elementRef.nativeElement,i=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=i?t.end:t.start),null==t.right&&(t.right=i?t.start:t.end),null!=t.bottom&&(t.top=r.scrollHeight-r.clientHeight-t.bottom),i&&0!=N4()?(null!=t.left&&(t.right=r.scrollWidth-r.clientWidth-t.left),2==N4()?t.left=t.right:1==N4()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=r.scrollWidth-r.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const r=this.elementRef.nativeElement;F4()?r.scrollTo(t):(null!=t.top&&(r.scrollTop=t.top),null!=t.left&&(r.scrollLeft=t.left))}measureScrollOffset(t){const r="left",i="right",s=this.elementRef.nativeElement;if("top"==t)return s.scrollTop;if("bottom"==t)return s.scrollHeight-s.clientHeight-s.scrollTop;const l=this.dir&&"rtl"==this.dir.value;return"start"==t?t=l?i:r:"end"==t&&(t=l?r:i),l&&2==N4()?t==r?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:l&&1==N4()?t==r?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:t==r?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(ff),d.Y36(d.R0b),d.Y36(Wa,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),I5=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new dt.x,this._changeListener=s=>{this._change.next(s)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,s=i.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-s.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(x5(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ya),d.LFG(d.R0b),d.LFG(ee,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const fM=new d.OlP("VIRTUAL_SCROLLABLE");let lN=(()=>{class n extends hM{constructor(t,r,i,s){super(t,r,i,s)}measureViewportSize(t){const r=this.elementRef.nativeElement;return"horizontal"===t?r.clientWidth:r.clientHeight}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(ff),d.Y36(d.R0b),d.Y36(Wa,8))},n.\u0275dir=d.lG2({type:n,features:[d.qOj]}),n})();const dN=typeof requestAnimationFrame<"u"?lM:eN;let hN=(()=>{class n extends lN{get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(t){this._appendOnly=$a(t)}constructor(t,r,i,s,l,h,v,w){super(t,h,i,l),this.elementRef=t,this._changeDetectorRef=r,this._scrollStrategy=s,this.scrollable=w,this._platform=(0,d.f3M)(Ya),this._detachedSubject=new dt.x,this._renderedRangeSubject=new dt.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new $n.y(E=>this._scrollStrategy.scrolledIndexChange.subscribe(x=>Promise.resolve().then(()=>this.ngZone.run(()=>E.next(x))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=si.w0.EMPTY,this._viewportChanges=v.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(ci(null),x5(0,dN)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(t){this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe(Mn(this._detachedSubject)).subscribe(r=>{const i=r.length;i!==this._dataLength&&(this._dataLength=i,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(t){return this.getElementRef().nativeElement.getBoundingClientRect()[t]}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){(function uN(n,e){return n.start==e.start&&n.end==e.end})(this._renderedRange,t)||(this.appendOnly&&(t={start:0,end:Math.max(this._renderedRange.end,t.end)}),this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,r="to-start"){t=this.appendOnly&&"to-start"===r?0:t;const s="horizontal"==this.orientation,l=s?"X":"Y";let v=`translate${l}(${Number((s&&this.dir&&"rtl"==this.dir.value?-1:1)*t)}px)`;this._renderedContentOffset=t,"to-end"===r&&(v+=` translate${l}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=v&&(this._renderedContentTransform=v,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,r="auto"){const i={behavior:r};"horizontal"===this.orientation?i.start=t:i.top=t,this.scrollable.scrollTo(i)}scrollToIndex(t,r="auto"){this._scrollStrategy.scrollToIndex(t,r)}measureScrollOffset(t){let r;return r=this.scrollable==this?i=>super.measureScrollOffset(i):i=>this.scrollable.measureScrollOffset(i),Math.max(0,r(t??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(t){let r;const i="left",s="right",l="rtl"==this.dir?.value;r="start"==t?l?s:i:"end"==t?l?i:s:t||("horizontal"===this.orientation?"left":"top");const h=this.scrollable.measureBoundingClientRectWithScrollOffset(r);return this.elementRef.nativeElement.getBoundingClientRect()[r]-h}measureRenderedContentSize(){const t=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const r of t)r()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.sBO),d.Y36(d.R0b),d.Y36(sN,8),d.Y36(Wa,8),d.Y36(ff),d.Y36(I5),d.Y36(fM,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(t,r){if(1&t&&d.Gf(iN,7),2&t){let i;d.iGM(i=d.CRH())&&(r._contentWrapper=i.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(t,r){2&t&&d.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===r.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==r.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[d._Bn([{provide:hM,useFactory:(e,t)=>e||t,deps:[[new d.FiY,new d.tBr(fM)],n]}]),d.qOj,d.jDz],ngContentSelectors:oN,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(t,r){1&t&&(d.F$t(),d.TgZ(0,"div",0,1),d.Hsn(2),d.qZA(),d._UZ(3,"div",2)),2&t&&(d.xp6(3),d.Udp("width",r._totalContentWidth)("height",r._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),$_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})(),pM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Z4,$_,hN,Z4,$_]}),n})();class G_{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class mM extends G_{constructor(e,t,r,i,s){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=s}}class fN extends G_{constructor(e,t,r,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class pN extends G_{constructor(e){super(),this.element=e instanceof d.SBq?e.nativeElement:e}}class mN{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof mM?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof fN?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof pN?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class gN extends mN{constructor(e,t,r,i,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=l=>{const h=l.element,v=this._document.createComment("dom-portal");h.parentNode.insertBefore(v,h),this.outletElement.appendChild(h),this._attachedPortal=l,super.setDisposeFn(()=>{v.parentNode&&v.parentNode.replaceChild(h,v)})},this._document=s}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||d.zs3.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let gM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();var pf=F(6451);const vM=F4();class vN{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Lr(-this._previousScrollPosition.left),e.style.top=Lr(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,s=r.scrollBehavior||"",l=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),vM&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),vM&&(r.scrollBehavior=s,i.scrollBehavior=l)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class yN{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(Yn(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class yM{enable(){}disable(){}attach(){}}function q_(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function _M(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class _N{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();q_(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let wN=(()=>{class n{constructor(t,r,i,s){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new yM,this.close=l=>new yN(this._scrollDispatcher,this._ngZone,this._viewportRuler,l),this.block=()=>new vN(this._viewportRuler,this._document),this.reposition=l=>new _N(this._scrollDispatcher,this._viewportRuler,this._ngZone,l),this._document=s}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ff),d.LFG(I5),d.LFG(d.R0b),d.LFG(ee))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class wM{constructor(e){if(this.scrollStrategy=new yM,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class bN{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let bM=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ee))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),CN=(()=>{class n extends bM{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=i=>{const s=this._attachedOverlays;for(let l=s.length-1;l>-1;l--)if(s[l]._keydownEvents.observers.length>0){const h=s[l]._keydownEvents;this._ngZone?this._ngZone.run(()=>h.next(i)):h.next(i);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ee),d.LFG(d.R0b,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),SN=(()=>{class n extends bM{constructor(t,r,i){super(t),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=f1(s)},this._clickListener=s=>{const l=f1(s),h="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:l;this._pointerDownEventTarget=null;const v=this._attachedOverlays.slice();for(let w=v.length-1;w>-1;w--){const E=v[w];if(E._outsidePointerEvents.observers.length<1||!E.hasAttached())continue;if(E.overlayElement.contains(l)||E.overlayElement.contains(h))break;const x=E._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>x.next(s)):x.next(s)}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ee),d.LFG(Ya),d.LFG(d.R0b,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),CM=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||_6()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<i.length;s++)i[s].remove()}const r=this._document.createElement("div");r.classList.add(t),_6()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ee),d.LFG(Ya))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class W_{constructor(e,t,r,i,s,l,h,v,w,E=!1){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=s,this._keyboardDispatcher=l,this._document=h,this._location=v,this._outsideClickDispatcher=w,this._animationsDisabled=E,this._backdropElement=null,this._backdropClick=new dt.x,this._attachments=new dt.x,this._detachments=new dt.x,this._locationChanges=si.w0.EMPTY,this._backdropClickHandler=x=>this._backdropClick.next(x),this._backdropTransitionendHandler=x=>{this._disposeBackdrop(x.target)},this._keydownEvents=new dt.x,this._outsidePointerEvents=new dt.x,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(ai(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Lr(this._config.width),e.height=Lr(this._config.height),e.minWidth=Lr(this._config.minWidth),e.minHeight=Lr(this._config.minHeight),e.maxWidth=Lr(this._config.maxWidth),e.maxHeight=Lr(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,r){const i=r0(t||[]).filter(s=>!!s);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Mn((0,pf.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const SM="cdk-overlay-connected-position-bounding-box",EN=/([A-Za-z%]+)$/;class DN{get positions(){return this._preferredPositions}constructor(e,t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new dt.x,this._resizeSubscription=si.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(SM),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,s=[];let l;for(let h of this._preferredPositions){let v=this._getOriginPoint(e,i,h),w=this._getOverlayPoint(v,t,h),E=this._getOverlayFit(w,t,r,h);if(E.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,v);this._canFitWithFlexibleDimensions(E,w,r)?s.push({position:h,origin:v,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(v,h)}):(!l||l.overlayFit.visibleArea<E.visibleArea)&&(l={overlayFit:E,overlayPoint:w,originPoint:v,position:h,overlayRect:t})}if(s.length){let h=null,v=-1;for(const w of s){const E=w.boundingBoxRect.width*w.boundingBoxRect.height*(w.position.weight||1);E>v&&(v=E,h=w)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(l.position,l.originPoint);this._applyPosition(l.position,l.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Q4(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(SM),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i,s;if("center"==r.originX)i=e.left+e.width/2;else{const l=this._isRtl()?e.right:e.left,h=this._isRtl()?e.left:e.right;i="start"==r.originX?l:h}return t.left<0&&(i-=t.left),s="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(s-=t.top),{x:i,y:s}}_getOverlayPoint(e,t,r){let i,s;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+s}}_getOverlayFit(e,t,r,i){const s=DM(t);let{x:l,y:h}=e,v=this._getOffset(i,"x"),w=this._getOffset(i,"y");v&&(l+=v),w&&(h+=w);let N=0-h,V=h+s.height-r.height,U=this._subtractOverflows(s.width,0-l,l+s.width-r.width),X=this._subtractOverflows(s.height,N,V),he=U*X;return{visibleArea:he,isCompletelyWithinViewport:s.width*s.height===he,fitsInViewportVertically:X===s.height,fitsInViewportHorizontally:U==s.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,s=r.right-t.x,l=EM(this._overlayRef.getConfig().minHeight),h=EM(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=l&&l<=i)&&(e.fitsInViewportHorizontally||null!=h&&h<=s)}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=DM(t),s=this._viewportRect,l=Math.max(e.x+i.width-s.width,0),h=Math.max(e.y+i.height-s.height,0),v=Math.max(s.top-r.top-e.y,0),w=Math.max(s.left-r.left-e.x,0);let E=0,x=0;return E=i.width<=s.width?w||-l:e.x<this._viewportMargin?s.left-r.left-e.x:0,x=i.height<=s.height?v||-h:e.y<this._viewportMargin?s.top-r.top-e.y:0,this._previousPushAmount={x:E,y:x},{x:e.x+E,y:e.y+x}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new bN(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let s,l,h,E,x,N;if("top"===t.overlayY)l=e.y,s=r.height-l+this._viewportMargin;else if("bottom"===t.overlayY)h=r.height-e.y+2*this._viewportMargin,s=r.height-h+this._viewportMargin;else{const V=Math.min(r.bottom-e.y+r.top,e.y),U=this._lastBoundingBoxSize.height;s=2*V,l=e.y-V,s>U&&!this._isInitialRender&&!this._growAfterOpen&&(l=e.y-U/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)N=r.width-e.x+this._viewportMargin,E=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)x=e.x,E=r.right-e.x;else{const V=Math.min(r.right-e.x+r.left,e.x),U=this._lastBoundingBoxSize.width;E=2*V,x=e.x-V,E>U&&!this._isInitialRender&&!this._growAfterOpen&&(x=e.x-U/2)}return{top:l,left:x,bottom:h,right:N,width:E,height:s}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,l=this._overlayRef.getConfig().maxWidth;i.height=Lr(r.height),i.top=Lr(r.top),i.bottom=Lr(r.bottom),i.width=Lr(r.width),i.left=Lr(r.left),i.right=Lr(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(i.maxHeight=Lr(s)),l&&(i.maxWidth=Lr(l))}this._lastBoundingBoxSize=r,Q4(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Q4(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Q4(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),s=this._hasFlexibleDimensions,l=this._overlayRef.getConfig();if(i){const E=this._viewportRuler.getViewportScrollPosition();Q4(r,this._getExactOverlayY(t,e,E)),Q4(r,this._getExactOverlayX(t,e,E))}else r.position="static";let h="",v=this._getOffset(t,"x"),w=this._getOffset(t,"y");v&&(h+=`translateX(${v}px) `),w&&(h+=`translateY(${w}px)`),r.transform=h.trim(),l.maxHeight&&(i?r.maxHeight=Lr(l.maxHeight):s&&(r.maxHeight="")),l.maxWidth&&(i?r.maxWidth=Lr(l.maxWidth):s&&(r.maxWidth="")),Q4(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":i.top=Lr(s.y),i}_getExactOverlayX(e,t,r){let l,i={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),l=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===l?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=Lr(s.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:_M(e,r),isOriginOutsideView:q_(e,r),isOverlayClipped:_M(t,r),isOverlayOutsideView:q_(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&r0(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof d.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function Q4(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function EM(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(EN);return t&&"px"!==t?null:parseFloat(e)}return n||null}function DM(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const TM="cdk-global-overlay-wrapper";class TN{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(TM),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:s,maxWidth:l,maxHeight:h}=r,v=!("100%"!==i&&"100vw"!==i||l&&"100%"!==l&&"100vw"!==l),w=!("100%"!==s&&"100vh"!==s||h&&"100%"!==h&&"100vh"!==h),E=this._xPosition,x=this._xOffset,N="rtl"===this._overlayRef.getConfig().direction;let V="",U="",X="";v?X="flex-start":"center"===E?(X="center",N?U=x:V=x):N?"left"===E||"end"===E?(X="flex-end",V=x):("right"===E||"start"===E)&&(X="flex-start",U=x):"left"===E||"start"===E?(X="flex-start",V=x):("right"===E||"end"===E)&&(X="flex-end",U=x),e.position=this._cssPosition,e.marginLeft=v?"0":V,e.marginTop=w?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=v?"0":U,t.justifyContent=X,t.alignItems=w?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(TM),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let MN=(()=>{class n{constructor(t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s}global(){return new TN}flexibleConnectedTo(t){return new DN(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(I5),d.LFG(ee),d.LFG(Ya),d.LFG(CM))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xN=0,K_=(()=>{class n{constructor(t,r,i,s,l,h,v,w,E,x,N,V){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=s,this._keyboardDispatcher=l,this._injector=h,this._ngZone=v,this._document=w,this._directionality=E,this._location=x,this._outsideClickDispatcher=N,this._animationsModuleType=V}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),s=this._createPortalOutlet(i),l=new wM(t);return l.direction=l.direction||this._directionality.value,new W_(s,r,i,l,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+xN++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(d.z2F)),new gN(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(wN),d.LFG(CM),d.LFG(d._Vd),d.LFG(MN),d.LFG(CN),d.LFG(d.zs3),d.LFG(d.R0b),d.LFG(ee),d.LFG(Wa),d.LFG(Ye),d.LFG(SN),d.LFG(d.QbO,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const kN={provide:new d.OlP("cdk-connected-overlay-scroll-strategy"),deps:[K_],useFactory:function AN(n){return()=>n.scrollStrategies.reposition()}};let PN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[K_,kN],imports:[Z4,gM,pM,pM]}),n})();class AM{}class VN{}const b1="*";function Xc(n,e){return{type:7,name:n,definitions:e,options:{}}}function ar(n,e=null){return{type:4,styles:e,timings:n}}function kM(n,e=null){return{type:2,steps:n,options:e}}function Zt(n){return{type:6,styles:n,offset:null}}function Ka(n,e,t){return{type:0,name:n,styles:e,options:t}}function yr(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function PM(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function zM(n,e){return{type:12,timings:n,animation:e}}function OM(n){Promise.resolve().then(n)}class mf{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){OM(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class RM{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?OM(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++t==s&&this._onFinish()}),l.onDestroy(()=>{++r==s&&this._onDestroy()}),l.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((l,h)=>Math.max(l,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const Z_="!";let aa=(()=>{class n{}return n.SLOW="0.3s",n.BASE="0.2s",n.FAST="0.1s",n})(),To=(()=>{class n{}return n.EASE_BASE_OUT="cubic-bezier(0.7, 0.3, 0.1, 1)",n.EASE_BASE_IN="cubic-bezier(0.9, 0, 0.3, 0.7)",n.EASE_OUT="cubic-bezier(0.215, 0.61, 0.355, 1)",n.EASE_IN="cubic-bezier(0.55, 0.055, 0.675, 0.19)",n.EASE_IN_OUT="cubic-bezier(0.645, 0.045, 0.355, 1)",n.EASE_OUT_BACK="cubic-bezier(0.12, 0.4, 0.29, 1.46)",n.EASE_IN_BACK="cubic-bezier(0.71, -0.46, 0.88, 0.6)",n.EASE_IN_OUT_BACK="cubic-bezier(0.71, -0.46, 0.29, 1.46)",n.EASE_OUT_CIRC="cubic-bezier(0.08, 0.82, 0.17, 1)",n.EASE_IN_CIRC="cubic-bezier(0.6, 0.04, 0.98, 0.34)",n.EASE_IN_OUT_CIRC="cubic-bezier(0.78, 0.14, 0.15, 0.86)",n.EASE_OUT_QUINT="cubic-bezier(0.23, 1, 0.32, 1)",n.EASE_IN_QUINT="cubic-bezier(0.755, 0.05, 0.855, 0.06)",n.EASE_IN_OUT_QUINT="cubic-bezier(0.86, 0, 0.07, 1)",n})();Xc("collapseMotion",[Ka("expanded",Zt({height:"*"})),Ka("collapsed",Zt({height:0,overflow:"hidden"})),Ka("hidden",Zt({height:0,overflow:"hidden",borderTopWidth:"0"})),yr("expanded => collapsed",ar(`150ms ${To.EASE_IN_OUT}`)),yr("expanded => hidden",ar(`150ms ${To.EASE_IN_OUT}`)),yr("collapsed => expanded",ar(`150ms ${To.EASE_IN_OUT}`)),yr("hidden => expanded",ar(`150ms ${To.EASE_IN_OUT}`))]),Xc("treeCollapseMotion",[yr("* => *",[PM("nz-tree-node:leave,nz-tree-builtin-node:leave",[Zt({overflow:"hidden"}),zM(0,[ar(`150ms ${To.EASE_IN_OUT}`,Zt({height:0,opacity:0,"padding-bottom":0}))])],{optional:!0}),PM("nz-tree-node:enter,nz-tree-builtin-node:enter",[Zt({overflow:"hidden",height:0,opacity:0,"padding-bottom":0}),zM(0,[ar(`150ms ${To.EASE_IN_OUT}`,Zt({overflow:"hidden",height:"*",opacity:"*","padding-bottom":"*"}))])],{optional:!0})])]);const HN=Xc("fadeMotion",[yr(":enter",[Zt({opacity:0}),ar(`${aa.BASE}`,Zt({opacity:1}))]),yr(":leave",[Zt({opacity:1}),ar(`${aa.BASE}`,Zt({opacity:0}))])]),BN=(Xc("helpMotion",[yr(":enter",[Zt({opacity:0,transform:"translateY(-5px)"}),ar(`${aa.SLOW} ${To.EASE_IN_OUT}`,Zt({opacity:1,transform:"translateY(0)"}))]),yr(":leave",[Zt({opacity:1,transform:"translateY(0)"}),ar(`${aa.SLOW} ${To.EASE_IN_OUT}`,Zt({opacity:0,transform:"translateY(-5px)"}))])]),Xc("moveUpMotion",[yr("* => enter",[Zt({transformOrigin:"0 0",transform:"translateY(-100%)",opacity:0}),ar(`${aa.BASE}`,Zt({transformOrigin:"0 0",transform:"translateY(0%)",opacity:1}))]),yr("* => leave",[Zt({transformOrigin:"0 0",transform:"translateY(0%)",opacity:1}),ar(`${aa.BASE}`,Zt({transformOrigin:"0 0",transform:"translateY(-100%)",opacity:0}))])]),Xc("notificationMotion",[Ka("enterRight",Zt({opacity:1,transform:"translateX(0)"})),yr("* => enterRight",[Zt({opacity:0,transform:"translateX(5%)"}),ar("100ms linear")]),Ka("enterLeft",Zt({opacity:1,transform:"translateX(0)"})),yr("* => enterLeft",[Zt({opacity:0,transform:"translateX(-5%)"}),ar("100ms linear")]),Ka("enterTop",Zt({opacity:1,transform:"translateY(0)"})),yr("* => enterTop",[Zt({opacity:0,transform:"translateY(-5%)"}),ar("100ms linear")]),Ka("enterBottom",Zt({opacity:1,transform:"translateY(0)"})),yr("* => enterBottom",[Zt({opacity:0,transform:"translateY(5%)"}),ar("100ms linear")]),Ka("leave",Zt({opacity:0,transform:"scaleY(0.8)",transformOrigin:"0% 0%"})),yr("* => leave",[Zt({opacity:1,transform:"scaleY(1)",transformOrigin:"0% 0%"}),ar("100ms linear")])]),`${aa.BASE} ${To.EASE_OUT_QUINT}`),YN=`${aa.BASE} ${To.EASE_IN_QUINT}`;Xc("slideMotion",[Ka("void",Zt({opacity:0,transform:"scaleY(0.8)"})),Ka("enter",Zt({opacity:1,transform:"scaleY(1)"})),yr("void => *",[ar(BN)]),yr("* => void",[ar(YN)])]),Xc("slideAlertMotion",[yr(":leave",[Zt({opacity:1,transform:"scaleY(1)",transformOrigin:"0% 0%"}),ar(`${aa.SLOW} ${To.EASE_IN_OUT_CIRC}`,Zt({opacity:0,transform:"scaleY(0)",transformOrigin:"0% 0%"}))])]),Xc("zoomBigMotion",[yr("void => active",[Zt({opacity:0,transform:"scale(0.8)"}),ar(`${aa.BASE} ${To.EASE_OUT_CIRC}`,Zt({opacity:1,transform:"scale(1)"}))]),yr("active => void",[Zt({opacity:1,transform:"scale(1)"}),ar(`${aa.BASE} ${To.EASE_IN_OUT_CIRC}`,Zt({opacity:0,transform:"scale(0.8)"}))])]),Xc("zoomBadgeMotion",[yr(":enter",[Zt({opacity:0,transform:"scale(0) translate(50%, -50%)"}),ar(`${aa.SLOW} ${To.EASE_OUT_BACK}`,Zt({opacity:1,transform:"scale(1) translate(50%, -50%)"}))]),yr(":leave",[Zt({opacity:1,transform:"scale(1) translate(50%, -50%)"}),ar(`${aa.SLOW} ${To.EASE_IN_BACK}`,Zt({opacity:0,transform:"scale(0) translate(50%, -50%)"}))])]),Xc("thumbMotion",[Ka("from",Zt({transform:"translateX({{ transform }}px)",width:"{{ width }}px"}),{params:{transform:0,width:0}}),Ka("to",Zt({transform:"translateX({{ transform }}px)",width:"{{ width }}px"}),{params:{transform:100,width:0}}),yr("from => to",ar(`300ms ${To.EASE_IN_OUT}`))]);let UN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const FM=new Set;let d0,NM=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):$N}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function jN(n){if(!FM.has(n))try{d0||(d0=document.createElement("style"),d0.setAttribute("type","text/css"),document.head.appendChild(d0)),d0.sheet&&(d0.sheet.insertRule(`@media ${n} {body{ }}`,0),FM.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ya))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function $N(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}const Q_=()=>{};let GN=(()=>{class n{constructor(t,r){this.ngZone=t,this.rendererFactory2=r,this.resizeSource$=new dt.x,this.listeners=0,this.disposeHandle=Q_,this.handler=()=>{this.ngZone.run(()=>{this.resizeSource$.next()})},this.renderer=this.rendererFactory2.createRenderer(null,null)}ngOnDestroy(){this.handler=Q_}subscribe(){return this.registerListener(),this.resizeSource$.pipe(x5(16),za(()=>this.unregisterListener()))}unsubscribe(){this.unregisterListener()}registerListener(){0===this.listeners&&this.ngZone.runOutsideAngular(()=>{this.disposeHandle=this.renderer.listen("window","resize",this.handler)}),this.listeners+=1}unregisterListener(){this.listeners-=1,0===this.listeners&&(this.disposeHandle(),this.disposeHandle=Q_)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.R0b),d.LFG(d.FYo))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var A5=(()=>{return(n=A5||(A5={})).xxl="xxl",n.xl="xl",n.lg="lg",n.md="md",n.sm="sm",n.xs="xs",A5;var n})();const k5={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"};let qN=(()=>{class n{constructor(t,r){this.resizeService=t,this.mediaMatcher=r,this.destroy$=new dt.x,this.resizeService.subscribe().pipe(Mn(this.destroy$)).subscribe(()=>{})}ngOnDestroy(){this.destroy$.next()}subscribe(t,r){if(r){const i=()=>this.matchMedia(t,!0);return this.resizeService.subscribe().pipe((0,vt.U)(i),ci(i()),Jo((s,l)=>s[0]===l[0]),(0,vt.U)(s=>s[1]))}{const i=()=>this.matchMedia(t);return this.resizeService.subscribe().pipe((0,vt.U)(i),ci(i()),Jo())}}matchMedia(t,r){let i=A5.md;const s={};return Object.keys(t).map(l=>{const h=l,v=this.mediaMatcher.matchMedia(k5[h]).matches;s[l]=v,v&&(i=h)}),r?[i,s]:i}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(GN),d.LFG(NM))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),LM=(()=>{class n extends dt.x{ngOnDestroy(){this.next(),this.complete()}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function J_(n,e,t){for(let r in e)if(e.hasOwnProperty(r)){const i=e[r];i?n.setProperty(r,i,t?.has(r)?"important":""):n.removeProperty(r)}return n}function h0(n,e){const t=e?"":"none";J_(n.style,{"touch-action":e?"":"none","-webkit-user-drag":e?"":"none","-webkit-tap-highlight-color":e?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function YM(n,e,t){J_(n.style,{position:e?"":"fixed",top:e?"":"0",opacity:e?"":"0",left:e?"":"-999em"},t)}function P5(n,e){return e&&"none"!=e?n+" "+e:n}function UM(n){const e=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*e}function X_(n,e){return n.getPropertyValue(e).split(",").map(r=>r.trim())}function ew(n){const e=n.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height,x:e.x,y:e.y}}function tw(n,e,t){const{top:r,bottom:i,left:s,right:l}=n;return t>=r&&t<=i&&e>=s&&e<=l}function gf(n,e,t){n.top+=e,n.bottom=n.top+n.height,n.left+=t,n.right=n.left+n.width}function jM(n,e,t,r){const{top:i,right:s,bottom:l,left:h,width:v,height:w}=n,E=v*e,x=w*e;return r>i-x&&r<l+x&&t>h-E&&t<s+E}class $M{constructor(e){this._document=e,this.positions=new Map}clear(){this.positions.clear()}cache(e){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),e.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:ew(t)})})}handleScroll(e){const t=f1(e),r=this.positions.get(t);if(!r)return null;const i=r.scrollPosition;let s,l;if(t===this._document){const w=this.getViewportScrollPosition();s=w.top,l=w.left}else s=t.scrollTop,l=t.scrollLeft;const h=i.top-s,v=i.left-l;return this.positions.forEach((w,E)=>{w.clientRect&&t!==E&&t.contains(E)&&gf(w.clientRect,h,v)}),i.top=s,i.left=l,{top:h,left:v}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function GM(n){const e=n.cloneNode(!0),t=e.querySelectorAll("[id]"),r=n.nodeName.toLowerCase();e.removeAttribute("id");for(let i=0;i<t.length;i++)t[i].removeAttribute("id");return"canvas"===r?KM(n,e):("input"===r||"select"===r||"textarea"===r)&&WM(n,e),qM("canvas",n,e,KM),qM("input, textarea, select",n,e,WM),e}function qM(n,e,t,r){const i=e.querySelectorAll(n);if(i.length){const s=t.querySelectorAll(n);for(let l=0;l<i.length;l++)r(i[l],s[l])}}let sL=0;function WM(n,e){"file"!==e.type&&(e.value=n.value),"radio"===e.type&&e.name&&(e.name=`mat-clone-${e.name}-${sL++}`)}function KM(n,e){const t=e.getContext("2d");if(t)try{t.drawImage(n,0,0)}catch{}}const ZM=O4({passive:!0}),z5=O4({passive:!1}),nw=new Set(["position"]);class cL{get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(e){const t=$a(e);t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(r=>h0(r,t)))}constructor(e,t,r,i,s,l){this._config=t,this._document=r,this._ngZone=i,this._viewportRuler=s,this._dragDropRegistry=l,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new dt.x,this._pointerMoveSubscription=si.w0.EMPTY,this._pointerUpSubscription=si.w0.EMPTY,this._scrollSubscription=si.w0.EMPTY,this._resizeSubscription=si.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new dt.x,this.started=new dt.x,this.released=new dt.x,this.ended=new dt.x,this.entered=new dt.x,this.exited=new dt.x,this.dropped=new dt.x,this.moved=this._moveEvents,this._pointerDown=h=>{if(this.beforeStarted.next(),this._handles.length){const v=this._getTargetHandle(h);v&&!this._disabledHandles.has(v)&&!this.disabled&&this._initializeDragSequence(v,h)}else this.disabled||this._initializeDragSequence(this._rootElement,h)},this._pointerMove=h=>{const v=this._getPointerPositionOnPage(h);if(!this._hasStartedDragging){if(Math.abs(v.x-this._pickupPositionOnPage.x)+Math.abs(v.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const V=Date.now()>=this._dragStartTime+this._getDragStartDelay(h),U=this._dropContainer;if(!V)return void this._endDragSequence(h);(!U||!U.isDragging()&&!U.isReceiving())&&(h.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(h)))}return}h.preventDefault();const w=this._getConstrainedPointerPosition(v);if(this._hasMoved=!0,this._lastKnownPointerPosition=v,this._updatePointerDirectionDelta(w),this._dropContainer)this._updateActiveDropContainer(w,v);else{const E=this.constrainPosition?this._initialClientRect:this._pickupPositionOnPage,x=this._activeTransform;x.x=w.x-E.x+this._passiveTransform.x,x.y=w.y-E.y+this._passiveTransform.y,this._applyRootElementTransform(x.x,x.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:w,event:h,distance:this._getDragDistance(w),delta:this._pointerDirectionDelta})})},this._pointerUp=h=>{this._endDragSequence(h)},this._nativeDragStart=h=>{if(this._handles.length){const v=this._getTargetHandle(h);v&&!this._disabledHandles.has(v)&&!this.disabled&&h.preventDefault()}else this.disabled||h.preventDefault()},this.withRootElement(e).withParent(t.parentDragRef||null),this._parentPositions=new $M(r),l.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(e){this._handles=e.map(r=>Do(r)),this._handles.forEach(r=>h0(r,this.disabled)),this._toggleNativeDragInteractions();const t=new Set;return this._disabledHandles.forEach(r=>{this._handles.indexOf(r)>-1&&t.add(r)}),this._disabledHandles=t,this}withPreviewTemplate(e){return this._previewTemplate=e,this}withPlaceholderTemplate(e){return this._placeholderTemplate=e,this}withRootElement(e){const t=Do(e);return t!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{t.addEventListener("mousedown",this._pointerDown,z5),t.addEventListener("touchstart",this._pointerDown,ZM),t.addEventListener("dragstart",this._nativeDragStart,z5)}),this._initialTransform=void 0,this._rootElement=t),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(e){return this._boundaryElement=e?Do(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(e){return this._parentDragRef=e,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(e){!this._disabledHandles.has(e)&&this._handles.indexOf(e)>-1&&(this._disabledHandles.add(e),h0(e,!0))}enableHandle(e){this._disabledHandles.has(e)&&(this._disabledHandles.delete(e),h0(e,this.disabled))}withDirection(e){return this._direction=e,this}_withDropContainer(e){this._dropContainer=e}getFreeDragPosition(){const e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}setFreeDragPosition(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}withPreviewContainer(e){return this._previewContainer=e,this}_sortFromLastPointerPosition(){const e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(e){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:e}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(e),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const t=this._getPointerPositionOnPage(e);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t,event:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(e){vf(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const t=this._dropContainer;if(t){const r=this._rootElement,i=r.parentNode,s=this._placeholder=this._createPlaceholderElement(),l=this._anchor=this._anchor||this._document.createComment(""),h=this._getShadowRoot();i.insertBefore(l,r),this._initialTransform=r.style.transform||"",this._preview=this._createPreviewElement(),YM(r,!1,nw),this._document.body.appendChild(i.replaceChild(s,r)),this._getPreviewInsertionPoint(i,h).appendChild(this._preview),this.started.next({source:this,event:e}),t.start(),this._initialContainer=t,this._initialIndex=t.getItemIndex(this)}else this.started.next({source:this,event:e}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(t?t.getScrollableParents():[])}_initializeDragSequence(e,t){this._parentDragRef&&t.stopPropagation();const r=this.isDragging(),i=vf(t),s=!i&&0!==t.button,l=this._rootElement,h=f1(t),v=!i&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),w=i?function nL(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}(t):function tL(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}(t);if(h&&h.draggable&&"mousedown"===t.type&&t.preventDefault(),r||s||v||w)return;if(this._handles.length){const N=l.style;this._rootElementTapHighlight=N.webkitTapHighlightColor||"",N.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(N=>this._updateOnScroll(N)),this._boundaryElement&&(this._boundaryRect=ew(this._boundaryElement));const E=this._previewTemplate;this._pickupPositionInElement=E&&E.template&&!E.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,e,t);const x=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:x.x,y:x.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(e){YM(this._rootElement,!0,nw),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const t=this._dropContainer,r=t.getItemIndex(this),i=this._getPointerPositionOnPage(e),s=this._getDragDistance(i),l=t._isOverContainer(i.x,i.y);this.ended.next({source:this,distance:s,dropPoint:i,event:e}),this.dropped.next({item:this,currentIndex:r,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:l,distance:s,dropPoint:i,event:e}),t.drop(this,r,this._initialIndex,this._initialContainer,l,s,i,e),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:e,y:t},{x:r,y:i}){let s=this._initialContainer._getSiblingContainerFromPosition(this,e,t);!s&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(e,t)&&(s=this._initialContainer),s&&s!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=s,this._dropContainer.enter(this,e,t,s===this._initialContainer&&s.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:s,currentIndex:s.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(r,i),this._dropContainer._sortItem(this,e,t,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(e,t):this._applyPreviewTransform(e-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_createPreviewElement(){const e=this._previewTemplate,t=this.previewClass,r=e?e.template:null;let i;if(r&&e){const s=e.matchSize?this._initialClientRect:null,l=e.viewContainer.createEmbeddedView(r,e.context);l.detectChanges(),i=JM(l,this._document),this._previewRef=l,e.matchSize?XM(i,s):i.style.transform=O5(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else i=GM(this._rootElement),XM(i,this._initialClientRect),this._initialTransform&&(i.style.transform=this._initialTransform);return J_(i.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},nw),h0(i,!1),i.classList.add("cdk-drag-preview"),i.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(s=>i.classList.add(s)):i.classList.add(t)),i}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const e=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(e.left,e.top);const t=function oL(n){const e=getComputedStyle(n),t=X_(e,"transition-property"),r=t.find(h=>"transform"===h||"all"===h);if(!r)return 0;const i=t.indexOf(r),s=X_(e,"transition-duration"),l=X_(e,"transition-delay");return UM(s[i])+UM(l[i])}(this._preview);return 0===t?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(r=>{const i=l=>{(!l||f1(l)===this._preview&&"transform"===l.propertyName)&&(this._preview?.removeEventListener("transitionend",i),r(),clearTimeout(s))},s=setTimeout(i,1.5*t);this._preview.addEventListener("transitionend",i)}))}_createPlaceholderElement(){const e=this._placeholderTemplate,t=e?e.template:null;let r;return t?(this._placeholderRef=e.viewContainer.createEmbeddedView(t,e.context),this._placeholderRef.detectChanges(),r=JM(this._placeholderRef,this._document)):r=GM(this._rootElement),r.style.pointerEvents="none",r.classList.add("cdk-drag-placeholder"),r}_getPointerPositionInElement(e,t,r){const i=t===this._rootElement?null:t,s=i?i.getBoundingClientRect():e,l=vf(r)?r.targetTouches[0]:r,h=this._getViewportScrollPosition();return{x:s.left-e.left+(l.pageX-s.left-h.left),y:s.top-e.top+(l.pageY-s.top-h.top)}}_getPointerPositionOnPage(e){const t=this._getViewportScrollPosition(),r=vf(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,i=r.pageX-t.left,s=r.pageY-t.top;if(this._ownerSVGElement){const l=this._ownerSVGElement.getScreenCTM();if(l){const h=this._ownerSVGElement.createSVGPoint();return h.x=i,h.y=s,h.matrixTransform(l.inverse())}}return{x:i,y:s}}_getConstrainedPointerPosition(e){const t=this._dropContainer?this._dropContainer.lockAxis:null;let{x:r,y:i}=this.constrainPosition?this.constrainPosition(e,this,this._initialClientRect,this._pickupPositionInElement):e;if("x"===this.lockAxis||"x"===t?i=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===t)&&(r=this._pickupPositionOnPage.x),this._boundaryRect){const{x:s,y:l}=this._pickupPositionInElement,h=this._boundaryRect,{width:v,height:w}=this._getPreviewRect(),E=h.top+l,x=h.bottom-(w-l);r=QM(r,h.left+s,h.right-(v-s)),i=QM(i,E,x)}return{x:r,y:i}}_updatePointerDirectionDelta(e){const{x:t,y:r}=e,i=this._pointerDirectionDelta,s=this._pointerPositionAtLastDirectionChange,l=Math.abs(t-s.x),h=Math.abs(r-s.y);return l>this._config.pointerDirectionChangeThreshold&&(i.x=t>s.x?1:-1,s.x=t),h>this._config.pointerDirectionChangeThreshold&&(i.y=r>s.y?1:-1,s.y=r),i}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,h0(this._rootElement,e))}_removeRootElementListeners(e){e.removeEventListener("mousedown",this._pointerDown,z5),e.removeEventListener("touchstart",this._pointerDown,ZM),e.removeEventListener("dragstart",this._nativeDragStart,z5)}_applyRootElementTransform(e,t){const r=O5(e,t),i=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=i.transform&&"none"!=i.transform?i.transform:""),i.transform=P5(r,this._initialTransform)}_applyPreviewTransform(e,t){const r=this._previewTemplate?.template?void 0:this._initialTransform,i=O5(e,t);this._preview.style.transform=P5(i,r)}_getDragDistance(e){const t=this._pickupPositionOnPage;return t?{x:e.x-t.x,y:e.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:e,y:t}=this._passiveTransform;if(0===e&&0===t||this.isDragging()||!this._boundaryElement)return;const r=this._rootElement.getBoundingClientRect(),i=this._boundaryElement.getBoundingClientRect();if(0===i.width&&0===i.height||0===r.width&&0===r.height)return;const s=i.left-r.left,l=r.right-i.right,h=i.top-r.top,v=r.bottom-i.bottom;i.width>r.width?(s>0&&(e+=s),l>0&&(e-=l)):e=0,i.height>r.height?(h>0&&(t+=h),v>0&&(t-=v)):t=0,(e!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:e})}_getDragStartDelay(e){const t=this.dragStartDelay;return"number"==typeof t?t:vf(e)?t.touch:t?t.mouse:0}_updateOnScroll(e){const t=this._parentPositions.handleScroll(e);if(t){const r=f1(e);this._boundaryRect&&r!==this._boundaryElement&&r.contains(this._boundaryElement)&&gf(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=y6(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(e,t){const r=this._previewContainer||"global";if("parent"===r)return e;if("global"===r){const i=this._document;return t||i.fullscreenElement||i.webkitFullscreenElement||i.mozFullScreenElement||i.msFullscreenElement||i.body}return Do(r)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect),this._previewRect}_getTargetHandle(e){return this._handles.find(t=>e.target&&(e.target===t||t.contains(e.target)))}}function O5(n,e){return`translate3d(${Math.round(n)}px, ${Math.round(e)}px, 0)`}function QM(n,e,t){return Math.max(e,Math.min(t,n))}function vf(n){return"t"===n.type[0]}function JM(n,e){const t=n.rootNodes;if(1===t.length&&t[0].nodeType===e.ELEMENT_NODE)return t[0];const r=e.createElement("div");return t.forEach(i=>r.appendChild(i)),r}function XM(n,e){n.style.width=`${e.width}px`,n.style.height=`${e.height}px`,n.style.transform=O5(e.left,e.top)}function yf(n,e){return Math.max(0,Math.min(e,n))}class uL{constructor(e,t){this._element=e,this._dragDropRegistry=t,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(e){this.withItems(e)}sort(e,t,r,i){const s=this._itemPositions,l=this._getItemIndexFromPointerPosition(e,t,r,i);if(-1===l&&s.length>0)return null;const h="horizontal"===this.orientation,v=s.findIndex(he=>he.drag===e),w=s[l],x=w.clientRect,N=v>l?1:-1,V=this._getItemOffsetPx(s[v].clientRect,x,N),U=this._getSiblingOffsetPx(v,s,N),X=s.slice();return function lL(n,e,t){const r=yf(e,n.length-1),i=yf(t,n.length-1);if(r===i)return;const s=n[r],l=i<r?-1:1;for(let h=r;h!==i;h+=l)n[h]=n[h+l];n[i]=s}(s,v,l),s.forEach((he,Ve)=>{if(X[Ve]===he)return;const Ke=he.drag===e,Je=Ke?V:U,ot=Ke?e.getPlaceholderElement():he.drag.getRootElement();he.offset+=Je,h?(ot.style.transform=P5(`translate3d(${Math.round(he.offset)}px, 0, 0)`,he.initialTransform),gf(he.clientRect,0,Je)):(ot.style.transform=P5(`translate3d(0, ${Math.round(he.offset)}px, 0)`,he.initialTransform),gf(he.clientRect,Je,0))}),this._previousSwap.overlaps=tw(x,t,r),this._previousSwap.drag=w.drag,this._previousSwap.delta=h?i.x:i.y,{previousIndex:v,currentIndex:l}}enter(e,t,r,i){const s=null==i||i<0?this._getItemIndexFromPointerPosition(e,t,r):i,l=this._activeDraggables,h=l.indexOf(e),v=e.getPlaceholderElement();let w=l[s];if(w===e&&(w=l[s+1]),!w&&(null==s||-1===s||s<l.length-1)&&this._shouldEnterAsFirstChild(t,r)&&(w=l[0]),h>-1&&l.splice(h,1),w&&!this._dragDropRegistry.isDragging(w)){const E=w.getRootElement();E.parentElement.insertBefore(v,E),l.splice(s,0,e)}else Do(this._element).appendChild(v),l.push(e);v.style.transform="",this._cacheItemPositions()}withItems(e){this._activeDraggables=e.slice(),this._cacheItemPositions()}withSortPredicate(e){this._sortPredicate=e}reset(){this._activeDraggables.forEach(e=>{const t=e.getRootElement();if(t){const r=this._itemPositions.find(i=>i.drag===e)?.initialTransform;t.style.transform=r||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(e){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(r=>r.drag===e)}updateOnScroll(e,t){this._itemPositions.forEach(({clientRect:r})=>{gf(r,e,t)}),this._itemPositions.forEach(({drag:r})=>{this._dragDropRegistry.isDragging(r)&&r._sortFromLastPointerPosition()})}_cacheItemPositions(){const e="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(t=>{const r=t.getVisibleElement();return{drag:t,offset:0,initialTransform:r.style.transform||"",clientRect:ew(r)}}).sort((t,r)=>e?t.clientRect.left-r.clientRect.left:t.clientRect.top-r.clientRect.top)}_getItemOffsetPx(e,t,r){const i="horizontal"===this.orientation;let s=i?t.left-e.left:t.top-e.top;return-1===r&&(s+=i?t.width-e.width:t.height-e.height),s}_getSiblingOffsetPx(e,t,r){const i="horizontal"===this.orientation,s=t[e].clientRect,l=t[e+-1*r];let h=s[i?"width":"height"]*r;if(l){const v=i?"left":"top",w=i?"right":"bottom";-1===r?h-=l.clientRect[v]-s[w]:h+=s[v]-l.clientRect[w]}return h}_shouldEnterAsFirstChild(e,t){if(!this._activeDraggables.length)return!1;const r=this._itemPositions,i="horizontal"===this.orientation;if(r[0].drag!==this._activeDraggables[0]){const l=r[r.length-1].clientRect;return i?e>=l.right:t>=l.bottom}{const l=r[0].clientRect;return i?e<=l.left:t<=l.top}}_getItemIndexFromPointerPosition(e,t,r,i){const s="horizontal"===this.orientation,l=this._itemPositions.findIndex(({drag:h,clientRect:v})=>h!==e&&((!i||h!==this._previousSwap.drag||!this._previousSwap.overlaps||(s?i.x:i.y)!==this._previousSwap.delta)&&(s?t>=Math.floor(v.left)&&t<Math.floor(v.right):r>=Math.floor(v.top)&&r<Math.floor(v.bottom))));return-1!==l&&this._sortPredicate(l,e)?l:-1}}const tx=.05;class dL{constructor(e,t,r,i,s){this._dragDropRegistry=t,this._ngZone=i,this._viewportRuler=s,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new dt.x,this.entered=new dt.x,this.exited=new dt.x,this.dropped=new dt.x,this.sorted=new dt.x,this.receivingStarted=new dt.x,this.receivingStopped=new dt.x,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=si.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new dt.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function iL(n=0,e=M5.z){return n<0&&(n=0),dM(n,n,e)}(0,lM).pipe(Mn(this._stopScrollTimers)).subscribe(()=>{const l=this._scrollNode,h=this.autoScrollStep;1===this._verticalScrollDirection?l.scrollBy(0,-h):2===this._verticalScrollDirection&&l.scrollBy(0,h),1===this._horizontalScrollDirection?l.scrollBy(-h,0):2===this._horizontalScrollDirection&&l.scrollBy(h,0)})},this.element=Do(e),this._document=r,this.withScrollableParents([this.element]),t.registerDropContainer(this),this._parentPositions=new $M(r),this._sortStrategy=new uL(this.element,t),this._sortStrategy.withSortPredicate((l,h)=>this.sortPredicate(l,h,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(e,t,r,i){this._draggingStarted(),null==i&&this.sortingDisabled&&(i=this._draggables.indexOf(e)),this._sortStrategy.enter(e,t,r,i),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}exit(e){this._reset(),this.exited.next({item:e,container:this})}drop(e,t,r,i,s,l,h,v={}){this._reset(),this.dropped.next({item:e,currentIndex:t,previousIndex:r,container:this,previousContainer:i,isPointerOverContainer:s,distance:l,dropPoint:h,event:v})}withItems(e){const t=this._draggables;return this._draggables=e,e.forEach(r=>r._withDropContainer(this)),this.isDragging()&&(t.filter(i=>i.isDragging()).every(i=>-1===e.indexOf(i))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(e){return this._sortStrategy.direction=e,this}connectedTo(e){return this._siblings=e.slice(),this}withOrientation(e){return this._sortStrategy.orientation=e,this}withScrollableParents(e){const t=Do(this.element);return this._scrollableElements=-1===e.indexOf(t)?[t,...e]:e.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(e){return this._isDragging?this._sortStrategy.getItemIndex(e):this._draggables.indexOf(e)}isReceiving(){return this._activeSiblings.size>0}_sortItem(e,t,r,i){if(this.sortingDisabled||!this._clientRect||!jM(this._clientRect,.05,t,r))return;const s=this._sortStrategy.sort(e,t,r,i);s&&this.sorted.next({previousIndex:s.previousIndex,currentIndex:s.currentIndex,container:this,item:e})}_startScrollingIfNecessary(e,t){if(this.autoScrollDisabled)return;let r,i=0,s=0;if(this._parentPositions.positions.forEach((l,h)=>{h===this._document||!l.clientRect||r||jM(l.clientRect,.05,e,t)&&([i,s]=function hL(n,e,t,r){const i=nx(e,r),s=rx(e,t);let l=0,h=0;if(i){const v=n.scrollTop;1===i?v>0&&(l=1):n.scrollHeight-v>n.clientHeight&&(l=2)}if(s){const v=n.scrollLeft;1===s?v>0&&(h=1):n.scrollWidth-v>n.clientWidth&&(h=2)}return[l,h]}(h,l.clientRect,e,t),(i||s)&&(r=h))}),!i&&!s){const{width:l,height:h}=this._viewportRuler.getViewportSize(),v={width:l,height:h,top:0,right:l,bottom:h,left:0};i=nx(v,t),s=rx(v,e),r=window}r&&(i!==this._verticalScrollDirection||s!==this._horizontalScrollDirection||r!==this._scrollNode)&&(this._verticalScrollDirection=i,this._horizontalScrollDirection=s,this._scrollNode=r,(i||s)&&r?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const e=Do(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const e=Do(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(e).clientRect}_reset(){this._isDragging=!1;const e=Do(this.element).style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(t=>t._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(e,t){return null!=this._clientRect&&tw(this._clientRect,e,t)}_getSiblingContainerFromPosition(e,t,r){return this._siblings.find(i=>i._canReceive(e,t,r))}_canReceive(e,t,r){if(!this._clientRect||!tw(this._clientRect,t,r)||!this.enterPredicate(e,this))return!1;const i=this._getShadowRoot().elementFromPoint(t,r);if(!i)return!1;const s=Do(this.element);return i===s||s.contains(i)}_startReceiving(e,t){const r=this._activeSiblings;!r.has(e)&&t.every(i=>this.enterPredicate(i,this)||this._draggables.indexOf(i)>-1)&&(r.add(e),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:e,receiver:this,items:t}))}_stopReceiving(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:e,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(e=>{if(this.isDragging()){const t=this._parentPositions.handleScroll(e);t&&this._sortStrategy.updateOnScroll(t.top,t.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const e=y6(Do(this.element));this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const e=this._sortStrategy.getActiveItemsSnapshot().filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,e))}}function nx(n,e){const{top:t,bottom:r,height:i}=n,s=i*tx;return e>=t-s&&e<=t+s?1:e>=r-s&&e<=r+s?2:0}function rx(n,e){const{left:t,right:r,width:i}=n,s=i*tx;return e>=t-s&&e<=t+s?1:e>=r-s&&e<=r+s?2:0}const R5=O4({passive:!1,capture:!0});let fL=(()=>{class n{constructor(t,r){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=i=>i.isDragging(),this.pointerMove=new dt.x,this.pointerUp=new dt.x,this.scroll=new dt.x,this._preventDefaultWhileDragging=i=>{this._activeDragInstances.length>0&&i.preventDefault()},this._persistentTouchmoveListener=i=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&i.preventDefault(),this.pointerMove.next(i))},this._document=r}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,R5)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,R5)}startDragging(t,r){if(!(this._activeDragInstances.indexOf(t)>-1)&&(this._activeDragInstances.push(t),1===this._activeDragInstances.length)){const i=r.type.startsWith("touch");this._globalListeners.set(i?"touchend":"mouseup",{handler:s=>this.pointerUp.next(s),options:!0}).set("scroll",{handler:s=>this.scroll.next(s),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:R5}),i||this._globalListeners.set("mousemove",{handler:s=>this.pointerMove.next(s),options:R5}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((s,l)=>{this._document.addEventListener(l,s.handler,s.options)})})}}stopDragging(t){const r=this._activeDragInstances.indexOf(t);r>-1&&(this._activeDragInstances.splice(r,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(t){return this._activeDragInstances.indexOf(t)>-1}scrolled(t){const r=[this.scroll];return t&&t!==this._document&&r.push(new $n.y(i=>this._ngZone.runOutsideAngular(()=>{const l=h=>{this._activeDragInstances.length&&i.next(h)};return t.addEventListener("scroll",l,!0),()=>{t.removeEventListener("scroll",l,!0)}}))),(0,pf.T)(...r)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,r)=>{this._document.removeEventListener(r,t.handler,t.options)}),this._globalListeners.clear()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.R0b),d.LFG(ee))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const pL={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let rw=(()=>{class n{constructor(t,r,i,s){this._document=t,this._ngZone=r,this._viewportRuler=i,this._dragDropRegistry=s}createDrag(t,r=pL){return new cL(t,r,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new dL(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ee),d.LFG(d.R0b),d.LFG(I5),d.LFG(fL))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const iw=new d.OlP("CDK_DRAG_PARENT"),ix=new d.OlP("CDK_DRAG_CONFIG"),ox=new d.OlP("CdkDropList"),sw=new d.OlP("CdkDragHandle");let sx=(()=>{class n{get disabled(){return this._disabled}set disabled(t){this._disabled=$a(t),this._stateChanges.next(this)}constructor(t,r){this.element=t,this._stateChanges=new dt.x,this._disabled=!1,this._parentDrag=r}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(iw,12))},n.\u0275dir=d.lG2({type:n,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]},standalone:!0,features:[d._Bn([{provide:sw,useExisting:n}])]}),n})();const ax=new d.OlP("CdkDragPlaceholder"),cx=new d.OlP("CdkDragPreview");let lx=(()=>{class n{get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=$a(t),this._dragRef.disabled=this._disabled}constructor(t,r,i,s,l,h,v,w,E,x,N){this.element=t,this.dropContainer=r,this._ngZone=s,this._viewContainerRef=l,this._dir=v,this._changeDetectorRef=E,this._selfHandle=x,this._parentDrag=N,this._destroyed=new dt.x,this.started=new d.vpe,this.released=new d.vpe,this.ended=new d.vpe,this.entered=new d.vpe,this.exited=new d.vpe,this.dropped=new d.vpe,this.moved=new $n.y(V=>{const U=this._dragRef.moved.pipe((0,vt.U)(X=>({source:this,pointerPosition:X.pointerPosition,event:X.event,delta:X.delta,distance:X.distance}))).subscribe(V);return()=>{U.unsubscribe()}}),this._dragRef=w.createDrag(t,{dragStartThreshold:h&&null!=h.dragStartThreshold?h.dragStartThreshold:5,pointerDirectionChangeThreshold:h&&null!=h.pointerDirectionChangeThreshold?h.pointerDirectionChangeThreshold:5,zIndex:h?.zIndex}),this._dragRef.data=this,n._dragInstances.push(this),h&&this._assignDefaults(h),r&&(this._dragRef._withDropContainer(r._dropListRef),r.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(t){this._dragRef.setFreeDragPosition(t)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(ai(1),Mn(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(t){const r=t.rootElementSelector,i=t.freeDragPosition;r&&!r.firstChange&&this._updateRootElement(),i&&!i.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const t=n._dragInstances.indexOf(this);t>-1&&n._dragInstances.splice(t,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const t=this.element.nativeElement;let r=t;this.rootElementSelector&&(r=void 0!==t.closest?t.closest(this.rootElementSelector):t.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(r||t)}_getBoundaryElement(){const t=this.boundaryElement;return t?"string"==typeof t?this.element.nativeElement.closest(t):Do(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){const r=this._dir,i=this.dragStartDelay,s=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,l=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.dragStartDelay="object"==typeof i&&i?i:function U6(n,e=0){return function dD(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}(i),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(s).withPreviewTemplate(l).withPreviewContainer(this.previewContainer||"global"),r&&t.withDirection(r.value)}}),t.beforeStarted.pipe(ai(1)).subscribe(()=>{if(this._parentDrag)return void t.withParent(this._parentDrag._dragRef);let r=this.element.nativeElement.parentElement;for(;r;){if(r.classList.contains("cdk-drag")){t.withParent(n._dragInstances.find(i=>i.element.nativeElement===r)?._dragRef||null);break}r=r.parentElement}})}_handleEvents(t){t.started.subscribe(r=>{this.started.emit({source:this,event:r.event}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(r=>{this.released.emit({source:this,event:r.event})}),t.ended.subscribe(r=>{this.ended.emit({source:this,distance:r.distance,dropPoint:r.dropPoint,event:r.event}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(r=>{this.entered.emit({container:r.container.data,item:this,currentIndex:r.currentIndex})}),t.exited.subscribe(r=>{this.exited.emit({container:r.container.data,item:this})}),t.dropped.subscribe(r=>{this.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,isPointerOverContainer:r.isPointerOverContainer,item:this,distance:r.distance,dropPoint:r.dropPoint,event:r.event})})}_assignDefaults(t){const{lockAxis:r,dragStartDelay:i,constrainPosition:s,previewClass:l,boundaryElement:h,draggingDisabled:v,rootElementSelector:w,previewContainer:E}=t;this.disabled=v??!1,this.dragStartDelay=i||0,r&&(this.lockAxis=r),s&&(this.constrainPosition=s),l&&(this.previewClass=l),h&&(this.boundaryElement=h),w&&(this.rootElementSelector=w),E&&(this.previewContainer=E)}_setupHandlesListener(){this._handles.changes.pipe(ci(this._handles),(0,sr.b)(t=>{const r=t.filter(i=>i._parentDrag===this).map(i=>i.element);this._selfHandle&&this.rootElementSelector&&r.push(this.element),this._dragRef.withHandles(r)}),Zn(t=>(0,pf.T)(...t.map(r=>r._stateChanges.pipe(ci(r))))),Mn(this._destroyed)).subscribe(t=>{const r=this._dragRef,i=t.element.nativeElement;t.disabled?r.disableHandle(i):r.enableHandle(i)})}}return n._dragInstances=[],n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(ox,12),d.Y36(ee),d.Y36(d.R0b),d.Y36(d.s_b),d.Y36(ix,8),d.Y36(Wa,8),d.Y36(rw),d.Y36(d.sBO),d.Y36(sw,10),d.Y36(iw,12))},n.\u0275dir=d.lG2({type:n,selectors:[["","cdkDrag",""]],contentQueries:function(t,r,i){if(1&t&&(d.Suo(i,cx,5),d.Suo(i,ax,5),d.Suo(i,sw,5)),2&t){let s;d.iGM(s=d.CRH())&&(r._previewTemplate=s.first),d.iGM(s=d.CRH())&&(r._placeholderTemplate=s.first),d.iGM(s=d.CRH())&&(r._handles=s)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,r){2&t&&d.ekj("cdk-drag-disabled",r.disabled)("cdk-drag-dragging",r._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],standalone:!0,features:[d._Bn([{provide:iw,useExisting:n}]),d.TTD]}),n})(),bL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[rw],imports:[$_]}),n})();class io{transform(e,t=0,r="B",i){if(!(oa(e)&&oa(t)&&t%1==0&&t>=0))return e;let s=e,l=r;for(;"B"!==l;)s*=1024,l=io.formats[l].prev;if(i){const v=jg(io.calculateResult(io.formats[i],s),t);return io.formatResult(v,i)}for(const h in io.formats)if(io.formats.hasOwnProperty(h)){const v=io.formats[h];if(s<v.max){const w=jg(io.calculateResult(v,s),t);return io.formatResult(w,h)}}}static formatResult(e,t){return`${e} ${t}`}static calculateResult(e,t){const r=e.prev?io.formats[e.prev]:void 0;return r?t/r.max:t}}io.formats={B:{max:1024},kB:{max:Math.pow(1024,2),prev:"B"},KB:{max:Math.pow(1024,2),prev:"B"},MB:{max:Math.pow(1024,3),prev:"kB"},GB:{max:Math.pow(1024,4),prev:"MB"},TB:{max:Number.MAX_SAFE_INTEGER,prev:"GB"}},io.\u0275fac=function(e){return new(e||io)},io.\u0275pipe=d.Yjl({name:"nzBytes",type:io,pure:!0});let SL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[nr]}),n})();const EL=["imgRef"],DL=["imagePreviewWrapper"];function TL(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"li",10),d.NdJ("click",function(){const s=d.CHM(t).$implicit;return d.KtG(s.onClick())}),d._UZ(1,"span",11),d.qZA()}if(2&n){const t=e.$implicit,r=d.oxw();d.ekj("ant-image-preview-operations-operation-disabled",r.zoomOutDisabled&&"zoomOut"===t.type),d.xp6(1),d.Q6J("nzType",t.icon)}}function ML(n,e){if(1&n&&d._UZ(0,"img",13,14),2&n){const t=d.oxw().$implicit,r=d.oxw();d.Udp("width",t.width)("height",t.height)("transform",r.previewImageTransform),d.uIk("src",r.sanitizerResourceUrl(t.src),d.LSH)("srcset",t.srcset)("alt",t.alt)}}function xL(n,e){if(1&n&&(d.ynx(0),d.YNc(1,ML,2,9,"img",12),d.BQk()),2&n){const t=e.index,r=d.oxw();d.xp6(1),d.Q6J("ngIf",r.index===t)}}function IL(n,e){if(1&n){const t=d.EpF();d.ynx(0),d.TgZ(1,"div",15),d.NdJ("click",function(i){d.CHM(t);const s=d.oxw();return d.KtG(s.onSwitchLeft(i))}),d._UZ(2,"span",16),d.qZA(),d.TgZ(3,"div",17),d.NdJ("click",function(i){d.CHM(t);const s=d.oxw();return d.KtG(s.onSwitchRight(i))}),d._UZ(4,"span",18),d.qZA(),d.BQk()}if(2&n){const t=d.oxw();d.xp6(1),d.ekj("ant-image-preview-switch-left-disabled",t.index<=0),d.xp6(2),d.ekj("ant-image-preview-switch-right-disabled",t.index>=t.images.length-1)}}const AL=["*"];class aw{constructor(){this.nzKeyboard=!0,this.nzNoAnimation=!1,this.nzMaskClosable=!0,this.nzCloseOnNavigation=!0}}class PL{constructor(e,t,r){this.previewInstance=e,this.config=t,this.overlayRef=r,this.destroy$=new dt.x,r.keydownEvents().pipe(Yn(i=>this.config.nzKeyboard&&(27===i.keyCode||37===i.keyCode||39===i.keyCode)&&!function LN(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(i))).subscribe(i=>{i.preventDefault(),27===i.keyCode&&this.close(),37===i.keyCode&&this.prev(),39===i.keyCode&&this.next()}),r.detachments().subscribe(()=>{this.overlayRef.dispose()}),e.containerClick.pipe(ai(1),Mn(this.destroy$)).subscribe(()=>{this.close()}),e.closeClick.pipe(ai(1),Mn(this.destroy$)).subscribe(()=>{this.close()}),e.animationStateChanged.pipe(Yn(i=>"done"===i.phaseName&&"leave"===i.toState),ai(1)).subscribe(()=>{this.dispose()})}switchTo(e){this.previewInstance.switchTo(e)}next(){this.previewInstance.next()}prev(){this.previewInstance.prev()}close(){this.previewInstance.startLeaveAnimation()}dispose(){this.destroy$.next(),this.overlayRef.dispose()}}function dx(n,e,t){const r=n+e,i=(e-t)/2;let s=null;return e>t?(n>0&&(s=i),n<0&&r<t&&(s=-i)):(n<0||r>t)&&(s=n<0?i:-i),s}const N5={x:0,y:0};let FL=(()=>{class n{constructor(t,r,i,s,l,h,v,w){this.ngZone=t,this.host=r,this.cdr=i,this.nzConfigService=s,this.config=l,this.overlayRef=h,this.destroy$=v,this.sanitizer=w,this.images=[],this.index=0,this.isDragging=!1,this.visible=!0,this.animationState="enter",this.animationStateChanged=new d.vpe,this.previewImageTransform="",this.previewImageWrapperTransform="",this.operations=[{icon:"close",onClick:()=>{this.onClose()},type:"close"},{icon:"zoom-in",onClick:()=>{this.onZoomIn()},type:"zoomIn"},{icon:"zoom-out",onClick:()=>{this.onZoomOut()},type:"zoomOut"},{icon:"rotate-right",onClick:()=>{this.onRotateRight()},type:"rotateRight"},{icon:"rotate-left",onClick:()=>{this.onRotateLeft()},type:"rotateLeft"}],this.zoomOutDisabled=!1,this.position={...N5},this.containerClick=new d.vpe,this.closeClick=new d.vpe,this.zoom=this.config.nzZoom??1,this.rotate=this.config.nzRotate??0,this.updateZoomOutDisabled(),this.updatePreviewImageTransform(),this.updatePreviewImageWrapperTransform()}get animationDisabled(){return this.config.nzNoAnimation??!1}get maskClosable(){const t=this.nzConfigService.getConfigForComponent("image")||{};return this.config.nzMaskClosable??t.nzMaskClosable??!0}ngOnInit(){this.ngZone.runOutsideAngular(()=>{w1(this.host.nativeElement,"click").pipe(Mn(this.destroy$)).subscribe(t=>{t.target===t.currentTarget&&this.maskClosable&&this.containerClick.observers.length&&this.ngZone.run(()=>this.containerClick.emit())}),w1(this.imagePreviewWrapper.nativeElement,"mousedown").pipe(Mn(this.destroy$)).subscribe(()=>{this.isDragging=!0})})}setImages(t){this.images=t,this.cdr.markForCheck()}switchTo(t){this.index=t,this.cdr.markForCheck()}next(){this.index<this.images.length-1&&(this.reset(),this.index++,this.updatePreviewImageTransform(),this.updatePreviewImageWrapperTransform(),this.updateZoomOutDisabled(),this.cdr.markForCheck())}prev(){this.index>0&&(this.reset(),this.index--,this.updatePreviewImageTransform(),this.updatePreviewImageWrapperTransform(),this.updateZoomOutDisabled(),this.cdr.markForCheck())}markForCheck(){this.cdr.markForCheck()}onClose(){this.closeClick.emit()}onZoomIn(){this.zoom+=1,this.updatePreviewImageTransform(),this.updateZoomOutDisabled(),this.position={...N5}}onZoomOut(){this.zoom>1&&(this.zoom-=1,this.updatePreviewImageTransform(),this.updateZoomOutDisabled(),this.position={...N5})}onRotateRight(){this.rotate+=90,this.updatePreviewImageTransform()}onRotateLeft(){this.rotate-=90,this.updatePreviewImageTransform()}onSwitchLeft(t){t.preventDefault(),t.stopPropagation(),this.prev()}onSwitchRight(t){t.preventDefault(),t.stopPropagation(),this.next()}onAnimationStart(t){"enter"===t.toState?this.setEnterAnimationClass():"leave"===t.toState&&this.setLeaveAnimationClass(),this.animationStateChanged.emit(t)}onAnimationDone(t){"enter"===t.toState?this.setEnterAnimationClass():"leave"===t.toState&&this.setLeaveAnimationClass(),this.animationStateChanged.emit(t)}startLeaveAnimation(){this.animationState="leave",this.cdr.markForCheck()}onDragReleased(){this.isDragging=!1;const t=this.imageRef.nativeElement.offsetWidth*this.zoom,r=this.imageRef.nativeElement.offsetHeight*this.zoom,{left:i,top:s}=function OL(n){const e=n.getBoundingClientRect(),t=document.documentElement;return{left:e.left+(window.pageXOffset||t.scrollLeft)-(t.clientLeft||document.body.clientLeft||0),top:e.top+(window.pageYOffset||t.scrollTop)-(t.clientTop||document.body.clientTop||0)}}(this.imageRef.nativeElement),{width:l,height:h}=function RL(){return{width:document.documentElement.clientWidth,height:window.innerHeight||document.documentElement.clientHeight}}(),v=this.rotate%180!=0,E=function zL(n){let e={};return n.width<=n.clientWidth&&n.height<=n.clientHeight&&(e={x:0,y:0}),(n.width>n.clientWidth||n.height>n.clientHeight)&&(e={x:dx(n.left,n.width,n.clientWidth),y:dx(n.top,n.height,n.clientHeight)}),e}({width:v?r:t,height:v?t:r,left:i,top:s,clientWidth:l,clientHeight:h});(Jc(E.x)||Jc(E.y))&&(this.position={...this.position,...E})}sanitizerResourceUrl(t){return this.sanitizer.bypassSecurityTrustResourceUrl(t)}updatePreviewImageTransform(){this.previewImageTransform=`scale3d(${this.zoom}, ${this.zoom}, 1) rotate(${this.rotate}deg)`}updatePreviewImageWrapperTransform(){this.previewImageWrapperTransform=`translate3d(${this.position.x}px, ${this.position.y}px, 0)`}updateZoomOutDisabled(){this.zoomOutDisabled=this.zoom<=1}setEnterAnimationClass(){if(this.animationDisabled)return;const t=this.overlayRef.backdropElement;t&&(t.classList.add("ant-fade-enter"),t.classList.add("ant-fade-enter-active"))}setLeaveAnimationClass(){if(this.animationDisabled)return;const t=this.overlayRef.backdropElement;t&&(t.classList.add("ant-fade-leave"),t.classList.add("ant-fade-leave-active"))}reset(){this.zoom=1,this.rotate=0,this.position={...N5}}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.R0b),d.Y36(d.SBq),d.Y36(d.sBO),d.Y36(lf),d.Y36(aw),d.Y36(W_),d.Y36(LM),d.Y36(Ia))},n.\u0275cmp=d.Xpm({type:n,selectors:[["nz-image-preview"]],viewQuery:function(t,r){if(1&t&&(d.Gf(EL,5),d.Gf(DL,7)),2&t){let i;d.iGM(i=d.CRH())&&(r.imageRef=i.first),d.iGM(i=d.CRH())&&(r.imagePreviewWrapper=i.first)}},hostAttrs:["tabindex","-1","role","document",1,"ant-image-preview-wrap"],hostVars:6,hostBindings:function(t,r){1&t&&d.WFA("@fadeMotion.start",function(s){return r.onAnimationStart(s)})("@fadeMotion.done",function(s){return r.onAnimationDone(s)}),2&t&&(d.d8E("@.disabled",r.config.nzNoAnimation)("@fadeMotion",r.animationState),d.Udp("z-index",r.config.nzZIndex),d.ekj("ant-image-preview-moving",r.isDragging))},exportAs:["nzImagePreview"],features:[d._Bn([LM])],decls:11,vars:6,consts:[[1,"ant-image-preview"],["tabindex","0","aria-hidden","true",2,"width","0","height","0","overflow","hidden","outline","none"],[1,"ant-image-preview-content"],[1,"ant-image-preview-body"],[1,"ant-image-preview-operations"],["class","ant-image-preview-operations-operation",3,"ant-image-preview-operations-operation-disabled","click",4,"ngFor","ngForOf"],["cdkDrag","",1,"ant-image-preview-img-wrapper",3,"cdkDragFreeDragPosition","cdkDragReleased"],["imagePreviewWrapper",""],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"ant-image-preview-operations-operation",3,"click"],["nz-icon","","nzTheme","outline",1,"ant-image-preview-operations-icon",3,"nzType"],["cdkDragHandle","","class","ant-image-preview-img",3,"width","height","transform",4,"ngIf"],["cdkDragHandle","",1,"ant-image-preview-img"],["imgRef",""],[1,"ant-image-preview-switch-left",3,"click"],["nz-icon","","nzType","left","nzTheme","outline"],[1,"ant-image-preview-switch-right",3,"click"],["nz-icon","","nzType","right","nzTheme","outline"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0),d._UZ(1,"div",1),d.TgZ(2,"div",2)(3,"div",3)(4,"ul",4),d.YNc(5,TL,2,3,"li",5),d.qZA(),d.TgZ(6,"div",6,7),d.NdJ("cdkDragReleased",function(){return r.onDragReleased()}),d.YNc(8,xL,2,1,"ng-container",8),d.qZA(),d.YNc(9,IL,5,4,"ng-container",9),d.qZA()(),d._UZ(10,"div",1),d.qZA()),2&t&&(d.xp6(5),d.Q6J("ngForOf",r.operations),d.xp6(1),d.Udp("transform",r.previewImageWrapperTransform),d.Q6J("cdkDragFreeDragPosition",r.position),d.xp6(2),d.Q6J("ngForOf",r.images),d.xp6(1),d.Q6J("ngIf",r.images.length>1))},dependencies:[lx,sx,pa,go,uf],encapsulation:2,data:{animation:[HN]},changeDetection:0}),n})(),hx=(()=>{class n{constructor(t,r,i,s){this.overlay=t,this.injector=r,this.nzConfigService=i,this.directionality=s}preview(t,r){return this.display(t,r)}display(t,r){const i={...new aw,...r??{}},s=this.createOverlay(i),l=this.attachPreviewComponent(s,i);l.setImages(t);const h=new PL(l,i,s);return l.previewRef=h,h}attachPreviewComponent(t,r){const i=d.zs3.create({parent:this.injector,providers:[{provide:W_,useValue:t},{provide:aw,useValue:r}]}),s=new mM(FL,null,i);return t.attach(s).instance}createOverlay(t){const r=this.nzConfigService.getConfigForComponent("image")||{},i=new wM({hasBackdrop:!0,scrollStrategy:this.overlay.scrollStrategies.block(),positionStrategy:this.overlay.position().global(),disposeOnNavigation:t.nzCloseOnNavigation??r.nzCloseOnNavigation??!0,backdropClass:"ant-image-preview-mask",direction:t.nzDirection||r.nzDirection||this.directionality.value});return this.overlay.create(i)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(K_),d.LFG(d.zs3),d.LFG(lf),d.LFG(Wa,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),NL=(()=>{class n{constructor(){this.images=[]}addImage(t){this.images.push(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["nz-image-group"]],exportAs:["nzImageGroup"],ngContentSelectors:AL,decls:1,vars:0,template:function(t,r){1&t&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),VL=(()=>{class n{constructor(t,r,i,s,l,h,v){this.document=t,this.nzConfigService=r,this.elementRef=i,this.nzImageService=s,this.cdr=l,this.parentGroup=h,this.directionality=v,this._nzModuleName="image",this.nzSrc="",this.nzSrcset="",this.nzDisablePreview=!1,this.nzFallback=null,this.nzPlaceholder=null,this.status="normal",this.backLoadDestroy$=new dt.x,this.destroy$=new dt.x}get previewable(){return!this.nzDisablePreview&&"error"!==this.status}ngOnInit(){this.backLoad(),this.parentGroup&&this.parentGroup.addImage(this),this.directionality&&(this.directionality.change?.pipe(Mn(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onPreview(){if(this.previewable)if(this.parentGroup){const t=this.parentGroup.images.filter(l=>l.previewable),r=t.map(l=>({src:l.nzSrc,srcset:l.nzSrcset})),i=t.findIndex(l=>this===l);this.nzImageService.preview(r,{nzDirection:this.dir}).switchTo(i)}else this.nzImageService.preview([{src:this.nzSrc,srcset:this.nzSrcset}],{nzDirection:this.dir})}getElement(){return this.elementRef}ngOnChanges(t){const{nzSrc:r}=t;r&&(this.getElement().nativeElement.src=r.currentValue,this.backLoad())}backLoad(){this.backLoadImage=this.document.createElement("img"),this.backLoadImage.src=this.nzSrc,this.backLoadImage.srcset=this.nzSrcset,this.status="loading",this.backLoadDestroy$.next(),this.backLoadDestroy$.complete(),this.backLoadDestroy$=new dt.x,this.backLoadImage.complete?(this.status="normal",this.getElement().nativeElement.src=this.nzSrc,this.getElement().nativeElement.srcset=this.nzSrcset):(this.nzPlaceholder?(this.getElement().nativeElement.src=this.nzPlaceholder,this.getElement().nativeElement.srcset=""):(this.getElement().nativeElement.src=this.nzSrc,this.getElement().nativeElement.srcset=this.nzSrcset),w1(this.backLoadImage,"load").pipe(Mn(this.backLoadDestroy$),Mn(this.destroy$)).subscribe(()=>{this.status="normal",this.getElement().nativeElement.src=this.nzSrc,this.getElement().nativeElement.srcset=this.nzSrcset}),w1(this.backLoadImage,"error").pipe(Mn(this.backLoadDestroy$),Mn(this.destroy$)).subscribe(()=>{this.status="error",this.nzFallback&&(this.getElement().nativeElement.src=this.nzFallback,this.getElement().nativeElement.srcset="")}))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(ee),d.Y36(lf),d.Y36(d.SBq),d.Y36(hx),d.Y36(d.sBO),d.Y36(NL,8),d.Y36(Wa,8))},n.\u0275dir=d.lG2({type:n,selectors:[["img","nz-image",""]],hostBindings:function(t,r){1&t&&d.NdJ("click",function(){return r.onPreview()})},inputs:{nzSrc:"nzSrc",nzSrcset:"nzSrcset",nzDisablePreview:"nzDisablePreview",nzFallback:"nzFallback",nzPlaceholder:"nzPlaceholder"},exportAs:["nzImage"],features:[d.TTD]}),(0,bs.gn)([Ga(),E5()],n.prototype,"nzDisablePreview",void 0),(0,bs.gn)([E5()],n.prototype,"nzFallback",void 0),(0,bs.gn)([E5()],n.prototype,"nzPlaceholder",void 0),n})(),HL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[hx],imports:[Z4,PN,gM,bL,nr,df,SL]}),n})(),cw=(()=>{class n{constructor(t,r,i,s,l,h,v){this.elementRef=t,this.renderer=r,this.mediaMatcher=i,this.ngZone=s,this.platform=l,this.breakpointService=h,this.directionality=v,this.nzAlign=null,this.nzJustify=null,this.nzGutter=null,this.actualGutter$=new g6(1),this.dir="ltr",this.destroy$=new dt.x}getGutter(){const t=[null,null],r=this.nzGutter||0;return(Array.isArray(r)?r:[r,null]).forEach((s,l)=>{"object"==typeof s&&null!==s?(t[l]=null,Object.keys(k5).map(h=>{const v=h;this.mediaMatcher.matchMedia(k5[v]).matches&&s[v]&&(t[l]=s[v])})):t[l]=Number(s)||null}),t}setGutterStyle(){const[t,r]=this.getGutter();this.actualGutter$.next([t,r]);const i=(s,l)=>{null!==l&&this.renderer.setStyle(this.elementRef.nativeElement,s,`-${l/2}px`)};i("margin-left",t),i("margin-right",t),i("margin-top",r),i("margin-bottom",r)}ngOnInit(){this.dir=this.directionality.value,this.directionality.change?.pipe(Mn(this.destroy$)).subscribe(t=>{this.dir=t}),this.setGutterStyle()}ngOnChanges(t){t.nzGutter&&this.setGutterStyle()}ngAfterViewInit(){this.platform.isBrowser&&this.breakpointService.subscribe(k5).pipe(Mn(this.destroy$)).subscribe(()=>{this.setGutterStyle()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(NM),d.Y36(d.R0b),d.Y36(Ya),d.Y36(qN),d.Y36(Wa,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","nz-row",""],["nz-row"],["nz-form-item"]],hostAttrs:[1,"ant-row"],hostVars:20,hostBindings:function(t,r){2&t&&d.ekj("ant-row-top","top"===r.nzAlign)("ant-row-middle","middle"===r.nzAlign)("ant-row-bottom","bottom"===r.nzAlign)("ant-row-start","start"===r.nzJustify)("ant-row-end","end"===r.nzJustify)("ant-row-center","center"===r.nzJustify)("ant-row-space-around","space-around"===r.nzJustify)("ant-row-space-between","space-between"===r.nzJustify)("ant-row-space-evenly","space-evenly"===r.nzJustify)("ant-row-rtl","rtl"===r.dir)},inputs:{nzAlign:"nzAlign",nzJustify:"nzJustify",nzGutter:"nzGutter"},exportAs:["nzRow"],features:[d.TTD]}),n})(),fx=(()=>{class n{constructor(t,r,i,s){this.elementRef=t,this.nzRowDirective=r,this.renderer=i,this.directionality=s,this.classMap={},this.destroy$=new dt.x,this.hostFlexStyle=null,this.dir="ltr",this.nzFlex=null,this.nzSpan=null,this.nzOrder=null,this.nzOffset=null,this.nzPush=null,this.nzPull=null,this.nzXs=null,this.nzSm=null,this.nzMd=null,this.nzLg=null,this.nzXl=null,this.nzXXl=null}setHostClassMap(){const t={"ant-col":!0,[`ant-col-${this.nzSpan}`]:Jc(this.nzSpan),[`ant-col-order-${this.nzOrder}`]:Jc(this.nzOrder),[`ant-col-offset-${this.nzOffset}`]:Jc(this.nzOffset),[`ant-col-pull-${this.nzPull}`]:Jc(this.nzPull),[`ant-col-push-${this.nzPush}`]:Jc(this.nzPush),"ant-col-rtl":"rtl"===this.dir,...this.generateClass()};for(const r in this.classMap)this.classMap.hasOwnProperty(r)&&this.renderer.removeClass(this.elementRef.nativeElement,r);this.classMap={...t};for(const r in this.classMap)this.classMap.hasOwnProperty(r)&&this.classMap[r]&&this.renderer.addClass(this.elementRef.nativeElement,r)}setHostFlexStyle(){this.hostFlexStyle=this.parseFlex(this.nzFlex)}parseFlex(t){return"number"==typeof t?`${t} ${t} auto`:"string"==typeof t&&/^\d+(\.\d+)?(px|em|rem|%)$/.test(t)?`0 0 ${t}`:t}generateClass(){const r={};return["nzXs","nzSm","nzMd","nzLg","nzXl","nzXXl"].forEach(i=>{const s=i.replace("nz","").toLowerCase();if(Jc(this[i]))if("number"==typeof this[i]||"string"==typeof this[i])r[`ant-col-${s}-${this[i]}`]=!0;else{const l=this[i];["span","pull","push","offset","order"].forEach(v=>{r[`ant-col-${s}${"span"===v?"-":`-${v}-`}${l[v]}`]=l&&Jc(l[v])})}}),r}ngOnInit(){this.dir=this.directionality.value,this.directionality.change?.pipe(Mn(this.destroy$)).subscribe(t=>{this.dir=t,this.setHostClassMap()}),this.setHostClassMap(),this.setHostFlexStyle()}ngOnChanges(t){this.setHostClassMap();const{nzFlex:r}=t;r&&this.setHostFlexStyle()}ngAfterViewInit(){this.nzRowDirective&&this.nzRowDirective.actualGutter$.pipe(Mn(this.destroy$)).subscribe(([t,r])=>{const i=(s,l)=>{null!==l&&this.renderer.setStyle(this.elementRef.nativeElement,s,l/2+"px")};i("padding-left",t),i("padding-right",t),i("padding-top",r),i("padding-bottom",r)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(cw,9),d.Y36(d.Qsj),d.Y36(Wa,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","nz-col",""],["nz-col"],["nz-form-control"],["nz-form-label"]],hostVars:2,hostBindings:function(t,r){2&t&&d.Udp("flex",r.hostFlexStyle)},inputs:{nzFlex:"nzFlex",nzSpan:"nzSpan",nzOrder:"nzOrder",nzOffset:"nzOffset",nzPush:"nzPush",nzPull:"nzPull",nzXs:"nzXs",nzSm:"nzSm",nzMd:"nzMd",nzLg:"nzLg",nzXl:"nzXl",nzXXl:"nzXXl"},exportAs:["nzCol"],features:[d.TTD]}),n})(),BL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Z4,nr,UN,z4]}),n})(),px=(()=>{const e=class{constructor(r){this.user=r,this.data={img:"normal",id:""},this.value="",this.fallback="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMIAAADDCAYAAADQvc6UAAABRWlDQ1BJQ0MgUHJvZmlsZQAAKJFjYGASSSwoyGFhYGDIzSspCnJ3UoiIjFJgf8LAwSDCIMogwMCcmFxc4BgQ4ANUwgCjUcG3awyMIPqyLsis7PPOq3QdDFcvjV3jOD1boQVTPQrgSkktTgbSf4A4LbmgqISBgTEFyFYuLykAsTuAbJEioKOA7DkgdjqEvQHEToKwj4DVhAQ5A9k3gGyB5IxEoBmML4BsnSQk8XQkNtReEOBxcfXxUQg1Mjc0dyHgXNJBSWpFCYh2zi+oLMpMzyhRcASGUqqCZ16yno6CkYGRAQMDKMwhqj/fAIcloxgHQqxAjIHBEugw5sUIsSQpBobtQPdLciLEVJYzMPBHMDBsayhILEqEO4DxG0txmrERhM29nYGBddr//5/DGRjYNRkY/l7////39v///y4Dmn+LgeHANwDrkl1AuO+pmgAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAwqADAAQAAAABAAAAwwAAAAD9b/HnAAAHlklEQVR4Ae3dP3PTWBSGcbGzM6GCKqlIBRV0dHRJFarQ0eUT8LH4BnRU0NHR0UEFVdIlFRV7TzRksomPY8uykTk/zewQfKw/9znv4yvJynLv4uLiV2dBoDiBf4qP3/ARuCRABEFAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghgg0Aj8i0JO4OzsrPv69Wv+hi2qPHr0qNvf39+iI97soRIh4f3z58/u7du3SXX7Xt7Z2enevHmzfQe+oSN2apSAPj09TSrb+XKI/f379+08+A0cNRE2ANkupk+ACNPvkSPcAAEibACyXUyfABGm3yNHuAECRNgAZLuYPgEirKlHu7u7XdyytGwHAd8jjNyng4OD7vnz51dbPT8/7z58+NB9+/bt6jU/TI+AGWHEnrx48eJ/EsSmHzx40L18+fLyzxF3ZVMjEyDCiEDjMYZZS5wiPXnyZFbJaxMhQIQRGzHvWR7XCyOCXsOmiDAi1HmPMMQjDpbpEiDCiL358eNHurW/5SnWdIBbXiDCiA38/Pnzrce2YyZ4//59F3ePLNMl4PbpiL2J0L979+7yDtHDhw8vtzzvdGnEXdvUigSIsCLAWavHp/+qM0BcXMd/q25n1vF57TYBp0a3mUzilePj4+7k5KSLb6gt6ydAhPUzXnoPR0dHl79WGTNCfBnn1uvSCJdegQhLI1vvCk+fPu2ePXt2tZOYEV6/fn31dz+shwAR1sP1cqvLntbEN9MxA9xcYjsxS1jWR4AIa2Ibzx0tc44fYX/16lV6NDFLXH+YL32jwiACRBiEbf5KcXoTIsQSpzXx4N28Ja4BQoK7rgXiydbHjx/P25TaQAJEGAguWy0+2Q8PD6/Ki4R8EVl+bzBOnZY95fq9rj9zAkTI2SxdidBHqG9+skdw43borCXO/ZcJdraPWdv22uIEiLA4q7nvvCug8WTqzQveOH26fodo7g6uFe/a17W3+nFBAkRYENRdb1vkkz1CH9cPsVy/jrhr27PqMYvENYNlHAIesRiBYwRy0V+8iXP8+/fvX11Mr7L7ECueb/r48eMqm7FuI2BGWDEG8cm+7G3NEOfmdcTQw4h9/55lhm7DekRYKQPZF2ArbXTAyu4kDYB2YxUzwg0gi/41ztHnfQG26HbGel/crVrm7tNY+/1btkOEAZ2M05r4FB7r9GbAIdxaZYrHdOsgJ/wCEQY0J74TmOKnbxxT9n3FgGGWWsVdowHtjt9Nnvf7yQM2aZU/TIAIAxrw6dOnAWtZZcoEnBpNuTuObWMEiLAx1HY0ZQJEmHJ3HNvGCBBhY6jtaMoEiJB0Z29vL6ls58vxPcO8/zfrdo5qvKO+d3Fx8Wu8zf1dW4p/cPzLly/dtv9Ts/EbcvGAHhHyfBIhZ6NSiIBTo0LNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiEC/wGgKKC4YMA4TAAAAABJRU5ErkJggg=="}ngOnInit(){this.user.isUser()}changeData(){}confirm(){this.value.length>0&&console.log(this.value)}};let n=e;return e.\u0275fac=function(i){return new(i||e)(d.Y36(h3))},e.\u0275cmp=d.Xpm({type:e,selectors:[["app-home"]],decls:13,vars:5,consts:[["nz-row","","nzJustify","center",1,"home"],["nz-col","","nzSpan","24",1,"form"],["nz-image","","width","400px","height","200px","alt","",3,"nzSrc","nzFallback"],[2,"color","#ff4d4f"],["nz-input","","placeholder","\u0110i\xea\u0300n ki\u0301 t\u01b0\u0323 \u01a1\u0309 \u0111\xe2y","type","text",3,"ngModel","ngModelChange","keyup.enter"],[1,"group"],["nz-button","","nzType","primary",2,"margin-right","10px",3,"click"],["nz-button","","nzType","primary"],["nz-icon","",3,"nzType","nzSpin","click"]],template:function(i,s){1&i&&(d.TgZ(0,"div",0)(1,"div",1),d._UZ(2,"img",2),d.TgZ(3,"span",3)(4,"strong"),d._uU(5,"CHU\u0301 Y\u0301:"),d.qZA(),d._uU(6," Nh\xe2\u0323p ki\u0301 t\u01b0\u0323 li\xea\u0300n ma\u0323ch kh\xf4ng co\u0301 khoa\u0309ng ca\u0301ch"),d.qZA(),d.TgZ(7,"input",4),d.NdJ("ngModelChange",function(h){return s.value=h})("keyup.enter",function(){return s.confirm()}),d.qZA(),d.TgZ(8,"div",5)(9,"button",6),d.NdJ("click",function(){return s.confirm()}),d._uU(10,"XA\u0301C NH\xc2\u0323N"),d.qZA(),d.TgZ(11,"button",7)(12,"span",8),d.NdJ("click",function(){return s.changeData()}),d.qZA()()()()()),2&i&&(d.xp6(2),d.Q6J("nzSrc",s.data.img)("nzFallback",s.fallback),d.xp6(5),d.Q6J("ngModel",s.value),d.xp6(5),d.Q6J("nzType","sync")("nzSpin",!0))},dependencies:[_4,km,Yd,eM,sM,U_,rM,uf,VL,fx,cw],styles:[".home[_ngcontent-%COMP%]{max-width:400px}.home[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.home[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-bottom:10px}"]}),n})();var Ce=F(5861),Mo=F(4976);function lw(){return(0,Tr.e)((n,e)=>{let t,r=!1;n.subscribe((0,or.x)(e,i=>{const s=t;t=i,r&&e.next([s,i]),r=!0}))})}var it,el=F(2011),YL=(F(2644),F(3942)),J4=F(6881),L5=F(4859),th=F(1877),xn=F(2090),UL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},tl={},uw=uw||{},Qt=UL||self;function V5(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function _f(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var dw="closure_uid_"+(1e9*Math.random()>>>0),$L=0;function GL(n,e,t){return n.call.apply(n.bind,arguments)}function qL(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function xo(n,e,t){return(xo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?GL:qL).apply(null,arguments)}function H5(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Vi(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,s){for(var l=Array(arguments.length-2),h=2;h<arguments.length;h++)l[h-2]=arguments[h];return e.prototype[i].apply(r,l)}}function nh(){this.s=this.s,this.o=this.o}nh.prototype.s=!1,nh.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function jL(n){Object.prototype.hasOwnProperty.call(n,dw)&&n[dw]||(n[dw]=++$L)}(this)},nh.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const mx=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function hw(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function gx(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(V5(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let l=0;l<s;l++)n[i+l]=r[l]}else n.push(r)}}function Io(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Io.prototype.h=function(){this.defaultPrevented=!0};var KL=function(){if(!Qt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Qt.addEventListener("test",()=>{},e),Qt.removeEventListener("test",()=>{},e)}catch{}return n}();function wf(n){return/^[\s\xa0]*$/.test(n)}function B5(){var n=Qt.navigator;return n&&(n=n.userAgent)?n:""}function au(n){return-1!=B5().indexOf(n)}function fw(n){return fw[" "](n),n}fw[" "]=function(){};var mw,n,QL=au("Opera"),f0=au("Trident")||au("MSIE"),vx=au("Edge"),pw=vx||f0,yx=au("Gecko")&&!(-1!=B5().toLowerCase().indexOf("webkit")&&!au("Edge"))&&!(au("Trident")||au("MSIE"))&&!au("Edge"),JL=-1!=B5().toLowerCase().indexOf("webkit")&&!au("Edge");function _x(){var n=Qt.document;return n?n.documentMode:void 0}e:{var gw="",vw=(n=B5(),yx?/rv:([^\);]+)(\)|;)/.exec(n):vx?/Edge\/([\d\.]+)/.exec(n):f0?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):JL?/WebKit\/(\S+)/.exec(n):QL?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(vw&&(gw=vw?vw[1]:""),f0){var yw=_x();if(null!=yw&&yw>parseFloat(gw)){mw=String(yw);break e}}mw=gw}var XL=Qt.document&&f0&&(_x()||parseInt(mw,10))||void 0;function bf(n,e){if(Io.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(yx){e:{try{fw(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:eV[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&bf.$.h.call(this)}}Vi(bf,Io);var eV={2:"touch",3:"pen",4:"mouse"};bf.prototype.h=function(){bf.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Cf="closure_listenable_"+(1e6*Math.random()|0),tV=0;function nV(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++tV,this.fa=this.ia=!1}function Y5(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function ww(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function bx(n){const e={};for(const t in n)e[t]=n[t];return e}const Cx="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Sx(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<Cx.length;s++)t=Cx[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function U5(n){this.src=n,this.g={},this.h=0}function bw(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=mx(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Y5(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Cw(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==r)return i}return-1}U5.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var l=Cw(n,e,r,i);return-1<l?(e=n[l],t||(e.ia=!1)):((e=new nV(e,this.src,s,!!r,i)).ia=t,n.push(e)),e};var Sw="closure_lm_"+(1e6*Math.random()|0),Ew={};function Ex(n,e,t,r,i){if(r&&r.once)return Tx(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Ex(n,e[s],t,r,i);return null}return t=xw(t),n&&n[Cf]?n.O(e,t,_f(r)?!!r.capture:!!r,i):Dx(n,e,t,!1,r,i)}function Dx(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var l=_f(i)?!!i.capture:!!i,h=Tw(n);if(h||(n[Sw]=h=new U5(n)),(t=h.add(e,t,r,l,s)).proxy)return t;if(r=function iV(){const e=oV;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)KL||(i=l),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(xx(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Tx(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Tx(n,e[s],t,r,i);return null}return t=xw(t),n&&n[Cf]?n.P(e,t,_f(r)?!!r.capture:!!r,i):Dx(n,e,t,!0,r,i)}function Mx(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Mx(n,e[s],t,r,i);else r=_f(r)?!!r.capture:!!r,t=xw(t),n&&n[Cf]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Cw(s=n.g[e],t,r,i))&&(Y5(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=Tw(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Cw(e,t,r,i)),(t=-1<n?e[n]:null)&&Dw(t))}function Dw(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Cf])bw(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(xx(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Tw(e))?(bw(t,n),0==t.h&&(t.src=null,e[Sw]=null)):Y5(n)}}}function xx(n){return n in Ew?Ew[n]:Ew[n]="on"+n}function oV(n,e){if(n.fa)n=!0;else{e=new bf(e,this);var t=n.listener,r=n.la||n.src;n.ia&&Dw(n),n=t.call(r,e)}return n}function Tw(n){return(n=n[Sw])instanceof U5?n:null}var Mw="__closure_events_fn_"+(1e9*Math.random()>>>0);function xw(n){return"function"==typeof n?n:(n[Mw]||(n[Mw]=function(e){return n.handleEvent(e)}),n[Mw])}function Hi(){nh.call(this),this.i=new U5(this),this.S=this,this.J=null}function oo(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Io(e,n);else if(e instanceof Io)e.target=e.target||n;else{var i=e;Sx(e=new Io(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var l=e.g=t[s];i=j5(l,r,!0,e)&&i}if(i=j5(l=e.g=n,r,!0,e)&&i,i=j5(l,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=j5(l=e.g=t[s],r,!1,e)&&i}function j5(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var l=e[s];if(l&&!l.fa&&l.capture==t){var h=l.listener,v=l.la||l.src;l.ia&&bw(n.i,l),i=!1!==h.call(v,r)&&i}}return i&&!r.defaultPrevented}Vi(Hi,nh),Hi.prototype[Cf]=!0,Hi.prototype.removeEventListener=function(n,e,t,r){Mx(this,n,e,t,r)},Hi.prototype.N=function(){if(Hi.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Y5(t[r]);delete n.g[e],n.h--}}this.J=null},Hi.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Hi.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Iw=Qt.JSON.stringify;function aV(){var n=Aw;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Ix=new class sV{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new lV,n=>n.reset());class lV{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function uV(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function dV(n){Qt.setTimeout(()=>{throw n},0)}let Sf,Ef=!1,Aw=new class cV{constructor(){this.h=this.g=null}add(e,t){const r=Ix.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},Ax=()=>{const n=Qt.Promise.resolve(void 0);Sf=()=>{n.then(hV)}};var hV=()=>{for(var n;n=aV();){try{n.h.call(n.g)}catch(t){dV(t)}var e=Ix;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Ef=!1};function $5(n,e){Hi.call(this),this.h=n||1,this.g=e||Qt,this.j=xo(this.qb,this),this.l=Date.now()}function kw(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Pw(n,e,t){if("function"==typeof n)t&&(n=xo(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=xo(n.handleEvent,n)}return 2147483647<Number(e)?-1:Qt.setTimeout(n,e||0)}function kx(n){n.g=Pw(()=>{n.g=null,n.i&&(n.i=!1,kx(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Vi($5,Hi),(it=$5.prototype).ga=!1,it.T=null,it.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),oo(this,"tick"),this.ga&&(kw(this),this.start()))}},it.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},it.N=function(){$5.$.N.call(this),kw(this),delete this.g};class fV extends nh{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:kx(this)}N(){super.N(),this.g&&(Qt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Df(n){nh.call(this),this.h=n,this.g={}}Vi(Df,nh);var Px=[];function zx(n,e,t,r){Array.isArray(t)||(t&&(Px[0]=t.toString()),t=Px);for(var i=0;i<t.length;i++){var s=Ex(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function Ox(n){ww(n.g,function(e,t){this.g.hasOwnProperty(t)&&Dw(e)},n),n.g={}}function G5(){this.g=!0}function p0(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function vV(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var l=1;l<i.length;l++)i[l]=""}}}return Iw(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Df.prototype.N=function(){Df.$.N.call(this),Ox(this)},Df.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},G5.prototype.Ea=function(){this.g=!1},G5.prototype.info=function(){};var X4={},Rx=null;function q5(){return Rx=Rx||new Hi}function Fx(n){Io.call(this,X4.Ta,n)}function Tf(n){const e=q5();oo(e,new Fx(e))}function Nx(n,e){Io.call(this,X4.STAT_EVENT,n),this.stat=e}function es(n){const e=q5();oo(e,new Nx(e,n))}function Lx(n,e){Io.call(this,X4.Ua,n),this.size=e}function Mf(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Qt.setTimeout(function(){n()},e)}X4.Ta="serverreachability",Vi(Fx,Io),X4.STAT_EVENT="statevent",Vi(Nx,Io),X4.Ua="timingevent",Vi(Lx,Io);var W5={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Vx={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function zw(){}function Bx(){}zw.prototype.h=null;var Fw,xf={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ow(){Io.call(this,"d")}function Rw(){Io.call(this,"c")}function K5(){}function If(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Df(this),this.P=yV,this.V=new $5(n=pw?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Yx}function Yx(){this.i=null,this.g="",this.h=!1}Vi(Ow,Io),Vi(Rw,Io),Vi(K5,zw),K5.prototype.g=function(){return new XMLHttpRequest},K5.prototype.i=function(){return{}},Fw=new K5;var yV=45e3,Nw={},Z5={};function Lw(n,e,t){n.L=1,n.v=e7(C1(e)),n.s=t,n.S=!0,Ux(n,null)}function Ux(n,e){n.G=Date.now(),Af(n),n.A=C1(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),Xx(t.i,"t",r),n.C=0,t=n.l.J,n.h=new Yx,n.g=SI(n.l,t?e:null,!n.s),0<n.O&&(n.M=new fV(xo(n.Pa,n,n.g),n.O)),zx(n.U,n.g,"readystatechange",n.nb),e=n.I?bx(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Tf(),function pV(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var l="",h=s.split("&"),v=0;v<h.length;v++){var w=h[v].split("=");if(1<w.length){var E=w[0];w=w[1];var x=E.split("_");l=2<=x.length&&"type"==x[1]?l+(E+"=")+w+"&":l+(E+"=redacted&")}}else l=null;else l=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.W,n.s)}function jx(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function $x(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=_V(n,t),i==Z5){4==e&&(n.o=4,es(14),r=!1),p0(n.j,n.m,null,"[Incomplete Response]");break}if(i==Nw){n.o=4,es(15),p0(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}p0(n.j,n.m,i,null),Vw(n,i)}jx(n)&&i!=Z5&&i!=Nw&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,es(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),Gw(e),e.M=!0,es(11))):(p0(n.j,n.m,t,"[Invalid Chunked Response]"),e2(n),kf(n))}function _V(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Z5:(t=Number(e.substring(t,r)),isNaN(t)?Nw:(r+=1)+t>e.length?Z5:(e=e.slice(r,r+t),n.C=r+t,e))}function Af(n){n.Y=Date.now()+n.P,Gx(n,n.P)}function Gx(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Mf(xo(n.lb,n),e)}function Q5(n){n.B&&(Qt.clearTimeout(n.B),n.B=null)}function kf(n){0==n.l.H||n.J||_I(n.l,n)}function e2(n){Q5(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,kw(n.V),Ox(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function Vw(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||Hw(t.i,n)))if(!n.K&&Hw(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;s7(t),i7(t)}$w(t),es(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=Mf(xo(t.ib,t),6e3));if(1>=nI(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else n2(t,11)}else if((n.K||t.g==n)&&s7(t),!wf(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let w=i[e];if(t.V=w[0],w=w[1],2==t.H)if("c"==w[0]){t.K=w[1],t.pa=w[2];const E=w[3];null!=E&&(t.ra=E,t.l.info("VER="+t.ra));const x=w[4];null!=x&&(t.Ga=x,t.l.info("SVER="+t.Ga));const N=w[5];null!=N&&"number"==typeof N&&0<N&&(t.L=r=1.5*N,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const V=n.g;if(V){const U=V.g?V.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(U){var s=r.i;s.g||-1==U.indexOf("spdy")&&-1==U.indexOf("quic")&&-1==U.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Bw(s,s.h),s.h=null))}if(r.F){const X=V.g?V.g.getResponseHeader("X-HTTP-Session-Id"):null;X&&(r.Da=X,cr(r.I,r.F,X))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var l=n;if((r=t).wa=CI(r,r.J?r.pa:null,r.Y),l.K){rI(r.i,l);var h=l,v=r.L;v&&h.setTimeout(v),h.B&&(Q5(h),Af(h)),r.g=l}else vI(r);0<t.j.length&&o7(t)}else"stop"!=w[0]&&"close"!=w[0]||n2(t,7);else 3==t.H&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?n2(t,7):jw(t):"noop"!=w[0]&&t.h&&t.h.Aa(w),t.A=0)}Tf()}catch{}}function qx(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(V5(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function bV(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(V5(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function wV(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(V5(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(it=If.prototype).setTimeout=function(n){this.P=n},it.nb=function(n){n=n.target;const e=this.M;e&&3==cu(n)?e.l():this.Pa(n)},it.Pa=function(n){try{if(n==this.g)e:{const E=cu(this.g);var e=this.g.Ia();if(this.g.da(),!(3>E)&&(3!=E||pw||this.g&&(this.h.h||this.g.ja()||dI(this.g)))){this.J||4!=E||7==e||Tf(),Q5(this);var t=this.g.da();this.ca=t;t:if(jx(this)){var r=dI(this.g);n="";var i=r.length,s=4==cu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){e2(this),kf(this);var l="";break t}this.h.i=new Qt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==t,function mV(n,e,t,r,i,s,l){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+l})}(this.j,this.u,this.A,this.m,this.W,E,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var h,v=this.g;if((h=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!wf(h)){var w=h;break t}}w=null}if(!(t=w)){this.i=!1,this.o=3,es(12),e2(this),kf(this);break e}p0(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Vw(this,t)}this.S?($x(this,E,l),pw&&this.i&&3==E&&(zx(this.U,this.V,"tick",this.mb),this.V.start())):(p0(this.j,this.m,l,null),Vw(this,l)),4==E&&e2(this),this.i&&!this.J&&(4==E?_I(this.l,this):(this.i=!1,Af(this)))}else(function VV(n){const e={};n=(n.g&&2<=cu(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(wf(n[r]))continue;var t=uV(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[i]||[];e[i]=s,s.push(t)}!function rV(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<l.indexOf("Unknown SID")?(this.o=3,es(12)):(this.o=0,es(13)),e2(this),kf(this)}}}catch{}},it.mb=function(){if(this.g){var n=cu(this.g),e=this.g.ja();this.C<e.length&&(Q5(this),$x(this,n,e),this.i&&4!=n&&Af(this))}},it.cancel=function(){this.J=!0,e2(this)},it.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function gV(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Tf(),es(17)),e2(this),this.o=2,kf(this)):Gx(this,this.Y-n)};var Wx=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function t2(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof t2){this.h=n.h,J5(this,n.j),this.s=n.s,this.g=n.g,X5(this,n.m),this.l=n.l;var e=n.i,t=new Of;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Kx(this,t),this.o=n.o}else n&&(e=String(n).match(Wx))?(this.h=!1,J5(this,e[1]||"",!0),this.s=Pf(e[2]||""),this.g=Pf(e[3]||"",!0),X5(this,e[4]),this.l=Pf(e[5]||"",!0),Kx(this,e[6]||"",!0),this.o=Pf(e[7]||"")):(this.h=!1,this.i=new Of(null,this.h))}function C1(n){return new t2(n)}function J5(n,e,t){n.j=t?Pf(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function X5(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Kx(n,e,t){e instanceof Of?(n.i=e,function xV(n,e){e&&!n.j&&(rh(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(Qx(this,r),Xx(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=zf(e,TV)),n.i=new Of(e,n.h))}function cr(n,e,t){n.i.set(e,t)}function e7(n){return cr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Pf(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function zf(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,SV),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function SV(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}t2.prototype.toString=function(){var n=[],e=this.j;e&&n.push(zf(e,Zx,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(zf(e,Zx,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(zf(t,"/"==t.charAt(0)?DV:EV,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",zf(t,MV)),n.join("")};var Zx=/[#\/\?@]/g,EV=/[#\?:]/g,DV=/[#\?]/g,TV=/[#\?@]/g,MV=/#/g;function Of(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function rh(n){n.g||(n.g=new Map,n.h=0,n.i&&function CV(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Qx(n,e){rh(n),e=m0(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function Jx(n,e){return rh(n),e=m0(n,e),n.g.has(e)}function Xx(n,e,t){Qx(n,e),0<t.length&&(n.i=null,n.g.set(m0(n,e),hw(t)),n.h+=t.length)}function m0(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function eI(n){this.l=n||AV,n=Qt.PerformanceNavigationTiming?0<(n=Qt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Qt.g&&Qt.g.Ka&&Qt.g.Ka()&&Qt.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(it=Of.prototype).add=function(n,e){rh(this),this.i=null,n=m0(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},it.forEach=function(n,e){rh(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},it.ta=function(){rh(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},it.Z=function(n){rh(this);let e=[];if("string"==typeof n)Jx(this,n)&&(e=e.concat(this.g.get(m0(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},it.set=function(n,e){return rh(this),this.i=null,Jx(this,n=m0(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},it.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},it.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),l=this.Z(r);for(r=0;r<l.length;r++){var i=s;""!==l[r]&&(i+="="+encodeURIComponent(String(l[r]))),n.push(i)}}return this.i=n.join("&")};var AV=10;function tI(n){return!!n.h||!!n.g&&n.g.size>=n.j}function nI(n){return n.h?1:n.g?n.g.size:0}function Hw(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Bw(n,e){n.g?n.g.add(e):n.h=e}function rI(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function iI(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return hw(n.i)}eI.prototype.cancel=function(){if(this.i=iI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var kV=class{stringify(n){return Qt.JSON.stringify(n,void 0)}parse(n){return Qt.JSON.parse(n,void 0)}};function PV(){this.g=new kV}function zV(n,e,t){const r=t||"";try{qx(n,function(i,s){let l=i;_f(i)&&(l=Iw(i)),e.push(r+s+"="+encodeURIComponent(l))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function t7(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Rf(n){this.l=n.fc||null,this.j=n.ob||!1}function n7(n,e){Hi.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=Yw,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Vi(Rf,zw),Rf.prototype.g=function(){return new n7(this.l,this.j)},Rf.prototype.i=function(n){return function(){return n}}({}),Vi(n7,Hi);var Yw=0;function oI(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Ff(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Nf(n)}function Nf(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(it=n7.prototype).open=function(n,e){if(this.readyState!=Yw)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Nf(this)},it.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Qt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},it.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ff(this)),this.readyState=Yw},it.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Nf(this)),this.g&&(this.readyState=3,Nf(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Qt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;oI(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},it.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Ff(this):Nf(this),3==this.readyState&&oI(this)}},it.Za=function(n){this.g&&(this.response=this.responseText=n,Ff(this))},it.Ya=function(n){this.g&&(this.response=n,Ff(this))},it.ka=function(){this.g&&Ff(this)},it.setRequestHeader=function(n,e){this.v.append(n,e)},it.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},it.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(n7.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var RV=Qt.JSON.parse;function Hr(n){Hi.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=sI,this.L=this.M=!1}Vi(Hr,Hi);var sI="",FV=/^https?$/i,NV=["POST","PUT"];function aI(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,cI(n),r7(n)}function cI(n){n.F||(n.F=!0,oo(n,"complete"),oo(n,"error"))}function lI(n){if(n.h&&typeof uw<"u"&&(!n.C[1]||4!=cu(n)||2!=n.da()))if(n.v&&4==cu(n))Pw(n.La,0,n);else if(oo(n,"readystatechange"),4==cu(n)){n.h=!1;try{const l=n.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===l){var i=String(n.I).match(Wx)[1]||null;!i&&Qt.self&&Qt.self.location&&(i=Qt.self.location.protocol.slice(0,-1)),r=!FV.test(i?i.toLowerCase():"")}t=r}if(t)oo(n,"complete"),oo(n,"success");else{n.m=6;try{var s=2<cu(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",cI(n)}}finally{r7(n)}}}function r7(n,e){if(n.g){uI(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||oo(n,"ready");try{t.onreadystatechange=r}catch{}}}function uI(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Qt.clearTimeout(n.A),n.A=null)}function cu(n){return n.g?n.g.readyState:0}function dI(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case sI:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function hI(n){let e="";return ww(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function Uw(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=hI(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):cr(n,e,t))}function Lf(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function fI(n){this.Ga=0,this.j=[],this.l=new G5,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Lf("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Lf("baseRetryDelayMs",5e3,n),this.hb=Lf("retryDelaySeedMs",1e4,n),this.eb=Lf("forwardChannelMaxRetries",2,n),this.xa=Lf("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new eI(n&&n.concurrentRequestLimit),this.Ja=new PV,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function jw(n){if(pI(n),3==n.H){var e=n.W++,t=C1(n.I);if(cr(t,"SID",n.K),cr(t,"RID",e),cr(t,"TYPE","terminate"),Vf(n,t),(e=new If(n,n.l,e)).L=2,e.v=e7(C1(t)),t=!1,Qt.navigator&&Qt.navigator.sendBeacon)try{t=Qt.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Qt.Image&&((new Image).src=e.v,t=!0),t||(e.g=SI(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Af(e)}bI(n)}function i7(n){n.g&&(Gw(n),n.g.cancel(),n.g=null)}function pI(n){i7(n),n.u&&(Qt.clearTimeout(n.u),n.u=null),s7(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Qt.clearTimeout(n.m),n.m=null)}function o7(n){if(!tI(n.i)&&!n.m){n.m=!0;var e=n.Na;Sf||Ax(),Ef||(Sf(),Ef=!0),Aw.add(e,n),n.C=0}}function mI(n,e){var t;t=e?e.m:n.W++;const r=C1(n.I);cr(r,"SID",n.K),cr(r,"RID",t),cr(r,"AID",n.V),Vf(n,r),n.o&&n.s&&Uw(r,n.o,n.s),t=new If(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=gI(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),Bw(n.i,t),Lw(t,r,e)}function Vf(n,e){n.na&&ww(n.na,function(t,r){cr(e,r,t)}),n.h&&qx({},function(t,r){cr(e,r,t)})}function gI(n,e,t){t=Math.min(n.j.length,t);var r=n.h?xo(n.h.Va,n.h,n):null;e:{var i=n.j;let s=-1;for(;;){const l=["count="+t];-1==s?0<t?(s=i[0].g,l.push("ofs="+s)):s=0:l.push("ofs="+s);let h=!0;for(let v=0;v<t;v++){let w=i[v].g;const E=i[v].map;if(w-=s,0>w)s=Math.max(0,i[v].g-100),h=!1;else try{zV(E,l,"req"+w+"_")}catch{r&&r(E)}}if(h){r=l.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function vI(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Sf||Ax(),Ef||(Sf(),Ef=!0),Aw.add(e,n),n.A=0}}function $w(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Mf(xo(n.Ma,n),wI(n,n.A)),n.A++,0))}function Gw(n){null!=n.B&&(Qt.clearTimeout(n.B),n.B=null)}function yI(n){n.g=new If(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=C1(n.wa);cr(e,"RID","rpc"),cr(e,"SID",n.K),cr(e,"AID",n.V),cr(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&cr(e,"TO",n.qa),cr(e,"TYPE","xmlhttp"),Vf(n,e),n.o&&n.s&&Uw(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=e7(C1(e)),t.s=null,t.S=!0,Ux(t,n)}function s7(n){null!=n.v&&(Qt.clearTimeout(n.v),n.v=null)}function _I(n,e){var t=null;if(n.g==e){s7(n),Gw(n),n.g=null;var r=2}else{if(!Hw(n.i,e))return;t=e.F,rI(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;oo(r=q5(),new Lx(r,t)),o7(n)}else vI(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function HV(n,e){return!(nI(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Mf(xo(n.Na,n,e),wI(n,n.C)),n.C++,0)))}(n,e)||2==r&&$w(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:n2(n,5);break;case 4:n2(n,10);break;case 3:n2(n,6);break;default:n2(n,2)}}function wI(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function n2(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=xo(n.pb,n);t||(t=new t2("//www.google.com/images/cleardot.gif"),Qt.location&&"http"==Qt.location.protocol||J5(t,"https"),e7(t)),function OV(n,e){const t=new G5;if(Qt.Image){const r=new Image;r.onload=H5(t7,t,r,"TestLoadImage: loaded",!0,e),r.onerror=H5(t7,t,r,"TestLoadImage: error",!1,e),r.onabort=H5(t7,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=H5(t7,t,r,"TestLoadImage: timeout",!1,e),Qt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else es(2);n.H=0,n.h&&n.h.za(e),bI(n),pI(n)}function bI(n){if(n.H=0,n.ma=[],n.h){const e=iI(n.i);(0!=e.length||0!=n.j.length)&&(gx(n.ma,e),gx(n.ma,n.j),n.i.i.length=0,hw(n.j),n.j.length=0),n.h.ya()}}function CI(n,e,t){var r=t instanceof t2?C1(t):new t2(t);if(""!=r.g)e&&(r.g=e+"."+r.g),X5(r,r.m);else{var i=Qt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new t2(null);r&&J5(s,r),e&&(s.g=e),i&&X5(s,i),t&&(s.l=t),r=s}return e=n.Da,(t=n.F)&&e&&cr(r,t,e),cr(r,"VER",n.ra),Vf(n,r),r}function SI(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Hr(t&&n.Ha&&!n.va?new Rf({ob:!0}):n.va)).Oa(n.J),e}function EI(){}function a7(){if(f0&&!(10<=Number(XL)))throw Error("Environmental error: no available transport.")}function ca(n,e){Hi.call(this),this.g=new fI(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!wf(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!wf(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new g0(this)}function DI(n){Ow.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function TI(){Rw.call(this),this.status=1}function g0(n){this.g=n}function nl(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function qw(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],l=(e=n.g[0])+(s^(t=n.g[1])&((i=n.g[2])^s))+r[0]+3614090360&4294967295;l=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=t+(l<<7&4294967295|l>>>25))+((l=s+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^s&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=e+(s^t&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=s+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^s&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=e+(s^t&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=s+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^s&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=e+(s^t&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=s+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^s&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=e+(i^s&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=s+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=t+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^s&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=s+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=t+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^s&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=s+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=t+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^s&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=s+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=t+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=e+(t^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=s+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=i+(s^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=s+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=i+(s^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^s)+r[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=s+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=i+(s^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=s+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=i+(s^e^t)+r[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=e+(i^(t|~s))+r[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=s+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(s|~t))+r[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=t+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=e+(i^(t|~s))+r[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=s+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(s|~t))+r[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=t+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=e+(i^(t|~s))+r[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=s+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(s|~t))+r[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=t+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((s=(e=t+((l=e+(i^(t|~s))+r[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=s+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((i=s+((l=i+(e^(s|~t))+r[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(l<<21&4294967295|l>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+s&4294967295}function Ln(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var s=0|n[i];r&&s==e||(t[i]=s,r=!1)}this.g=t}(it=Hr.prototype).Oa=function(n){this.M=n},it.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Fw.g(),this.C=function Hx(n){return n.h||(n.h=n.i())}(this.u?this.u:Fw),this.g.onreadystatechange=xo(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void aI(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=Qt.FormData&&n instanceof Qt.FormData,!(0<=mx(NV,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,l]of t)this.g.setRequestHeader(s,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{uI(this),0<this.B&&((this.L=function LV(n){return f0&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=xo(this.ua,this)):this.A=Pw(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){aI(this,s)}},it.ua=function(){typeof uw<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,oo(this,"timeout"),this.abort(8))},it.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,oo(this,"complete"),oo(this,"abort"),r7(this))},it.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),r7(this,!0)),Hr.$.N.call(this)},it.La=function(){this.s||(this.G||this.v||this.l?lI(this):this.kb())},it.kb=function(){lI(this)},it.isActive=function(){return!!this.g},it.da=function(){try{return 2<cu(this)?this.g.status:-1}catch{return-1}},it.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},it.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),RV(e)}},it.Ia=function(){return this.m},it.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(it=fI.prototype).ra=8,it.H=1,it.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new If(this,this.l,n);let s=this.s;if(this.U&&(s?(s=bx(s),Sx(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=gI(this,i,e),cr(t=C1(this.I),"RID",n),cr(t,"CVER",22),this.F&&cr(t,"X-HTTP-Session-Id",this.F),Vf(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(hI(s)))+"&"+e:this.o&&Uw(t,this.o,s)),Bw(this.i,i),this.bb&&cr(t,"TYPE","init"),this.P?(cr(t,"$req",e),cr(t,"SID","null"),i.aa=!0,Lw(i,t,null)):Lw(i,t,e),this.H=2}}else 3==this.H&&(n?mI(this,n):0==this.j.length||tI(this.i)||mI(this))},it.Ma=function(){if(this.u=null,yI(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Mf(xo(this.jb,this),n)}},it.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,es(10),i7(this),yI(this))},it.ib=function(){null!=this.v&&(this.v=null,i7(this),$w(this),es(19))},it.pb=function(n){n?(this.l.info("Successfully pinged google.com"),es(2)):(this.l.info("Failed to ping google.com"),es(1))},it.isActive=function(){return!!this.h&&this.h.isActive(this)},(it=EI.prototype).Ba=function(){},it.Aa=function(){},it.za=function(){},it.ya=function(){},it.isActive=function(){return!0},it.Va=function(){},a7.prototype.g=function(n,e){return new ca(n,e)},Vi(ca,Hi),ca.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;es(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=CI(n,null,n.Y),o7(n)},ca.prototype.close=function(){jw(this.g)},ca.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Iw(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&o7(e)},ca.prototype.N=function(){this.g.h=null,delete this.j,jw(this.g),delete this.g,ca.$.N.call(this)},Vi(DI,Ow),Vi(TI,Rw),Vi(g0,EI),g0.prototype.Ba=function(){oo(this.g,"a")},g0.prototype.Aa=function(n){oo(this.g,new DI(n))},g0.prototype.za=function(n){oo(this.g,new TI)},g0.prototype.ya=function(){oo(this.g,"b")},Vi(nl,function BV(){this.blockSize=-1}),nl.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},nl.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=t;)qw(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(r[i++]=n.charCodeAt(s++),i==this.blockSize){qw(this,r),i=0;break}}else for(;s<e;)if(r[i++]=n[s++],i==this.blockSize){qw(this,r),i=0;break}}this.h=i,this.i+=e},nl.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var YV={};function Ww(n){return-128<=n&&128>n?function ZL(n,e){var t=YV;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Ln([0|e],0>e?-1:0)}):new Ln([0|n],0>n?-1:0)}function lu(n){if(isNaN(n)||!isFinite(n))return v0;if(0>n)return so(lu(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=Kw;return new Ln(e,0)}var Kw=4294967296,v0=Ww(0),Zw=Ww(1),xI=Ww(16777216);function S1(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Za(n){return-1==n.h}function so(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Ln(t,~n.h).add(Zw)}function c7(n,e){return n.add(so(e))}function l7(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Hf(n,e){this.g=n,this.h=e}function u7(n,e){if(S1(e))throw Error("division by zero");if(S1(n))return new Hf(v0,v0);if(Za(n))return e=u7(so(n),e),new Hf(so(e.g),so(e.h));if(Za(e))return e=u7(n,so(e)),new Hf(so(e.g),e.h);if(30<n.g.length){if(Za(n)||Za(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Zw,r=e;0>=r.X(n);)t=II(t),r=II(r);var i=y0(t,1),s=y0(r,1);for(r=y0(r,2),t=y0(t,2);!S1(r);){var l=s.add(r);0>=l.X(n)&&(i=i.add(t),s=l),r=y0(r,1),t=y0(t,1)}return e=c7(n,i.R(e)),new Hf(i,e)}for(i=v0;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),l=(s=lu(t)).R(e);Za(l)||0<l.X(n);)l=(s=lu(t-=r)).R(e);S1(s)&&(s=Zw),i=i.add(s),n=c7(n,l)}return new Hf(i,n)}function II(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Ln(t,n.h)}function y0(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],s=0;s<r;s++)i[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new Ln(i,n.h)}(it=Ln.prototype).ea=function(){if(Za(this))return-so(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:Kw+r)*e,e*=Kw}return n},it.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(S1(this))return"0";if(Za(this))return"-"+so(this).toString(n);for(var e=lu(Math.pow(n,6)),t=this,r="";;){var i=u7(t,e).g,s=((0<(t=c7(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(S1(t=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},it.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},it.X=function(n){return Za(n=c7(this,n))?-1:S1(n)?0:1},it.abs=function(){return Za(this)?so(this):this},it.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&n.D(i)),l=(s>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=l>>>16,t[i]=(l&=65535)<<16|(s&=65535)}return new Ln(t,-2147483648&t[t.length-1]?-1:0)},it.R=function(n){if(S1(this)||S1(n))return v0;if(Za(this))return Za(n)?so(this).R(so(n)):so(so(this).R(n));if(Za(n))return so(this.R(so(n)));if(0>this.X(xI)&&0>n.X(xI))return lu(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var s=this.D(r)>>>16,l=65535&this.D(r),h=n.D(i)>>>16,v=65535&n.D(i);t[2*r+2*i]+=l*v,l7(t,2*r+2*i),t[2*r+2*i+1]+=s*v,l7(t,2*r+2*i+1),t[2*r+2*i+1]+=l*h,l7(t,2*r+2*i+1),t[2*r+2*i+2]+=s*h,l7(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Ln(t,0)},it.gb=function(n){return u7(this,n).h},it.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Ln(t,this.h&n.h)},it.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Ln(t,this.h|n.h)},it.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Ln(t,this.h^n.h)},a7.prototype.createWebChannel=a7.prototype.g,ca.prototype.send=ca.prototype.u,ca.prototype.open=ca.prototype.m,ca.prototype.close=ca.prototype.close,W5.NO_ERROR=0,W5.TIMEOUT=8,W5.HTTP_ERROR=6,Vx.COMPLETE="complete",Bx.EventType=xf,xf.OPEN="a",xf.CLOSE="b",xf.ERROR="c",xf.MESSAGE="d",Hi.prototype.listen=Hi.prototype.O,Hr.prototype.listenOnce=Hr.prototype.P,Hr.prototype.getLastError=Hr.prototype.Sa,Hr.prototype.getLastErrorCode=Hr.prototype.Ia,Hr.prototype.getStatus=Hr.prototype.da,Hr.prototype.getResponseJson=Hr.prototype.Wa,Hr.prototype.getResponseText=Hr.prototype.ja,Hr.prototype.send=Hr.prototype.ha,Hr.prototype.setWithCredentials=Hr.prototype.Oa,nl.prototype.digest=nl.prototype.l,nl.prototype.reset=nl.prototype.reset,nl.prototype.update=nl.prototype.j,Ln.prototype.add=Ln.prototype.add,Ln.prototype.multiply=Ln.prototype.R,Ln.prototype.modulo=Ln.prototype.gb,Ln.prototype.compare=Ln.prototype.X,Ln.prototype.toNumber=Ln.prototype.ea,Ln.prototype.toString=Ln.prototype.toString,Ln.prototype.getBits=Ln.prototype.D,Ln.fromNumber=lu,Ln.fromString=function MI(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return so(MI(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=lu(Math.pow(e,8)),r=v0,i=0;i<n.length;i+=8){var s=Math.min(8,n.length-i),l=parseInt(n.substring(i,i+s),e);8>s?(s=lu(Math.pow(e,s)),r=r.R(s).add(lu(l))):r=(r=r.R(t)).add(lu(l))}return r};var UV=tl.createWebChannelTransport=function(){return new a7},jV=tl.getStatEventTarget=function(){return q5()},Qw=tl.ErrorCode=W5,$V=tl.EventType=Vx,GV=tl.Event=X4,AI=tl.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},qV=tl.FetchXmlHttpFactory=Rf,d7=tl.WebChannel=Bx,WV=tl.XhrIo=Hr,KV=tl.Md5=nl,_0=tl.Integer=Ln;const kI="@firebase/firestore";class Bi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bi.UNAUTHENTICATED=new Bi(null),Bi.GOOGLE_CREDENTIALS=new Bi("google-credentials-uid"),Bi.FIRST_PARTY=new Bi("first-party-uid"),Bi.MOCK_USER=new Bi("mock-user");let w0="9.23.0";const ih=new th.Yd("@firebase/firestore");function Jw(){return ih.logLevel}function Be(n,...e){if(ih.logLevel<=th.in.DEBUG){const t=e.map(Xw);ih.debug(`Firestore (${w0}): ${n}`,...t)}}function Zr(n,...e){if(ih.logLevel<=th.in.ERROR){const t=e.map(Xw);ih.error(`Firestore (${w0}): ${n}`,...t)}}function Qa(n,...e){if(ih.logLevel<=th.in.WARN){const t=e.map(Xw);ih.warn(`Firestore (${w0}): ${n}`,...t)}}function Xw(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function gt(n="Unexpected state"){const e=`FIRESTORE (${w0}) INTERNAL ASSERTION FAILED: `+n;throw Zr(e),new Error(e)}function Tt(n,e){n||gt()}function tt(n,e){return n}const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ke extends xn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class bi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class PI{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class JV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Bi.UNAUTHENTICATED))}shutdown(){}}class XV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class eH{constructor(e){this.t=e,this.currentUser=Bi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=w=>this.i!==i?(i=this.i,t(w)):Promise.resolve();let l=new bi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new bi,e.enqueueRetryable(()=>s(this.currentUser))};const h=()=>{const w=l;e.enqueueRetryable((0,Ce.Z)(function*(){yield w.promise,yield s(r.currentUser)}))},v=w=>{Be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(w=>v(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?v(w):(Be("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new bi)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Tt("string"==typeof r.accessToken),new PI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Tt(null===e||"string"==typeof e),new Bi(e)}}class tH{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Bi.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class nH{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new tH(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Bi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rH{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=s=>{null!=s.error&&Be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.T;return this.T=s.token,Be("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):Be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Tt("string"==typeof t.token),this.T=t.token,new zI(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function iH(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class OI{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=iH(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function Wt(n,e){return n<e?-1:n>e?1:0}function b0(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function RI(n){return n+"\0"}class _r{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ke(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ke(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ke(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ke(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return _r.fromMillis(Date.now())}static fromDate(e){return _r.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new _r(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Wt(this.nanoseconds,e.nanoseconds):Wt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class xt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new xt(e)}static min(){return new xt(new _r(0,0))}static max(){return new xt(new _r(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Bf{constructor(e,t,r){void 0===t?t=0:t>e.length&&gt(),void 0===r?r=e.length-t:r>e.length-t&&gt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Bf.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Bf?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),l=t.get(i);if(s<l)return-1;if(s>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class yn extends Bf{construct(e,t,r){return new yn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ke(fe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new yn(t)}static emptyPath(){return new yn([])}}const oH=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Br extends Bf{construct(e,t,r){return new Br(e,t,r)}static isValidIdentifier(e){return oH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Br.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Br(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new ke(fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const h=e[i];if("\\"===h){if(i+1===e.length)throw new ke(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[i+1];if("\\"!==v&&"."!==v&&"`"!==v)throw new ke(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,i+=2}else"`"===h?(l=!l,i++):"."!==h||l?(r+=h,i++):(s(),i++)}if(s(),l)throw new ke(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Br(t)}static emptyPath(){return new Br([])}}class et{constructor(e){this.path=e}static fromPath(e){return new et(yn.fromString(e))}static fromName(e){return new et(yn.fromString(e).popFirst(5))}static empty(){return new et(yn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===yn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return yn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new et(new yn(e.slice()))}}class h7{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function eb(n){return n.fields.find(e=>2===e.kind)}function r2(n){return n.fields.filter(e=>2!==e.kind)}h7.UNKNOWN_ID=-1;class f7{constructor(e,t){this.fieldPath=e,this.kind=t}}class Yf{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Yf(0,la.min())}}function FI(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=xt.fromTimestamp(1e9===r?new _r(t+1,0):new _r(t,r));return new la(i,et.empty(),e)}function NI(n){return new la(n.readTime,n.key,-1)}class la{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new la(xt.min(),et.empty(),-1)}static max(){return new la(xt.max(),et.empty(),-1)}}function tb(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=et.comparator(n.documentKey,e.documentKey),0!==t?t:Wt(n.largestBatchId,e.largestBatchId))}const LI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class VI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function oh(n){return nb.apply(this,arguments)}function nb(){return nb=(0,Ce.Z)(function*(n){if(n.code!==fe.FAILED_PRECONDITION||n.message!==LI)throw n;Be("LocalStore","Unexpectedly lost primary lease")}),nb.apply(this,arguments)}class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&gt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new se((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof se?t:se.resolve(t)}catch(t){return se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):se.reject(t)}static resolve(e){return new se((t,r)=>{t(e)})}static reject(e){return new se((t,r)=>{r(e)})}static waitFor(e){return new se((t,r)=>{let i=0,s=0,l=!1;e.forEach(h=>{++i,h.next(()=>{++s,l&&s===i&&t()},v=>r(v))}),l=!0,s===i&&t()})}static or(e){let t=se.resolve(!1);for(const r of e)t=t.next(i=>i?se.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new se((r,i)=>{const s=e.length,l=new Array(s);let h=0;for(let v=0;v<s;v++){const w=v;t(e[w]).next(E=>{l[w]=E,++h,h===s&&r(l)},E=>i(E))}})}static doWhile(e,t){return new se((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}class p7{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new bi,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new Uf(e,t.error)):this.v.resolve()},this.transaction.onerror=r=>{const i=rb(r.target.error);this.v.reject(new Uf(e,i))}}static open(e,t,r,i){try{return new p7(t,e.transaction(i,r))}catch(s){throw new Uf(t,s)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Be("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new lH(t)}}class rl{constructor(e,t,r){this.name=e,this.version=t,this.V=r,12.2===rl.S((0,xn.z$)())&&Zr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Be("SimpleDb","Removing database:",e),o2(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,xn.hl)())return!1;if(rl.C())return!0;const e=(0,xn.z$)(),t=rl.S(e),r=0<t&&t<10,i=rl.N(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}$(e){var t=this;return(0,Ce.Z)(function*(){return t.db||(Be("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=l=>{r(l.target.result)},s.onblocked=()=>{i(new Uf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=l=>{const h=l.target.error;i("VersionError"===h.name?new ke(fe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new ke(fe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new Uf(e,h))},s.onupgradeneeded=l=>{Be("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',l.oldVersion),t.V.O(l.target.result,s.transaction,l.oldVersion,t.version).next(()=>{Be("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=r=>t.F(r)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var s=this;return(0,Ce.Z)(function*(){const l="readonly"===t;let h=0;for(;;){++h;try{s.db=yield s.$(e);const v=p7.open(s.db,e,l?"readonly":"readwrite",r),w=i(v).next(E=>(v.P(),E)).catch(E=>(v.abort(E),se.reject(E))).toPromise();return w.catch(()=>{}),yield v.R,w}catch(v){const w=v,E="FirebaseError"!==w.name&&h<3;if(Be("SimpleDb","Transaction failed with error:",w.message,"Retrying:",E),s.close(),!E)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class cH{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return o2(this.L.delete())}}class Uf extends ke{constructor(e,t){super(fe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function sh(n){return"IndexedDbTransactionError"===n.name}class lH{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Be("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Be("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),o2(r)}add(e){return Be("SimpleDb","ADD",this.store.name,e,e),o2(this.store.add(e))}get(e){return o2(this.store.get(e)).next(t=>(void 0===t&&(t=null),Be("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Be("SimpleDb","DELETE",this.store.name,e),o2(this.store.delete(e))}count(){return Be("SimpleDb","COUNT",this.store.name),o2(this.store.count())}j(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),s=[];return this.W(i,(l,h)=>{s.push(h)}).next(()=>s)}{const i=this.store.getAll(r.range);return new se((s,l)=>{i.onerror=h=>{l(h.target.error)},i.onsuccess=h=>{s(h.target.result)}})}}H(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new se((i,s)=>{r.onerror=l=>{s(l.target.error)},r.onsuccess=l=>{i(l.target.result)}})}J(e,t){Be("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const i=this.cursor(r);return this.W(i,(s,l,h)=>h.delete())}X(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.W(i,t)}Z(e){const t=this.cursor({});return new se((r,i)=>{t.onerror=s=>{const l=rb(s.target.error);i(l)},t.onsuccess=s=>{const l=s.target.result;l?e(l.primaryKey,l.value).next(h=>{h?l.continue():r()}):r()}})}W(e,t){const r=[];return new se((i,s)=>{e.onerror=l=>{s(l.target.error)},e.onsuccess=l=>{const h=l.target.result;if(!h)return void i();const v=new cH(h),w=t(h.primaryKey,h.value,v);if(w instanceof se){const E=w.catch(x=>(v.done(),se.reject(x)));r.push(E)}v.isDone?i():null===v.K?h.continue():h.continue(v.K)}}).next(()=>se.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function o2(n){return new se((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=rb(r.target.error);t(i)}})}let HI=!1;function rb(n){const e=rl.S((0,xn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new ke("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return HI||(HI=!0,setTimeout(()=>{throw r},0)),r}}return n}class uH{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Be("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Ce.Z)(function*(){t.task=null;try{Be("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(r){sh(r)?Be("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield oh(r)}yield t.et(6e4)}))}}class dH{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,Ce.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.st(r,e))})()}st(e,t){const r=new Set;let i=t,s=!0;return se.doWhile(()=>!0===s&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(l=>{if(null!==l&&!r.has(l))return Be("IndexBackiller",`Processing collection: ${l}`),this.it(e,l,i).next(h=>{i-=h,r.add(l)});s=!1})).next(()=>t-i)}it(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(s=>{const l=s.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next(()=>this.rt(i,s)).next(h=>(Be("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h))).next(()=>l.size)}))}rt(e,t){let r=e;return t.changes.forEach((i,s)=>{const l=NI(s);tb(l,r)>0&&(r=l)}),new la(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let ua=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function jf(n){return null==n}function $f(n){return 0===n&&1/n==-1/0}function BI(n){return"number"==typeof n&&Number.isInteger(n)&&!$f(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Ao(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=YI(e)),e=hH(n.get(t),e);return YI(e)}function hH(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function YI(n){return n+"\x01\x01"}function uu(n){const e=n.length;if(Tt(e>=2),2===e)return Tt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),yn.emptyPath();const t=e-2,r=[];let i="";for(let s=0;s<e;){const l=n.indexOf("\x01",s);switch((l<0||l>t)&&gt(),n.charAt(l+1)){case"\x01":const h=n.substring(s,l);let v;0===i.length?v=h:(i+=h,v=i,i=""),r.push(v);break;case"\x10":i+=n.substring(s,l),i+="\0";break;case"\x11":i+=n.substring(s,l+1);break;default:gt()}s=l+2}return new yn(r)}const UI=["userId","batchId"];function m7(n,e){return[n,Ao(e)]}function jI(n,e,t){return[n,Ao(e),t]}const fH={},pH=["prefixPath","collectionGroup","readTime","documentId"],mH=["prefixPath","collectionGroup","documentId"],gH=["collectionGroup","readTime","prefixPath","documentId"],vH=["canonicalId","targetId"],yH=["targetId","path"],_H=["path","targetId"],wH=["collectionId","parent"],bH=["indexId","uid"],CH=["uid","sequenceNumber"],SH=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],EH=["indexId","uid","orderedDocumentKey"],DH=["userId","collectionPath","documentId"],TH=["userId","collectionPath","largestBatchId"],MH=["userId","collectionGroup","largestBatchId"],$I=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],xH=[...$I,"documentOverlays"],GI=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],qI=GI,IH=[...qI,"indexConfiguration","indexState","indexEntries"];class ib extends VI{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Yi(n,e){const t=tt(n);return rl.M(t.ht,e)}function WI(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ah(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function KI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Jn{constructor(e,t){this.comparator=e,this.root=t||ao.EMPTY}insert(e,t){return new Jn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ao.BLACK,null,null))}remove(e){return new Jn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ao.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new g7(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new g7(this.root,e,this.comparator,!1)}getReverseIterator(){return new g7(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new g7(this.root,e,this.comparator,!0)}}class g7{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ao{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??ao.RED,this.left=i??ao.EMPTY,this.right=s??ao.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new ao(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ao.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return ao.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ao.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ao.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw gt();const e=this.left.check();if(e!==this.right.check())throw gt();return e+(this.isRed()?0:1)}}ao.EMPTY=null,ao.RED=!0,ao.BLACK=!1,ao.EMPTY=new class{constructor(){this.size=0}get key(){throw gt()}get value(){throw gt()}get color(){throw gt()}get left(){throw gt()}get right(){throw gt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new ao(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class lr{constructor(e){this.comparator=e,this.data=new Jn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ZI(this.data.getIterator())}getIteratorFrom(e){return new ZI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof lr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new lr(this.comparator);return t.data=e,t}}class ZI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function C0(n){return n.hasNext()?n.getNext():void 0}class Ss{constructor(e){this.fields=e,e.sort(Br.comparator)}static empty(){return new Ss([])}unionWith(e){let t=new lr(Br.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Ss(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return b0(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class QI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ci{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new QI("Invalid base64 string: "+i):i}}(e);return new Ci(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Ci(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Wt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ci.EMPTY_BYTE_STRING=new Ci("");const kH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ch(n){if(Tt(!!n),"string"==typeof n){let e=0;const t=kH.exec(n);if(Tt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Yr(n.seconds),nanos:Yr(n.nanos)}}function Yr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function E1(n){return"string"==typeof n?Ci.fromBase64String(n):Ci.fromUint8Array(n)}function v7(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function y7(n){const e=n.mapValue.fields.__previous_value__;return v7(e)?y7(e):e}function Gf(n){const e=ch(n.mapValue.fields.__local_write_time__.timestampValue);return new _r(e.seconds,e.nanos)}class PH{constructor(e,t,r,i,s,l,h,v,w){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=h,this.longPollingOptions=v,this.useFetchStreams=w}}class lh{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new lh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof lh&&e.projectId===this.projectId&&e.database===this.database}}const uh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},_7={nullValue:"NULL_VALUE"};function dh(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?v7(n)?4:tA(n)?9007199254740991:10:gt()}function du(n,e){if(n===e)return!0;const t=dh(n);if(t!==dh(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Gf(n).isEqual(Gf(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=ch(r.timestampValue),l=ch(i.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,E1(n.bytesValue).isEqual(E1(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Yr(r.geoPointValue.latitude)===Yr(i.geoPointValue.latitude)&&Yr(r.geoPointValue.longitude)===Yr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Yr(r.integerValue)===Yr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Yr(r.doubleValue),l=Yr(i.doubleValue);return s===l?$f(s)===$f(l):isNaN(s)&&isNaN(l)}return!1}(n,e);case 9:return b0(n.arrayValue.values||[],e.arrayValue.values||[],du);case 10:return function(r,i){const s=r.mapValue.fields||{},l=i.mapValue.fields||{};if(WI(s)!==WI(l))return!1;for(const h in s)if(s.hasOwnProperty(h)&&(void 0===l[h]||!du(s[h],l[h])))return!1;return!0}(n,e);default:return gt()}var i}function qf(n,e){return void 0!==(n.values||[]).find(t=>du(t,e))}function hh(n,e){if(n===e)return 0;const t=dh(n),r=dh(e);if(t!==r)return Wt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Wt(n.booleanValue,e.booleanValue);case 2:return function(i,s){const l=Yr(i.integerValue||i.doubleValue),h=Yr(s.integerValue||s.doubleValue);return l<h?-1:l>h?1:l===h?0:isNaN(l)?isNaN(h)?0:-1:1}(n,e);case 3:return JI(n.timestampValue,e.timestampValue);case 4:return JI(Gf(n),Gf(e));case 5:return Wt(n.stringValue,e.stringValue);case 6:return function(i,s){const l=E1(i),h=E1(s);return l.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const l=i.split("/"),h=s.split("/");for(let v=0;v<l.length&&v<h.length;v++){const w=Wt(l[v],h[v]);if(0!==w)return w}return Wt(l.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const l=Wt(Yr(i.latitude),Yr(s.latitude));return 0!==l?l:Wt(Yr(i.longitude),Yr(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const l=i.values||[],h=s.values||[];for(let v=0;v<l.length&&v<h.length;++v){const w=hh(l[v],h[v]);if(w)return w}return Wt(l.length,h.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===uh.mapValue&&s===uh.mapValue)return 0;if(i===uh.mapValue)return 1;if(s===uh.mapValue)return-1;const l=i.fields||{},h=Object.keys(l),v=s.fields||{},w=Object.keys(v);h.sort(),w.sort();for(let E=0;E<h.length&&E<w.length;++E){const x=Wt(h[E],w[E]);if(0!==x)return x;const N=hh(l[h[E]],v[w[E]]);if(0!==N)return N}return Wt(h.length,w.length)}(n.mapValue,e.mapValue);default:throw gt()}}function JI(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Wt(n,e);const t=ch(n),r=ch(e),i=Wt(t.seconds,r.seconds);return 0!==i?i:Wt(t.nanos,r.nanos)}function S0(n){return ob(n)}function ob(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=ch(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?E1(n.bytesValue).toBase64():"referenceValue"in n?et.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const l of r.values||[])s?s=!1:i+=",",i+=ob(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",l=!0;for(const h of i)l?l=!1:s+=",",s+=`${h}:${ob(r.fields[h])}`;return s+"}"}(n.mapValue):gt();var e}function s2(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function sb(n){return!!n&&"integerValue"in n}function Wf(n){return!!n&&"arrayValue"in n}function XI(n){return!!n&&"nullValue"in n}function eA(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function b7(n){return!!n&&"mapValue"in n}function Kf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ah(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Kf(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Kf(n.arrayValue.values[t]);return e}return Object.assign({},n)}function tA(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function zH(n){return"nullValue"in n?_7:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?s2(lh.empty(),et.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:gt()}function OH(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?s2(lh.empty(),et.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?uh:gt()}function nA(n,e){const t=hh(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function rA(n,e){const t=hh(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class co{constructor(e){this.value=e}static empty(){return new co({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!b7(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kf(t)}setAll(e){let t=Br.emptyPath(),r={},i=[];e.forEach((l,h)=>{if(!t.isImmediateParentOf(h)){const v=this.getFieldsMap(t);this.applyChanges(v,r,i),r={},i=[],t=h.popLast()}l?r[h.lastSegment()]=Kf(l):i.push(h.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());b7(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return du(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];b7(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ah(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new co(Kf(this.value))}}function iA(n){const e=[];return ah(n.fields,(t,r)=>{const i=new Br([t]);if(b7(r)){const s=iA(r.mapValue).fields;if(0===s.length)e.push(i);else for(const l of s)e.push(i.child(l))}else e.push(i)}),new Ss(e)}class ur{constructor(e,t,r,i,s,l,h){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=l,this.documentState=h}static newInvalidDocument(e){return new ur(e,0,xt.min(),xt.min(),xt.min(),co.empty(),0)}static newFoundDocument(e,t,r,i){return new ur(e,1,t,xt.min(),r,i,0)}static newNoDocument(e,t){return new ur(e,2,t,xt.min(),xt.min(),co.empty(),0)}static newUnknownDocument(e,t){return new ur(e,3,t,xt.min(),xt.min(),co.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(xt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=co.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=co.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ur&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ur(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class fh{constructor(e,t){this.position=e,this.inclusive=t}}function oA(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],l=n.position[i];if(r=s.field.isKeyField()?et.comparator(et.fromName(l.referenceValue),t.key):hh(l,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function sA(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!du(n.position[t],e.position[t]))return!1;return!0}class E0{constructor(e,t="asc"){this.field=e,this.dir=t}}function RH(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class aA{}class hn extends aA{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new FH(e,t,r):"array-contains"===t?new VH(e,r):"in"===t?new fA(e,r):"not-in"===t?new HH(e,r):"array-contains-any"===t?new BH(e,r):new hn(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new NH(e,r):new LH(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(hh(t,this.value)):null!==t&&dh(this.value)===dh(t)&&this.matchesComparison(hh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return gt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Vn extends aA{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Vn(e,t)}matches(e){return D0(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function D0(n){return"and"===n.op}function ab(n){return"or"===n.op}function cb(n){return cA(n)&&D0(n)}function cA(n){for(const e of n.filters)if(e instanceof Vn)return!1;return!0}function lb(n){if(n instanceof hn)return n.field.canonicalString()+n.op.toString()+S0(n.value);if(cb(n))return n.filters.map(e=>lb(e)).join(",");{const e=n.filters.map(t=>lb(t)).join(",");return`${n.op}(${e})`}}function lA(n,e){return n instanceof hn?(t=n,(r=e)instanceof hn&&t.op===r.op&&t.field.isEqual(r.field)&&du(t.value,r.value)):n instanceof Vn?function(t,r){return r instanceof Vn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,s,l)=>i&&lA(s,r.filters[l]),!0)}(n,e):void gt();var t,r}function uA(n,e){const t=n.filters.concat(e);return Vn.create(t,n.op)}function dA(n){return n instanceof hn?`${(e=n).field.canonicalString()} ${e.op} ${S0(e.value)}`:n instanceof Vn?function(e){return e.op.toString()+" {"+e.getFilters().map(dA).join(" ,")+"}"}(n):"Filter";var e}class FH extends hn{constructor(e,t,r){super(e,t,r),this.key=et.fromName(r.referenceValue)}matches(e){const t=et.comparator(e.key,this.key);return this.matchesComparison(t)}}class NH extends hn{constructor(e,t){super(e,"in",t),this.keys=hA(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class LH extends hn{constructor(e,t){super(e,"not-in",t),this.keys=hA(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function hA(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>et.fromName(r.referenceValue))}class VH extends hn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Wf(t)&&qf(t.arrayValue,this.value)}}class fA extends hn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&qf(this.value.arrayValue,t)}}class HH extends hn{constructor(e,t){super(e,"not-in",t)}matches(e){if(qf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!qf(this.value.arrayValue,t)}}class BH extends hn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Wf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>qf(this.value.arrayValue,r))}}class YH{constructor(e,t=null,r=[],i=[],s=null,l=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=l,this.endAt=h,this.dt=null}}function ub(n,e=null,t=[],r=[],i=null,s=null,l=null){return new YH(n,e,t,r,i,s,l)}function a2(n){const e=tt(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>lb(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),jf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>S0(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>S0(r)).join(",")),e.dt=t}return e.dt}function Zf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!RH(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!lA(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!sA(n.startAt,e.startAt)&&sA(n.endAt,e.endAt)}function C7(n){return et.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function S7(n,e){return n.filters.filter(t=>t instanceof hn&&t.field.isEqual(e))}function pA(n,e,t){let r=_7,i=!0;for(const s of S7(n,e)){let l=_7,h=!0;switch(s.op){case"<":case"<=":l=zH(s.value);break;case"==":case"in":case">=":l=s.value;break;case">":l=s.value,h=!1;break;case"!=":case"not-in":l=_7}nA({value:r,inclusive:i},{value:l,inclusive:h})<0&&(r=l,i=h)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const l=t.position[s];nA({value:r,inclusive:i},{value:l,inclusive:t.inclusive})<0&&(r=l,i=t.inclusive);break}return{value:r,inclusive:i}}function mA(n,e,t){let r=uh,i=!0;for(const s of S7(n,e)){let l=uh,h=!0;switch(s.op){case">=":case">":l=OH(s.value),h=!1;break;case"==":case"in":case"<=":l=s.value;break;case"<":l=s.value,h=!1;break;case"!=":case"not-in":l=uh}rA({value:r,inclusive:i},{value:l,inclusive:h})>0&&(r=l,i=h)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const l=t.position[s];rA({value:r,inclusive:i},{value:l,inclusive:t.inclusive})>0&&(r=l,i=t.inclusive);break}return{value:r,inclusive:i}}class D1{constructor(e,t=null,r=[],i=[],s=null,l="F",h=null,v=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=l,this.startAt=h,this.endAt=v,this.wt=null,this._t=null}}function gA(n,e,t,r,i,s,l,h){return new D1(n,e,t,r,i,s,l,h)}function T0(n){return new D1(n)}function vA(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function db(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function E7(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function hb(n){return null!==n.collectionGroup}function c2(n){const e=tt(n);if(null===e.wt){e.wt=[];const t=E7(e),r=db(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new E0(t)),e.wt.push(new E0(Br.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new E0(Br.keyField(),s))}}}return e.wt}function ts(n){const e=tt(n);if(!e._t)if("F"===e.limitType)e._t=ub(e.path,e.collectionGroup,c2(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of c2(e))t.push(new E0(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new fh(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new fh(e.startAt.position,e.startAt.inclusive):null;e._t=ub(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function fb(n,e){e.getFirstInequalityField(),E7(n);const t=n.filters.concat([e]);return new D1(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function D7(n,e,t){return new D1(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Qf(n,e){return Zf(ts(n),ts(e))&&n.limitType===e.limitType}function yA(n){return`${a2(ts(n))}|lt:${n.limitType}`}function pb(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>dA(r)).join(", ")}]`),jf(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>S0(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>S0(r)).join(",")),`Target(${t})`}(ts(n))}; limitType=${n.limitType})`}function Jf(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):et.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of c2(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,s,l){const h=oA(i,s,l);return i.inclusive?h<=0:h<0}(t.startAt,c2(t),r)||t.endAt&&!function(i,s,l){const h=oA(i,s,l);return i.inclusive?h>=0:h>0}(t.endAt,c2(t),r)));var t,r}function _A(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function wA(n){return(e,t)=>{let r=!1;for(const i of c2(n)){const s=UH(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function UH(n,e,t){const r=n.field.isKeyField()?et.comparator(e.key,t.key):function(i,s,l){const h=s.data.field(i),v=l.data.field(i);return null!==h&&null!==v?hh(h,v):gt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return gt()}}class T1{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ah(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return KI(this.inner)}size(){return this.innerSize}}const jH=new Jn(et.comparator);function Es(){return jH}const bA=new Jn(et.comparator);function Xf(...n){let e=bA;for(const t of n)e=e.insert(t.key,t);return e}function CA(n){let e=bA;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function hu(){return ep()}function SA(){return ep()}function ep(){return new T1(n=>n.toString(),(n,e)=>n.isEqual(e))}const $H=new Jn(et.comparator),GH=new lr(et.comparator);function en(...n){let e=GH;for(const t of n)e=e.add(t);return e}const qH=new lr(Wt);function mb(){return qH}function EA(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$f(e)?"-0":e}}function DA(n){return{integerValue:""+n}}function TA(n,e){return BI(e)?DA(e):EA(n,e)}class T7{constructor(){this._=void 0}}function WH(n,e,t){return n instanceof M0?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&v7(i)&&(i=y7(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof l2?xA(n,e):n instanceof u2?IA(n,e):function(r,i){const s=MA(r,i),l=AA(s)+AA(r.gt);return sb(s)&&sb(r.gt)?DA(l):EA(r.serializer,l)}(n,e)}function KH(n,e,t){return n instanceof l2?xA(n,e):n instanceof u2?IA(n,e):t}function MA(n,e){return n instanceof x0?sb(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class M0 extends T7{}class l2 extends T7{constructor(e){super(),this.elements=e}}function xA(n,e){const t=kA(e);for(const r of n.elements)t.some(i=>du(i,r))||t.push(r);return{arrayValue:{values:t}}}class u2 extends T7{constructor(e){super(),this.elements=e}}function IA(n,e){let t=kA(e);for(const r of n.elements)t=t.filter(i=>!du(i,r));return{arrayValue:{values:t}}}class x0 extends T7{constructor(e,t){super(),this.serializer=e,this.gt=t}}function AA(n){return Yr(n.integerValue||n.doubleValue)}function kA(n){return Wf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class tp{constructor(e,t){this.field=e,this.transform=t}}class QH{constructor(e,t){this.version=e,this.transformResults=t}}class wr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new wr}static exists(e){return new wr(void 0,e)}static updateTime(e){return new wr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function M7(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class x7{}function PA(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new A0(n.key,wr.none()):new I0(n.key,n.data,wr.none());{const t=n.data,r=co.empty();let i=new lr(Br.comparator);for(let s of e.fields)if(!i.has(s)){let l=t.field(s);null===l&&s.length>1&&(s=s.popLast(),l=t.field(s)),null===l?r.delete(s):r.set(s,l),i=i.add(s)}return new M1(n.key,r,new Ss(i.toArray()),wr.none())}}function JH(n,e,t){n instanceof I0?function(r,i,s){const l=r.value.clone(),h=RA(r.fieldTransforms,i,s.transformResults);l.setAll(h),i.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(n,e,t):n instanceof M1?function(r,i,s){if(!M7(r.precondition,i))return void i.convertToUnknownDocument(s.version);const l=RA(r.fieldTransforms,i,s.transformResults),h=i.data;h.setAll(OA(r)),h.setAll(l),i.convertToFoundDocument(s.version,h).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function np(n,e,t,r){return n instanceof I0?function(i,s,l,h){if(!M7(i.precondition,s))return l;const v=i.value.clone(),w=FA(i.fieldTransforms,h,s);return v.setAll(w),s.convertToFoundDocument(s.version,v).setHasLocalMutations(),null}(n,e,t,r):n instanceof M1?function(i,s,l,h){if(!M7(i.precondition,s))return l;const v=FA(i.fieldTransforms,h,s),w=s.data;return w.setAll(OA(i)),w.setAll(v),s.convertToFoundDocument(s.version,w).setHasLocalMutations(),null===l?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(E=>E.field))}(n,e,t,r):(l=t,M7(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l);var s,l}function XH(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=MA(r.transform,i||null);null!=s&&(null===t&&(t=co.empty()),t.set(r.field,s))}return t||null}function zA(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&b0(t,r,(i,s)=>function ZH(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof l2&&r instanceof l2||t instanceof u2&&r instanceof u2?b0(t.elements,r.elements,du):t instanceof x0&&r instanceof x0?du(t.gt,r.gt):t instanceof M0&&r instanceof M0);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class I0 extends x7{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class M1 extends x7{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function OA(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function RA(n,e,t){const r=new Map;Tt(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],l=s.transform,h=e.data.field(s.field);r.set(s.field,KH(l,h,t[i]))}return r}function FA(n,e,t){const r=new Map;for(const i of n){const s=i.transform,l=t.data.field(i.field);r.set(i.field,WH(s,l,e))}return r}class A0 extends x7{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gb extends x7{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class vb{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&JH(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=np(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=np(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=SA();return this.mutations.forEach(i=>{const s=e.get(i.key),l=s.overlayedDocument;let h=this.applyToLocalView(l,s.mutatedFields);h=t.has(i.key)?null:h;const v=PA(l,h);null!==v&&r.set(i.key,v),l.isValidDocument()||l.convertToNoDocument(xt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),en())}isEqual(e){return this.batchId===e.batchId&&b0(this.mutations,e.mutations,(t,r)=>zA(t,r))&&b0(this.baseMutations,e.baseMutations,(t,r)=>zA(t,r))}}class yb{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Tt(e.mutations.length===r.length);let i=$H;const s=e.mutations;for(let l=0;l<s.length;l++)i=i.insert(s[l].key,r[l].version);return new yb(e,t,r,i)}}class _b{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class tB{constructor(e,t){this.count=e,this.unchangedNames=t}}var ui,_n;function NA(n){switch(n){default:return gt();case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0}}function LA(n){if(void 0===n)return Zr("GRPC error has no .code"),fe.UNKNOWN;switch(n){case ui.OK:return fe.OK;case ui.CANCELLED:return fe.CANCELLED;case ui.UNKNOWN:return fe.UNKNOWN;case ui.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case ui.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case ui.INTERNAL:return fe.INTERNAL;case ui.UNAVAILABLE:return fe.UNAVAILABLE;case ui.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case ui.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case ui.NOT_FOUND:return fe.NOT_FOUND;case ui.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case ui.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case ui.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case ui.ABORTED:return fe.ABORTED;case ui.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case ui.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case ui.DATA_LOSS:return fe.DATA_LOSS;default:return gt()}}(_n=ui||(ui={}))[_n.OK=0]="OK",_n[_n.CANCELLED=1]="CANCELLED",_n[_n.UNKNOWN=2]="UNKNOWN",_n[_n.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_n[_n.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_n[_n.NOT_FOUND=5]="NOT_FOUND",_n[_n.ALREADY_EXISTS=6]="ALREADY_EXISTS",_n[_n.PERMISSION_DENIED=7]="PERMISSION_DENIED",_n[_n.UNAUTHENTICATED=16]="UNAUTHENTICATED",_n[_n.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_n[_n.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_n[_n.ABORTED=10]="ABORTED",_n[_n.OUT_OF_RANGE=11]="OUT_OF_RANGE",_n[_n.UNIMPLEMENTED=12]="UNIMPLEMENTED",_n[_n.INTERNAL=13]="INTERNAL",_n[_n.UNAVAILABLE=14]="UNAVAILABLE",_n[_n.DATA_LOSS=15]="DATA_LOSS";class wb{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return I7}static getOrCreateInstance(){return null===I7&&(I7=new wb),I7}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let I7=null;function VA(){return new TextEncoder}const nB=new _0([4294967295,4294967295],0);function HA(n){const e=VA().encode(n),t=new KV;return t.update(e),new Uint8Array(t.digest())}function BA(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new _0([t,r],0),new _0([i,s],0)]}class bb{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new rp(`Invalid padding: ${t}`);if(r<0)throw new rp(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new rp(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new rp(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=_0.fromNumber(this.It)}Et(e,t,r){let i=e.add(t.multiply(_0.fromNumber(r)));return 1===i.compare(nB)&&(i=new _0([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=HA(e),[r,i]=BA(t);for(let s=0;s<this.hashCount;s++){const l=this.Et(r,i,s);if(!this.At(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new bb(s,i,t);return r.forEach(h=>l.insert(h)),l}insert(e){if(0===this.It)return;const t=HA(e),[r,i]=BA(t);for(let s=0;s<this.hashCount;s++){const l=this.Et(r,i,s);this.Rt(l)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class rp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ip{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,op.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new ip(xt.min(),i,new Jn(Wt),Es(),en())}}class op{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new op(r,t,en(),en(),en())}}class A7{constructor(e,t,r,i){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=i}}class YA{constructor(e,t){this.targetId=e,this.Vt=t}}class UA{constructor(e,t,r=Ci.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class jA{constructor(){this.St=0,this.Dt=GA(),this.Ct=Ci.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=en(),t=en(),r=en();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:gt()}}),new op(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=GA()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class rB{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Es(),this.zt=$A(),this.Wt=new Jn(Wt)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:gt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,i)=>{this.te(i)&&t(i)})}ne(e){var t;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const l=s.target;if(C7(l))if(0===i){const h=new et(l.path);this.Yt(r,h,ur.newNoDocument(h,xt.min()))}else Tt(1===i);else{const h=this.ie(r);if(h!==i){const v=this.re(e,h);0!==v&&(this.ee(r),this.Wt=this.Wt.insert(r,2===v?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=wb.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(w,E,x){var N,V,U,X,he,Ve;const Ke={localCacheCount:E,existenceFilterCount:x.count},Je=x.unchangedNames;return Je&&(Ke.bloomFilter={applied:0===w,hashCount:null!==(N=Je?.hashCount)&&void 0!==N?N:0,bitmapLength:null!==(X=null===(U=null===(V=Je?.bits)||void 0===V?void 0:V.bitmap)||void 0===U?void 0:U.length)&&void 0!==X?X:0,padding:null!==(Ve=null===(he=Je?.bits)||void 0===he?void 0:he.padding)&&void 0!==Ve?Ve:0}),Ke}(v,h,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:l=0},hashCount:h=0}=r;let v,w;try{v=E1(s).toUint8Array()}catch(E){if(E instanceof QI)return Qa("Decoding the base64 bloom filter in existence filter failed ("+E.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw E}try{w=new bb(v,l,h)}catch(E){return Qa(E instanceof rp?"BloomFilter error: ":"Applying bloom filter failed: ",E),1}return 0===w.It?1:i!==t-this.oe(e.targetId,w)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const l=this.Gt.ue(),h=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;t.vt(h)||(this.Yt(e,s,null),i++)}),i}ce(e){const t=new Map;this.Qt.forEach((s,l)=>{const h=this.se(l);if(h){if(s.current&&C7(h.target)){const v=new et(h.target.path);null!==this.jt.get(v)||this.ae(l,v)||this.Yt(l,v,ur.newNoDocument(v,e))}s.Mt&&(t.set(l,s.Ot()),s.Ft())}});let r=en();this.zt.forEach((s,l)=>{let h=!0;l.forEachWhile(v=>{const w=this.se(v);return!w||"TargetPurposeLimboResolution"===w.purpose||(h=!1,!1)}),h&&(r=r.add(s))}),this.jt.forEach((s,l)=>l.setReadTime(e));const i=new ip(e,t,this.Wt,this.jt,r);return this.jt=Es(),this.zt=$A(),this.Wt=new Jn(Wt),i}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new jA,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new lr(Wt),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Be("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new jA),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function $A(){return new Jn(et.comparator)}function GA(){return new Jn(et.comparator)}const iB={asc:"ASCENDING",desc:"DESCENDING"},oB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sB={and:"AND",or:"OR"};class aB{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Cb(n,e){return n.useProto3Json||jf(e)?e:{value:e}}function k0(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qA(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function cB(n,e){return k0(n,e.toTimestamp())}function Qr(n){return Tt(!!n),xt.fromTimestamp(function(e){const t=ch(e);return new _r(t.seconds,t.nanos)}(n))}function Sb(n,e){return(t=n,new yn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function WA(n){const e=yn.fromString(n);return Tt(rk(e)),e}function sp(n,e){return Sb(n.databaseId,e.path)}function fu(n,e){const t=WA(e);if(t.get(1)!==n.databaseId.projectId)throw new ke(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ke(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new et(ZA(t))}function Eb(n,e){return Sb(n.databaseId,e)}function KA(n){const e=WA(n);return 4===e.length?yn.emptyPath():ZA(e)}function ap(n){return new yn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function ZA(n){return Tt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function QA(n,e,t){return{name:sp(n,e),fields:t.value.mapValue.fields}}function JA(n,e,t){const r=fu(n,e.name),i=Qr(e.updateTime),s=e.createTime?Qr(e.createTime):xt.min(),l=new co({mapValue:{fields:e.fields}}),h=ur.newFoundDocument(r,i,s,l);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function cp(n,e){let t;if(e instanceof I0)t={update:QA(n,e.key,e.value)};else if(e instanceof A0)t={delete:sp(n,e.key)};else if(e instanceof M1)t={update:QA(n,e.key,e.data),updateMask:gB(e.fieldMask)};else{if(!(e instanceof gb))return gt();t={verify:sp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const l=s.transform;if(l instanceof M0)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof l2)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof u2)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof x0)return{fieldPath:s.field.canonicalString(),increment:l.gt};throw gt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:cB(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:gt()),t;var i}function Db(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?wr.updateTime(Qr(i.updateTime)):void 0!==i.exists?wr.exists(i.exists):wr.none():wr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,l){let h=null;"setToServerValue"in l?(Tt("REQUEST_TIME"===l.setToServerValue),h=new M0):"appendMissingElements"in l?h=new l2(l.appendMissingElements.values||[]):"removeAllFromArray"in l?h=new u2(l.removeAllFromArray.values||[]):"increment"in l?h=new x0(s,l.increment):gt();const v=Br.fromServerFormat(l.fieldPath);return new tp(v,h)}(n,i)):[];var i;if(e.update){const i=fu(n,e.update.name),s=new co({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=new Ss((e.updateMask.fieldPaths||[]).map(w=>Br.fromServerFormat(w)));return new M1(i,s,l,t,r)}return new I0(i,s,t,r)}if(e.delete){const i=fu(n,e.delete);return new A0(i,t)}if(e.verify){const i=fu(n,e.verify);return new gb(i,t)}return gt()}function XA(n,e){return{documents:[Eb(n,e.path)]}}function Tb(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Eb(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Eb(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(v){if(0!==v.length)return nk(Vn.create(v,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const s=function(v){if(0!==v.length)return v.map(w=>{return{field:ph((E=w).field),direction:fB(E.dir)};var E})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const l=Cb(n,e.limit);var h,v;return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(h=e.startAt).inclusive,values:h.position}),e.endAt&&(t.structuredQuery.endAt={before:!(v=e.endAt).inclusive,values:v.position}),t}function ek(n){let e=KA(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Tt(1===r);const E=t.from[0];E.allDescendants?i=E.collectionId:e=e.child(E.collectionId)}let s=[];t.where&&(s=function(E){const x=tk(E);return x instanceof Vn&&cb(x)?x.getFilters():[x]}(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(E=>{return new E0(P0((x=E).field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction));var x}));let h=null;t.limit&&(h=function(E){let x;return x="object"==typeof E?E.value:E,jf(x)?null:x}(t.limit));let v=null;var E;t.startAt&&(v=new fh((E=t.startAt).values||[],!!E.before));let w=null;return t.endAt&&(w=function(E){return new fh(E.values||[],!E.before)}(t.endAt)),gA(e,i,l,s,h,"F",v,w)}function tk(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=P0(e.unaryFilter.field);return hn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=P0(e.unaryFilter.field);return hn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=P0(e.unaryFilter.field);return hn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=P0(e.unaryFilter.field);return hn.create(s,"!=",{nullValue:"NULL_VALUE"});default:return gt()}}(n):void 0!==n.fieldFilter?hn.create(P0((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return gt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Vn.create(e.compositeFilter.filters.map(t=>tk(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return gt()}}(e.compositeFilter.op))}(n):gt();var e}function fB(n){return iB[n]}function pB(n){return oB[n]}function mB(n){return sB[n]}function ph(n){return{fieldPath:n.canonicalString()}}function P0(n){return Br.fromServerFormat(n.fieldPath)}function nk(n){return n instanceof hn?function(e){if("=="===e.op){if(eA(e.value))return{unaryFilter:{field:ph(e.field),op:"IS_NAN"}};if(XI(e.value))return{unaryFilter:{field:ph(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(eA(e.value))return{unaryFilter:{field:ph(e.field),op:"IS_NOT_NAN"}};if(XI(e.value))return{unaryFilter:{field:ph(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ph(e.field),op:pB(e.op),value:e.value}}}(n):n instanceof Vn?function(e){const t=e.getFilters().map(r=>nk(r));return 1===t.length?t[0]:{compositeFilter:{op:mB(e.op),filters:t}}}(n):gt()}function gB(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function rk(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class x1{constructor(e,t,r,i,s=xt.min(),l=xt.min(),h=Ci.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=h,this.expectedCount=v}withSequenceNumber(e){return new x1(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new x1(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new x1(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new x1(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class ik{constructor(e){this.fe=e}}function ok(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:k7(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:sp(i=n.fe,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:k0(i,s.version.toTimestamp()),createTime:k0(i,s.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:d2(e.version)};else{if(!e.isUnknownDocument())return gt();r.unknownDocument={path:t.path.toArray(),version:d2(e.version)}}var i,s;return r}function k7(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function d2(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function h2(n){const e=new _r(n.seconds,n.nanoseconds);return xt.fromTimestamp(e)}function f2(n,e){const t=(e.baseMutations||[]).map(s=>Db(n.fe,s));for(let s=0;s<e.mutations.length-1;++s)s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(e.mutations[s].updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s);const r=e.mutations.map(s=>Db(n.fe,s)),i=_r.fromMillis(e.localWriteTimeMs);return new vb(e.batchId,i,t,r)}function lp(n){const e=h2(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?h2(n.lastLimboFreeSnapshotVersion):xt.min();let r;var i;return void 0!==n.query.documents?(Tt(1===(i=n.query).documents.length),r=ts(T0(KA(i.documents[0])))):r=ts(ek(n.query)),new x1(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Ci.fromBase64String(n.resumeToken))}function sk(n,e){const t=d2(e.snapshotVersion),r=d2(e.lastLimboFreeSnapshotVersion);let i;i=C7(e.target)?XA(n.fe,e.target):Tb(n.fe,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:a2(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Mb(n){const e=ek({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?D7(e,e.limit,"L"):e}function xb(n,e){return new _b(e.largestBatchId,Db(n.fe,e.overlayMutation))}function ak(n,e){const t=e.path.lastSegment();return[n,Ao(e.path.popLast()),t]}function ck(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:d2(r.readTime),documentKey:Ao(r.documentKey.path),largestBatchId:r.largestBatchId}}class yB{getBundleMetadata(e,t){return lk(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:h2(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return lk(e).put({bundleId:(r=t).id,createTime:d2(Qr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return uk(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:Mb(i.bundledQuery),readTime:h2(i.readTime)};var i})}saveNamedQuery(e,t){return uk(e).put({name:(r=t).name,readTime:d2(Qr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function lk(n){return Yi(n,"bundles")}function uk(n){return Yi(n,"namedQueries")}class P7{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new P7(e,t.uid||"")}getOverlay(e,t){return up(e).get(ak(this.userId,t)).next(r=>r?xb(this.serializer,r):null)}getOverlays(e,t){const r=hu();return se.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((s,l)=>{const h=new _b(t,l);i.push(this.we(e,h))}),se.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(l=>i.add(Ao(l.getCollectionPath())));const s=[];return i.forEach(l=>{const h=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);s.push(up(e).J("collectionPathOverlayIndex",h))}),se.waitFor(s)}getOverlaysForCollection(e,t,r){const i=hu(),s=Ao(t),l=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return up(e).j("collectionPathOverlayIndex",l).next(h=>{for(const v of h){const w=xb(this.serializer,v);i.set(w.getKey(),w)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const s=hu();let l;const h=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return up(e).X({index:"collectionGroupOverlayIndex",range:h},(v,w,E)=>{const x=xb(this.serializer,w);s.size()<i||x.largestBatchId===l?(s.set(x.getKey(),x),l=x.largestBatchId):E.done()}).next(()=>s)}we(e,t){return up(e).put(function(r,i,s){const[l,h,v]=ak(i,s.mutation.key);return{userId:i,collectionPath:h,documentId:v,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:cp(r.fe,s.mutation)}}(this.serializer,this.userId,t))}}function up(n){return Yi(n,"documentOverlays")}class p2{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Yr(e.integerValue));else if("doubleValue"in e){const r=Yr(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),$f(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(E1(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?tA(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):gt()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),et.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function _B(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function dk(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const s=_B(255&t[i]);if(r+=s,8!==s)break}return r}(n);return Math.ceil(e/8)}p2.Ve=new p2;class wB{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.De(r.value),r=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ne(r.value),r=t.next();this.ke()}Me(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const i=t.codePointAt(0);this.De(240|i>>>18),this.De(128|63&i>>>12),this.De(128|63&i>>>6),this.De(128|63&i)}}this.Ce()}$e(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const i=t.codePointAt(0);this.Ne(240|i>>>18),this.Ne(128|63&i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i)}}this.ke()}Oe(e){const t=this.Fe(e),r=dk(t);this.Be(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Le(e){const t=this.Fe(e),r=dk(t);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(i){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,i,!1),new Uint8Array(s.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class bB{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class CB{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class dp{constructor(){this.je=new wB,this.ze=new bB(this.je),this.We=new CB(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class m2{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new m2(this.indexId,this.documentKey,this.arrayValue,r)}}function mh(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=hk(n.arrayValue,e.arrayValue),0!==t?t:(t=hk(n.directionalValue,e.directionalValue),0!==t?t:et.comparator(n.documentKey,e.documentKey)))}function hk(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class SB{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const r=t;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(e){Tt(e.collectionGroup===this.collectionId);const t=eb(e);if(void 0!==t&&!this.en(t))return!1;const r=r2(e);let i=new Set,s=0,l=0;for(;s<r.length&&this.en(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(void 0!==this.Ze){if(!i.has(this.Ze.field.canonicalString())){const h=r[s];if(!this.nn(this.Ze,h)||!this.sn(this.Ye[l++],h))return!1}++s}for(;s<r.length;++s)if(l>=this.Ye.length||!this.sn(this.Ye[l++],r[s]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function fk(n){var e,t;if(Tt(n instanceof hn||n instanceof Vn),n instanceof hn){if(n instanceof fA){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(s=>hn.create(n.field,"==",s)))||[];return Vn.create(i,"or")}return n}const r=n.filters.map(i=>fk(i));return Vn.create(r,n.op)}function EB(n){if(0===n.getFilters().length)return[];const e=kb(fk(n));return Tt(pk(e)),Ib(e)||Ab(e)?[e]:e.getFilters()}function Ib(n){return n instanceof hn}function Ab(n){return n instanceof Vn&&cb(n)}function pk(n){return Ib(n)||Ab(n)||function(e){if(e instanceof Vn&&ab(e)){for(const t of e.getFilters())if(!Ib(t)&&!Ab(t))return!1;return!0}return!1}(n)}function kb(n){if(Tt(n instanceof hn||n instanceof Vn),n instanceof hn)return n;if(1===n.filters.length)return kb(n.filters[0]);const e=n.filters.map(r=>kb(r));let t=Vn.create(e,n.op);return t=z7(t),pk(t)?t:(Tt(t instanceof Vn),Tt(D0(t)),Tt(t.filters.length>1),t.filters.reduce((r,i)=>Pb(r,i)))}function Pb(n,e){let t;return Tt(n instanceof hn||n instanceof Vn),Tt(e instanceof hn||e instanceof Vn),t=n instanceof hn?e instanceof hn?Vn.create([n,e],"and"):mk(n,e):e instanceof hn?mk(e,n):function(r,i){if(Tt(r.filters.length>0&&i.filters.length>0),D0(r)&&D0(i))return uA(r,i.getFilters());const s=ab(r)?r:i,l=ab(r)?i:r,h=s.filters.map(v=>Pb(v,l));return Vn.create(h,"or")}(n,e),z7(t)}function mk(n,e){if(D0(e))return uA(e,n.getFilters());{const t=e.filters.map(r=>Pb(n,r));return Vn.create(t,"or")}}function z7(n){if(Tt(n instanceof hn||n instanceof Vn),n instanceof hn)return n;const e=n.getFilters();if(1===e.length)return z7(e[0]);if(cA(n))return n;const t=e.map(i=>z7(i)),r=[];return t.forEach(i=>{i instanceof hn?r.push(i):i instanceof Vn&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:Vn.create(r,n.op)}class DB{constructor(){this.rn=new zb}addToCollectionParentIndex(e,t){return this.rn.add(t),se.resolve()}getCollectionParents(e,t){return se.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return se.resolve()}deleteFieldIndex(e,t){return se.resolve()}getDocumentsMatchingTarget(e,t){return se.resolve(null)}getIndexType(e,t){return se.resolve(0)}getFieldIndexes(e,t){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,t){return se.resolve(la.min())}getMinOffsetFromCollectionGroup(e,t){return se.resolve(la.min())}updateCollectionGroup(e,t,r){return se.resolve()}updateIndexEntries(e,t){return se.resolve()}}class zb{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new lr(yn.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new lr(yn.comparator)).toArray()}}const O7=new Uint8Array(0);class TB{constructor(e,t){this.user=e,this.databaseId=t,this.on=new zb,this.un=new T1(r=>a2(r),(r,i)=>Zf(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const s={collectionId:r,parent:Ao(i)};return gk(e).put(s)}return se.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[RI(t),""],!1,!0);return gk(e).j(i).next(s=>{for(const l of s){if(l.collectionId!==t)break;r.push(uu(l.parent))}return r})}addFieldIndex(e,t){const r=R7(e),i={indexId:(l=t).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var l;delete i.indexId;const s=r.add(i);if(t.indexState){const l=fp(e);return s.next(h=>{l.put(ck(h,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const r=R7(e),i=fp(e),s=hp(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=hp(e);let i=!0;const s=new Map;return se.forEach(this.cn(t),l=>this.an(e,l).next(h=>{i&&(i=!!h),s.set(l,h)})).next(()=>{if(i){let l=en();const h=[];return se.forEach(s,(v,w)=>{var E;Be("IndexedDbIndexManager",`Using index ${E=v,`id=${E.indexId}|cg=${E.collectionGroup}|f=${E.fields.map(Je=>`${Je.fieldPath}:${Je.kind}`).join(",")}`} to execute ${a2(t)}`);const x=function(Je,ot){const Pt=eb(ot);if(void 0===Pt)return null;for(const jt of S7(Je,Pt.fieldPath))switch(jt.op){case"array-contains-any":return jt.value.arrayValue.values||[];case"array-contains":return[jt.value]}return null}(w,v),N=function(Je,ot){const Pt=new Map;for(const jt of r2(ot))for(const mn of S7(Je,jt.fieldPath))switch(mn.op){case"==":case"in":Pt.set(jt.fieldPath.canonicalString(),mn.value);break;case"not-in":case"!=":return Pt.set(jt.fieldPath.canonicalString(),mn.value),Array.from(Pt.values())}return null}(w,v),V=function(Je,ot){const Pt=[];let jt=!0;for(const mn of r2(ot)){const Si=0===mn.kind?pA(Je,mn.fieldPath,Je.startAt):mA(Je,mn.fieldPath,Je.startAt);Pt.push(Si.value),jt&&(jt=Si.inclusive)}return new fh(Pt,jt)}(w,v),U=function(Je,ot){const Pt=[];let jt=!0;for(const mn of r2(ot)){const Si=0===mn.kind?mA(Je,mn.fieldPath,Je.endAt):pA(Je,mn.fieldPath,Je.endAt);Pt.push(Si.value),jt&&(jt=Si.inclusive)}return new fh(Pt,jt)}(w,v),X=this.hn(v,w,V),he=this.hn(v,w,U),Ve=this.ln(v,w,N),Ke=this.fn(v.indexId,x,X,V.inclusive,he,U.inclusive,Ve);return se.forEach(Ke,Je=>r.H(Je,t.limit).next(ot=>{ot.forEach(Pt=>{const jt=et.fromSegments(Pt.documentKey);l.has(jt)||(l=l.add(jt),h.push(jt))})}))}).next(()=>h)}return se.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:EB(Vn.create(e.filters,"and")).map(r=>ub(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,r,i,s,l,h){const v=(null!=t?t.length:1)*Math.max(r.length,s.length),w=v/(null!=t?t.length:1),E=[];for(let x=0;x<v;++x){const N=t?this.dn(t[x/w]):O7,V=this.wn(e,N,r[x%w],i),U=this._n(e,N,s[x%w],l),X=h.map(he=>this.wn(e,N,he,!0));E.push(...this.createRange(V,U,X))}return E}wn(e,t,r,i){const s=new m2(e,et.empty(),t,r);return i?s:s.Je()}_n(e,t,r,i){const s=new m2(e,et.empty(),t,r);return i?s.Je():s}an(e,t){const r=new SB(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let l=null;for(const h of s)r.tn(h)&&(!l||h.fields.length>l.fields.length)&&(l=h);return l})}getIndexType(e,t){let r=2;const i=this.cn(t);return se.forEach(i,s=>this.an(e,s).next(l=>{l?0!==r&&l.fields.length<function(h){let v=new lr(Br.comparator),w=!1;for(const E of h.filters)for(const x of E.getFlattenedFilters())x.field.isKeyField()||("array-contains"===x.op||"array-contains-any"===x.op?w=!0:v=v.add(x.field));for(const E of h.orderBy)E.field.isKeyField()||(v=v.add(E.field));return v.size+(w?1:0)}(s)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}mn(e,t){const r=new dp;for(const i of r2(e)){const s=t.data.field(i.fieldPath);if(null==s)return null;const l=r.He(i.kind);p2.Ve._e(s,l)}return r.Qe()}dn(e){const t=new dp;return p2.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const r=new dp;return p2.Ve._e(s2(this.databaseId,t),r.He(function(i){const s=r2(i);return 0===s.length?0:s[s.length-1].kind}(e))),r.Qe()}ln(e,t,r){if(null===r)return[];let i=[];i.push(new dp);let s=0;for(const l of r2(e)){const h=r[s++];for(const v of i)if(this.yn(t,l.fieldPath)&&Wf(h))i=this.pn(i,l,h);else{const w=v.He(l.kind);p2.Ve._e(h,w)}}return this.In(i)}hn(e,t,r){return this.ln(e,t,r.position)}In(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Qe();return t}pn(e,t,r){const i=[...e],s=[];for(const l of r.arrayValue.values||[])for(const h of i){const v=new dp;v.seed(h.Qe()),p2.Ve._e(l,v.He(t.kind)),s.push(v)}return s}yn(e,t){return!!e.filters.find(r=>r instanceof hn&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=R7(e),i=fp(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next(s=>{const l=[];return se.forEach(s,h=>i.get([h.indexId,this.uid]).next(v=>{l.push(function(w,E){const x=E?new Yf(E.sequenceNumber,new la(h2(E.readTime),new et(uu(E.documentKey)),E.largestBatchId)):Yf.empty(),N=w.fields.map(([V,U])=>new f7(Br.fromServerFormat(V),U));return new h7(w.indexId,w.collectionGroup,N,x)}(h,v))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==s?s:Wt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=R7(e),s=fp(e);return this.Tn(e).next(l=>i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(h=>se.forEach(h,v=>s.put(ck(v.indexId,this.user,l,r)))))}updateIndexEntries(e,t){const r=new Map;return se.forEach(t,(i,s)=>{const l=r.get(i.collectionGroup);return(l?se.resolve(l):this.getFieldIndexes(e,i.collectionGroup)).next(h=>(r.set(i.collectionGroup,h),se.forEach(h,v=>this.En(e,i,v).next(w=>{const E=this.An(s,v);return w.isEqual(E)?se.resolve():this.vn(e,s,v,w,E)}))))})}Rn(e,t,r,i){return hp(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.gn(r,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,r,i){return hp(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.gn(r,t.key),t.key.path.toArray()])}En(e,t,r){const i=hp(e);let s=new lr(mh);return i.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,t)])},(l,h)=>{s=s.add(new m2(r.indexId,t,h.arrayValue,h.directionalValue))}).next(()=>s)}An(e,t){let r=new lr(mh);const i=this.mn(t,e);if(null==i)return r;const s=eb(t);if(null!=s){const l=e.data.field(s.fieldPath);if(Wf(l))for(const h of l.arrayValue.values||[])r=r.add(new m2(t.indexId,e.key,this.dn(h),i))}else r=r.add(new m2(t.indexId,e.key,O7,i));return r}vn(e,t,r,i,s){Be("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const l=[];return function(h,v,w,E,x){const N=h.getIterator(),V=v.getIterator();let U=C0(N),X=C0(V);for(;U||X;){let he=!1,Ve=!1;if(U&&X){const Ke=w(U,X);Ke<0?Ve=!0:Ke>0&&(he=!0)}else null!=U?Ve=!0:he=!0;he?(E(X),X=C0(V)):Ve?(x(U),U=C0(N)):(U=C0(N),X=C0(V))}}(i,s,mh,h=>{l.push(this.Rn(e,t,r,h))},h=>{l.push(this.Pn(e,t,r,h))}),se.waitFor(l)}Tn(e){let t=1;return fp(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((l,h)=>mh(l,h)).filter((l,h,v)=>!h||0!==mh(l,v[h-1]));const i=[];i.push(e);for(const l of r){const h=mh(l,e),v=mh(l,t);if(0===h)i[0]=e.Je();else if(h>0&&v<0)i.push(l),i.push(l.Je());else if(v>0)break}i.push(t);const s=[];for(let l=0;l<i.length;l+=2){if(this.bn(i[l],i[l+1]))return[];s.push(IDBKeyRange.bound([i[l].indexId,this.uid,i[l].arrayValue,i[l].directionalValue,O7,[]],[i[l+1].indexId,this.uid,i[l+1].arrayValue,i[l+1].directionalValue,O7,[]]))}return s}bn(e,t){return mh(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(vk)}getMinOffset(e,t){return se.mapArray(this.cn(t),r=>this.an(e,r).next(i=>i||gt())).next(vk)}}function gk(n){return Yi(n,"collectionParents")}function hp(n){return Yi(n,"indexEntries")}function R7(n){return Yi(n,"indexConfiguration")}function fp(n){return Yi(n,"indexState")}function vk(n){Tt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;tb(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new la(e.readTime,e.documentKey,t)}const yk={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ko{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ko(e,ko.DEFAULT_COLLECTION_PERCENTILE,ko.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function _k(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),s=[],l=IDBKeyRange.only(t.batchId);let h=0;const v=r.X({range:l},(E,x,N)=>(h++,N.delete()));s.push(v.next(()=>{Tt(1===h)}));const w=[];for(const E of t.mutations){const x=jI(e,E.key.path,t.batchId);s.push(i.delete(x)),w.push(E.key)}return se.waitFor(s).next(()=>w)}function F7(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw gt();e=n.noDocument}return JSON.stringify(e).length}ko.DEFAULT_COLLECTION_PERCENTILE=10,ko.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ko.DEFAULT=new ko(41943040,ko.DEFAULT_COLLECTION_PERCENTILE,ko.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ko.DISABLED=new ko(-1,0,0);class N7{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Vn={}}static de(e,t,r,i){Tt(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new N7(s,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return gh(e).X({index:"userMutationsIndex",range:r},(i,s,l)=>{t=!1,l.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const s=z0(e),l=gh(e);return l.add({}).next(h=>{Tt("number"==typeof h);const v=new vb(h,t,r,i),w=function(N,V,U){const X=U.baseMutations.map(Ve=>cp(N.fe,Ve)),he=U.mutations.map(Ve=>cp(N.fe,Ve));return{userId:V,batchId:U.batchId,localWriteTimeMs:U.localWriteTime.toMillis(),baseMutations:X,mutations:he}}(this.serializer,this.userId,v),E=[];let x=new lr((N,V)=>Wt(N.canonicalString(),V.canonicalString()));for(const N of i){const V=jI(this.userId,N.key.path,h);x=x.add(N.key.path.popLast()),E.push(l.put(w)),E.push(s.put(V,fH))}return x.forEach(N=>{E.push(this.indexManager.addToCollectionParentIndex(e,N))}),e.addOnCommittedListener(()=>{this.Vn[h]=v.keys()}),se.waitFor(E).next(()=>v)})}lookupMutationBatch(e,t){return gh(e).get(t).next(r=>r?(Tt(r.userId===this.userId),f2(this.serializer,r)):null)}Sn(e,t){return this.Vn[t]?se.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Vn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return gh(e).X({index:"userMutationsIndex",range:i},(l,h,v)=>{h.userId===this.userId&&(Tt(h.batchId>=r),s=f2(this.serializer,h)),v.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return gh(e).X({index:"userMutationsIndex",range:t,reverse:!0},(i,s,l)=>{r=s.batchId,l.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return gh(e).j("userMutationsIndex",t).next(r=>r.map(i=>f2(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=m7(this.userId,t.path),i=IDBKeyRange.lowerBound(r),s=[];return z0(e).X({range:i},(l,h,v)=>{const[w,E,x]=l,N=uu(E);if(w===this.userId&&t.path.isEqual(N))return gh(e).get(x).next(V=>{if(!V)throw gt();Tt(V.userId===this.userId),s.push(f2(this.serializer,V))});v.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new lr(Wt);const i=[];return t.forEach(s=>{const l=m7(this.userId,s.path),h=IDBKeyRange.lowerBound(l),v=z0(e).X({range:h},(w,E,x)=>{const[N,V,U]=w,X=uu(V);N===this.userId&&s.path.isEqual(X)?r=r.add(U):x.done()});i.push(v)}),se.waitFor(i).next(()=>this.Dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,s=m7(this.userId,r),l=IDBKeyRange.lowerBound(s);let h=new lr(Wt);return z0(e).X({range:l},(v,w,E)=>{const[x,N,V]=v,U=uu(N);x===this.userId&&r.isPrefixOf(U)?U.length===i&&(h=h.add(V)):E.done()}).next(()=>this.Dn(e,h))}Dn(e,t){const r=[],i=[];return t.forEach(s=>{i.push(gh(e).get(s).next(l=>{if(null===l)throw gt();Tt(l.userId===this.userId),r.push(f2(this.serializer,l))}))}),se.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return _k(e.ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),se.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return se.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return z0(e).X({range:r},(s,l,h)=>{if(s[0]===this.userId){const v=uu(s[1]);i.push(v)}else h.done()}).next(()=>{Tt(0===i.length)})})}containsKey(e,t){return wk(e,this.userId,t)}xn(e){return bk(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function wk(n,e,t){const r=m7(e,t.path),i=r[1],s=IDBKeyRange.lowerBound(r);let l=!1;return z0(n).X({range:s,Y:!0},(h,v,w)=>{const[E,x,N]=h;E===e&&x===i&&(l=!0),w.done()}).next(()=>l)}function gh(n){return Yi(n,"mutations")}function z0(n){return Yi(n,"documentMutations")}function bk(n){return Yi(n,"mutationQueues")}class g2{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new g2(0)}static Mn(){return new g2(-1)}}class MB{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const r=new g2(t.highestTargetId);return t.highestTargetId=r.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>xt.fromTimestamp(new _r(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.$n(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.On(e,i)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(r=>(r.targetCount+=1,this.Bn(t,r),this.On(e,r))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>O0(e).delete(t.targetId)).next(()=>this.$n(e)).next(r=>(Tt(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,t,r){let i=0;const s=[];return O0(e).X((l,h)=>{const v=lp(h);v.sequenceNumber<=t&&null===r.get(v.targetId)&&(i++,s.push(this.removeTargetData(e,v)))}).next(()=>se.waitFor(s)).next(()=>i)}forEachTarget(e,t){return O0(e).X((r,i)=>{const s=lp(i);t(s)})}$n(e){return Ck(e).get("targetGlobalKey").next(t=>(Tt(null!==t),t))}On(e,t){return Ck(e).put("targetGlobalKey",t)}Fn(e,t){return O0(e).put(sk(this.serializer,t))}Bn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const r=a2(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return O0(e).X({range:i,index:"queryTargetsIndex"},(l,h,v)=>{const w=lp(h);Zf(t,w.target)&&(s=w,v.done())}).next(()=>s)}addMatchingKeys(e,t,r){const i=[],s=vh(e);return t.forEach(l=>{const h=Ao(l.path);i.push(s.put({targetId:r,path:h})),i.push(this.referenceDelegate.addReference(e,r,l))}),se.waitFor(i)}removeMatchingKeys(e,t,r){const i=vh(e);return se.forEach(t,s=>{const l=Ao(s.path);return se.waitFor([i.delete([r,l]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,t){const r=vh(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=vh(e);let s=en();return i.X({range:r,Y:!0},(l,h,v)=>{const w=uu(l[1]),E=new et(w);s=s.add(E)}).next(()=>s)}containsKey(e,t){const r=Ao(t.path),i=IDBKeyRange.bound([r],[RI(r)],!1,!0);let s=0;return vh(e).X({index:"documentTargetsIndex",Y:!0,range:i},([l,h],v,w)=>{0!==l&&(s++,w.done())}).next(()=>s>0)}le(e,t){return O0(e).get(t).next(r=>r?lp(r):null)}}function O0(n){return Yi(n,"targets")}function Ck(n){return Yi(n,"targetGlobal")}function vh(n){return Yi(n,"targetDocuments")}function Sk([n,e],[t,r]){const i=Wt(n,t);return 0===i?Wt(e,r):i}class xB{constructor(e){this.Ln=e,this.buffer=new lr(Sk),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Sk(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Ek{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;Be("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Ce.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){sh(r)?Be("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield oh(r)}yield t.Qn(3e5)}))}}class IB{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return se.resolve(ua.ct);const r=new xB(t);return this.jn.forEachTarget(e,i=>r.Kn(i.sequenceNumber)).next(()=>this.jn.Wn(e,i=>r.Kn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Be("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(yk)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Be("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yk):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let r,i,s,l,h,v,w;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(Be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),i=this.params.maximumSequenceNumbersToCollect):i=x,l=Date.now(),this.nthSequenceNumber(e,i))).next(x=>(r=x,h=Date.now(),this.removeTargets(e,r,t))).next(x=>(s=x,v=Date.now(),this.removeOrphanedDocuments(e,r))).next(x=>(w=Date.now(),Jw()<=th.in.DEBUG&&Be("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${l-E}ms\n\tDetermined least recently used ${i} in `+(h-l)+`ms\n\tRemoved ${s} targets in `+(v-h)+`ms\n\tRemoved ${x} documents in `+(w-v)+`ms\nTotal Duration: ${w-E}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:x})))}}class AB{constructor(e,t){this.db=e,this.garbageCollector=function Dk(n,e){return new IB(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Jn(e){let t=0;return this.Wn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(r,i)=>t(i))}addReference(e,t,r){return L7(e,r)}removeReference(e,t,r){return L7(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return L7(e,t)}Xn(e,t){return function(r,i){let s=!1;return bk(r).Z(l=>wk(r,l,i).next(h=>(h&&(s=!0),se.resolve(!h)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Yn(e,(l,h)=>{if(h<=t){const v=this.Xn(e,l).next(w=>{if(!w)return s++,r.getEntry(e,l).next(()=>(r.removeEntry(l,xt.min()),vh(e).delete([0,Ao(l.path)])))});i.push(v)}}).next(()=>se.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return L7(e,t)}Yn(e,t){const r=vh(e);let i,s=ua.ct;return r.X({index:"documentTargetsIndex"},([l,h],{path:v,sequenceNumber:w})=>{0===l?(s!==ua.ct&&t(new et(uu(i)),s),s=w,i=v):s=ua.ct}).next(()=>{s!==ua.ct&&t(new et(uu(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function L7(n,e){return vh(n).put((r=n.currentSequenceNumber,{targetId:0,path:Ao(e.path),sequenceNumber:r}));var r}class Tk{constructor(){this.changes=new T1(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ur.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?se.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class kB{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return v2(e).put(r)}removeEntry(e,t,r){return v2(e).delete(function(i,s){const l=i.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],k7(s),l[l.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Zn(e,r)))}getEntry(e,t){let r=ur.newInvalidDocument(t);return v2(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(pp(t))},(i,s)=>{r=this.ts(t,s)}).next(()=>r)}es(e,t){let r={size:0,document:ur.newInvalidDocument(t)};return v2(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(pp(t))},(i,s)=>{r={document:this.ts(t,s),size:F7(s)}}).next(()=>r)}getEntries(e,t){let r=Es();return this.ns(e,t,(i,s)=>{const l=this.ts(i,s);r=r.insert(i,l)}).next(()=>r)}ss(e,t){let r=Es(),i=new Jn(et.comparator);return this.ns(e,t,(s,l)=>{const h=this.ts(s,l);r=r.insert(s,h),i=i.insert(s,F7(l))}).next(()=>({documents:r,rs:i}))}ns(e,t,r){if(t.isEmpty())return se.resolve();let i=new lr(Ak);t.forEach(v=>i=i.add(v));const s=IDBKeyRange.bound(pp(i.first()),pp(i.last())),l=i.getIterator();let h=l.getNext();return v2(e).X({index:"documentKeyIndex",range:s},(v,w,E)=>{const x=et.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;h&&Ak(h,x)<0;)r(h,null),h=l.getNext();h&&h.isEqual(x)&&(r(h,w),h=l.hasNext()?l.getNext():null),h?E.G(pp(h)):E.done()}).next(()=>{for(;h;)r(h,null),h=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,r,i){const s=t.path,l=[s.popLast().toArray(),s.lastSegment(),k7(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],h=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return v2(e).j(IDBKeyRange.bound(l,h,!0)).next(v=>{let w=Es();for(const E of v){const x=this.ts(et.fromSegments(E.prefixPath.concat(E.collectionGroup,E.documentId)),E);x.isFoundDocument()&&(Jf(t,x)||i.has(x.key))&&(w=w.insert(x.key,x))}return w})}getAllFromCollectionGroup(e,t,r,i){let s=Es();const l=Ik(t,r),h=Ik(t,la.max());return v2(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(l,h,!0)},(v,w,E)=>{const x=this.ts(et.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);s=s.insert(x.key,x),s.size===i&&E.done()}).next(()=>s)}newChangeBuffer(e){return new PB(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return xk(e).get("remoteDocumentGlobalKey").next(t=>(Tt(!!t),t))}Zn(e,t){return xk(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const r=function vB(n,e){let t;if(e.document)t=JA(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=et.fromSegments(e.noDocument.path),i=h2(e.noDocument.readTime);t=ur.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return gt();{const r=et.fromSegments(e.unknownDocument.path),i=h2(e.unknownDocument.version);t=ur.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new _r(r[0],r[1]);return xt.fromTimestamp(i)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(xt.min()))return r}return ur.newInvalidDocument(e)}}function Mk(n){return new kB(n)}class PB extends Tk{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new T1(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new lr((s,l)=>Wt(s.canonicalString(),l.canonicalString()));return this.changes.forEach((s,l)=>{const h=this.us.get(s);if(t.push(this.os.removeEntry(e,s,h.readTime)),l.isValidDocument()){const v=ok(this.os.serializer,l);i=i.add(s.path.popLast());const w=F7(v);r+=w-h.size,t.push(this.os.addEntry(e,s,v))}else if(r-=h.size,this.trackRemovals){const v=ok(this.os.serializer,l.convertToNoDocument(xt.min()));t.push(this.os.addEntry(e,s,v))}}),i.forEach(s=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.os.updateMetadata(e,r)),se.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(r=>(this.us.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:r,rs:i})=>(i.forEach((s,l)=>{this.us.set(s,{size:l,readTime:r.get(s).readTime})}),r))}}function xk(n){return Yi(n,"remoteDocumentGlobal")}function v2(n){return Yi(n,"remoteDocumentsV14")}function pp(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Ik(n,e){const t=e.documentKey.path.toArray();return[n,k7(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Ak(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<t.length-2&&s<r.length-2;++s)if(i=Wt(t[s],r[s]),i)return i;return i=Wt(t.length,r.length),i||(i=Wt(t[t.length-2],r[r.length-2]),i||Wt(t[t.length-1],r[r.length-1]))}class zB{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class kk{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&np(r.mutation,i,Ss.empty(),_r.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,en()).next(()=>r))}getLocalViewOfDocuments(e,t,r=en()){const i=hu();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let l=Xf();return s.forEach((h,v)=>{l=l.insert(h,v.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=hu();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,en()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((l,h)=>{t.set(l,h)})})}computeViews(e,t,r,i){let s=Es();const l=ep(),h=ep();return t.forEach((v,w)=>{const E=r.get(w.key);i.has(w.key)&&(void 0===E||E.mutation instanceof M1)?s=s.insert(w.key,w):void 0!==E?(l.set(w.key,E.mutation.getFieldMask()),np(E.mutation,w,E.mutation.getFieldMask(),_r.now())):l.set(w.key,Ss.empty())}),this.recalculateAndSaveOverlays(e,s).next(v=>(v.forEach((w,E)=>l.set(w,E)),t.forEach((w,E)=>{var x;return h.set(w,new zB(E,null!==(x=l.get(w))&&void 0!==x?x:null))}),h))}recalculateAndSaveOverlays(e,t){const r=ep();let i=new Jn((l,h)=>l-h),s=en();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const h of l)h.keys().forEach(v=>{const w=t.get(v);if(null===w)return;let E=r.get(v)||Ss.empty();E=h.applyToLocalView(w,E),r.set(v,E);const x=(i.get(h.batchId)||en()).add(v);i=i.insert(h.batchId,x)})}).next(()=>{const l=[],h=i.getReverseIterator();for(;h.hasNext();){const v=h.getNext(),w=v.key,E=v.value,x=SA();E.forEach(N=>{if(!s.has(N)){const V=PA(t.get(N),r.get(N));null!==V&&x.set(N,V),s=s.add(N)}}),l.push(this.documentOverlayCache.saveOverlays(e,w,x))}return se.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return et.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):hb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const l=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):se.resolve(hu());let h=-1,v=s;return l.next(w=>se.forEach(w,(E,x)=>(h<x.largestBatchId&&(h=x.largestBatchId),s.get(E)?se.resolve():this.remoteDocumentCache.getEntry(e,E).next(N=>{v=v.insert(E,N)}))).next(()=>this.populateOverlays(e,w,s)).next(()=>this.computeViews(e,v,w,en())).next(E=>({batchId:h,changes:CA(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new et(t)).next(r=>{let i=Xf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let s=Xf();return this.indexManager.getCollectionParents(e,i).next(l=>se.forEach(l,h=>{const v=(w=t,E=h.child(i),new D1(E,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,E;return this.getDocumentsMatchingCollectionQuery(e,v,r).next(w=>{w.forEach((E,x)=>{s=s.insert(E,x)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(s=>{i.forEach((h,v)=>{const w=v.getKey();null===s.get(w)&&(s=s.insert(w,ur.newInvalidDocument(w)))});let l=Xf();return s.forEach((h,v)=>{const w=i.get(h);void 0!==w&&np(w.mutation,v,Ss.empty(),_r.now()),Jf(t,v)&&(l=l.insert(h,v))}),l})}}class OB{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return se.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:Qr(r.createTime)}),se.resolve()}getNamedQuery(e,t){return se.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:Mb(r.bundledQuery),readTime:Qr(r.readTime)}),se.resolve();var r}}class RB{constructor(){this.overlays=new Jn(et.comparator),this.ls=new Map}getOverlay(e,t){return se.resolve(this.overlays.get(t))}getOverlays(e,t){const r=hu();return se.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.we(e,t,s)}),se.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),se.resolve()}getOverlaysForCollection(e,t,r){const i=hu(),s=t.length+1,l=new et(t.child("")),h=this.overlays.getIteratorFrom(l);for(;h.hasNext();){const v=h.getNext().value,w=v.getKey();if(!t.isPrefixOf(w.path))break;w.path.length===s&&v.largestBatchId>r&&i.set(v.getKey(),v)}return se.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Jn((w,E)=>w-E);const l=this.overlays.getIterator();for(;l.hasNext();){const w=l.getNext().value;if(w.getKey().getCollectionGroup()===t&&w.largestBatchId>r){let E=s.get(w.largestBatchId);null===E&&(E=hu(),s=s.insert(w.largestBatchId,E)),E.set(w.getKey(),w)}}const h=hu(),v=s.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((w,E)=>h.set(w,E)),!(h.size()>=i)););return se.resolve(h)}we(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const l=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new _b(t,r));let s=this.ls.get(t);void 0===s&&(s=en(),this.ls.set(t,s)),this.ls.set(t,s.add(r.key))}}class Ob{constructor(){this.fs=new lr(Ui.ds),this.ws=new lr(Ui._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new Ui(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new Ui(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new et(new yn([])),r=new Ui(t,e),i=new Ui(t,e+1),s=[];return this.ws.forEachInRange([r,i],l=>{this.ys(l),s.push(l.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new et(new yn([])),r=new Ui(t,e),i=new Ui(t,e+1);let s=en();return this.ws.forEachInRange([r,i],l=>{s=s.add(l.key)}),s}containsKey(e){const t=new Ui(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ui{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return et.comparator(e.key,t.key)||Wt(e.As,t.As)}static _s(e,t){return Wt(e.As,t.As)||et.comparator(e.key,t.key)}}class FB{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new lr(Ui.ds)}checkEmpty(e){return se.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.vs;this.vs++;const l=new vb(s,t,r,i);this.mutationQueue.push(l);for(const h of i)this.Rs=this.Rs.add(new Ui(h.key,s)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return se.resolve(l)}lookupMutationBatch(e,t){return se.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.bs(t+1),s=i<0?0:i;return se.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ui(t,0),i=new Ui(t,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],l=>{const h=this.Ps(l.As);s.push(h)}),se.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new lr(Wt);return t.forEach(i=>{const s=new Ui(i,0),l=new Ui(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,l],h=>{r=r.add(h.As)})}),se.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;et.isDocumentKey(s)||(s=s.child(""));const l=new Ui(new et(s),0);let h=new lr(Wt);return this.Rs.forEachWhile(v=>{const w=v.key.path;return!!r.isPrefixOf(w)&&(w.length===i&&(h=h.add(v.As)),!0)},l),se.resolve(this.Vs(h))}Vs(e){const t=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Tt(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return se.forEach(t.mutations,i=>{const s=new Ui(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new Ui(t,0),i=this.Rs.firstAfterOrEqual(r);return se.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return se.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class NB{constructor(e){this.Ds=e,this.docs=new Jn(et.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,l=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return se.resolve(r?r.document.mutableCopy():ur.newInvalidDocument(t))}getEntries(e,t){let r=Es();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ur.newInvalidDocument(i))}),se.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Es();const l=t.path,h=new et(l.child("")),v=this.docs.getIteratorFrom(h);for(;v.hasNext();){const{key:w,value:{document:E}}=v.getNext();if(!l.isPrefixOf(w.path))break;w.path.length>l.length+1||tb(NI(E),r)<=0||(i.has(E.key)||Jf(t,E))&&(s=s.insert(E.key,E.mutableCopy()))}return se.resolve(s)}getAllFromCollectionGroup(e,t,r,i){gt()}Cs(e,t){return se.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new LB(this)}getSize(e){return se.resolve(this.size)}}class LB extends Tk{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),se.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class VB{constructor(e){this.persistence=e,this.xs=new T1(t=>a2(t),Zf),this.lastRemoteSnapshotVersion=xt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Ob,this.targetCount=0,this.Ms=g2.kn()}forEachTarget(e,t){return this.xs.forEach((r,i)=>t(i)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),se.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new g2(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,se.resolve()}updateTargetData(e,t){return this.Fn(t),se.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.xs.forEach((l,h)=>{h.sequenceNumber<=t&&null===r.get(h.targetId)&&(this.xs.delete(l),s.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)}),se.waitFor(s).next(()=>i)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return se.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),se.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(l=>{s.push(i.markPotentiallyOrphaned(e,l))}),se.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),se.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return se.resolve(r)}containsKey(e,t){return se.resolve(this.ks.containsKey(t))}}class Rb{constructor(e,t){this.$s={},this.overlays={},this.Os=new ua(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new VB(this),this.indexManager=new DB,this.remoteDocumentCache=new NB(r=>this.referenceDelegate.Ls(r)),this.serializer=new ik(t),this.qs=new OB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new RB,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new FB(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){Be("MemoryPersistence","Starting transaction:",e);const i=new HB(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,t){return se.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class HB extends VI{constructor(e){super(),this.currentSequenceNumber=e}}class V7{constructor(e){this.persistence=e,this.Qs=new Ob,this.js=null}static zs(e){return new V7(e)}get Ws(){if(this.js)return this.js;throw gt()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),se.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),se.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),se.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.Ws,r=>{const i=et.fromPath(r);return this.Hs(e,i).next(s=>{s||t.removeEntry(i,xt.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return se.or([()=>se.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class BB{constructor(e){this.serializer=e}O(e,t,r,i){const s=new p7("createOrUpgrade",t);var h;r<1&&i>=1&&(e.createObjectStore("owner"),(h=e).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",UI,{unique:!0}),h.createObjectStore("documentMutations"),Pk(e),function(h){h.createObjectStore("remoteDocuments")}(e));let l=se.resolve();return r<3&&i>=3&&(0!==r&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(e),Pk(e)),l=l.next(()=>function(h){const v=h.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:xt.min().toTimestamp(),targetCount:0};return v.put("targetGlobalKey",w)}(s))),r<4&&i>=4&&(0!==r&&(l=l.next(()=>function(h,v){return v.store("mutations").j().next(w=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",UI,{unique:!0});const E=v.store("mutations"),x=w.map(N=>E.put(N));return se.waitFor(x)})}(e,s))),l=l.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(l=l.next(()=>this.Ys(s))),r<6&&i>=6&&(l=l.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(s)))),r<7&&i>=7&&(l=l.next(()=>this.Zs(s))),r<8&&i>=8&&(l=l.next(()=>this.ti(e,s))),r<9&&i>=9&&(l=l.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(l=l.next(()=>this.ei(s))),r<11&&i>=11&&(l=l.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(l=l.next(()=>{!function(h){const v=h.createObjectStore("documentOverlays",{keyPath:DH});v.createIndex("collectionPathOverlayIndex",TH,{unique:!1}),v.createIndex("collectionGroupOverlayIndex",MH,{unique:!1})}(e)})),r<13&&i>=13&&(l=l.next(()=>function(h){const v=h.createObjectStore("remoteDocumentsV14",{keyPath:pH});v.createIndex("documentKeyIndex",mH),v.createIndex("collectionGroupIndex",gH)}(e)).next(()=>this.ni(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(l=l.next(()=>this.si(e,s))),r<15&&i>=15&&(l=l.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:bH}).createIndex("sequenceNumberIndex",CH,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:SH}).createIndex("documentKeyIndex",EH,{unique:!1})}(e))),l}Xs(e){let t=0;return e.store("remoteDocuments").X((r,i)=>{t+=F7(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.j().next(i=>se.forEach(i,s=>{const l=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",l).next(h=>se.forEach(h,v=>{Tt(v.userId===s.userId);const w=f2(this.serializer,v);return _k(e,s.userId,w).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.X((l,h)=>{const v=new yn(l),w=[0,Ao(v)];s.push(t.get(w).next(E=>E?se.resolve():t.put({targetId:0,path:Ao(v),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>se.waitFor(s))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:wH});const r=t.store("collectionParents"),i=new zb,s=l=>{if(i.add(l)){const h=l.lastSegment(),v=l.popLast();return r.put({collectionId:h,parent:Ao(v)})}};return t.store("remoteDocuments").X({Y:!0},(l,h)=>{const v=new yn(l);return s(v.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([l,h,v],w)=>{const E=uu(h);return s(E.popLast())}))}ei(e){const t=e.store("targets");return t.X((r,i)=>{const s=lp(i),l=sk(this.serializer,s);return t.put(l)})}ni(e,t){const r=t.store("remoteDocuments"),i=[];return r.X((s,l)=>{const h=t.store("remoteDocumentsV14"),v=(w=l,w.document?new et(yn.fromString(w.document.name).popFirst(5)):w.noDocument?et.fromSegments(w.noDocument.path):w.unknownDocument?et.fromSegments(w.unknownDocument.path):gt()).path.toArray();var w;const E={prefixPath:v.slice(0,v.length-2),collectionGroup:v[v.length-2],documentId:v[v.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};i.push(h.put(E))}).next(()=>se.waitFor(i))}si(e,t){const r=t.store("mutations"),i=Mk(this.serializer),s=new Rb(V7.zs,this.serializer.fe);return r.j().next(l=>{const h=new Map;return l.forEach(v=>{var w;let E=null!==(w=h.get(v.userId))&&void 0!==w?w:en();f2(this.serializer,v).keys().forEach(x=>E=E.add(x)),h.set(v.userId,E)}),se.forEach(h,(v,w)=>{const E=new Bi(w),x=P7.de(this.serializer,E),N=s.getIndexManager(E),V=N7.de(E,this.serializer,N,s.referenceDelegate);return new kk(i,V,x,N).recalculateAndSaveOverlaysForDocumentKeys(new ib(t,ua.ct),v).next()})})}}function Pk(n){n.createObjectStore("targetDocuments",{keyPath:yH}).createIndex("documentTargetsIndex",_H,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",vH,{unique:!0}),n.createObjectStore("targetGlobal")}const Fb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Nb{constructor(e,t,r,i,s,l,h,v,w,E,x=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.ii=s,this.window=l,this.document=h,this.ri=w,this.oi=E,this.ui=x,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=N=>Promise.resolve(),!Nb.D())throw new ke(fe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new AB(this,i),this.di=t+"main",this.serializer=new ik(v),this.wi=new rl(this.di,this.ui,new BB(this.serializer)),this.Bs=new MB(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Mk(this.serializer),this.qs=new yB,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===E&&Zr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ke(fe.FAILED_PRECONDITION,Fb);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new ua(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var r=(0,Ce.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,Ce.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,Ce.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>B7(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(sh(e))return Be("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Be("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return mp(e).get("owner").next(t=>se.resolve(this.Ri(t)))}Pi(e){return B7(e).delete(this.clientId)}bi(){var e=this;return(0,Ce.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Yi(r,"clientMetadata");return i.j().next(s=>{const l=e.Si(s,18e5),h=s.filter(v=>-1===l.indexOf(v));return se.forEach(h,v=>i.delete(v.clientId)).next(()=>h)})}).catch(()=>[]);if(e._i)for(const r of t)e._i.removeItem(e.Di(r.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?se.resolve(!0):mp(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new ke(fe.FAILED_PRECONDITION,Fb);return!1}}return!(!this.networkEnabled||!this.inForeground)||B7(e).j().next(r=>void 0===this.Si(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Be("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ce.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new ib(t,ua.ct);return e.Ai(r).next(()=>e.Pi(r))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(r=>this.Vi(r.updateTimeMs,t)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>B7(e).j().next(t=>this.Si(t,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return N7.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new TB(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return P7.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,r){Be("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",s=15===(l=this.ui)?IH:14===l?qI:13===l?GI:12===l?xH:11===l?$I:void gt();var l;let h;return this.wi.runTransaction(e,i,s,v=>(h=new ib(v,this.Os?this.Os.next():ua.ct),"readwrite-primary"===t?this.Ti(h).next(w=>!!w||this.Ei(h)).next(w=>{if(!w)throw Zr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new ke(fe.FAILED_PRECONDITION,LI);return r(h)}).next(w=>this.vi(h).next(()=>w)):this.Oi(h).next(()=>r(h)))).then(v=>(h.raiseOnCommittedEvent(),v))}Oi(e){return mp(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ke(fe.FAILED_PRECONDITION,Fb)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return mp(e).put("owner",t)}static D(){return rl.D()}Ai(e){const t=mp(e);return t.get("owner").next(r=>this.Ri(r)?(Be("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):se.resolve())}Vi(e,t){const r=Date.now();return!(e<r-t||e>r&&(Zr(`Detected an update time that is in the future: ${e} > ${r}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,xn.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const r=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Be("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Zr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Zr("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function mp(n){return Yi(n,"owner")}function B7(n){return Yi(n,"clientMetadata")}function Lb(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Vb{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=i}static Li(e,t){let r=en(),i=en();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Vb(e,t.fromCache,r,i)}}class zk{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ki(e,t).next(s=>s||this.Gi(e,t,i,r)).next(s=>s||this.Qi(e,t))}Ki(e,t){if(vA(t))return se.resolve(null);let r=ts(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=D7(t,null,"F"),r=ts(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const l=en(...s);return this.Ui.getDocuments(e,l).next(h=>this.indexManager.getMinOffset(e,r).next(v=>{const w=this.ji(t,h);return this.zi(t,w,l,v.readTime)?this.Ki(e,D7(t,null,"F")):this.Wi(e,w,t,v)}))})))}Gi(e,t,r,i){return vA(t)||i.isEqual(xt.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(s=>{const l=this.ji(t,s);return this.zi(t,l,r,i)?this.Qi(e,t):(Jw()<=th.in.DEBUG&&Be("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),pb(t)),this.Wi(e,l,t,FI(i,-1)))})}ji(e,t){let r=new lr(wA(e));return t.forEach((i,s)=>{Jf(e,s)&&(r=r.add(s))}),r}zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,t){return Jw()<=th.in.DEBUG&&Be("QueryEngine","Using full collection scan to execute query:",pb(t)),this.Ui.getDocumentsMatchingQuery(e,t,la.min())}Wi(e,t,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(l=>{s=s.insert(l.key,l)}),s))}}class YB{constructor(e,t,r,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new Jn(Wt),this.Yi=new T1(s=>a2(s),Zf),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kk(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function Ok(n,e,t,r){return new YB(n,e,t,r)}function Rk(n,e){return Hb.apply(this,arguments)}function Hb(){return Hb=(0,Ce.Z)(function*(n,e){const t=tt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const l=[],h=[];let v=en();for(const w of i){l.push(w.batchId);for(const E of w.mutations)v=v.add(E.key)}for(const w of s){h.push(w.batchId);for(const E of w.mutations)v=v.add(E.key)}return t.localDocuments.getDocuments(r,v).next(w=>({er:w,removedBatchIds:l,addedBatchIds:h}))})})}),Hb.apply(this,arguments)}function Fk(n){const e=tt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function Nk(n,e,t){let r=en(),i=en();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let l=Es();return t.forEach((h,v)=>{const w=s.get(h);v.isFoundDocument()!==w.isFoundDocument()&&(i=i.add(h)),v.isNoDocument()&&v.version.isEqual(xt.min())?(e.removeEntry(h,v.readTime),l=l.insert(h,v)):!w.isValidDocument()||v.version.compareTo(w.version)>0||0===v.version.compareTo(w.version)&&w.hasPendingWrites?(e.addEntry(v),l=l.insert(h,v)):Be("LocalStore","Ignoring outdated watch update for ",h,". Current version:",w.version," Watch version:",v.version)}),{nr:l,sr:i}})}function $B(n,e){const t=tt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function R0(n,e){const t=tt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Bs.getTargetData(r,e).next(s=>s?(i=s,se.resolve(i)):t.Bs.allocateTargetId(r).next(l=>(i=new x1(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}function F0(n,e,t){return Bb.apply(this,arguments)}function Bb(){return Bb=(0,Ce.Z)(function*(n,e,t){const r=tt(n),i=r.Ji.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!sh(l))throw l;Be("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),Bb.apply(this,arguments)}function Y7(n,e,t){const r=tt(n);let i=xt.min(),s=en();return r.persistence.runTransaction("Execute query","readonly",l=>function(h,v,w){const E=tt(h),x=E.Yi.get(w);return void 0!==x?se.resolve(E.Ji.get(x)):E.Bs.getTargetData(v,w)}(r,l,ts(e)).next(h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(l,h.targetId).next(v=>{s=v})}).next(()=>r.Hi.getDocumentsMatchingQuery(l,e,t?i:xt.min(),t?s:en())).next(h=>(Hk(r,_A(e),h),{documents:h,ir:s})))}function Lk(n,e){const t=tt(n),r=tt(t.Bs),i=t.Ji.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",s=>r.le(s,e).next(l=>l?l.target:null))}function Vk(n,e){const t=tt(n),r=t.Xi.get(e)||xt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Zi.getAllFromCollectionGroup(i,e,FI(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(Hk(t,e,i),i))}function Hk(n,e,t){let r=n.Xi.get(e)||xt.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Xi.set(e,r)}function Yb(){return Yb=(0,Ce.Z)(function*(n,e,t,r){const i=tt(n);let s=en(),l=Es();for(const w of t){const E=e.rr(w.metadata.name);w.document&&(s=s.add(E));const x=e.ur(w);x.setReadTime(e.cr(w.metadata.readTime)),l=l.insert(E,x)}const h=i.Zi.newChangeBuffer({trackRemovals:!0}),v=yield R0(i,(w=r,ts(T0(yn.fromString(`__bundle__/docs/${w}`)))));var w;return i.persistence.runTransaction("Apply bundle documents","readwrite",w=>Nk(w,h,l).next(E=>(h.apply(w),E)).next(E=>i.Bs.removeMatchingKeysForTargetId(w,v.targetId).next(()=>i.Bs.addMatchingKeys(w,s,v.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(w,E.nr,E.sr)).next(()=>E.nr)))}),Yb.apply(this,arguments)}function qB(n,e){return Ub.apply(this,arguments)}function Ub(){return Ub=(0,Ce.Z)(function*(n,e,t=en()){const r=yield R0(n,ts(Mb(e.bundledQuery))),i=tt(n);return i.persistence.runTransaction("Save named query","readwrite",s=>{const l=Qr(e.readTime);if(r.snapshotVersion.compareTo(l)>=0)return i.qs.saveNamedQuery(s,e);const h=r.withResumeToken(Ci.EMPTY_BYTE_STRING,l);return i.Ji=i.Ji.insert(h.targetId,h),i.Bs.updateTargetData(s,h).next(()=>i.Bs.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Bs.addMatchingKeys(s,t,r.targetId)).next(()=>i.qs.saveNamedQuery(s,e))})}),Ub.apply(this,arguments)}function Bk(n,e){return`firestore_clients_${n}_${e}`}function Yk(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function jb(n,e){return`firestore_targets_${n}_${e}`}class U7{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static ar(e,t,r){const i=JSON.parse(r);let s,l="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return l&&i.error&&(l="string"==typeof i.error.message&&"string"==typeof i.error.code,l&&(s=new ke(i.error.code,i.error.message))),l?new U7(e,t,i.state,s):(Zr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class gp{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static ar(e,t){const r=JSON.parse(t);let i,s="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new ke(r.error.code,r.error.message))),s?new gp(e,r.state,i):(Zr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class j7{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,s=mb();for(let l=0;i&&l<r.activeTargetIds.length;++l)i=BI(r.activeTargetIds[l]),s=s.add(r.activeTargetIds[l]);return i?new j7(e,s):(Zr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class $b{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new $b(t.clientId,t.onlineState):(Zr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Gb{constructor(){this.activeTargetIds=mb()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qb{constructor(e,t,r,i,s){this.window=e,this.ii=t,this.persistenceKey=r,this.wr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Jn(Wt),this.started=!1,this.yr=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.pr=Bk(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new Gb),this.Tr=new RegExp(`^firestore_clients_${l}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${l}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ce.Z)(function*(){const t=yield e.syncEngine.$i();for(const i of t){if(i===e.wr)continue;const s=e.getItem(Bk(e.persistenceKey,i));if(s){const l=j7.ar(i,s);l&&(e.gr=e.gr.insert(l.clientId,l))}}e.Pr();const r=e.storage.getItem(e.vr);if(r){const i=e.br(r);i&&e.Vr(i)}for(const i of e.yr)e.mr(i);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,r){this.Dr(e,t,r),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(jb(this.persistenceKey,e));if(r){const i=gp.ar(e,r);i&&(t=i.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(jb(this.persistenceKey,e))}updateQueryState(e,t,r){this.kr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Cr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Be("SharedClientState","READ",e,t),t}setItem(e,t){Be("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Be("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Be("SharedClientState","EVENT",r.key,r.newValue),r.key===this.pr)return void Zr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,Ce.Z)(function*(){if(t.started){if(null!==r.key)if(t.Tr.test(r.key)){if(null==r.newValue){const i=t.Or(r.key);return t.Fr(i,null)}{const i=t.Br(r.key,r.newValue);if(i)return t.Fr(i.clientId,i)}}else if(t.Er.test(r.key)){if(null!==r.newValue){const i=t.Lr(r.key,r.newValue);if(i)return t.qr(i)}}else if(t.Ar.test(r.key)){if(null!==r.newValue){const i=t.Ur(r.key,r.newValue);if(i)return t.Kr(i)}}else if(r.key===t.vr){if(null!==r.newValue){const i=t.br(r.newValue);if(i)return t.Vr(i)}}else if(r.key===t.Ir){const i=function(s){let l=ua.ct;if(null!=s)try{const h=JSON.parse(s);Tt("number"==typeof h),l=h}catch(h){Zr("SharedClientState","Failed to read sequence number from WebStorage",h)}return l}(r.newValue);i!==ua.ct&&t.sequenceNumberHandler(i)}else if(r.key===t.Rr){const i=t.Gr(r.newValue);yield Promise.all(i.map(s=>t.syncEngine.Qr(s)))}}else t.yr.push(r)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,r){const i=new U7(this.currentUser,e,t,r),s=Yk(this.persistenceKey,this.currentUser,e);this.setItem(s,i.hr())}Cr(e){const t=Yk(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,r){const i=jb(this.persistenceKey,e),s=new gp(e,t,r);this.setItem(i,s.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const r=this.Or(e);return j7.ar(r,t)}Lr(e,t){const r=this.Er.exec(e),i=Number(r[1]);return U7.ar(new Bi(void 0!==r[2]?r[2]:null),i,t)}Ur(e,t){const r=this.Ar.exec(e),i=Number(r[1]);return gp.ar(i,t)}br(e){return $b.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,Ce.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);Be("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const r=t?this.gr.insert(e,t):this.gr.remove(e),i=this.Sr(this.gr),s=this.Sr(r),l=[],h=[];return s.forEach(v=>{i.has(v)||l.push(v)}),i.forEach(v=>{s.has(v)||h.push(v)}),this.syncEngine.Wr(l,h).then(()=>{this.gr=r})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=mb();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class Uk{constructor(){this.Hr=new Gb,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Gb,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class WB{Yr(e){}shutdown(){}}class jk{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Be("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Be("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let $7=null;function Wb(){return null===$7?$7=268435456+Math.round(2147483648*Math.random()):$7++,"0x"+$7.toString(16)}const KB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ZB{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Po="WebChannelConnection";class QB extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,i,s){const l=Wb(),h=this.To(e,t);Be("RestConnection",`Sending RPC '${e}' ${l}:`,h,r);const v={};return this.Eo(v,i,s),this.Ao(e,h,v,r).then(w=>(Be("RestConnection",`Received RPC '${e}' ${l}: `,w),w),w=>{throw Qa("RestConnection",`RPC '${e}' ${l} failed with error: `,w,"url: ",h,"request:",r),w})}vo(e,t,r,i,s,l){return this.Io(e,t,r,i,s)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+w0,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,t){return`${this.mo}/v1/${t}:${KB[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,i){const s=Wb();return new Promise((l,h)=>{const v=new WV;v.setWithCredentials(!0),v.listenOnce($V.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case Qw.NO_ERROR:const E=v.getResponseJson();Be(Po,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(E)),l(E);break;case Qw.TIMEOUT:Be(Po,`RPC '${e}' ${s} timed out`),h(new ke(fe.DEADLINE_EXCEEDED,"Request time out"));break;case Qw.HTTP_ERROR:const x=v.getStatus();if(Be(Po,`RPC '${e}' ${s} failed with status:`,x,"response text:",v.getResponseText()),x>0){let N=v.getResponseJson();Array.isArray(N)&&(N=N[0]);const V=N?.error;if(V&&V.status&&V.message){const U=function(X){const he=X.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(he)>=0?he:fe.UNKNOWN}(V.status);h(new ke(U,V.message))}else h(new ke(fe.UNKNOWN,"Server responded with status "+v.getStatus()))}else h(new ke(fe.UNAVAILABLE,"Connection failed."));break;default:gt()}}finally{Be(Po,`RPC '${e}' ${s} completed.`)}});const w=JSON.stringify(i);Be(Po,`RPC '${e}' ${s} sending request:`,i),v.send(t,"POST",w,r,15)})}Ro(e,t,r){const i=Wb(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=UV(),h=jV(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},w=this.longPollingOptions.timeoutSeconds;void 0!==w&&(v.longPollingTimeout=Math.round(1e3*w)),this.useFetchStreams&&(v.xmlHttpFactory=new qV({})),this.Eo(v.initMessageHeaders,t,r),v.encodeInitMessageHeaders=!0;const E=s.join("");Be(Po,`Creating RPC '${e}' stream ${i}: ${E}`,v);const x=l.createWebChannel(E,v);let N=!1,V=!1;const U=new ZB({ro:he=>{V?Be(Po,`Not sending because RPC '${e}' stream ${i} is closed:`,he):(N||(Be(Po,`Opening RPC '${e}' stream ${i} transport.`),x.open(),N=!0),Be(Po,`RPC '${e}' stream ${i} sending:`,he),x.send(he))},oo:()=>x.close()}),X=(he,Ve,Ke)=>{he.listen(Ve,Je=>{try{Ke(Je)}catch(ot){setTimeout(()=>{throw ot},0)}})};return X(x,d7.EventType.OPEN,()=>{V||Be(Po,`RPC '${e}' stream ${i} transport opened.`)}),X(x,d7.EventType.CLOSE,()=>{V||(V=!0,Be(Po,`RPC '${e}' stream ${i} transport closed`),U.wo())}),X(x,d7.EventType.ERROR,he=>{V||(V=!0,Qa(Po,`RPC '${e}' stream ${i} transport errored:`,he),U.wo(new ke(fe.UNAVAILABLE,"The operation could not be completed")))}),X(x,d7.EventType.MESSAGE,he=>{var Ve;if(!V){const Ke=he.data[0];Tt(!!Ke);const ot=Ke.error||(null===(Ve=Ke[0])||void 0===Ve?void 0:Ve.error);if(ot){Be(Po,`RPC '${e}' stream ${i} received error:`,ot);const Pt=ot.status;let jt=function(Si){const gn=ui[Si];if(void 0!==gn)return LA(gn)}(Pt),mn=ot.message;void 0===jt&&(jt=fe.INTERNAL,mn="Unknown error status: "+Pt+" with message "+ot.message),V=!0,U.wo(new ke(jt,mn)),x.close()}else Be(Po,`RPC '${e}' stream ${i} received:`,Ke),U._o(Ke)}}),X(h,GV.STAT_EVENT,he=>{he.stat===AI.PROXY?Be(Po,`RPC '${e}' stream ${i} detected buffering proxy`):he.stat===AI.NOPROXY&&Be(Po,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{U.fo()},0),U}}function $k(){return typeof window<"u"?window:null}function G7(){return typeof document<"u"?document:null}function vp(n){return new aB(n,!0)}class Kb{constructor(e,t,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&Be("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Gk{constructor(e,t,r,i,s,l,h,v){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=h,this.listener=v,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Kb(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,Ce.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,Ce.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,Ce.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===fe.RESOURCE_EXHAUSTED?(Zr(t.toString()),Zr("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===fe.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===t&&this.Zo(r,i)},r=>{e(()=>{const i=new ke(fe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No((0,Ce.Z)(function*(){e.state=0,e.start()}))}tu(e){return Be("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Be("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class JB extends Gk{constructor(e,t,r,i,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=s}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function uB(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(v=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===v?1:"REMOVE"===v?2:"CURRENT"===v?3:"RESET"===v?4:gt(),i=e.targetChange.targetIds||[],s=function(v,w){return v.useProto3Json?(Tt(void 0===w||"string"==typeof w),Ci.fromBase64String(w||"")):(Tt(void 0===w||w instanceof Uint8Array),Ci.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,h=l&&function(v){const w=void 0===v.code?fe.UNKNOWN:LA(v.code);return new ke(w,v.message||"")}(l);t=new UA(r,i,s,h||null)}else if("documentChange"in e){const r=e.documentChange,i=fu(n,r.document.name),s=Qr(r.document.updateTime),l=r.document.createTime?Qr(r.document.createTime):xt.min(),h=new co({mapValue:{fields:r.document.fields}}),v=ur.newFoundDocument(i,s,l,h);t=new A7(r.targetIds||[],r.removedTargetIds||[],v.key,v)}else if("documentDelete"in e){const r=e.documentDelete,i=fu(n,r.document),s=r.readTime?Qr(r.readTime):xt.min(),l=ur.newNoDocument(i,s);t=new A7([],r.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const r=e.documentRemove,i=fu(n,r.document);t=new A7([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return gt();{const r=e.filter,{count:i=0,unchangedNames:s}=r,l=new tB(i,s);t=new YA(r.targetId,l)}}var v;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return xt.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?xt.min():s.readTime?Qr(s.readTime):xt.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=ap(this.serializer),t.addTarget=function(i,s){let l;const h=s.target;if(l=C7(h)?{documents:XA(i,h)}:{query:Tb(i,h)},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=qA(i,s.resumeToken);const v=Cb(i,s.expectedCount);null!==v&&(l.expectedCount=v)}else if(s.snapshotVersion.compareTo(xt.min())>0){l.readTime=k0(i,s.snapshotVersion.toTimestamp());const v=Cb(i,s.expectedCount);null!==v&&(l.expectedCount=v)}return l}(this.serializer,e);const r=function hB(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=ap(this.serializer),t.removeTarget=e,this.Wo(t)}}class XB extends Gk{constructor(e,t,r,i,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Tt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function dB(n,e){return n&&n.length>0?(Tt(void 0!==e),n.map(t=>function(r,i){let s=Qr(r.updateTime?r.updateTime:i);return s.isEqual(xt.min())&&(s=Qr(i)),new QH(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Qr(e.commitTime);return this.listener.cu(r,t)}return Tt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=ap(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>cp(this.serializer,r))};this.Wo(t)}}class eY extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new ke(fe.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ke(fe.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.vo(e,t,r,s,l,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ke(fe.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class nY{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Zr(t),this.mu=!1):Be("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class rY{constructor(e,t,r,i,s){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(h=>{r.enqueueAndForget((0,Ce.Z)(function*(){var v;yh(l)&&(Be("RemoteStore","Restarting streams for network reachability change."),yield(v=(0,Ce.Z)(function*(w){const E=tt(w);E.vu.add(4),yield N0(E),E.bu.set("Unknown"),E.vu.delete(4),yield yp(E)}),function(w){return v.apply(this,arguments)})(l))}))}),this.bu=new nY(r,i)}}function yp(n){return Qb.apply(this,arguments)}function Qb(){return Qb=(0,Ce.Z)(function*(n){if(yh(n))for(const e of n.Ru)yield e(!0)}),Qb.apply(this,arguments)}function N0(n){return Jb.apply(this,arguments)}function Jb(){return Jb=(0,Ce.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),Jb.apply(this,arguments)}function q7(n,e){const t=tt(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),tC(t)?eC(t):V0(t).Ko()&&Xb(t,e))}function _p(n,e){const t=tt(n),r=V0(t);t.Au.delete(e),r.Ko()&&qk(t,e),0===t.Au.size&&(r.Ko()?r.jo():yh(t)&&t.bu.set("Unknown"))}function Xb(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}V0(n).su(e)}function qk(n,e){n.Vu.qt(e),V0(n).iu(e)}function eC(n){n.Vu=new rB({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),V0(n).start(),n.bu.gu()}function tC(n){return yh(n)&&!V0(n).Uo()&&n.Au.size>0}function yh(n){return 0===tt(n).vu.size}function Wk(n){n.Vu=void 0}function iY(n){return nC.apply(this,arguments)}function nC(){return nC=(0,Ce.Z)(function*(n){n.Au.forEach((e,t)=>{Xb(n,e)})}),nC.apply(this,arguments)}function oY(n,e){return rC.apply(this,arguments)}function rC(){return rC=(0,Ce.Z)(function*(n,e){Wk(n),tC(n)?(n.bu.Iu(e),eC(n)):n.bu.set("Unknown")}),rC.apply(this,arguments)}function sY(n,e,t){return iC.apply(this,arguments)}function iC(){return iC=(0,Ce.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof UA&&2===e.state&&e.cause)try{yield(r=(0,Ce.Z)(function*(i,s){const l=s.cause;for(const h of s.targetIds)i.Au.has(h)&&(yield i.remoteSyncer.rejectListen(h,l),i.Au.delete(h),i.Vu.removeTarget(h))}),function(i,s){return r.apply(this,arguments)})(n,e)}catch(r){Be("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield W7(n,r)}else if(e instanceof A7?n.Vu.Ht(e):e instanceof YA?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(xt.min()))try{const r=yield Fk(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){const l=i.Vu.ce(s);return l.targetChanges.forEach((h,v)=>{if(h.resumeToken.approximateByteSize()>0){const w=i.Au.get(v);w&&i.Au.set(v,w.withResumeToken(h.resumeToken,s))}}),l.targetMismatches.forEach((h,v)=>{const w=i.Au.get(h);if(!w)return;i.Au.set(h,w.withResumeToken(Ci.EMPTY_BYTE_STRING,w.snapshotVersion)),qk(i,h);const E=new x1(w.target,h,v,w.sequenceNumber);Xb(i,E)}),i.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(r){Be("RemoteStore","Failed to raise snapshot:",r),yield W7(n,r)}var r}),iC.apply(this,arguments)}function W7(n,e,t){return oC.apply(this,arguments)}function oC(){return oC=(0,Ce.Z)(function*(n,e,t){if(!sh(e))throw e;n.vu.add(1),yield N0(n),n.bu.set("Offline"),t||(t=()=>Fk(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ce.Z)(function*(){Be("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield yp(n)}))}),oC.apply(this,arguments)}function Kk(n,e){return e().catch(t=>W7(n,t,e))}function L0(n){return sC.apply(this,arguments)}function sC(){return sC=(0,Ce.Z)(function*(n){const e=tt(n),t=_h(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;aY(e);)try{const i=yield $B(e.localStore,r);if(null===i){0===e.Eu.length&&t.jo();break}r=i.batchId,cY(e,i)}catch(i){yield W7(e,i)}Zk(e)&&Qk(e)}),sC.apply(this,arguments)}function aY(n){return yh(n)&&n.Eu.length<10}function cY(n,e){n.Eu.push(e);const t=_h(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function Zk(n){return yh(n)&&!_h(n).Uo()&&n.Eu.length>0}function Qk(n){_h(n).start()}function lY(n){return aC.apply(this,arguments)}function aC(){return aC=(0,Ce.Z)(function*(n){_h(n).hu()}),aC.apply(this,arguments)}function uY(n){return cC.apply(this,arguments)}function cC(){return cC=(0,Ce.Z)(function*(n){const e=_h(n);for(const t of n.Eu)e.uu(t.mutations)}),cC.apply(this,arguments)}function dY(n,e,t){return lC.apply(this,arguments)}function lC(){return lC=(0,Ce.Z)(function*(n,e,t){const r=n.Eu.shift(),i=yb.from(r,e,t);yield Kk(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield L0(n)}),lC.apply(this,arguments)}function hY(n,e){return uC.apply(this,arguments)}function uC(){return uC=(0,Ce.Z)(function*(n,e){var t;e&&_h(n).ou&&(yield(t=(0,Ce.Z)(function*(r,i){if(NA(s=i.code)&&s!==fe.ABORTED){const l=r.Eu.shift();_h(r).Qo(),yield Kk(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,i)),yield L0(r)}var s}),function(r,i){return t.apply(this,arguments)})(n,e)),Zk(n)&&Qk(n)}),uC.apply(this,arguments)}function Jk(n,e){return dC.apply(this,arguments)}function dC(){return dC=(0,Ce.Z)(function*(n,e){const t=tt(n);t.asyncQueue.verifyOperationInProgress(),Be("RemoteStore","RemoteStore received new credentials");const r=yh(t);t.vu.add(3),yield N0(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield yp(t)}),dC.apply(this,arguments)}function hC(n,e){return fC.apply(this,arguments)}function fC(){return fC=(0,Ce.Z)(function*(n,e){const t=tt(n);e?(t.vu.delete(2),yield yp(t)):e||(t.vu.add(2),yield N0(t),t.bu.set("Unknown"))}),fC.apply(this,arguments)}function V0(n){return n.Su||(n.Su=function(e,t,r){const i=tt(e);return i.fu(),new JB(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:iY.bind(null,n),ao:oY.bind(null,n),nu:sY.bind(null,n)}),n.Ru.push(function(){var e=(0,Ce.Z)(function*(t){t?(n.Su.Qo(),tC(n)?eC(n):n.bu.set("Unknown")):(yield n.Su.stop(),Wk(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function _h(n){return n.Du||(n.Du=function(e,t,r){const i=tt(e);return i.fu(),new XB(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:lY.bind(null,n),ao:hY.bind(null,n),au:uY.bind(null,n),cu:dY.bind(null,n)}),n.Ru.push(function(){var e=(0,Ce.Z)(function*(t){t?(n.Du.Qo(),yield L0(n)):(yield n.Du.stop(),n.Eu.length>0&&(Be("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class pC{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new bi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,r,i,s){const l=Date.now()+r,h=new pC(e,t,l,i,s);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ke(fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function H0(n,e){if(Zr("AsyncQueue",`${e}: ${n}`),sh(n))return new ke(fe.UNAVAILABLE,`${e}: ${n}`);throw n}class B0{constructor(e){this.comparator=e?(t,r)=>e(t,r)||et.comparator(t.key,r.key):(t,r)=>et.comparator(t.key,r.key),this.keyedMap=Xf(),this.sortedSet=new Jn(this.comparator)}static emptySet(e){return new B0(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof B0)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new B0;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class Xk{constructor(){this.Cu=new Jn(et.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):gt():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Y0{constructor(e,t,r,i,s,l,h,v,w){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=h,this.excludesMetadataChanges=v,this.hasCachedResults=w}static fromInitialDocuments(e,t,r,i,s){const l=[];return t.forEach(h=>{l.push({type:0,doc:h})}),new Y0(e,t,B0.emptySet(t),l,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class fY{constructor(){this.Nu=void 0,this.listeners=[]}}class pY{constructor(){this.queries=new T1(e=>yA(e),Qf),this.onlineState="Unknown",this.ku=new Set}}function mC(n,e){return gC.apply(this,arguments)}function gC(){return gC=(0,Ce.Z)(function*(n,e){const t=tt(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new fY),i)try{s.Nu=yield t.onListen(r)}catch(l){const h=H0(l,`Initialization of query '${pb(e.query)}' failed`);return void e.onError(h)}t.queries.set(r,s),s.listeners.push(e),e.Mu(t.onlineState),s.Nu&&e.$u(s.Nu)&&_C(t)}),gC.apply(this,arguments)}function vC(n,e){return yC.apply(this,arguments)}function yC(){return yC=(0,Ce.Z)(function*(n,e){const t=tt(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const l=s.listeners.indexOf(e);l>=0&&(s.listeners.splice(l,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),yC.apply(this,arguments)}function mY(n,e){const t=tt(n);let r=!1;for(const i of e){const l=t.queries.get(i.query);if(l){for(const h of l.listeners)h.$u(i)&&(r=!0);l.Nu=i}}r&&_C(t)}function gY(n,e,t){const r=tt(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function _C(n){n.ku.forEach(e=>{e.next()})}class wC{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Y0(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Y0.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class vY{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class eP{constructor(e){this.serializer=e}rr(e){return fu(this.serializer,e)}ur(e){return e.metadata.exists?JA(this.serializer,e.document,!1):ur.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Qr(e)}}class yY{constructor(e,t,r){this.ju=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=tP(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const r=yn.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,r=new eP(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.rr(i.metadata.name);for(const l of i.metadata.queries){const h=(t.get(l)||en()).add(s);t.set(l,h)}}return t}complete(){var e=this;return(0,Ce.Z)(function*(){const t=yield function GB(n,e,t,r){return Yb.apply(this,arguments)}(e.localStore,new eP(e.serializer),e.documents,e.ju.id),r=e.Wu(e.documents);for(const i of e.queries)yield qB(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function tP(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class nP{constructor(e){this.key=e}}class rP{constructor(e){this.key=e}}class iP{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=en(),this.mutatedKeys=en(),this.tc=wA(e),this.ec=new B0(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new Xk,i=t?t.ec:this.ec;let s=t?t.mutatedKeys:this.mutatedKeys,l=i,h=!1;const v="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,w="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((E,x)=>{const N=i.get(E),V=Jf(this.query,x)?x:null,U=!!N&&this.mutatedKeys.has(N.key),X=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let he=!1;N&&V?N.data.isEqual(V.data)?U!==X&&(r.track({type:3,doc:V}),he=!0):this.rc(N,V)||(r.track({type:2,doc:V}),he=!0,(v&&this.tc(V,v)>0||w&&this.tc(V,w)<0)&&(h=!0)):!N&&V?(r.track({type:0,doc:V}),he=!0):N&&!V&&(r.track({type:1,doc:N}),he=!0,(v||w)&&(h=!0)),he&&(V?(l=l.add(V),s=X?s.add(E):s.delete(E)):(l=l.delete(E),s=s.delete(E)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const E="F"===this.query.limitType?l.last():l.first();l=l.delete(E.key),s=s.delete(E.key),r.track({type:1,doc:E})}return{ec:l,ic:r,zi:h,mutatedKeys:s}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((w,E)=>function(x,N){const V=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt()}};return V(x)-V(N)}(w.type,E.type)||this.tc(w.doc,E.doc)),this.oc(r);const l=t?this.uc():[],h=0===this.Zu.size&&this.current?1:0,v=h!==this.Xu;return this.Xu=h,0!==s.length||v?{snapshot:new Y0(this.query,e.ec,i,s,e.mutatedKeys,0===h,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:l}:{cc:l}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Xk,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=en(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new rP(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new nP(r))}),t}hc(e){this.Yu=e.ir,this.Zu=en();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Y0.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class _Y{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class wY{constructor(e){this.key=e,this.fc=!1}}class bY{constructor(e,t,r,i,s,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.dc={},this.wc=new T1(h=>yA(h),Qf),this._c=new Map,this.mc=new Set,this.gc=new Jn(et.comparator),this.yc=new Map,this.Ic=new Ob,this.Tc={},this.Ec=new Map,this.Ac=g2.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function CY(n,e){return bC.apply(this,arguments)}function bC(){return bC=(0,Ce.Z)(function*(n,e){const t=jC(n);let r,i;const s=t.wc.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const l=yield R0(t.localStore,ts(e)),h=t.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,i=yield CC(t,e,r,"current"===h,l.resumeToken),t.isPrimaryClient&&q7(t.remoteStore,l)}return i}),bC.apply(this,arguments)}function CC(n,e,t,r,i){return SC.apply(this,arguments)}function SC(){return SC=(0,Ce.Z)(function*(n,e,t,r,i){n.Rc=(x,N,V)=>{return(U=(0,Ce.Z)(function*(X,he,Ve,Ke){let Je=he.view.sc(Ve);Je.zi&&(Je=yield Y7(X.localStore,he.query,!1).then(({documents:jt})=>he.view.sc(jt,Je)));const ot=Ke&&Ke.targetChanges.get(he.targetId),Pt=he.view.applyChanges(Je,X.isPrimaryClient,ot);return zC(X,he.targetId,Pt.cc),Pt.snapshot}),function(X,he,Ve,Ke){return U.apply(this,arguments)})(n,x,N,V);var U};const s=yield Y7(n.localStore,e,!0),l=new iP(e,s.ir),h=l.sc(s.documents),v=op.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),w=l.applyChanges(h,n.isPrimaryClient,v);zC(n,t,w.cc);const E=new _Y(e,t,l);return n.wc.set(e,E),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),w.snapshot}),SC.apply(this,arguments)}function SY(n,e){return EC.apply(this,arguments)}function EC(){return EC=(0,Ce.Z)(function*(n,e){const t=tt(n),r=t.wc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(s=>!Qf(s,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield F0(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),_p(t.remoteStore,r.targetId),U0(t,r.targetId)}).catch(oh))):(U0(t,r.targetId),yield F0(t.localStore,r.targetId,!0))}),EC.apply(this,arguments)}function DC(){return DC=(0,Ce.Z)(function*(n,e,t){const r=$C(n);try{const i=yield function(s,l){const h=tt(s),v=_r.now(),w=l.reduce((N,V)=>N.add(V.key),en());let E,x;return h.persistence.runTransaction("Locally write mutations","readwrite",N=>{let V=Es(),U=en();return h.Zi.getEntries(N,w).next(X=>{V=X,V.forEach((he,Ve)=>{Ve.isValidDocument()||(U=U.add(he))})}).next(()=>h.localDocuments.getOverlayedDocuments(N,V)).next(X=>{E=X;const he=[];for(const Ve of l){const Ke=XH(Ve,E.get(Ve.key).overlayedDocument);null!=Ke&&he.push(new M1(Ve.key,Ke,iA(Ke.value.mapValue),wr.exists(!0)))}return h.mutationQueue.addMutationBatch(N,v,he,l)}).next(X=>{x=X;const he=X.applyToLocalDocumentSet(E,U);return h.documentOverlayCache.saveOverlays(N,X.batchId,he)})}).then(()=>({batchId:x.batchId,changes:CA(E)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,l,h){let v=s.Tc[s.currentUser.toKey()];v||(v=new Jn(Wt)),v=v.insert(l,h),s.Tc[s.currentUser.toKey()]=v}(r,i.batchId,t),yield I1(r,i.changes),yield L0(r.remoteStore)}catch(i){const s=H0(i,"Failed to persist write");t.reject(s)}}),DC.apply(this,arguments)}function oP(n,e){return TC.apply(this,arguments)}function TC(){return TC=(0,Ce.Z)(function*(n,e){const t=tt(n);try{const r=yield function jB(n,e){const t=tt(n),r=e.snapshotVersion;let i=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const l=t.Zi.newChangeBuffer({trackRemovals:!0});i=t.Ji;const h=[];e.targetChanges.forEach((E,x)=>{const N=i.get(x);if(!N)return;h.push(t.Bs.removeMatchingKeys(s,E.removedDocuments,x).next(()=>t.Bs.addMatchingKeys(s,E.addedDocuments,x)));let V=N.withSequenceNumber(s.currentSequenceNumber);var U,X,he;null!==e.targetMismatches.get(x)?V=V.withResumeToken(Ci.EMPTY_BYTE_STRING,xt.min()).withLastLimboFreeSnapshotVersion(xt.min()):E.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(E.resumeToken,r)),i=i.insert(x,V),X=V,he=E,(0===(U=N).resumeToken.approximateByteSize()||X.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=3e8||he.addedDocuments.size+he.modifiedDocuments.size+he.removedDocuments.size>0)&&h.push(t.Bs.updateTargetData(s,V))});let v=Es(),w=en();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(s,E))}),h.push(Nk(s,l,e.documentUpdates).next(E=>{v=E.nr,w=E.sr})),!r.isEqual(xt.min())){const E=t.Bs.getLastRemoteSnapshotVersion(s).next(x=>t.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));h.push(E)}return se.waitFor(h).next(()=>l.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,v,w)).next(()=>v)}).then(s=>(t.Ji=i,s))}(t.localStore,e);e.targetChanges.forEach((i,s)=>{const l=t.yc.get(s);l&&(Tt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.fc=!0:i.modifiedDocuments.size>0?Tt(l.fc):i.removedDocuments.size>0&&(Tt(l.fc),l.fc=!1))}),yield I1(t,r,e)}catch(r){yield oh(r)}}),TC.apply(this,arguments)}function sP(n,e,t){const r=tt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wc.forEach((s,l)=>{const h=l.view.Mu(e);h.snapshot&&i.push(h.snapshot)}),function(s,l){const h=tt(s);h.onlineState=l;let v=!1;h.queries.forEach((w,E)=>{for(const x of E.listeners)x.Mu(l)&&(v=!0)}),v&&_C(h)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function DY(n,e,t){return MC.apply(this,arguments)}function MC(){return MC=(0,Ce.Z)(function*(n,e,t){const r=tt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.yc.get(e),s=i&&i.key;if(s){let l=new Jn(et.comparator);l=l.insert(s,ur.newNoDocument(s,xt.min()));const h=en().add(s),v=new ip(xt.min(),new Map,new Jn(Wt),l,h);yield oP(r,v),r.gc=r.gc.remove(s),r.yc.delete(e),OC(r)}else yield F0(r.localStore,e,!1).then(()=>U0(r,e,t)).catch(oh)}),MC.apply(this,arguments)}function TY(n,e){return xC.apply(this,arguments)}function xC(){return xC=(0,Ce.Z)(function*(n,e){const t=tt(n),r=e.batch.batchId;try{const i=yield function UB(n,e){const t=tt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Zi.newChangeBuffer({trackRemovals:!0});return function(l,h,v,w){const E=v.batch,x=E.keys();let N=se.resolve();return x.forEach(V=>{N=N.next(()=>w.getEntry(h,V)).next(U=>{const X=v.docVersions.get(V);Tt(null!==X),U.version.compareTo(X)<0&&(E.applyToRemoteDocument(U,v),U.isValidDocument()&&(U.setReadTime(v.commitVersion),w.addEntry(U)))})}),N.next(()=>l.mutationQueue.removeMutationBatch(h,E))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let h=en();for(let v=0;v<l.mutationResults.length;++v)l.mutationResults[v].transformResults.length>0&&(h=h.add(l.batch.mutations[v].key));return h}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);PC(t,r,null),kC(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield I1(t,i)}catch(i){yield oh(i)}}),xC.apply(this,arguments)}function MY(n,e,t){return IC.apply(this,arguments)}function IC(){return IC=(0,Ce.Z)(function*(n,e,t){const r=tt(n);try{const i=yield function(s,l){const h=tt(s);return h.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let w;return h.mutationQueue.lookupMutationBatch(v,l).next(E=>(Tt(null!==E),w=E.keys(),h.mutationQueue.removeMutationBatch(v,E))).next(()=>h.mutationQueue.performConsistencyCheck(v)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(v,w,l)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,w)).next(()=>h.localDocuments.getDocuments(v,w))})}(r.localStore,e);PC(r,e,t),kC(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield I1(r,i)}catch(i){yield oh(i)}}),IC.apply(this,arguments)}function AC(){return AC=(0,Ce.Z)(function*(n,e){const t=tt(n);yh(t.remoteStore)||Be("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(s){const l=tt(s);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>l.mutationQueue.getHighestUnacknowledgedBatchId(h))}(t.localStore);if(-1===r)return void e.resolve();const i=t.Ec.get(r)||[];i.push(e),t.Ec.set(r,i)}catch(r){const i=H0(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),AC.apply(this,arguments)}function kC(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function PC(n,e,t){const r=tt(n);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function U0(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||aP(n,r)})}function aP(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(_p(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),OC(n))}function zC(n,e,t){for(const r of t)r instanceof nP?(n.Ic.addReference(r.key,e),IY(n,r)):r instanceof rP?(Be("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||aP(n,r.key)):gt()}function IY(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(Be("SyncEngine","New document in limbo: "+t),n.mc.add(r),OC(n))}function OC(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new et(yn.fromString(e)),r=n.Ac.next();n.yc.set(r,new wY(t)),n.gc=n.gc.insert(t,r),q7(n.remoteStore,new x1(ts(T0(t.path)),r,"TargetPurposeLimboResolution",ua.ct))}}function I1(n,e,t){return RC.apply(this,arguments)}function RC(){return RC=(0,Ce.Z)(function*(n,e,t){const r=tt(n),i=[],s=[],l=[];var h;r.wc.isEmpty()||(r.wc.forEach((h,v)=>{l.push(r.Rc(v,e,t).then(w=>{if((w||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(v.targetId,w?.fromCache?"not-current":"current"),w){i.push(w);const E=Vb.Li(v.targetId,w);s.push(E)}}))}),yield Promise.all(l),r.dc.nu(i),yield(h=(0,Ce.Z)(function*(v,w){const E=tt(v);try{yield E.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>se.forEach(w,N=>se.forEach(N.Fi,V=>E.persistence.referenceDelegate.addReference(x,N.targetId,V)).next(()=>se.forEach(N.Bi,V=>E.persistence.referenceDelegate.removeReference(x,N.targetId,V)))))}catch(x){if(!sh(x))throw x;Be("LocalStore","Failed to update sequence numbers: "+x)}for(const x of w){const N=x.targetId;if(!x.fromCache){const V=E.Ji.get(N),X=V.withLastLimboFreeSnapshotVersion(V.snapshotVersion);E.Ji=E.Ji.insert(N,X)}}}),function(v,w){return h.apply(this,arguments)})(r.localStore,s))}),RC.apply(this,arguments)}function AY(n,e){return FC.apply(this,arguments)}function FC(){return FC=(0,Ce.Z)(function*(n,e){const t=tt(n);if(!t.currentUser.isEqual(e)){Be("SyncEngine","User change. New user:",e.toKey());const r=yield Rk(t.localStore,e);t.currentUser=e,(i=t).Ec.forEach(l=>{l.forEach(h=>{h.reject(new ke(fe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield I1(t,r.er)}var i}),FC.apply(this,arguments)}function kY(n,e){const t=tt(n),r=t.yc.get(e);if(r&&r.fc)return en().add(r.key);{let i=en();const s=t._c.get(e);if(!s)return i;for(const l of s){const h=t.wc.get(l);i=i.unionWith(h.view.nc)}return i}}function PY(n,e){return NC.apply(this,arguments)}function NC(){return NC=(0,Ce.Z)(function*(n,e){const t=tt(n),r=yield Y7(t.localStore,e.query,!0),i=e.view.hc(r);return t.isPrimaryClient&&zC(t,e.targetId,i.cc),i}),NC.apply(this,arguments)}function zY(n,e){return LC.apply(this,arguments)}function LC(){return LC=(0,Ce.Z)(function*(n,e){const t=tt(n);return Vk(t.localStore,e).then(r=>I1(t,r))}),LC.apply(this,arguments)}function OY(n,e,t,r){return VC.apply(this,arguments)}function VC(){return VC=(0,Ce.Z)(function*(n,e,t,r){const i=tt(n),s=yield function(l,h){const v=tt(l),w=tt(v.mutationQueue);return v.persistence.runTransaction("Lookup mutation documents","readonly",E=>w.Sn(E,h).next(x=>x?v.localDocuments.getDocuments(E,x):se.resolve(null)))}(i.localStore,e);var h;null!==s?("pending"===t?yield L0(i.remoteStore):"acknowledged"===t||"rejected"===t?(PC(i,e,r||null),kC(i,e),h=e,tt(tt(i.localStore).mutationQueue).Cn(h)):gt(),yield I1(i,s)):Be("SyncEngine","Cannot apply mutation batch with id: "+e)}),VC.apply(this,arguments)}function HC(){return HC=(0,Ce.Z)(function*(n,e){const t=tt(n);if(jC(t),$C(t),!0===e&&!0!==t.vc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield cP(t,r.toArray());t.vc=!0,yield hC(t.remoteStore,!0);for(const s of i)q7(t.remoteStore,s)}else if(!1===e&&!1!==t.vc){const r=[];let i=Promise.resolve();t._c.forEach((s,l)=>{t.sharedClientState.isLocalQueryTarget(l)?r.push(l):i=i.then(()=>(U0(t,l),F0(t.localStore,l,!0))),_p(t.remoteStore,l)}),yield i,yield cP(t,r),function(s){const l=tt(s);l.yc.forEach((h,v)=>{_p(l.remoteStore,v)}),l.Ic.Ts(),l.yc=new Map,l.gc=new Jn(et.comparator)}(t),t.vc=!1,yield hC(t.remoteStore,!1)}}),HC.apply(this,arguments)}function cP(n,e,t){return BC.apply(this,arguments)}function BC(){return BC=(0,Ce.Z)(function*(n,e,t){const r=tt(n),i=[],s=[];for(const l of e){let h;const v=r._c.get(l);if(v&&0!==v.length){h=yield R0(r.localStore,ts(v[0]));for(const w of v){const E=r.wc.get(w),x=yield PY(r,E);x.snapshot&&s.push(x.snapshot)}}else{const w=yield Lk(r.localStore,l);h=yield R0(r.localStore,w),yield CC(r,lP(w),l,!1,h.resumeToken)}i.push(h)}return r.dc.nu(s),i}),BC.apply(this,arguments)}function lP(n){return gA(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function FY(n){const e=tt(n);return tt(tt(e.localStore).persistence).$i()}function NY(n,e,t,r){return YC.apply(this,arguments)}function YC(){return YC=(0,Ce.Z)(function*(n,e,t,r){const i=tt(n);if(i.vc)return void Be("SyncEngine","Ignoring unexpected query state notification.");const s=i._c.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const l=yield Vk(i.localStore,_A(s[0])),h=ip.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Ci.EMPTY_BYTE_STRING);yield I1(i,l,h);break}case"rejected":yield F0(i.localStore,e,!0),U0(i,e,r);break;default:gt()}}),YC.apply(this,arguments)}function LY(n,e,t){return UC.apply(this,arguments)}function UC(){return UC=(0,Ce.Z)(function*(n,e,t){const r=jC(n);if(r.vc){for(const i of e){if(r._c.has(i)){Be("SyncEngine","Adding an already active target "+i);continue}const s=yield Lk(r.localStore,i),l=yield R0(r.localStore,s);yield CC(r,lP(s),l.targetId,!1,l.resumeToken),q7(r.remoteStore,l)}for(const i of t)r._c.has(i)&&(yield F0(r.localStore,i,!1).then(()=>{_p(r.remoteStore,i),U0(r,i)}).catch(oh))}}),UC.apply(this,arguments)}function jC(n){const e=tt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=oP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=kY.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=DY.bind(null,e),e.dc.nu=mY.bind(null,e.eventManager),e.dc.Pc=gY.bind(null,e.eventManager),e}function $C(n){const e=tt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=TY.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=MY.bind(null,e),e}class wp{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ce.Z)(function*(){t.serializer=vp(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Ok(this.persistence,new zk,e.initialUser,this.serializer)}createPersistence(e){return new Rb(V7.zs,this.serializer)}createSharedClientState(e){return new Uk}terminate(){var e=this;return(0,Ce.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class GC extends wp{constructor(e,t,r){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Ce.Z)(function*(){yield t().call(r,e),yield r.Vc.initialize(r,e),yield $C(r.Vc.syncEngine),yield L0(r.Vc.remoteStore),yield r.persistence.Ii(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Ok(this.persistence,new zk,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new Ek(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new dH(t,this.persistence);return new uH(e.asyncQueue,r)}createPersistence(e){const t=Lb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?ko.withCacheSize(this.cacheSizeBytes):ko.DEFAULT;return new Nb(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,$k(),G7(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Uk}}class uP extends GC{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Ce.Z)(function*(){yield t().call(r,e);const i=r.Vc.syncEngine;r.sharedClientState instanceof qb&&(r.sharedClientState.syncEngine={jr:OY.bind(null,i),zr:NY.bind(null,i),Wr:LY.bind(null,i),$i:FY.bind(null,i),Qr:zY.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Ii(function(){var s=(0,Ce.Z)(function*(l){yield function RY(n,e){return HC.apply(this,arguments)}(r.Vc.syncEngine,l),r.gcScheduler&&(l&&!r.gcScheduler.started?r.gcScheduler.start():l||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(l&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():l||r.indexBackfillerScheduler.stop())});return function(l){return s.apply(this,arguments)}}())})()}createSharedClientState(e){const t=$k();if(!qb.D(t))throw new ke(fe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Lb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new qb(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class j0{initialize(e,t){var r=this;return(0,Ce.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>sP(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=AY.bind(null,r.syncEngine),yield hC(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new pY}createDatastore(e){const t=vp(e.databaseInfo.databaseId),r=new QB(e.databaseInfo);return new eY(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=h=>sP(this.syncEngine,h,0),l=jk.D()?new jk:new WB,new rY(t,r,i,s,l);var t,r,i,s,l}createSyncEngine(e,t){return function(r,i,s,l,h,v,w){const E=new bY(r,i,s,l,h,v);return w&&(E.vc=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ce.Z)(function*(t){const r=tt(t);Be("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield N0(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function dP(n,e=10240){let t=0;return{read:()=>(0,Ce.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Ce.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class K7{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Zr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class BY{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new bi,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,Ce.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,Ce.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,Ce.Z)(function*(){const t=yield e.kc();if(null===t)return null;const r=e.xc.decode(t),i=Number(r);isNaN(i)&&e.Mc(`length string (${r}) is not valid number`);const s=yield e.$c(i);return new vY(JSON.parse(s),t.length+i)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,Ce.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}$c(e){var t=this;return(0,Ce.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const r=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,Ce.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class YY{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ce.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new ke(fe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,Ce.Z)(function*(s,l){const h=tt(s),v=ap(h.serializer)+"/documents",w={documents:l.map(V=>sp(h.serializer,V))},E=yield h.vo("BatchGetDocuments",v,w,l.length),x=new Map;E.forEach(V=>{const U=function lB(n,e){return"found"in e?function(t,r){Tt(!!r.found);const i=fu(t,r.found.name),s=Qr(r.found.updateTime),l=r.found.createTime?Qr(r.found.createTime):xt.min(),h=new co({mapValue:{fields:r.found.fields}});return ur.newFoundDocument(i,s,l,h)}(n,e):"missing"in e?function(t,r){Tt(!!r.missing),Tt(!!r.readTime);const i=fu(t,r.missing),s=Qr(r.readTime);return ur.newNoDocument(i,s)}(n,e):gt()}(h.serializer,V);x.set(U.key.toString(),U)});const N=[];return l.forEach(V=>{const U=x.get(V.toString());Tt(!!U),N.push(U)}),N}),function(s,l){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new A0(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ce.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const s=et.fromPath(i);e.mutations.push(new gb(s,e.precondition(s)))}),yield(r=(0,Ce.Z)(function*(i,s){const l=tt(i),h=ap(l.serializer)+"/documents",v={writes:s.map(w=>cp(l.serializer,w))};yield l.Io("Commit",h,v)}),function(i,s){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw gt();t=xt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new ke(fe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(xt.min())?wr.exists(!1):wr.updateTime(t):wr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(xt.min()))throw new ke(fe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return wr.updateTime(t)}return wr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class UY{constructor(e,t,r,i,s){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=s,this.Bc=r.maxAttempts,this.qo=new Kb(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,Ce.Z)(function*(){const t=new YY(e.datastore),r=e.qc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(s=>{e.Uc(s)}))}).catch(i=>{e.Uc(i)})}))}qc(e){try{const t=this.updateFunction(e);return!jf(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!NA(t)}return!1}}class jY{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Bi.UNAUTHENTICATED,this.clientId=OI.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=(0,Ce.Z)(function*(h){Be("FirestoreClient","Received user=",h.uid),yield s.authCredentialListener(h),s.user=h});return function(h){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,l=>(Be("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,Ce.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ke(fe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new bi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ce.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=H0(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function Z7(n,e){return qC.apply(this,arguments)}function qC(){return qC=(0,Ce.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Be("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,Ce.Z)(function*(s){r.isEqual(s)||(yield Rk(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),qC.apply(this,arguments)}function WC(n,e){return KC.apply(this,arguments)}function KC(){return KC=(0,Ce.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield ZC(n);Be("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>Jk(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>Jk(e.remoteStore,s)),n._onlineComponents=e}),KC.apply(this,arguments)}function hP(n){return"FirebaseError"===n.name?n.code===fe.FAILED_PRECONDITION||n.code===fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function ZC(n){return QC.apply(this,arguments)}function QC(){return QC=(0,Ce.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Be("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Z7(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!hP(t))throw t;Qa("Error using user provided cache. Falling back to memory cache: "+t),yield Z7(n,new wp)}}else Be("FirestoreClient","Using default OfflineComponentProvider"),yield Z7(n,new wp);return n._offlineComponents}),QC.apply(this,arguments)}function Q7(n){return JC.apply(this,arguments)}function JC(){return JC=(0,Ce.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Be("FirestoreClient","Using user provided OnlineComponentProvider"),yield WC(n,n._uninitializedComponentsProvider._online)):(Be("FirestoreClient","Using default OnlineComponentProvider"),yield WC(n,new j0))),n._onlineComponents}),JC.apply(this,arguments)}function fP(n){return ZC(n).then(e=>e.persistence)}function J7(n){return ZC(n).then(e=>e.localStore)}function pP(n){return Q7(n).then(e=>e.remoteStore)}function XC(n){return Q7(n).then(e=>e.syncEngine)}function $0(n){return eS.apply(this,arguments)}function eS(){return eS=(0,Ce.Z)(function*(n){const e=yield Q7(n),t=e.eventManager;return t.onListen=CY.bind(null,e.syncEngine),t.onUnlisten=SY.bind(null,e.syncEngine),t}),eS.apply(this,arguments)}function gP(n,e,t={}){const r=new bi;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function(i,s,l,h,v){const w=new K7({next:x=>{s.enqueueAndForget(()=>vC(i,E));const N=x.docs.has(l);!N&&x.fromCache?v.reject(new ke(fe.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&x.fromCache&&h&&"server"===h.source?v.reject(new ke(fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(x)},error:x=>v.reject(x)}),E=new wC(T0(l.path),w,{includeMetadataChanges:!0,Ku:!0});return mC(i,E)}(yield $0(n),n.asyncQueue,e,t,r)})),r.promise}function vP(n,e,t={}){const r=new bi;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function(i,s,l,h,v){const w=new K7({next:x=>{s.enqueueAndForget(()=>vC(i,E)),x.fromCache&&"server"===h.source?v.reject(new ke(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(x)},error:x=>v.reject(x)}),E=new wC(l,w,{includeMetadataChanges:!0,Ku:!0});return mC(i,E)}(yield $0(n),n.asyncQueue,e,t,r)})),r.promise}function yP(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const _P=new Map;function tS(n,e,t){if(!t)throw new ke(fe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function wP(n,e,t,r){if(!0===e&&!0===r)throw new ke(fe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function bP(n){if(!et.isDocumentKey(n))throw new ke(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function CP(n){if(et.isDocumentKey(n))throw new ke(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function X7(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":gt()}function fn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ke(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=X7(n);throw new ke(fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function SP(n,e){if(e<=0)throw new ke(fe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class EP{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new ke(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ke(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=yP(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new ke(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ke(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ke(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bp{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new EP({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ke(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ke(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new EP(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new JV;switch(t.type){case"firstParty":return new nH(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new ke(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=_P.get(e);t&&(Be("ComponentProvider","Removing Datastore"),_P.delete(e),t.terminate())}(this),Promise.resolve()}}class dr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dr(this.firestore,e,this._key)}}class lo{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new lo(this.firestore,e,this._query)}}class pu extends lo{constructor(e,t,r){super(e,t,T0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dr(this.firestore,null,new et(e))}withConverter(e){return new pu(this.firestore,e,this._path)}}function TP(n,e,...t){if(n=(0,xn.m9)(n),tS("collection","path",e),n instanceof bp){const r=yn.fromString(e,...t);return CP(r),new pu(n,null,r)}{if(!(n instanceof dr||n instanceof pu))throw new ke(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(yn.fromString(e,...t));return CP(r),new pu(n.firestore,null,r)}}function ev(n,e,...t){if(n=(0,xn.m9)(n),1===arguments.length&&(e=OI.A()),tS("doc","path",e),n instanceof bp){const r=yn.fromString(e,...t);return bP(r),new dr(n,null,new et(r))}{if(!(n instanceof dr||n instanceof pu))throw new ke(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(yn.fromString(e,...t));return bP(r),new dr(n.firestore,n instanceof pu?n.converter:null,new et(r))}}function MP(n,e){return n=(0,xn.m9)(n),e=(0,xn.m9)(e),(n instanceof dr||n instanceof pu)&&(e instanceof dr||e instanceof pu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function nS(n,e){return n=(0,xn.m9)(n),e=(0,xn.m9)(e),n instanceof lo&&e instanceof lo&&n.firestore===e.firestore&&Qf(n._query,e._query)&&n.converter===e.converter}class eU{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Kb(this,"async_queue_retry"),this.Xc=()=>{const t=G7();t&&Be("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=G7();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=G7();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new bi;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,Ce.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!sh(t))throw t;Be("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,Zr("INTERNAL UNHANDLED ERROR: ",function(s){let l=s.message||"";return s.stack&&(l=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),l}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=pC.createAndSchedule(this,e,t,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&gt()}verifyOperationInProgress(){}sa(){var e=this;return(0,Ce.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function rS(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class tU{constructor(){this._progressObserver={},this._taskCompletionResolver=new bi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class hr extends bp{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new eU,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||xP(this),this._firestoreClient.terminate()}}function Jr(n){return n._firestoreClient||xP(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function xP(n){var e,t,r;const i=n._freezeSettings(),s=(h=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new PH(n._databaseId,h,n._persistenceKey,(w=i).host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,yP(w.experimentalLongPollingOptions),w.useFetchStreams));var h,w;n._firestoreClient=new jY(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function IP(n,e,t){const r=new bi;return n.asyncQueue.enqueue((0,Ce.Z)(function*(){try{yield Z7(n,t),yield WC(n,e),r.resolve()}catch(i){const s=i;if(!hP(s))throw s;Qa("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}})).then(()=>r.promise)}function AP(n){if(n._initialized||n._terminated)throw new ke(fe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class mu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new mu(Ci.fromBase64String(e))}catch(t){throw new ke(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new mu(Ci.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class A1{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new ke(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Br(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class y2{constructor(e){this._methodName=e}}class tv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ke(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ke(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Wt(this._lat,e._lat)||Wt(this._long,e._long)}}const hU=/^__.*__$/;class fU{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new M1(e,this.data,this.fieldMask,t,this.fieldTransforms):new I0(e,this.data,t,this.fieldTransforms)}}class kP{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new M1(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function PP(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt()}}class nv{constructor(e,t,r,i,s,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new nv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return ov(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(PP(this.ca)&&hU.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class pU{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||vp(e)}ya(e,t,r,i=!1){return new nv({ca:e,methodName:t,ga:r,path:Br.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _2(n){const e=n._freezeSettings(),t=vp(n._databaseId);return new pU(n._databaseId,!!e.ignoreUndefinedProperties,t)}function rv(n,e,t,r,i,s={}){const l=n.ya(s.merge||s.mergeFields?2:0,e,t,i);aS("Data must be an object, but it was:",l,r);const h=RP(r,l);let v,w;if(s.merge)v=new Ss(l.fieldMask),w=l.fieldTransforms;else if(s.mergeFields){const E=[];for(const x of s.mergeFields){const N=Ep(e,x,t);if(!l.contains(N))throw new ke(fe.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);NP(E,N)||E.push(N)}v=new Ss(E),w=l.fieldTransforms.filter(x=>v.covers(x.field))}else v=null,w=l.fieldTransforms;return new fU(new co(h),v,w)}class Sp extends y2{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Sp}}function zP(n,e,t){return new nv({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class iS extends y2{_toFieldTransform(e){return new tp(e.path,new M0)}isEqual(e){return e instanceof iS}}class mU extends y2{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=zP(this,e,!0),r=this.pa.map(s=>w2(s,t)),i=new l2(r);return new tp(e.path,i)}isEqual(e){return this===e}}class gU extends y2{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=zP(this,e,!0),r=this.pa.map(s=>w2(s,t)),i=new u2(r);return new tp(e.path,i)}isEqual(e){return this===e}}class vU extends y2{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new x0(e.serializer,TA(e.serializer,this.Ia));return new tp(e.path,t)}isEqual(e){return this===e}}function oS(n,e,t,r){const i=n.ya(1,e,t);aS("Data must be an object, but it was:",i,r);const s=[],l=co.empty();ah(r,(v,w)=>{const E=iv(e,v,t);w=(0,xn.m9)(w);const x=i.da(E);if(w instanceof Sp)s.push(E);else{const N=w2(w,x);null!=N&&(s.push(E),l.set(E,N))}});const h=new Ss(s);return new kP(l,h,i.fieldTransforms)}function sS(n,e,t,r,i,s){const l=n.ya(1,e,t),h=[Ep(e,r,t)],v=[i];if(s.length%2!=0)throw new ke(fe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<s.length;N+=2)h.push(Ep(e,s[N])),v.push(s[N+1]);const w=[],E=co.empty();for(let N=h.length-1;N>=0;--N)if(!NP(w,h[N])){const V=h[N];let U=v[N];U=(0,xn.m9)(U);const X=l.da(V);if(U instanceof Sp)w.push(V);else{const he=w2(U,X);null!=he&&(w.push(V),E.set(V,he))}}const x=new Ss(w);return new kP(E,x,l.fieldTransforms)}function OP(n,e,t,r=!1){return w2(t,n.ya(r?4:3,e))}function w2(n,e){if(FP(n=(0,xn.m9)(n)))return aS("Unsupported field value:",e,n),RP(n,e);if(n instanceof y2)return function(t,r){if(!PP(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let s=0;for(const l of t){let h=w2(l,r.wa(s));null==h&&(h={nullValue:"NULL_VALUE"}),i.push(h),s++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,xn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return TA(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=_r.fromDate(t);return{timestampValue:k0(r.serializer,i)}}if(t instanceof _r){const i=new _r(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:k0(r.serializer,i)}}if(t instanceof tv)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof mu)return{bytesValue:qA(r.serializer,t._byteString)};if(t instanceof dr){const i=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Sb(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${X7(t)}`)}(n,e)}function RP(n,e){const t={};return KI(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ah(n,(r,i)=>{const s=w2(i,e.ha(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function FP(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof _r||n instanceof tv||n instanceof mu||n instanceof dr||n instanceof y2)}function aS(n,e,t){if(!FP(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=X7(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function Ep(n,e,t){if((e=(0,xn.m9)(e))instanceof A1)return e._internalPath;if("string"==typeof e)return iv(n,e);throw ov("Field path arguments must be of type string or ",n,!1,void 0,t)}const yU=new RegExp("[~\\*/\\[\\]]");function iv(n,e,t){if(e.search(yU)>=0)throw ov(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new A1(...e.split("."))._internalPath}catch{throw ov(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function ov(n,e,t,r,i){const s=r&&!r.isEmpty(),l=void 0!==i;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let v="";return(s||l)&&(v+=" (found",s&&(v+=` in field ${r}`),l&&(v+=` in document ${i}`),v+=")"),new ke(fe.INVALID_ARGUMENT,h+n+v)}function NP(n,e){return n.some(t=>t.isEqual(e))}class Dp{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new dr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new _U(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(sv("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class _U extends Dp{data(){return super.data()}}function sv(n,e){return"string"==typeof e?iv(n,e):e instanceof A1?e._internalPath:e._delegate._internalPath}function LP(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new ke(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cS{}class Tp extends cS{}function wh(n,e,...t){let r=[];e instanceof cS&&r.push(e),r=r.concat(t),function(i){const s=i.filter(h=>h instanceof G0).length,l=i.filter(h=>h instanceof Mp).length;if(s>1||s>0&&l>0)throw new ke(fe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class Mp extends Tp{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Mp(e,t,r)}_apply(e){const t=this._parse(e);return YP(e._query,t),new lo(e.firestore,e.converter,fb(e._query,t))}_parse(e){const t=_2(e.firestore);return function(i,s,l,h,v,w,E){let x;if(v.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new ke(fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){BP(E,w);const N=[];for(const V of E)N.push(HP(h,i,V));x={arrayValue:{values:N}}}else x=HP(h,i,E)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||BP(E,w),x=OP(l,"where",E,"in"===w||"not-in"===w);return hn.create(v,w,x)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class G0 extends cS{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new G0(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:Vn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let s=r;const l=i.getFlattenedFilters();for(const h of l)YP(s,h),s=fb(s,h)}(e._query,t),new lo(e.firestore,e.converter,fb(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class lS extends Tp{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new lS(e,t)}_apply(e){const t=function(r,i,s){if(null!==r.startAt)throw new ke(fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new ke(fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new E0(i,s);return function(h,v){if(null===db(h)){const w=E7(h);null!==w&&UP(0,w,v.field)}}(r,l),l}(e._query,this._field,this._direction);return new lo(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new D1(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class av extends Tp{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new av(e,t,r)}_apply(e){return new lo(e.firestore,e.converter,D7(e._query,this._limit,this._limitType))}}class cv extends Tp{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new cv(e,t,r)}_apply(e){const t=VP(e,this.type,this._docOrFields,this._inclusive);return new lo(e.firestore,e.converter,(i=t,new D1((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class lv extends Tp{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new lv(e,t,r)}_apply(e){const t=VP(e,this.type,this._docOrFields,this._inclusive);return new lo(e.firestore,e.converter,(i=t,new D1((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function VP(n,e,t,r){if(t[0]=(0,xn.m9)(t[0]),t[0]instanceof Dp)return function(i,s,l,h,v){if(!h)throw new ke(fe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const w=[];for(const E of c2(i))if(E.field.isKeyField())w.push(s2(s,h.key));else{const x=h.data.field(E.field);if(v7(x))throw new ke(fe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+E.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===x){const N=E.field.canonicalString();throw new ke(fe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${N}' (used as the orderBy) does not exist.`)}w.push(x)}return new fh(w,v)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=_2(n.firestore);return function(s,l,h,v,w,E){const x=s.explicitOrderBy;if(w.length>x.length)throw new ke(fe.INVALID_ARGUMENT,`Too many arguments provided to ${v}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const N=[];for(let V=0;V<w.length;V++){const U=w[V];if(x[V].field.isKeyField()){if("string"!=typeof U)throw new ke(fe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${v}(), but got a ${typeof U}`);if(!hb(s)&&-1!==U.indexOf("/"))throw new ke(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${v}() must be a plain document ID, but '${U}' contains a slash.`);const X=s.path.child(yn.fromString(U));if(!et.isDocumentKey(X))throw new ke(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${v}() must result in a valid document path, but '${X}' is not because it contains an odd number of segments.`);const he=new et(X);N.push(s2(l,he))}else{const X=OP(h,v,U);N.push(X)}}return new fh(N,E)}(n._query,n.firestore._databaseId,i,e,t,r)}}function HP(n,e,t){if("string"==typeof(t=(0,xn.m9)(t))){if(""===t)throw new ke(fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hb(e)&&-1!==t.indexOf("/"))throw new ke(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(yn.fromString(t));if(!et.isDocumentKey(r))throw new ke(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return s2(n,new et(r))}if(t instanceof dr)return s2(n,t._key);throw new ke(fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${X7(t)}.`)}function BP(n,e){if(!Array.isArray(n)||0===n.length)throw new ke(fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function YP(n,e){if(e.isInequality()){const r=E7(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new ke(fe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=db(n);null!==s&&UP(0,i,s)}const t=function(r,i){for(const s of r)for(const l of s.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new ke(fe.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function UP(n,e,t){if(!t.isEqual(e))throw new ke(fe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class uS{convertValue(e,t="none"){switch(dh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(E1(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw gt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ah(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new tv(Yr(e.latitude),Yr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=y7(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Gf(e));default:return null}}convertTimestamp(e){const t=ch(e);return new _r(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=yn.fromString(e);Tt(rk(r));const i=new lh(r.get(1),r.get(3)),s=new et(r.popFirst(5));return i.isEqual(t)||Zr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function uv(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class xU extends uS{constructor(e){super(),this.firestore=e}convertBytes(e){return new mu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new dr(this.firestore,null,t)}}class b2{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class k1 extends Dp{constructor(e,t,r,i,s,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new xp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(sv("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class xp extends k1{data(e={}){return super.data(e)}}class bh{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new b2(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new xp(this._firestore,this._userDataWriter,r.key,r,new b2(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ke(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(l=>({type:"added",doc:new xp(r._firestore,r._userDataWriter,l.doc.key,l.doc,new b2(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>i||3!==l.type).map(l=>{const h=new xp(r._firestore,r._userDataWriter,l.doc.key,l.doc,new b2(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let v=-1,w=-1;return 0!==l.type&&(v=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),1!==l.type&&(s=s.add(l.doc),w=s.indexOf(l.doc.key)),{type:AU(l.type),doc:h,oldIndex:v,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function AU(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt()}}function $P(n,e){return n instanceof k1&&e instanceof k1?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof bh&&e instanceof bh&&n._firestore===e._firestore&&nS(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Ch extends uS{constructor(e){super(),this.firestore=e}convertBytes(e){return new mu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new dr(this.firestore,null,t)}}function GP(n,e,t){n=fn(n,dr);const r=fn(n.firestore,hr),i=uv(n.converter,e,t);return q0(r,[rv(_2(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,wr.none())])}function qP(n,e,t,...r){n=fn(n,dr);const i=fn(n.firestore,hr),s=_2(i);let l;return l="string"==typeof(e=(0,xn.m9)(e))||e instanceof A1?sS(s,"updateDoc",n._key,e,t,r):oS(s,"updateDoc",n._key,e),q0(i,[l.toMutation(n._key,wr.exists(!0))])}function WP(n,...e){var t,r,i;n=(0,xn.m9)(n);let s={includeMetadataChanges:!1},l=0;"object"!=typeof e[l]||rS(e[l])||(s=e[l],l++);const h={includeMetadataChanges:s.includeMetadataChanges};if(rS(e[l])){const x=e[l];e[l]=null===(t=x.next)||void 0===t?void 0:t.bind(x),e[l+1]=null===(r=x.error)||void 0===r?void 0:r.bind(x),e[l+2]=null===(i=x.complete)||void 0===i?void 0:i.bind(x)}let v,w,E;if(n instanceof dr)w=fn(n.firestore,hr),E=T0(n._key.path),v={next:x=>{e[l]&&e[l](dS(w,n,x))},error:e[l+1],complete:e[l+2]};else{const x=fn(n,lo);w=fn(x.firestore,hr),E=x._query;const N=new Ch(w);v={next:V=>{e[l]&&e[l](new bh(w,N,x,V))},error:e[l+1],complete:e[l+2]},LP(n._query)}return function(x,N,V,U){const X=new K7(U),he=new wC(N,X,V);return x.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return mC(yield $0(x),he)})),()=>{X.Dc(),x.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return vC(yield $0(x),he)}))}}(Jr(w),E,h,v)}function q0(n,e){return function(t,r){const i=new bi;return t.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function EY(n,e,t){return DC.apply(this,arguments)}(yield XC(t),r,i)})),i.promise}(Jr(n),e)}function dS(n,e,t){const r=t.docs.get(e._key),i=new Ch(n);return new k1(n,i,e._key,r,new b2(t.hasPendingWrites,t.fromCache),e.converter)}const WU={maxAttempts:5};class KP{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=_2(e)}set(e,t,r){this._verifyNotCommitted();const i=Sh(e,this._firestore),s=uv(i.converter,t,r),l=rv(this._dataReader,"WriteBatch.set",i._key,s,null!==i.converter,r);return this._mutations.push(l.toMutation(i._key,wr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const s=Sh(e,this._firestore);let l;return l="string"==typeof(t=(0,xn.m9)(t))||t instanceof A1?sS(this._dataReader,"WriteBatch.update",s._key,t,r,i):oS(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(l.toMutation(s._key,wr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Sh(e,this._firestore);return this._mutations=this._mutations.concat(new A0(t._key,wr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ke(fe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Sh(n,e){if((n=(0,xn.m9)(n)).firestore!==e)throw new ke(fe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class KU extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=_2(e)}get(e){const t=Sh(e,this._firestore),r=new xU(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return gt();const s=i[0];if(s.isFoundDocument())return new Dp(this._firestore,r,s.key,s,t.converter);if(s.isNoDocument())return new Dp(this._firestore,r,t._key,null,t.converter);throw gt()})}set(e,t,r){const i=Sh(e,this._firestore),s=uv(i.converter,t,r),l=rv(this._dataReader,"Transaction.set",i._key,s,null!==i.converter,r);return this._transaction.set(i._key,l),this}update(e,t,r,...i){const s=Sh(e,this._firestore);let l;return l="string"==typeof(t=(0,xn.m9)(t))||t instanceof A1?sS(this._dataReader,"Transaction.update",s._key,t,r,i):oS(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,l),this}delete(e){const t=Sh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Sh(e,this._firestore),r=new Ch(this._firestore);return super.get(e).then(i=>new k1(this._firestore,r,t._key,i._document,new b2(!1,!1),t.converter))}}!function(n,e=!0){w0=J4.SDK_VERSION,(0,J4._registerComponent)(new L5.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const s=t.getProvider("app").getImmediate(),l=new hr(new eH(t.getProvider("auth-internal")),new rH(t.getProvider("app-check-internal")),function(h,v){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new ke(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lh(h.options.projectId,v)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),(0,J4.registerVersion)(kI,"3.13.0",n),(0,J4.registerVersion)(kI,"3.13.0","esm2017")}();function hS(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ke("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function QP(){if(typeof Uint8Array>"u")throw new ke("unimplemented","Uint8Arrays are not available in this environment.")}function JP(){if(!function AH(){return typeof atob<"u"}())throw new ke("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Ip{constructor(e){this._delegate=e}static fromBase64String(e){return JP(),new Ip(mu.fromBase64String(e))}static fromUint8Array(e){return QP(),new Ip(mu.fromUint8Array(e))}toBase64(){return JP(),this._delegate.toBase64()}toUint8Array(){return QP(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function fS(n){return function ij(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class oj{enableIndexedDbPersistence(e,t){return function rU(n,e){AP(n=fn(n,hr));const t=Jr(n);if(t._uninitializedComponentsProvider)throw new ke(fe.FAILED_PRECONDITION,"SDK cache is already specified.");Qa("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),i=new j0;return IP(t,i,new GC(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function iU(n){AP(n=fn(n,hr));const e=Jr(n);if(e._uninitializedComponentsProvider)throw new ke(fe.FAILED_PRECONDITION,"SDK cache is already specified.");Qa("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new j0;return IP(e,r,new uP(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function oU(n){if(n._initialized&&!n._terminated)throw new ke(fe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new bi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ce.Z)(function*(){try{yield(t=(0,Ce.Z)(function*(r){if(!rl.D())return Promise.resolve();const i=r+"main";yield rl.delete(i)}),function(r){return t.apply(this,arguments)})(Lb(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class XP{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof lh||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Qa("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function DP(n,e,t,r={}){var i;const s=(n=fn(n,bp))._getSettings(),l=`${e}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==l&&Qa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:l,ssl:!1})),r.mockUserToken){let h,v;if("string"==typeof r.mockUserToken)h=r.mockUserToken,v=Bi.MOCK_USER;else{h=(0,xn.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new ke(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Bi(w)}n._authCredentials=new XV(new PI(h,v))}}(this._delegate,e,t,r)}enableNetwork(){return function aU(n){return function $Y(n){return n.asyncQueue.enqueue((0,Ce.Z)(function*(){const e=yield fP(n),t=yield pP(n);return e.setNetworkEnabled(!0),function(r){const i=tt(r);return i.vu.delete(0),yp(i)}(t)}))}(Jr(n=fn(n,hr)))}(this._delegate)}disableNetwork(){return function cU(n){return function GY(n){return n.asyncQueue.enqueue((0,Ce.Z)(function*(){const e=yield fP(n),t=yield pP(n);return e.setNetworkEnabled(!1),(r=(0,Ce.Z)(function*(i){const s=tt(i);s.vu.add(0),yield N0(s),s.bu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Jr(n=fn(n,hr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,wP("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function sU(n){return function(e){const t=new bi;return e.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function xY(n,e){return AC.apply(this,arguments)}(yield XC(e),t)})),t.promise}(Jr(n=fn(n,hr)))}(this._delegate)}onSnapshotsInSync(e){return function VU(n,e){return function KY(n,e){const t=new K7(e);return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return r=yield $0(n),i=t,tt(r).ku.add(i),void i.next();var r,i})),()=>{t.Dc(),n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return r=yield $0(n),i=t,void tt(r).ku.delete(i);var r,i}))}}(Jr(n=fn(n,hr)),rS(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new ke("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new W0(this,TP(this._delegate,e))}catch(t){throw ns(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ja(this,ev(this._delegate,e))}catch(t){throw ns(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new rs(this,function XY(n,e){if(n=fn(n,bp),tS("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ke(fe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new lo(n,null,(t=e,new D1(yn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw ns(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function ZU(n,e,t){n=fn(n,hr);const r=Object.assign(Object.assign({},WU),t);return function(i){if(i.maxAttempts<1)throw new ke(fe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,s,l){const h=new bi;return i.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){const v=yield function mP(n){return Q7(n).then(e=>e.datastore)}(i);new UY(i.asyncQueue,v,l,s,h).run()})),h.promise}(Jr(n),i=>e(new KU(n,i)),r)}(this._delegate,t=>e(new ez(this,t)))}batch(){return Jr(this._delegate),new tz(new KP(this._delegate,e=>q0(this._delegate,e)))}loadBundle(e){return function lU(n,e){const t=Jr(n=fn(n,hr)),r=new tU;return function ZY(n,e,t,r){const i=function(s,l){let h;return h="string"==typeof s?VA().encode(s):s,v=function(v,w){if(v instanceof Uint8Array)return dP(v,w);if(v instanceof ArrayBuffer)return dP(new Uint8Array(v),w);if(v instanceof ReadableStream)return v.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new BY(v,l);var v}(t,vp(e));n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){!function VY(n,e,t){const r=tt(n);var i;(i=(0,Ce.Z)(function*(s,l,h){try{const v=yield l.getMetadata();if(yield function(N,V){const U=tt(N),X=Qr(V.createTime);return U.persistence.runTransaction("hasNewerBundle","readonly",he=>U.qs.getBundleMetadata(he,V.id)).then(he=>!!he&&he.createTime.compareTo(X)>=0)}(s.localStore,v))return yield l.close(),h._completeWith({taskState:"Success",documentsLoaded:(N=v).totalDocuments,bytesLoaded:N.totalBytes,totalDocuments:N.totalDocuments,totalBytes:N.totalBytes}),Promise.resolve(new Set);h._updateProgress(tP(v));const w=new yY(v,s.localStore,l.serializer);let E=yield l.bc();for(;E;){const N=yield w.zu(E);N&&h._updateProgress(N),E=yield l.bc()}const x=yield w.complete();return yield I1(s,x.Ju,void 0),yield function(N,V){const U=tt(N);return U.persistence.runTransaction("Save bundle","readwrite",X=>U.qs.saveBundleMetadata(X,V))}(s.localStore,v),h._completeWith(x.progress),Promise.resolve(x.Hu)}catch(v){return Qa("SyncEngine",`Loading bundle failed with ${v}`),h._failWith(v),Promise.resolve(new Set)}var N}),function(s,l,h){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield XC(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function uU(n,e){return function QY(n,e){return n.asyncQueue.enqueue((0,Ce.Z)(function*(){return function(t,r){const i=tt(t);return i.persistence.runTransaction("Get named query","readonly",s=>i.qs.getNamedQuery(s,r))}(yield J7(n),e)}))}(Jr(n=fn(n,hr)),e).then(t=>t?new lo(n,null,t.query):null)}(this._delegate,e).then(t=>t?new rs(this,t):null)}}class dv extends uS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ip(new mu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ja.forKey(t,this.firestore,null)}}class ez{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new dv(e)}get(e){const t=S2(e);return this._delegate.get(t).then(r=>new Ap(this._firestore,new k1(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=S2(e);return r?(hS("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=S2(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=S2(e);return this._delegate.delete(t),this}}class tz{constructor(e){this._delegate=e}set(e,t,r){const i=S2(e);return r?(hS("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=S2(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=S2(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class C2{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new xp(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new kp(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=C2.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(t);return s||(s=new C2(e,new dv(e),t),i.set(t,s)),s}}C2.INSTANCES=new WeakMap;class Ja{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new dv(e)}static forPath(e,t,r){if(e.length%2!=0)throw new ke("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ja(t,new dr(t._delegate,r,new et(e)))}static forKey(e,t,r){return new Ja(t,new dr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new W0(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new W0(this.firestore,TP(this._delegate,e))}catch(t){throw ns(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,xn.m9)(e))instanceof dr&&MP(this._delegate,e)}set(e,t){t=hS("DocumentReference.set",t);try{return t?GP(this._delegate,e,t):GP(this._delegate,e)}catch(r){throw ns(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?qP(this._delegate,e):qP(this._delegate,e,t,...r)}catch(i){throw ns(i,"updateDoc()","DocumentReference.update()")}}delete(){return function NU(n){return q0(fn(n.firestore,hr),[new A0(n._key,wr.none())])}(this._delegate)}onSnapshot(...e){const t=nz(e),r=rz(e,i=>new Ap(this.firestore,new k1(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return WP(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function PU(n){n=fn(n,dr);const e=fn(n.firestore,hr),t=Jr(e),r=new Ch(e);return function qY(n,e){const t=new bi;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return(r=(0,Ce.Z)(function*(i,s,l){try{const h=yield function(v,w){const E=tt(v);return E.persistence.runTransaction("read document","readonly",x=>E.localDocuments.getDocument(x,w))}(i,s);h.isFoundDocument()?l.resolve(h):h.isNoDocument()?l.resolve(null):l.reject(new ke(fe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const v=H0(h,`Failed to get document '${s} from cache`);l.reject(v)}}),function(i,s,l){return r.apply(this,arguments)})(yield J7(n),e,t);var r})),t.promise}(t,n._key).then(i=>new k1(e,r,n._key,i,new b2(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function zU(n){n=fn(n,dr);const e=fn(n.firestore,hr);return gP(Jr(e),n._key,{source:"server"}).then(t=>dS(e,n,t))}(this._delegate):function kU(n){n=fn(n,dr);const e=fn(n.firestore,hr);return gP(Jr(e),n._key).then(t=>dS(e,n,t))}(this._delegate),t.then(r=>new Ap(this.firestore,new k1(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Ja(this.firestore,this._delegate.withConverter(e?C2.getInstance(this.firestore,e):null))}}function ns(n,e,t){return n.message=n.message.replace(e,t),n}function nz(n){for(const e of n)if("object"==typeof e&&!fS(e))return e;return{}}function rz(n,e){var t,r;let i;return i=fS(n[0])?n[0]:fS(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{i.next&&i.next(e(s))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Ap{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ja(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return $P(this._delegate,e._delegate)}}class kp extends Ap{data(e){const t=this._delegate.data(e);return function QV(n,e){n||gt()}(void 0!==t),t}}class rs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new dv(e)}where(e,t,r){try{return new rs(this.firestore,wh(this._delegate,function wU(n,e,t){const r=e,i=sv("where",n);return Mp._create(i,r,t)}(e,t,r)))}catch(i){throw ns(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new rs(this.firestore,wh(this._delegate,function bU(n,e="asc"){const t=e,r=sv("orderBy",n);return lS._create(r,t)}(e,t)))}catch(r){throw ns(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new rs(this.firestore,wh(this._delegate,function CU(n){return SP("limit",n),av._create("limit",n,"F")}(e)))}catch(t){throw ns(t,"limit()","Query.limit()")}}limitToLast(e){try{return new rs(this.firestore,wh(this._delegate,function SU(n){return SP("limitToLast",n),av._create("limitToLast",n,"L")}(e)))}catch(t){throw ns(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new rs(this.firestore,wh(this._delegate,function EU(...n){return cv._create("startAt",n,!0)}(...e)))}catch(t){throw ns(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new rs(this.firestore,wh(this._delegate,function DU(...n){return cv._create("startAfter",n,!1)}(...e)))}catch(t){throw ns(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new rs(this.firestore,wh(this._delegate,function TU(...n){return lv._create("endBefore",n,!1)}(...e)))}catch(t){throw ns(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new rs(this.firestore,wh(this._delegate,function MU(...n){return lv._create("endAt",n,!0)}(...e)))}catch(t){throw ns(t,"endAt()","Query.endAt()")}}isEqual(e){return nS(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function RU(n){n=fn(n,lo);const e=fn(n.firestore,hr),t=Jr(e),r=new Ch(e);return function WY(n,e){const t=new bi;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return(r=(0,Ce.Z)(function*(i,s,l){try{const h=yield Y7(i,s,!0),v=new iP(s,h.ir),w=v.sc(h.documents),E=v.applyChanges(w,!1);l.resolve(E.snapshot)}catch(h){const v=H0(h,`Failed to execute query '${s} against cache`);l.reject(v)}}),function(i,s,l){return r.apply(this,arguments)})(yield J7(n),e,t);var r})),t.promise}(t,n._query).then(i=>new bh(e,r,n,i))}(this._delegate):"server"===e?.source?function FU(n){n=fn(n,lo);const e=fn(n.firestore,hr),t=Jr(e),r=new Ch(e);return vP(t,n._query,{source:"server"}).then(i=>new bh(e,r,n,i))}(this._delegate):function OU(n){n=fn(n,lo);const e=fn(n.firestore,hr),t=Jr(e),r=new Ch(e);return LP(n._query),vP(t,n._query).then(i=>new bh(e,r,n,i))}(this._delegate),t.then(r=>new pS(this.firestore,new bh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=nz(e),r=rz(e,i=>new pS(this.firestore,new bh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return WP(this._delegate,t,r)}withConverter(e){return new rs(this.firestore,this._delegate.withConverter(e?C2.getInstance(this.firestore,e):null))}}class aj{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new kp(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class pS{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new rs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new kp(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new aj(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new kp(this._firestore,r))})}isEqual(e){return $P(this._delegate,e._delegate)}}class W0 extends rs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ja(this.firestore,e):null}doc(e){try{return new Ja(this.firestore,void 0===e?ev(this._delegate):ev(this._delegate,e))}catch(t){throw ns(t,"doc()","CollectionReference.doc()")}}add(e){return function LU(n,e){const t=fn(n.firestore,hr),r=ev(n),i=uv(n.converter,e);return q0(t,[rv(_2(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,wr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Ja(this.firestore,t))}isEqual(e){return MP(this._delegate,e._delegate)}withConverter(e){return new W0(this.firestore,this._delegate.withConverter(e?C2.getInstance(this.firestore,e):null))}}function S2(n){return fn(n,dr)}class mS{constructor(...e){this._delegate=new A1(...e)}static documentId(){return new mS(Br.keyField().canonicalString())}isEqual(e){return(e=(0,xn.m9)(e))instanceof A1&&this._delegate._internalPath.isEqual(e._internalPath)}}class E2{constructor(e){this._delegate=e}static serverTimestamp(){const e=function JU(){return new iS("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new E2(e)}static delete(){const e=function QU(){return new Sp("deleteField")}();return e._methodName="FieldValue.delete",new E2(e)}static arrayUnion(...e){const t=function XU(...n){return new mU("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new E2(t)}static arrayRemove(...e){const t=function ej(...n){return new gU("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new E2(t)}static increment(e){const t=function tj(n){return new vU("increment",n)}(e);return t._methodName="FieldValue.increment",new E2(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const cj={Firestore:XP,GeoPoint:tv,Timestamp:_r,Blob:Ip,Transaction:ez,WriteBatch:tz,DocumentReference:Ja,DocumentSnapshot:Ap,Query:rs,QueryDocumentSnapshot:kp,QuerySnapshot:pS,CollectionReference:W0,FieldPath:mS,FieldValue:E2,setLogLevel:function sj(n){!function ZV(n){ih.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function uj(n){(function lj(n,e){n.INTERNAL.registerComponent(new L5.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},cj)))})(n,(e,t)=>new XP(e,t,new oj)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(YL.Z);var hv=F(5363);function iz(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,Pg.B)({connector:()=>new g6(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function oz(n,e){return(0,Oi.m)(e)?Zn(()=>n,e):Zn(()=>n)}var gS=F(9468);F(259);const yS=new Map,az={activated:!1,tokenObservers:[]},mj={initialized:!1,enabled:!1};function Ur(n){return yS.get(n)||Object.assign({},az)}function pv(){return mj}const _S="https://content-firebaseappcheck.googleapis.com/v1",_j="exchangeDebugToken",cz={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class bj{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Ce.Z)(function*(){t.stop();try{t.pending=new xn.BH,yield function Cj(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new xn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const uo=new xn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function wS(n){if(!Ur(n).activated)throw uo.create("use-before-activation",{appName:n.name})}function vv(n,e){return CS.apply(this,arguments)}function CS(){return CS=(0,Ce.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const x=yield i.getHeartbeatsHeader();x&&(r["X-Firebase-Client"]=x)}const s={method:"POST",body:JSON.stringify(e),headers:r};let l,h;try{l=yield fetch(n,s)}catch(x){throw uo.create("fetch-network-error",{originalErrorMessage:x?.message})}if(200!==l.status)throw uo.create("fetch-status-error",{httpStatus:l.status});try{h=yield l.json()}catch(x){throw uo.create("fetch-parse-error",{originalErrorMessage:x?.message})}const v=h.ttl.match(/^([\d.]+)(s)$/);if(!v||!v[2]||isNaN(Number(v[1])))throw uo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const w=1e3*Number(v[1]),E=Date.now();return{token:h.token,expireTimeMillis:E+w,issuedAtTimeMillis:E}}),CS.apply(this,arguments)}function lz(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${_S}/projects/${t}/apps/${r}:${_j}?key=${i}`,body:{debug_token:e}}}const Tj="firebase-app-check-database",Mj=1,Pp="firebase-app-check-store";let yv=null;function SS(){return SS=(0,Ce.Z)(function*(n,e){const r=(yield function dz(){return yv||(yv=new Promise((n,e)=>{try{const t=indexedDB.open(Tj,Mj);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(uo.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Pp,{keyPath:"compositeKey"})}}catch(t){e(uo.create("storage-open",{originalErrorMessage:t?.message}))}}),yv)}()).transaction(Pp,"readwrite"),s=r.objectStore(Pp).put({compositeKey:n,value:e});return new Promise((l,h)=>{s.onsuccess=v=>{l()},r.onerror=v=>{var w;h(uo.create("storage-set",{originalErrorMessage:null===(w=v.target.error)||void 0===w?void 0:w.message}))}})}),SS.apply(this,arguments)}const zp=new th.Yd("@firebase/app-check");function TS(n,e){return(0,xn.hl)()?function Ij(n,e){return function hz(n,e){return SS.apply(this,arguments)}(function pz(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{zp.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function xS(){return pv().enabled}function IS(){return AS.apply(this,arguments)}function AS(){return AS=(0,Ce.Z)(function*(){const n=pv();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),AS.apply(this,arguments)}const Rj={error:"UNKNOWN_ERROR"};function Fj(n){return xn.US.encodeString(JSON.stringify(n),!1)}function _v(n){return kS.apply(this,arguments)}function kS(){return kS=(0,Ce.Z)(function*(n,e=!1){const t=n.app;wS(t);const r=Ur(t);let s,i=r.token;if(i&&!K0(i)&&(r.token=void 0,i=void 0),!i){const v=yield r.cachedTokenPromise;v&&(K0(v)?i=v:yield TS(t,void 0))}if(!e&&i&&K0(i))return{token:i.token};let h,l=!1;if(xS()){r.exchangeTokenPromise||(r.exchangeTokenPromise=vv(lz(t,yield IS()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),l=!0);const v=yield r.exchangeTokenPromise;return yield TS(t,v),r.token=v,{token:v.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),l=!0),i=yield Ur(t).exchangeTokenPromise}catch(v){"appCheck/throttled"===v.code?zp.warn(v.message):zp.error(v),s=v}return i?s?h=K0(i)?{token:i.token,internalError:s}:yz(s):(h={token:i.token},r.token=i,yield TS(t,i)):h=yz(s),l&&function vz(n,e){const t=Ur(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,h),h}),kS.apply(this,arguments)}function PS(){return PS=(0,Ce.Z)(function*(n){const e=n.app;wS(e);const{provider:t}=Ur(e);if(xS()){const r=yield IS(),{token:i}=yield vv(lz(e,r),n.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield t.getToken();return{token:r}}}),PS.apply(this,arguments)}function OS(n,e){const t=Ur(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function gz(n){const{app:e}=n,t=Ur(e);let r=t.tokenRefresher;r||(r=function Nj(n){const{app:e}=n;return new bj((0,Ce.Z)(function*(){let r;if(r=Ur(e).token?yield _v(n,!0):yield _v(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Ur(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},cz.RETRIAL_MIN_WAIT,cz.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function K0(n){return n.expireTimeMillis-Date.now()>0}function yz(n){return{token:Fj(Rj),error:n}}class Lj{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Ur(this.app);for(const t of e)OS(this.app,t.next);return Promise.resolve()}}const Tz="app-check-internal";!function Jj(){(0,J4._registerComponent)(new L5.wA("app-check",n=>function Vj(n,e){return new Lj(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Tz).initialize()})),(0,J4._registerComponent)(new L5.wA(Tz,n=>function Hj(n){return{getToken:e=>_v(n,e),getLimitedUseToken:()=>function mz(n){return PS.apply(this,arguments)}(n),addTokenListener:e=>function zS(n,e,t,r){const{app:i}=n,s=Ur(i);if(s.tokenObservers=[...s.tokenObservers,{next:t,error:r,type:e}],s.token&&K0(s.token)){const h=s.token;Promise.resolve().then(()=>{t({token:h.token}),gz(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>gz(n))}(n,"INTERNAL",e),removeTokenListener:e=>OS(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,J4.registerVersion)("@firebase/app-check","0.8.0")}();class LS{constructor(){return(0,Mo.vb)("app-check")}}typeof window<"u"&&window,F(9260);const xz=new d.OlP("angularfire2.auth.use-emulator"),Iz=new d.OlP("angularfire2.auth.settings"),Az=new d.OlP("angularfire2.auth.tenant-id"),kz=new d.OlP("angularfire2.auth.langugage-code"),Pz=new d.OlP("angularfire2.auth.use-device-language"),zz=new d.OlP("angularfire.auth.persistence"),Oz=(n,e,t,r,i,s,l,h)=>(0,el.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const v=e.runOutsideAngular(()=>n.auth());if(t&&v.useEmulator(...t),r&&(v.tenantId=r),v.languageCode=i,s&&v.useDeviceLanguage(),l)for(const[w,E]of Object.entries(l))v.settings[w]=E;return h&&v.setPersistence(h),v},[t,r,i,s,l,h]);let Rz=(()=>{class n{constructor(t,r,i,s,l,h,v,w,E,x,N,V){const U=new dt.x,X=at(void 0).pipe((0,hv.Q)(l.outsideAngular),Zn(()=>s.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,2644)))),(0,vt.U)(()=>(0,el.on)(t,s,r)),(0,vt.U)(he=>Oz(he,s,h,w,E,x,v,N)),iz({bufferSize:1,refCount:!1}));if(Lo(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=at(null);else{X.pipe(Qi()).subscribe();const Ve=X.pipe(Zn(ot=>ot.getRedirectResult().then(Pt=>Pt,()=>null)),Mo.iC,iz({bufferSize:1,refCount:!1})),Ke=X.pipe(Zn(ot=>new $n.y(Pt=>({unsubscribe:s.runOutsideAngular(()=>ot.onAuthStateChanged(jt=>Pt.next(jt),jt=>Pt.error(jt),()=>Pt.complete()))})))),Je=X.pipe(Zn(ot=>new $n.y(Pt=>({unsubscribe:s.runOutsideAngular(()=>ot.onIdTokenChanged(jt=>Pt.next(jt),jt=>Pt.error(jt),()=>Pt.complete()))}))));this.authState=Ve.pipe(oz(Ke),(0,gS.R)(l.outsideAngular),(0,hv.Q)(l.insideAngular)),this.user=Ve.pipe(oz(Je),(0,gS.R)(l.outsideAngular),(0,hv.Q)(l.insideAngular)),this.idToken=this.user.pipe(Zn(ot=>ot?(0,dn.D)(ot.getIdToken()):at(null))),this.idTokenResult=this.user.pipe(Zn(ot=>ot?(0,dn.D)(ot.getIdTokenResult()):at(null))),this.credential=(0,pf.T)(Ve,U,this.authState.pipe(Yn(ot=>!ot))).pipe((0,vt.U)(ot=>ot?.user?ot:null),(0,gS.R)(l.outsideAngular),(0,hv.Q)(l.insideAngular))}return(0,el.pX)(this,X,s,{spy:{apply:(he,Ve,Ke)=>{(he.startsWith("signIn")||he.startsWith("createUser"))&&Ke.then(Je=>U.next(Je))}}})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(el.Dh),d.LFG(el.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Mo.HU),d.LFG(xz,8),d.LFG(Iz,8),d.LFG(Az,8),d.LFG(kz,8),d.LFG(Pz,8),d.LFG(zz,8),d.LFG(LS,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function Fz(n,e){return function i$(n,e=M5.z){return new $n.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function HS(n,e){return Fz(n,e).pipe((0,vt.U)(t=>({payload:t,type:"query"})))}function bv(n,e){return HS(n,e).pipe(ci(void 0),lw(),(0,vt.U)(([t,r])=>{const i=r.payload.docChanges(),s=i.map(l=>({type:l.type,payload:l}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((l,h)=>{const v=i.find(E=>E.doc.ref.isEqual(l.ref)),w=t?.payload.docs.find(E=>E.ref.isEqual(l.ref));v&&JSON.stringify(v.doc.metadata)===JSON.stringify(l.metadata)||!v&&w&&JSON.stringify(w.metadata)===JSON.stringify(l.metadata)||s.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:l}})}),s}))}function Nz(n,e,t){return bv(n,t).pipe(Hl((r,i)=>function s$(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function a$(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return BS(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return BS(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return BS(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(s=>s.payload),e),[]),Jo(),(0,vt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function BS(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function Lz(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class Vz{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=bv(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,vt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(ci(void 0),lw(),Yn(([r,i])=>i.length>0||!r),(0,vt.U)(([r,i])=>i),Mo.iC)}auditTrail(e){return this.stateChanges(e).pipe(Hl((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=Lz(e);return Nz(this.query,t,this.afs.schedulers.outsideAngular).pipe(Mo.iC)}valueChanges(e={}){return HS(this.query,this.afs.schedulers.outsideAngular).pipe((0,vt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Mo.iC)}get(e){return(0,dn.D)(this.query.get(e)).pipe(Mo.iC)}add(e){return this.ref.add(e)}doc(e){return new Hz(this.ref.doc(e),this.afs)}}class Hz{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:s}=Bz(r,t);return new Vz(i,s,this.afs)}snapshotChanges(){return function o$(n,e){return Fz(n,e).pipe(ci(void 0),lw(),(0,vt.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Mo.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,vt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,dn.D)(this.ref.get(e)).pipe(Mo.iC)}}class c${constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?bv(this.query,this.afs.schedulers.outsideAngular).pipe((0,vt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Yn(t=>t.length>0),Mo.iC):bv(this.query,this.afs.schedulers.outsideAngular).pipe(Mo.iC)}auditTrail(e){return this.stateChanges(e).pipe(Hl((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=Lz(e);return Nz(this.query,t,this.afs.schedulers.outsideAngular).pipe(Mo.iC)}valueChanges(e={}){return HS(this.query,this.afs.schedulers.outsideAngular).pipe((0,vt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Mo.iC)}get(e){return(0,dn.D)(this.query.get(e)).pipe(Mo.iC)}}const l$=new d.OlP("angularfire2.enableFirestorePersistence"),u$=new d.OlP("angularfire2.firestore.persistenceSettings"),d$=new d.OlP("angularfire2.firestore.settings"),h$=new d.OlP("angularfire2.firestore.use-emulator");function Bz(n,e=(t=>t)){return{query:e(n),ref:n}}let f$=(()=>{class n{constructor(t,r,i,s,l,h,v,w,E,x,N,V,U,X,he,Ve,Ke){this.schedulers=v;const Je=(0,el.on)(t,h,r),ot=E;x&&Oz(Je,h,N,U,X,he,V,Ve),[this.firestore,this.persistenceEnabled$]=(0,el.cc)(`${Je.name}.firestore`,"AngularFirestore",Je.name,()=>{const Pt=h.runOutsideAngular(()=>Je.firestore());if(s&&Pt.settings(s),ot&&Pt.useEmulator(...ot),i&&!Lo(l)){const jt=()=>{try{return(0,dn.D)(Pt.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(mn){return typeof console<"u"&&console.warn(mn),at(!1)}};return[Pt,h.runOutsideAngular(jt)]}return[Pt,at(!1)]},[s,ot,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:l}=Bz(i,r),h=this.schedulers.ngZone.run(()=>s);return new Vz(h,l,this)}collectionGroup(t,r){const i=r||(l=>l),s=this.firestore.collectionGroup(t);return new c$(i(s),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new Hz(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(el.Dh),d.LFG(el.xv,8),d.LFG(l$,8),d.LFG(d$,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Mo.HU),d.LFG(u$,8),d.LFG(h$,8),d.LFG(Rz,8),d.LFG(xz,8),d.LFG(Iz,8),d.LFG(Az,8),d.LFG(kz,8),d.LFG(Pz,8),d.LFG(zz,8),d.LFG(LS,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),p$=(()=>{const e=class{constructor(r){this.firestore=r}getDataChange(r){return this.firestore.collection(r).snapshotChanges().pipe((0,vt.U)(i=>i.map(s=>{const l=s.payload.doc.data();return{id:s.payload.doc.id,...l}})))}addData(r,i){return this.firestore.collection(r).add(i)}addNewData(r,i,s){return this.firestore.doc(r+`/${i}`).set(s)}deleteAllData(r){this.firestore.doc(r).delete()}deleteData(r,i){this.firestore.doc(r+`/${i}`).delete()}getAllData(r){return new Promise(i=>{this.firestore.collection(r).valueChanges({idField:"id"}).subscribe(s=>i(s))})}getDataByDID(r,i){var s=this;return(0,Ce.Z)(function*(){return s.firestore.doc(`${r}/${i}`).get()})()}updateData(r,i,s){return this.firestore.doc(r+`/${i}`).update(s)}getUsers(){return this.users||(this.users=this.getDataChange("users")),this.users}};let n=e;return e.\u0275fac=function(i){return new(i||e)(d.LFG(f$))},e.\u0275prov=d.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),n})(),Yz=(()=>{const e=class{constructor(r,i,s){this.crud=r,this.router=i,this.user=s,this.code=""}ngOnInit(){let r=localStorage.getItem("hadwritten-invite");null!=r&&(this.code=r,this.confirm())}confirm(){var r=this;return(0,Ce.Z)(function*(){try{(yield r.crud.getDataByDID("admin",r.code)).subscribe(i=>{i.data()&&(localStorage.setItem("hadwritten-invite",r.code),r.user.setCode(r.code),r.router.navigate([""]))})}catch(i){console.log(i)}})()}};let n=e;return e.\u0275fac=function(i){return new(i||e)(d.Y36(p$),d.Y36(Ni),d.Y36(h3))},e.\u0275cmp=d.Xpm({type:e,selectors:[["app-login"]],decls:6,vars:1,consts:[["nz-row","","nzJustify","center",1,"home"],["nz-col","","nzSpan","24",1,"form"],["nz-input","","placeholder","Nh\xe2\u0323p Ma\u0303 M\u01a1\u0300i","type","text",3,"ngModel","ngModelChange","keyup.enter"],[1,"group"],["nz-button","","nzType","primary",2,"margin-right","10px",3,"click"]],template:function(i,s){1&i&&(d.TgZ(0,"div",0)(1,"div",1)(2,"input",2),d.NdJ("ngModelChange",function(h){return s.code=h})("keyup.enter",function(){return s.confirm()}),d.qZA(),d.TgZ(3,"div",3)(4,"button",4),d.NdJ("click",function(){return s.confirm()}),d._uU(5,"XA\u0301C NH\xc2\u0323N"),d.qZA()()()()),2&i&&(d.xp6(2),d.Q6J("ngModel",s.code))},dependencies:[_4,km,Yd,eM,sM,U_,rM,fx,cw],styles:[".home[_ngcontent-%COMP%]{max-width:400px}.home[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.home[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-bottom:10px}"]}),n})(),Uz=(()=>{const e=class{};let n=e;return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=d.Xpm({type:e,selectors:[["app-admin"]],decls:2,vars:0,template:function(i,s){1&i&&(d.TgZ(0,"p"),d._uU(1,"admin works!"),d.qZA())}}),n})(),jz=(()=>{const e=class{};let n=e;return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=d.Xpm({type:e,selectors:[["app-upload"]],decls:2,vars:0,template:function(i,s){1&i&&(d.TgZ(0,"p"),d._uU(1,"upload works!"),d.qZA())}}),n})();const m$=[{path:"",component:px},{path:"login",component:Yz},{path:"admin",component:Uz},{path:"admin/upload",component:jz}];let g$=(()=>{const e=class{};let n=e;return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({imports:[_9.forRoot(m$),_9]}),n})(),$z=(()=>{const e=class{constructor(){this.title="Handwritten_admin"}};let n=e;return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=d.Xpm({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(i,s){1&i&&d._UZ(0,"router-outlet")},dependencies:[J]}),n})();var v$={locale:"en",Pagination:{items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},DatePicker:{lang:{placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"],locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},timePickerLocale:{placeholder:"Select time",rangePlaceholder:["Start time","End time"]}},TimePicker:{placeholder:"Select time",rangePlaceholder:["Start time","End time"]},Calendar:{lang:{placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"],locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},timePickerLocale:{placeholder:"Select time",rangePlaceholder:["Start time","End time"]}},global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",selectNone:"Clear all data"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No Data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Image:{preview:"Preview"},CronExpression:{cronError:"Invalid cron expression",second:"second",minute:"minute",hour:"hour",day:"day",month:"month",week:"week",secondError:"<p><span>*</span>Any value</p><p><span>,</span>Separator between multiple values</p><p><span>-</span>Connector for interval values</p><p><span>/</span>Equally distributed</p><p><span>0-59</span>Allowable range</p>",minuteError:"<p><span>*</span>Any value</p><p><span>,</span>Separator between multiple values</p><p><span>-</span>Connector for interval values</p><p><span>/</span>Equally distributed</p><p><span>0-59</span>Allowable range</p>",hourError:"<p><span>*</span>Any value</p><p><span>,</span>Separator between multiple values</p><p><span>-</span>Connector for interval values</p><p><span>/</span>Equally distributed</p><p><span>0-23</span>Allowable range</p>",dayError:"<p><span>*</span>Any value</p><p><span>,</span>Separator between multiple values</p><p><span>-</span>Connector for interval values</p><p><span>/</span>Equally distributed</p><p><span>1-31</span>Allowable range</p>",monthError:"<p><span>*</span>Any value</p><p><span>,</span>Separator between multiple values</p><p><span>-</span>Connector for interval values</p><p><span>/</span>Equally distributed</p><p><span>1-12</span>Allowable range</p>",weekError:"<p><span>*</span>Any value</p><p><span>,</span>Separator between multiple values</p><p><span>-</span>Connector for interval values</p><p><span>/</span>Equally distributed</p><span>?</span> Not specify</p><p><p><span>0-7</span>Allowable range (0 represents Sunday, 1-7 are Monday to Sunday)</p>"},QRCode:{expired:"QR code expired",refresh:"Refresh"}};const y$=new d.OlP("nz-i18n");new d.OlP("nz-date-locale"),new d.OlP("date-config");const D2=void 0,E$=["en",[["a","p"],["AM","PM"],D2],[["AM","PM"],D2,D2],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],D2,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],D2,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",D2,"{1} 'at' {0}",D2],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function S$(n){const t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];function Gz(n){return new d.vHH(3e3,!1)}function oG(){return typeof window<"u"&&typeof window.document<"u"}function YS(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Eh(n){switch(n.length){case 0:return new mf;case 1:return n[0];default:return new RM(n)}}function qz(n,e,t,r,i=new Map,s=new Map){const l=[],h=[];let v=-1,w=null;if(r.forEach(E=>{const x=E.get("offset"),N=x==v,V=N&&w||new Map;E.forEach((U,X)=>{let he=X,Ve=U;if("offset"!==X)switch(he=e.normalizePropertyName(he,l),Ve){case Z_:Ve=i.get(X);break;case b1:Ve=s.get(X);break;default:Ve=e.normalizeStyleValue(X,he,Ve,l)}V.set(he,Ve)}),N||h.push(V),w=V,v=x}),l.length)throw function q$(n){return new d.vHH(3502,!1)}();return h}function US(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&jS(t,"start",n)));break;case"done":n.onDone(()=>r(t&&jS(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&jS(t,"destroy",n)))}}function jS(n,e,t){const s=$S(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),l=n._data;return null!=l&&(s._data=l),s}function $S(n,e,t,r,i="",s=0,l){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!l}}function da(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function Wz(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let GS=(n,e)=>!1,Kz=(n,e,t)=>[],Zz=null;function qS(n){const e=n.parentNode||n.host;return e===Zz?null:e}(YS()||typeof Element<"u")&&(oG()?(Zz=(()=>document.documentElement)(),GS=(n,e)=>{for(;e;){if(e===n)return!0;e=qS(e)}return!1}):GS=(n,e)=>n.contains(e),Kz=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let T2=null,Qz=!1;const Jz=GS,Xz=Kz;let eO=(()=>{class n{validateStyleProperty(t){return function aG(n){T2||(T2=function cG(){return typeof document<"u"?document.body:null}()||{},Qz=!!T2.style&&"WebkitAppearance"in T2.style);let e=!0;return T2.style&&!function sG(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in T2.style,!e&&Qz&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in T2.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return Jz(t,r)}getParentElement(t){return qS(t)}query(t,r,i){return Xz(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,l,h=[],v){return new mf(i,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),WS=(()=>{class n{}return n.NOOP=new eO,n})();const lG=1e3,KS="ng-enter",Cv="ng-leave",Sv="ng-trigger",Ev=".ng-trigger",nO="ng-animating",ZS=".ng-animating";function P1(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:QS(parseFloat(e[1]),e[2])}function QS(n,e){return"s"===e?n*lG:n}function Dv(n,e,t){return n.hasOwnProperty("duration")?n:function dG(n,e,t){let i,s=0,l="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return e.push(Gz()),{duration:0,delay:0,easing:""};i=QS(parseFloat(h[1]),h[2]);const v=h[3];null!=v&&(s=QS(parseFloat(v),h[4]));const w=h[5];w&&(l=w)}else i=n;if(!t){let h=!1,v=e.length;i<0&&(e.push(function D$(){return new d.vHH(3100,!1)}()),h=!0),s<0&&(e.push(function T$(){return new d.vHH(3101,!1)}()),h=!0),h&&e.splice(v,0,Gz())}return{duration:i,delay:s,easing:l}}(n,e,t)}function Op(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function rO(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Dh(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function oO(n,e,t){return t?e+":"+t+";":""}function sO(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=oO(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=oO(0,mG(t),n.style[t]));n.setAttribute("style",e)}function gu(n,e,t){n.style&&(e.forEach((r,i)=>{const s=XS(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r}),YS()&&sO(n))}function M2(n,e){n.style&&(e.forEach((t,r)=>{const i=XS(r);n.style[i]=""}),YS()&&sO(n))}function Rp(n){return Array.isArray(n)?1==n.length?n[0]:kM(n):n}const JS=new RegExp("{{\\s*(.+?)\\s*}}","g");function aO(n){let e=[];if("string"==typeof n){let t;for(;t=JS.exec(n);)e.push(t[1]);JS.lastIndex=0}return e}function Fp(n,e,t){const r=n.toString(),i=r.replace(JS,(s,l)=>{let h=e[l];return null==h&&(t.push(function x$(n){return new d.vHH(3003,!1)}()),h=""),h.toString()});return i==r?n:i}function Tv(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const pG=/-+([a-z0-9])/g;function XS(n){return n.replace(pG,(...e)=>e[1].toUpperCase())}function mG(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ha(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function I$(n){return new d.vHH(3004,!1)}()}}function cO(n,e){return window.getComputedStyle(n)[e]}const Iv="*";function bG(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function CG(n,e,t){if(":"==n[0]){const v=function SG(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function U$(n){return new d.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof v)return void e.push(v);n=v}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function Y$(n){return new d.vHH(3015,!1)}()),e;const i=r[1],s=r[2],l=r[3];e.push(lO(i,l));"<"==s[0]&&!(i==Iv&&l==Iv)&&e.push(lO(l,i))}(r,t,e)):t.push(n),t}const Av=new Set(["true","1"]),kv=new Set(["false","0"]);function lO(n,e){const t=Av.has(n)||kv.has(n),r=Av.has(e)||kv.has(e);return(i,s)=>{let l=n==Iv||n==i,h=e==Iv||e==s;return!l&&t&&"boolean"==typeof i&&(l=i?Av.has(n):kv.has(n)),!h&&r&&"boolean"==typeof s&&(h=s?Av.has(e):kv.has(e)),l&&h}}const EG=new RegExp("s*:selfs*,?","g");function eE(n,e,t,r){return new DG(n).build(e,t,r)}class DG{constructor(e){this._driver=e}build(e,t,r){const i=new xG(t);return this._resetContextStyleTimingState(i),ha(this,Rp(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],l=[];return"@"==e.name.charAt(0)&&t.errors.push(function k$(){return new d.vHH(3006,!1)}()),e.definitions.forEach(h=>{if(this._resetContextStyleTimingState(t),0==h.type){const v=h,w=v.name;w.toString().split(/\s*,\s*/).forEach(E=>{v.name=E,s.push(this.visitState(v,t))}),v.name=w}else if(1==h.type){const v=this.visitTransition(h,t);r+=v.queryCount,i+=v.depCount,l.push(v)}else t.errors.push(function P$(){return new d.vHH(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:l,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,l=i||{};r.styles.forEach(h=>{h instanceof Map&&h.forEach(v=>{aO(v).forEach(w=>{l.hasOwnProperty(w)||s.add(w)})})}),s.size&&(Tv(s.values()),t.errors.push(function z$(n,e){return new d.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=ha(this,Rp(e.animation),t);return{type:1,matchers:bG(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:x2(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>ha(this,r,t)),options:x2(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(l=>{t.currentTime=r;const h=ha(this,l,t);return i=Math.max(i,t.currentTime),h});return t.currentTime=i,{type:3,steps:s,options:x2(e.options)}}visitAnimate(e,t){const r=function AG(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return tE(Dv(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=tE(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=Dv(t,e);return tE(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:Zt({});if(5==s.type)i=this.visitKeyframes(s,t);else{let l=e.styles,h=!1;if(!l){h=!0;const w={};r.easing&&(w.easing=r.easing),l=Zt(w)}t.currentTime+=r.duration+r.delay;const v=this.visitStyle(l,t);v.isEmptyStep=h,i=v}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let h of i)"string"==typeof h?h===b1?r.push(h):t.errors.push(new d.vHH(3002,!1)):r.push(rO(h));let s=!1,l=null;return r.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(l=h.get("easing"),h.delete("easing")),!s))for(let v of h.values())if(v.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:l,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(l=>{"string"!=typeof l&&l.forEach((h,v)=>{const w=t.collectedStyles.get(t.currentQuerySelector),E=w.get(v);let x=!0;E&&(s!=i&&s>=E.startTime&&i<=E.endTime&&(t.errors.push(function R$(n,e,t,r,i){return new d.vHH(3010,!1)}()),x=!1),s=E.startTime),x&&w.set(v,{startTime:s,endTime:i}),t.options&&function fG(n,e,t){const r=e.params||{},i=aO(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function M$(n){return new d.vHH(3001,!1)}())})}(h,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function F$(){return new d.vHH(3011,!1)}()),r;let s=0;const l=[];let h=!1,v=!1,w=0;const E=e.steps.map(Ve=>{const Ke=this._makeStyleAst(Ve,t);let Je=null!=Ke.offset?Ke.offset:function IG(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Ke.styles),ot=0;return null!=Je&&(s++,ot=Ke.offset=Je),v=v||ot<0||ot>1,h=h||ot<w,w=ot,l.push(ot),Ke});v&&t.errors.push(function N$(){return new d.vHH(3012,!1)}()),h&&t.errors.push(function L$(){return new d.vHH(3200,!1)}());const x=e.steps.length;let N=0;s>0&&s<x?t.errors.push(function V$(){return new d.vHH(3202,!1)}()):0==s&&(N=1/(x-1));const V=x-1,U=t.currentTime,X=t.currentAnimateTimings,he=X.duration;return E.forEach((Ve,Ke)=>{const Je=N>0?Ke==V?1:N*Ke:l[Ke],ot=Je*he;t.currentTime=U+X.delay+ot,X.duration=ot,this._validateStyleAst(Ve,t),Ve.offset=Je,r.styles.push(Ve)}),r}visitReference(e,t){return{type:8,animation:ha(this,Rp(e.animation),t),options:x2(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:x2(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:x2(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,l]=function TG(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(EG,"")),n=n.replace(/@\*/g,Ev).replace(/@\w+/g,t=>Ev+"-"+t.slice(1)).replace(/:animating/g,ZS),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,da(t.collectedStyles,t.currentQuerySelector,new Map);const h=ha(this,Rp(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:l,animation:h,originalSelector:e.selector,options:x2(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function H$(){return new d.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:Dv(e.timings,t.errors,!0);return{type:12,animation:ha(this,Rp(e.animation),t),timings:r,options:null}}}class xG{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function x2(n){return n?(n=Op(n)).params&&(n.params=function MG(n){return n?Op(n):null}(n.params)):n={},n}function tE(n,e,t){return{duration:n,delay:e,easing:t}}function nE(n,e,t,r,i,s,l=null,h=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:l,subTimeline:h}}class Pv{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const zG=new RegExp(":enter","g"),RG=new RegExp(":leave","g");function rE(n,e,t,r,i,s=new Map,l=new Map,h,v,w=[]){return(new FG).buildKeyframes(n,e,t,r,i,s,l,h,v,w)}class FG{buildKeyframes(e,t,r,i,s,l,h,v,w,E=[]){w=w||new Pv;const x=new iE(e,t,w,i,s,E,[]);x.options=v;const N=v.delay?P1(v.delay):0;x.currentTimeline.delayNextStep(N),x.currentTimeline.setStyles([l],null,x.errors,v),ha(this,r,x);const V=x.timelines.filter(U=>U.containsAnimation());if(V.length&&h.size){let U;for(let X=V.length-1;X>=0;X--){const he=V[X];if(he.element===t){U=he;break}}U&&!U.allowOnlyTimelineStyles()&&U.setStyles([h],null,x.errors,v)}return V.length?V.map(U=>U.buildKeyframes()):[nE(t,[],[],[],0,N,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,l=this._visitSubInstructions(r,i,i.options);s!=l&&t.transformIntoNewTimeline(l)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const s=i?.delay;if(s){const l="number"==typeof s?s:P1(Fp(s,i?.params??{},t.errors));r.delayNextStep(l)}}}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const l=null!=r.duration?P1(r.duration):null,h=null!=r.delay?P1(r.delay):null;return 0!==l&&e.forEach(v=>{const w=t.appendInstructionToTimeline(v,l,h);s=Math.max(s,w.duration+w.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),ha(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=zv);const l=P1(s.delay);i.delayNextStep(l)}e.steps.length&&(e.steps.forEach(l=>ha(this,l,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?P1(e.options.delay):0;e.steps.forEach(l=>{const h=t.createSubContext(e.options);s&&h.delayNextStep(s),ha(this,l,h),i=Math.max(i,h.currentTimeline.currentTime),r.push(h.currentTimeline)}),r.forEach(l=>t.currentTimeline.mergeTimelineCollectedStyles(l)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return Dv(t.params?Fp(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,h=t.createSubContext().currentTimeline;h.easing=r.easing,e.styles.forEach(v=>{h.forwardTime((v.offset||0)*s),h.setStyles(v.styles,v.easing,t.errors,t.options),h.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(h),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?P1(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=zv);let l=r;const h=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=h.length;let v=null;h.forEach((w,E)=>{t.currentQueryIndex=E;const x=t.createSubContext(e.options,w);s&&x.delayNextStep(s),w===t.element&&(v=x.currentTimeline),ha(this,e.animation,x),x.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,x.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(l),v&&(t.currentTimeline.mergeTimelineCollectedStyles(v),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,l=Math.abs(s.duration),h=l*(t.currentQueryTotal-1);let v=l*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":v=h-v;break;case"full":v=r.currentStaggerTime}const E=t.currentTimeline;v&&E.delayNextStep(v);const x=E.currentTime;ha(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-x+(i.startTime-r.currentTimeline.startTime)}}const zv={};class iE{constructor(e,t,r,i,s,l,h,v){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=l,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=zv,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=v||new Ov(this._driver,t,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=P1(r.duration)),null!=r.delay&&(i.delay=P1(r.delay));const s=r.params;if(s){let l=i.params;l||(l=this.options.params={}),Object.keys(s).forEach(h=>{(!t||!l.hasOwnProperty(h))&&(l[h]=Fp(s[h],l,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new iE(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=zv,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new NG(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,l){let h=[];if(i&&h.push(this.element),e.length>0){e=(e=e.replace(zG,"."+this._enterClassName)).replace(RG,"."+this._leaveClassName);let w=this._driver.query(this.element,e,1!=r);0!==r&&(w=r<0?w.slice(w.length+r,w.length):w.slice(0,r)),h.push(...w)}return!s&&0==h.length&&l.push(function B$(n){return new d.vHH(3014,!1)}()),h}}class Ov{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Ov(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||b1),this._currentKeyframe.set(t,b1);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},l=function LG(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)t.set(s,b1)}else Dh(i,t)}),t}(e,this._globalTimelineStyles);for(let[h,v]of l){const w=Fp(v,s,r);this._pendingStyles.set(h,w),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??b1),this._updateStyle(h,w)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((h,v)=>{const w=Dh(h,new Map,this._backFill);w.forEach((E,x)=>{E===Z_?e.add(x):E===b1&&t.add(x)}),r||w.set("offset",v/this.duration),i.push(w)});const s=e.size?Tv(e.values()):[],l=t.size?Tv(t.values()):[];if(r){const h=i[0],v=new Map(h);h.set("offset",0),v.set("offset",1),i=[h,v]}return nE(this.element,i,s,l,this.duration,this.startTime,this.easing,!1)}}class NG extends Ov{constructor(e,t,r,i,s,l,h=!1){super(e,t,l.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=h,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],l=r+t,h=t/l,v=Dh(e[0]);v.set("offset",0),s.push(v);const w=Dh(e[0]);w.set("offset",hO(h)),s.push(w);const E=e.length-1;for(let x=1;x<=E;x++){let N=Dh(e[x]);const V=N.get("offset");N.set("offset",hO((t+V*r)/l)),s.push(N)}r=l,t=0,i="",e=s}return nE(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function hO(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class oE{}const VG=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class HG extends oE{normalizePropertyName(e,t){return XS(e)}normalizeStyleValue(e,t,r,i){let s="";const l=r.toString().trim();if(VG.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const h=r.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&i.push(function A$(n,e){return new d.vHH(3005,!1)}())}return l+s}}function fO(n,e,t,r,i,s,l,h,v,w,E,x,N){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:l,timelines:h,queriedElements:v,preStyleProps:w,postStyleProps:E,totalTime:x,errors:N}}const sE={};class pO{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function BG(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,l,h,v,w,E){const x=[],N=this.ast.options&&this.ast.options.params||sE,U=this.buildStyles(r,h&&h.params||sE,x),X=v&&v.params||sE,he=this.buildStyles(i,X,x),Ve=new Set,Ke=new Map,Je=new Map,ot="void"===i,Pt={params:YG(X,N),delay:this.ast.options?.delay},jt=E?[]:rE(e,t,this.ast.animation,s,l,U,he,Pt,w,x);let mn=0;if(jt.forEach(gn=>{mn=Math.max(gn.duration+gn.delay,mn)}),x.length)return fO(t,this._triggerName,r,i,ot,U,he,[],[],Ke,Je,mn,x);jt.forEach(gn=>{const Xr=gn.element,tc=da(Ke,Xr,new Set);gn.preStyleProps.forEach(nc=>tc.add(nc));const zo=da(Je,Xr,new Set);gn.postStyleProps.forEach(nc=>zo.add(nc)),Xr!==t&&Ve.add(Xr)});const Si=Tv(Ve.values());return fO(t,this._triggerName,r,i,ot,U,he,jt,Si,Ke,Je,mn)}}function YG(n,e){const t=Op(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class UG{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=Op(this.defaultParams);return Object.keys(e).forEach(s=>{const l=e[s];null!==l&&(i[s]=l)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((l,h)=>{l&&(l=Fp(l,i,t));const v=this.normalizer.normalizePropertyName(h,t);l=this.normalizer.normalizeStyleValue(h,v,l,t),r.set(h,l)})}),r}}class $G{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new UG(i.style,i.options&&i.options.params||{},r))}),mO(this.states,"true","1"),mO(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new pO(e,i,this.states))}),this.fallbackTransition=function GG(n,e,t){return new pO(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,h)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(l=>l.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function mO(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const qG=new Pv;class WG{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],i=[],s=eE(this._driver,t,r,i);if(r.length)throw function W$(n){return new d.vHH(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,r){const i=e.element,s=qz(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations.get(e);let l;const h=new Map;if(s?(l=rE(this._driver,t,s,KS,Cv,new Map,new Map,r,qG,i),l.forEach(E=>{const x=da(h,E.element,new Map);E.postStyleProps.forEach(N=>x.set(N,null))})):(i.push(function K$(){return new d.vHH(3300,!1)}()),l=[]),i.length)throw function Z$(n){return new d.vHH(3504,!1)}();h.forEach((E,x)=>{E.forEach((N,V)=>{E.set(V,this._driver.computeStyle(x,V,b1))})});const w=Eh(l.map(E=>{const x=h.get(E.element);return this._buildPlayer(E,new Map,x)}));return this._playersById.set(e,w),w.onDestroy(()=>this.destroy(e)),this.players.push(w),w}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Q$(n){return new d.vHH(3301,!1)}();return t}listen(e,t,r,i){const s=$S(t,"","","");return US(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const gO="ng-animate-queued",aE="ng-animate-disabled",XG=[],vO={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},eq={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Xa="__ng_removed";class cE{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function iq(n){return n??null}(r?e.value:e),r){const s=Op(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Np="void",lE=new cE(Np);class tq{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,ec(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function J$(n,e){return new d.vHH(3302,!1)}();if(null==r||0==r.length)throw function X$(n){return new d.vHH(3303,!1)}();if(!function oq(n){return"start"==n||"done"==n}(r))throw function eG(n,e){return new d.vHH(3400,!1)}();const s=da(this._elementListeners,e,[]),l={name:t,phase:r,callback:i};s.push(l);const h=da(this._engine.statesByElement,e,new Map);return h.has(t)||(ec(e,Sv),ec(e,Sv+"-"+t),h.set(t,lE)),()=>{this._engine.afterFlush(()=>{const v=s.indexOf(l);v>=0&&s.splice(v,1),this._triggers.has(t)||h.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function tG(n){return new d.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),l=new uE(this.id,t,e);let h=this._engine.statesByElement.get(e);h||(ec(e,Sv),ec(e,Sv+"-"+t),this._engine.statesByElement.set(e,h=new Map));let v=h.get(t);const w=new cE(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&v&&w.absorbOptions(v.options),h.set(t,w),v||(v=lE),w.value!==Np&&v.value===w.value){if(!function cq(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(v.params,w.params)){const X=[],he=s.matchStyles(v.value,v.params,X),Ve=s.matchStyles(w.value,w.params,X);X.length?this._engine.reportError(X):this._engine.afterFlush(()=>{M2(e,he),gu(e,Ve)})}return}const N=da(this._engine.playersByElement,e,[]);N.forEach(X=>{X.namespaceId==this.id&&X.triggerName==t&&X.queued&&X.destroy()});let V=s.matchTransition(v.value,w.value,e,w.params),U=!1;if(!V){if(!i)return;V=s.fallbackTransition,U=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:V,fromState:v,toState:w,player:l,isFallbackTransition:U}),U||(ec(e,gO),l.onStart(()=>{Z0(e,gO)})),l.onDone(()=>{let X=this.players.indexOf(l);X>=0&&this.players.splice(X,1);const he=this._engine.playersByElement.get(e);if(he){let Ve=he.indexOf(l);Ve>=0&&he.splice(Ve,1)}}),this.players.push(l),N.push(l),l}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,Ev,!0);r.forEach(i=>{if(i[Xa])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(l=>l.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),l=new Map;if(s){const h=[];if(s.forEach((v,w)=>{if(l.set(w,v.value),this._triggers.has(w)){const E=this.trigger(e,w,Np,i);E&&h.push(E)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,l),r&&Eh(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const l=s.name;if(i.has(l))return;i.add(l);const v=this._triggers.get(l).fallbackTransition,w=r.get(l)||lE,E=new cE(Np),x=new uE(this.id,l,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:l,transition:v,fromState:w,toState:E,player:x,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let l=e;for(;l=l.parentNode;)if(r.statesByElement.get(l)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[Xa];(!s||s===vO)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){ec(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,l=this._elementListeners.get(s);l&&l.forEach(h=>{if(h.name==r.triggerName){const v=$S(s,r.triggerName,r.fromState.value,r.toState.value);v._data=e,US(r.player,h.phase,v,h.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,l=i.transition.ast.depCount;return 0==s||0==l?s-l:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class nq{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new tq(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let l=!1,h=this.driver.getParentElement(t);for(;h;){const v=i.get(h);if(v){const w=r.indexOf(v);r.splice(w+1,0,e),l=!0;break}h=this.driver.getParentElement(h)}l||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}return t}trigger(e,t,r,i){if(Rv(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Rv(t))return;const s=t[Xa];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const l=this.collectedLeaveElements.indexOf(t);l>=0&&this.collectedLeaveElements.splice(l,1)}if(e){const l=this._fetchNamespace(e);l&&l.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),ec(e,aE)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Z0(e,aE))}removeNode(e,t,r,i){if(Rv(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const l=this.namespacesByHostElement.get(t);l&&l.id!==e&&l.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[Xa]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return Rv(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,Ev,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,ZS,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Eh(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Xa];if(t&&t.setForRemoval){if(e[Xa]=vO,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(aE)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)ec(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Eh(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function nG(n){return new d.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new Pv,i=[],s=new Map,l=[],h=new Map,v=new Map,w=new Map,E=new Set;this.disabledNodes.forEach(wt=>{E.add(wt);const Ft=this.driver.query(wt,".ng-animate-queued",!0);for(let Ut=0;Ut<Ft.length;Ut++)E.add(Ft[Ut])});const x=this.bodyNode,N=Array.from(this.statesByElement.keys()),V=wO(N,this.collectedEnterElements),U=new Map;let X=0;V.forEach((wt,Ft)=>{const Ut=KS+X++;U.set(Ft,Ut),wt.forEach(Dn=>ec(Dn,Ut))});const he=[],Ve=new Set,Ke=new Set;for(let wt=0;wt<this.collectedLeaveElements.length;wt++){const Ft=this.collectedLeaveElements[wt],Ut=Ft[Xa];Ut&&Ut.setForRemoval&&(he.push(Ft),Ve.add(Ft),Ut.hasAnimation?this.driver.query(Ft,".ng-star-inserted",!0).forEach(Dn=>Ve.add(Dn)):Ke.add(Ft))}const Je=new Map,ot=wO(N,Array.from(Ve));ot.forEach((wt,Ft)=>{const Ut=Cv+X++;Je.set(Ft,Ut),wt.forEach(Dn=>ec(Dn,Ut))}),e.push(()=>{V.forEach((wt,Ft)=>{const Ut=U.get(Ft);wt.forEach(Dn=>Z0(Dn,Ut))}),ot.forEach((wt,Ft)=>{const Ut=Je.get(Ft);wt.forEach(Dn=>Z0(Dn,Ut))}),he.forEach(wt=>{this.processLeaveNode(wt)})});const Pt=[],jt=[];for(let wt=this._namespaceList.length-1;wt>=0;wt--)this._namespaceList[wt].drainQueuedTransitions(t).forEach(Ut=>{const Dn=Ut.player,ji=Ut.element;if(Pt.push(Dn),this.collectedEnterElements.length){const Oo=ji[Xa];if(Oo&&Oo.setForMove){if(Oo.previousTriggersValues&&Oo.previousTriggersValues.has(Ut.triggerName)){const k2=Oo.previousTriggersValues.get(Ut.triggerName),rc=this.statesByElement.get(Ut.element);if(rc&&rc.has(Ut.triggerName)){const Lv=rc.get(Ut.triggerName);Lv.value=k2,rc.set(Ut.triggerName,Lv)}}return void Dn.destroy()}}const vu=!x||!this.driver.containsElement(x,ji),fa=Je.get(ji),Th=U.get(ji),kr=this._buildInstruction(Ut,r,Th,fa,vu);if(kr.errors&&kr.errors.length)return void jt.push(kr);if(vu)return Dn.onStart(()=>M2(ji,kr.fromStyles)),Dn.onDestroy(()=>gu(ji,kr.toStyles)),void i.push(Dn);if(Ut.isFallbackTransition)return Dn.onStart(()=>M2(ji,kr.fromStyles)),Dn.onDestroy(()=>gu(ji,kr.toStyles)),void i.push(Dn);const IO=[];kr.timelines.forEach(Oo=>{Oo.stretchStartingKeyframe=!0,this.disabledNodes.has(Oo.element)||IO.push(Oo)}),kr.timelines=IO,r.append(ji,kr.timelines),l.push({instruction:kr,player:Dn,element:ji}),kr.queriedElements.forEach(Oo=>da(h,Oo,[]).push(Dn)),kr.preStyleProps.forEach((Oo,k2)=>{if(Oo.size){let rc=v.get(k2);rc||v.set(k2,rc=new Set),Oo.forEach((Lv,fE)=>rc.add(fE))}}),kr.postStyleProps.forEach((Oo,k2)=>{let rc=w.get(k2);rc||w.set(k2,rc=new Set),Oo.forEach((Lv,fE)=>rc.add(fE))})});if(jt.length){const wt=[];jt.forEach(Ft=>{wt.push(function rG(n,e){return new d.vHH(3505,!1)}())}),Pt.forEach(Ft=>Ft.destroy()),this.reportError(wt)}const mn=new Map,Si=new Map;l.forEach(wt=>{const Ft=wt.element;r.has(Ft)&&(Si.set(Ft,Ft),this._beforeAnimationBuild(wt.player.namespaceId,wt.instruction,mn))}),i.forEach(wt=>{const Ft=wt.element;this._getPreviousPlayers(Ft,!1,wt.namespaceId,wt.triggerName,null).forEach(Dn=>{da(mn,Ft,[]).push(Dn),Dn.destroy()})});const gn=he.filter(wt=>CO(wt,v,w)),Xr=new Map;_O(Xr,this.driver,Ke,w,b1).forEach(wt=>{CO(wt,v,w)&&gn.push(wt)});const zo=new Map;V.forEach((wt,Ft)=>{_O(zo,this.driver,new Set(wt),v,Z_)}),gn.forEach(wt=>{const Ft=Xr.get(wt),Ut=zo.get(wt);Xr.set(wt,new Map([...Array.from(Ft?.entries()??[]),...Array.from(Ut?.entries()??[])]))});const nc=[],I2=[],A2={};l.forEach(wt=>{const{element:Ft,player:Ut,instruction:Dn}=wt;if(r.has(Ft)){if(E.has(Ft))return Ut.onDestroy(()=>gu(Ft,Dn.toStyles)),Ut.disabled=!0,Ut.overrideTotalTime(Dn.totalTime),void i.push(Ut);let ji=A2;if(Si.size>1){let fa=Ft;const Th=[];for(;fa=fa.parentNode;){const kr=Si.get(fa);if(kr){ji=kr;break}Th.push(fa)}Th.forEach(kr=>Si.set(kr,ji))}const vu=this._buildAnimation(Ut.namespaceId,Dn,mn,s,zo,Xr);if(Ut.setRealPlayer(vu),ji===A2)nc.push(Ut);else{const fa=this.playersByElement.get(ji);fa&&fa.length&&(Ut.parentPlayer=Eh(fa)),i.push(Ut)}}else M2(Ft,Dn.fromStyles),Ut.onDestroy(()=>gu(Ft,Dn.toStyles)),I2.push(Ut),E.has(Ft)&&i.push(Ut)}),I2.forEach(wt=>{const Ft=s.get(wt.element);if(Ft&&Ft.length){const Ut=Eh(Ft);wt.setRealPlayer(Ut)}}),i.forEach(wt=>{wt.parentPlayer?wt.syncPlayerEvents(wt.parentPlayer):wt.destroy()});for(let wt=0;wt<he.length;wt++){const Ft=he[wt],Ut=Ft[Xa];if(Z0(Ft,Cv),Ut&&Ut.hasAnimation)continue;let Dn=[];if(h.size){let vu=h.get(Ft);vu&&vu.length&&Dn.push(...vu);let fa=this.driver.query(Ft,ZS,!0);for(let Th=0;Th<fa.length;Th++){let kr=h.get(fa[Th]);kr&&kr.length&&Dn.push(...kr)}}const ji=Dn.filter(vu=>!vu.destroyed);ji.length?sq(this,Ft,ji):this.processLeaveNode(Ft)}return he.length=0,nc.forEach(wt=>{this.players.push(wt),wt.onDone(()=>{wt.destroy();const Ft=this.players.indexOf(wt);this.players.splice(Ft,1)}),wt.play()}),nc}elementContainsData(e,t){let r=!1;const i=t[Xa];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let l=[];if(t){const h=this.playersByQueriedElement.get(e);h&&(l=h)}else{const h=this.playersByElement.get(e);if(h){const v=!s||s==Np;h.forEach(w=>{w.queued||!v&&w.triggerName!=i||l.push(w)})}}return(r||i)&&(l=l.filter(h=>!(r&&r!=h.namespaceId||i&&i!=h.triggerName))),l}_beforeAnimationBuild(e,t,r){const s=t.element,l=t.isRemovalTransition?void 0:e,h=t.isRemovalTransition?void 0:t.triggerName;for(const v of t.timelines){const w=v.element,E=w!==s,x=da(r,w,[]);this._getPreviousPlayers(w,E,l,h,t.toState).forEach(V=>{const U=V.getRealPlayer();U.beforeDestroy&&U.beforeDestroy(),V.destroy(),x.push(V)})}M2(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,l){const h=t.triggerName,v=t.element,w=[],E=new Set,x=new Set,N=t.timelines.map(U=>{const X=U.element;E.add(X);const he=X[Xa];if(he&&he.removedBeforeQueried)return new mf(U.duration,U.delay);const Ve=X!==v,Ke=function aq(n){const e=[];return bO(n,e),e}((r.get(X)||XG).map(mn=>mn.getRealPlayer())).filter(mn=>!!mn.element&&mn.element===X),Je=s.get(X),ot=l.get(X),Pt=qz(0,this._normalizer,0,U.keyframes,Je,ot),jt=this._buildPlayer(U,Pt,Ke);if(U.subTimeline&&i&&x.add(X),Ve){const mn=new uE(e,h,X);mn.setRealPlayer(jt),w.push(mn)}return jt});w.forEach(U=>{da(this.playersByQueriedElement,U.element,[]).push(U),U.onDone(()=>function rq(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,U.element,U))}),E.forEach(U=>ec(U,nO));const V=Eh(N);return V.onDestroy(()=>{E.forEach(U=>Z0(U,nO)),gu(v,t.toStyles)}),x.forEach(U=>{da(i,U,[]).push(V)}),V}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new mf(e.duration,e.delay)}}class uE{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new mf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>US(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){da(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Rv(n){return n&&1===n.nodeType}function yO(n,e){const t=n.style.display;return n.style.display=e??"none",t}function _O(n,e,t,r,i){const s=[];t.forEach(v=>s.push(yO(v)));const l=[];r.forEach((v,w)=>{const E=new Map;v.forEach(x=>{const N=e.computeStyle(w,x,i);E.set(x,N),(!N||0==N.length)&&(w[Xa]=eq,l.push(w))}),n.set(w,E)});let h=0;return t.forEach(v=>yO(v,s[h++])),l}function wO(n,e){const t=new Map;if(n.forEach(h=>t.set(h,[])),0==e.length)return t;const r=1,i=new Set(e),s=new Map;function l(h){if(!h)return r;let v=s.get(h);if(v)return v;const w=h.parentNode;return v=t.has(w)?w:i.has(w)?r:l(w),s.set(h,v),v}return e.forEach(h=>{const v=l(h);v!==r&&t.get(v).push(h)}),t}function ec(n,e){n.classList?.add(e)}function Z0(n,e){n.classList?.remove(e)}function sq(n,e,t){Eh(t).onDone(()=>n.processLeaveNode(e))}function bO(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof RM?bO(r.players,e):e.push(r)}}function CO(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class Fv{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new nq(e,t,r),this._timelineEngine=new WG(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const l=e+"-"+i;let h=this._triggerCache[l];if(!h){const v=[],w=[],E=eE(this._driver,s,v,w);if(v.length)throw function G$(n,e){return new d.vHH(3404,!1)}();h=function jG(n,e,t){return new $G(n,e,t)}(i,E,this._normalizer),this._triggerCache[l]=h}this._transitionEngine.registerTrigger(t,i,h)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,l]=Wz(r);this._timelineEngine.command(s,t,l,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[l,h]=Wz(r);return this._timelineEngine.listen(l,t,h,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let uq=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&gu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(gu(this._element,this._initialStyles),this._endStyles&&(gu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(M2(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(M2(this._element,this._endStyles),this._endStyles=null),gu(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function dE(n){let e=null;return n.forEach((t,r)=>{(function dq(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class SO{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:cO(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class hq{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return Jz(e,t)}getParentElement(e){return qS(e)}query(e,t,r){return Xz(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,s,l=[]){const v={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(v.easing=s);const w=new Map,E=l.filter(V=>V instanceof SO);(function gG(n,e){return 0===n||0===e})(r,i)&&E.forEach(V=>{V.currentSnapshot.forEach((U,X)=>w.set(X,U))});let x=function hG(n){return n.length?n[0]instanceof Map?n:n.map(e=>rO(e)):[]}(t).map(V=>Dh(V));x=function vG(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((s,l)=>{r.has(l)||i.push(l),r.set(l,s)}),i.length)for(let s=1;s<e.length;s++){let l=e[s];i.forEach(h=>l.set(h,cO(n,h)))}}return e}(e,x,w);const N=function lq(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=dE(e[0]),e.length>1&&(r=dE(e[e.length-1]))):e instanceof Map&&(t=dE(e)),t||r?new uq(n,t,r):null}(e,x);return new SO(e,x,v,N)}}let fq=(()=>{class n extends AM{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:d.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?kM(t):t;return EO(this._renderer,null,r,"register",[i]),new pq(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.FYo),d.LFG(ee))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class pq extends VN{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new mq(this._id,e,t||{},this._renderer)}}class mq{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return EO(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function EO(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const DO="@.disabled";let gq=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,l)=>{const h=l?.parentNode(s);h&&l.removeChild(h,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let E=this._rendererCache.get(s);return E||(E=new TO("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,E)),E}const l=r.id,h=r.id+"-"+this._currentId;this._currentId++,this.engine.register(h,t);const v=E=>{Array.isArray(E)?E.forEach(v):this.engine.registerTrigger(l,h,t,E.name,E)};return r.data.animation.forEach(v),new vq(this,h,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[l,h]=s;l(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.FYo),d.LFG(Fv),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class TO{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==DO?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class vq extends TO{constructor(e,t,r,i,s){super(t,r,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==DO?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function yq(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),l="";return"@"!=s.charAt(0)&&([s,l]=function _q(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,l,h=>{this.factory.scheduleListenerCallback(h._data||-1,r,h)})}return this.delegate.listen(e,t,r)}}let wq=(()=>{class n extends Fv{constructor(t,r,i,s){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ee),d.LFG(WS),d.LFG(oE),d.LFG(d.z2F))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const MO=[{provide:AM,useClass:fq},{provide:oE,useFactory:function bq(){return new HG}},{provide:Fv,useClass:wq},{provide:d.FYo,useFactory:function Cq(n,e,t){return new gq(n,e,t)},deps:[Pi,Fv,d.R0b]}],hE=[{provide:WS,useFactory:()=>new hq},{provide:d.QbO,useValue:"BrowserAnimations"},...MO],xO=[{provide:WS,useClass:eO},{provide:d.QbO,useValue:"NoopAnimations"},...MO];let Sq=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?xO:hE}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:hE,imports:[Us]}),n})();const Eq_firebase={apiKey:"AIzaSyAXtmyMCcSb2lig6GqhFaM_0oKHHa09HWI",authDomain:"newapp-a6378.firebaseapp.com",projectId:"newapp-a6378",storageBucket:"newapp-a6378.appspot.com",messagingSenderId:"440187362295",appId:"1:440187362295:web:effbea8486bad7f95a6cf2",measurementId:"G-CCDEXW4RG9"};!function z1(n,e,t){(0,d.dwT)(n,e,t)}(E$);let Dq=(()=>{const e=class{};let n=e;return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=d.oAB({type:e,bootstrap:[$z]}),e.\u0275inj=d.cJS({providers:[{provide:y$,useValue:v$}],imports:[Us,g$,Ba,Dy,Sq,el.hO.initializeApp(Eq_firebase),AF,$F,df,HL,BL]}),n})();Ou().bootstrapModule(Dq).catch(n=>console.error(n))},9751:(Dt,Ie,F)=>{F.d(Ie,{y:()=>Ee});var d=F(930),te=F(727),R=F(8822),ce=F(9635),le=F(2416),ee=F(576),be=F(2806);let Ee=(()=>{class K{constructor(Ae){Ae&&(this._subscribe=Ae)}lift(Ae){const Ze=new K;return Ze.source=this,Ze.operator=Ae,Ze}subscribe(Ae,Ze,ht){const _e=function j(K){return K&&K instanceof d.Lv||function $(K){return K&&(0,ee.m)(K.next)&&(0,ee.m)(K.error)&&(0,ee.m)(K.complete)}(K)&&(0,te.Nn)(K)}(Ae)?Ae:new d.Hp(Ae,Ze,ht);return(0,be.x)(()=>{const{operator:ze,source:Oe}=this;_e.add(ze?ze.call(_e,Oe):Oe?this._subscribe(_e):this._trySubscribe(_e))}),_e}_trySubscribe(Ae){try{return this._subscribe(Ae)}catch(Ze){Ae.error(Ze)}}forEach(Ae,Ze){return new(Ze=ye(Ze))((ht,_e)=>{const ze=new d.Hp({next:Oe=>{try{Ae(Oe)}catch(Ye){_e(Ye),ze.unsubscribe()}},error:_e,complete:ht});this.subscribe(ze)})}_subscribe(Ae){var Ze;return null===(Ze=this.source)||void 0===Ze?void 0:Ze.subscribe(Ae)}[R.L](){return this}pipe(...Ae){return(0,ce.U)(Ae)(this)}toPromise(Ae){return new(Ae=ye(Ae))((Ze,ht)=>{let _e;this.subscribe(ze=>_e=ze,ze=>ht(ze),()=>Ze(_e))})}}return K.create=je=>new K(je),K})();function ye(K){var je;return null!==(je=K??le.v.Promise)&&void 0!==je?je:Promise}},7579:(Dt,Ie,F)=>{F.d(Ie,{x:()=>be});var d=F(9751),te=F(727);const ce=(0,F(3888).d)(ye=>function(){ye(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var le=F(8737),ee=F(2806);let be=(()=>{class ye extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(j){const K=new Ee(this,this);return K.operator=j,K}_throwIfClosed(){if(this.closed)throw new ce}next(j){(0,ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const K of this.currentObservers)K.next(j)}})}error(j){(0,ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=j;const{observers:K}=this;for(;K.length;)K.shift().error(j)}})}complete(){(0,ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:j}=this;for(;j.length;)j.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var j;return(null===(j=this.observers)||void 0===j?void 0:j.length)>0}_trySubscribe(j){return this._throwIfClosed(),super._trySubscribe(j)}_subscribe(j){return this._throwIfClosed(),this._checkFinalizedStatuses(j),this._innerSubscribe(j)}_innerSubscribe(j){const{hasError:K,isStopped:je,observers:Ae}=this;return K||je?te.Lc:(this.currentObservers=null,Ae.push(j),new te.w0(()=>{this.currentObservers=null,(0,le.P)(Ae,j)}))}_checkFinalizedStatuses(j){const{hasError:K,thrownError:je,isStopped:Ae}=this;K?j.error(je):Ae&&j.complete()}asObservable(){const j=new d.y;return j.source=this,j}}return ye.create=($,j)=>new Ee($,j),ye})();class Ee extends be{constructor($,j){super(),this.destination=$,this.source=j}next($){var j,K;null===(K=null===(j=this.destination)||void 0===j?void 0:j.next)||void 0===K||K.call(j,$)}error($){var j,K;null===(K=null===(j=this.destination)||void 0===j?void 0:j.error)||void 0===K||K.call(j,$)}complete(){var $,j;null===(j=null===($=this.destination)||void 0===$?void 0:$.complete)||void 0===j||j.call($)}_subscribe($){var j,K;return null!==(K=null===(j=this.source)||void 0===j?void 0:j.subscribe($))&&void 0!==K?K:te.Lc}}},930:(Dt,Ie,F)=>{F.d(Ie,{Hp:()=>ht,Lv:()=>K});var d=F(576),te=F(727),R=F(2416),ce=F(7849),le=F(5032);const ee=ye("C",void 0,void 0);function ye(Re,De,Me){return{kind:Re,value:De,error:Me}}var $=F(3410),j=F(2806);class K extends te.w0{constructor(De){super(),this.isStopped=!1,De?(this.destination=De,(0,te.Nn)(De)&&De.add(this)):this.destination=Ye}static create(De,Me,qe){return new ht(De,Me,qe)}next(De){this.isStopped?Oe(function Ee(Re){return ye("N",Re,void 0)}(De),this):this._next(De)}error(De){this.isStopped?Oe(function be(Re){return ye("E",void 0,Re)}(De),this):(this.isStopped=!0,this._error(De))}complete(){this.isStopped?Oe(ee,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(De){this.destination.next(De)}_error(De){try{this.destination.error(De)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const je=Function.prototype.bind;function Ae(Re,De){return je.call(Re,De)}class Ze{constructor(De){this.partialObserver=De}next(De){const{partialObserver:Me}=this;if(Me.next)try{Me.next(De)}catch(qe){_e(qe)}}error(De){const{partialObserver:Me}=this;if(Me.error)try{Me.error(De)}catch(qe){_e(qe)}else _e(De)}complete(){const{partialObserver:De}=this;if(De.complete)try{De.complete()}catch(Me){_e(Me)}}}class ht extends K{constructor(De,Me,qe){let Le;if(super(),(0,d.m)(De)||!De)Le={next:De??void 0,error:Me??void 0,complete:qe??void 0};else{let ct;this&&R.v.useDeprecatedNextContext?(ct=Object.create(De),ct.unsubscribe=()=>this.unsubscribe(),Le={next:De.next&&Ae(De.next,ct),error:De.error&&Ae(De.error,ct),complete:De.complete&&Ae(De.complete,ct)}):Le=De}this.destination=new Ze(Le)}}function _e(Re){R.v.useDeprecatedSynchronousErrorHandling?(0,j.O)(Re):(0,ce.h)(Re)}function Oe(Re,De){const{onStoppedNotification:Me}=R.v;Me&&$.z.setTimeout(()=>Me(Re,De))}const Ye={closed:!0,next:le.Z,error:function ze(Re){throw Re},complete:le.Z}},727:(Dt,Ie,F)=>{F.d(Ie,{Lc:()=>ee,w0:()=>le,Nn:()=>be});var d=F(576);const R=(0,F(3888).d)(ye=>function(j){ye(this),this.message=j?`${j.length} errors occurred during unsubscription:\n${j.map((K,je)=>`${je+1}) ${K.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=j});var ce=F(8737);class le{constructor($){this.initialTeardown=$,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let $;if(!this.closed){this.closed=!0;const{_parentage:j}=this;if(j)if(this._parentage=null,Array.isArray(j))for(const Ae of j)Ae.remove(this);else j.remove(this);const{initialTeardown:K}=this;if((0,d.m)(K))try{K()}catch(Ae){$=Ae instanceof R?Ae.errors:[Ae]}const{_finalizers:je}=this;if(je){this._finalizers=null;for(const Ae of je)try{Ee(Ae)}catch(Ze){$=$??[],Ze instanceof R?$=[...$,...Ze.errors]:$.push(Ze)}}if($)throw new R($)}}add($){var j;if($&&$!==this)if(this.closed)Ee($);else{if($ instanceof le){if($.closed||$._hasParent(this))return;$._addParent(this)}(this._finalizers=null!==(j=this._finalizers)&&void 0!==j?j:[]).push($)}}_hasParent($){const{_parentage:j}=this;return j===$||Array.isArray(j)&&j.includes($)}_addParent($){const{_parentage:j}=this;this._parentage=Array.isArray(j)?(j.push($),j):j?[j,$]:$}_removeParent($){const{_parentage:j}=this;j===$?this._parentage=null:Array.isArray(j)&&(0,ce.P)(j,$)}remove($){const{_finalizers:j}=this;j&&(0,ce.P)(j,$),$ instanceof le&&$._removeParent(this)}}le.EMPTY=(()=>{const ye=new le;return ye.closed=!0,ye})();const ee=le.EMPTY;function be(ye){return ye instanceof le||ye&&"closed"in ye&&(0,d.m)(ye.remove)&&(0,d.m)(ye.add)&&(0,d.m)(ye.unsubscribe)}function Ee(ye){(0,d.m)(ye)?ye():ye.unsubscribe()}},2416:(Dt,Ie,F)=>{F.d(Ie,{v:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Dt,Ie,F)=>{F.d(Ie,{E:()=>te});const te=new(F(9751).y)(le=>le.complete())},8996:(Dt,Ie,F)=>{F.d(Ie,{D:()=>De});var d=F(8421),te=F(5363),R=F(9468),ee=F(9751),Ee=F(2202),ye=F(576),$=F(9672);function K(Me,qe){if(!Me)throw new Error("Iterable cannot be null");return new ee.y(Le=>{(0,$.f)(Le,qe,()=>{const ct=Me[Symbol.asyncIterator]();(0,$.f)(Le,qe,()=>{ct.next().then(ae=>{ae.done?Le.complete():Le.next(ae.value)})},0,!0)})})}var je=F(3670),Ae=F(8239),Ze=F(1144),ht=F(6495),_e=F(2206),ze=F(4532),Oe=F(3260);function De(Me,qe){return qe?function Re(Me,qe){if(null!=Me){if((0,je.c)(Me))return function ce(Me,qe){return(0,d.Xf)(Me).pipe((0,R.R)(qe),(0,te.Q)(qe))}(Me,qe);if((0,Ze.z)(Me))return function be(Me,qe){return new ee.y(Le=>{let ct=0;return qe.schedule(function(){ct===Me.length?Le.complete():(Le.next(Me[ct++]),Le.closed||this.schedule())})})}(Me,qe);if((0,Ae.t)(Me))return function le(Me,qe){return(0,d.Xf)(Me).pipe((0,R.R)(qe),(0,te.Q)(qe))}(Me,qe);if((0,_e.D)(Me))return K(Me,qe);if((0,ht.T)(Me))return function j(Me,qe){return new ee.y(Le=>{let ct;return(0,$.f)(Le,qe,()=>{ct=Me[Ee.h](),(0,$.f)(Le,qe,()=>{let ae,At;try{({value:ae,done:At}=ct.next())}catch(nt){return void Le.error(nt)}At?Le.complete():Le.next(ae)},0,!0)}),()=>(0,ye.m)(ct?.return)&&ct.return()})}(Me,qe);if((0,Oe.L)(Me))return function Ye(Me,qe){return K((0,Oe.Q)(Me),qe)}(Me,qe)}throw(0,ze.z)(Me)}(Me,qe):(0,d.Xf)(Me)}},8421:(Dt,Ie,F)=>{F.d(Ie,{Xf:()=>je});var d=F(7582),te=F(1144),R=F(8239),ce=F(9751),le=F(3670),ee=F(2206),be=F(4532),Ee=F(6495),ye=F(3260),$=F(576),j=F(7849),K=F(8822);function je(Re){if(Re instanceof ce.y)return Re;if(null!=Re){if((0,le.c)(Re))return function Ae(Re){return new ce.y(De=>{const Me=Re[K.L]();if((0,$.m)(Me.subscribe))return Me.subscribe(De);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Re);if((0,te.z)(Re))return function Ze(Re){return new ce.y(De=>{for(let Me=0;Me<Re.length&&!De.closed;Me++)De.next(Re[Me]);De.complete()})}(Re);if((0,R.t)(Re))return function ht(Re){return new ce.y(De=>{Re.then(Me=>{De.closed||(De.next(Me),De.complete())},Me=>De.error(Me)).then(null,j.h)})}(Re);if((0,ee.D)(Re))return ze(Re);if((0,Ee.T)(Re))return function _e(Re){return new ce.y(De=>{for(const Me of Re)if(De.next(Me),De.closed)return;De.complete()})}(Re);if((0,ye.L)(Re))return function Oe(Re){return ze((0,ye.Q)(Re))}(Re)}throw(0,be.z)(Re)}function ze(Re){return new ce.y(De=>{(function Ye(Re,De){var Me,qe,Le,ct;return(0,d.mG)(this,void 0,void 0,function*(){try{for(Me=(0,d.KL)(Re);!(qe=yield Me.next()).done;)if(De.next(qe.value),De.closed)return}catch(ae){Le={error:ae}}finally{try{qe&&!qe.done&&(ct=Me.return)&&(yield ct.call(Me))}finally{if(Le)throw Le.error}}De.complete()})})(Re,De).catch(Me=>De.error(Me))})}},6451:(Dt,Ie,F)=>{F.d(Ie,{T:()=>ee});var d=F(8189),te=F(8421),R=F(515),ce=F(3269),le=F(8996);function ee(...be){const Ee=(0,ce.yG)(be),ye=(0,ce._6)(be,1/0),$=be;return $.length?1===$.length?(0,te.Xf)($[0]):(0,d.J)(ye)((0,le.D)($,Ee)):R.E}},5403:(Dt,Ie,F)=>{F.d(Ie,{x:()=>te});var d=F(930);function te(ce,le,ee,be,Ee){return new R(ce,le,ee,be,Ee)}class R extends d.Lv{constructor(le,ee,be,Ee,ye,$){super(le),this.onFinalize=ye,this.shouldUnsubscribe=$,this._next=ee?function(j){try{ee(j)}catch(K){le.error(K)}}:super._next,this._error=Ee?function(j){try{Ee(j)}catch(K){le.error(K)}finally{this.unsubscribe()}}:super._error,this._complete=be?function(){try{be()}catch(j){le.error(j)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var le;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ee}=this;super.unsubscribe(),!ee&&(null===(le=this.onFinalize)||void 0===le||le.call(this))}}}},4004:(Dt,Ie,F)=>{F.d(Ie,{U:()=>R});var d=F(4482),te=F(5403);function R(ce,le){return(0,d.e)((ee,be)=>{let Ee=0;ee.subscribe((0,te.x)(be,ye=>{be.next(ce.call(le,ye,Ee++))}))})}},8189:(Dt,Ie,F)=>{F.d(Ie,{J:()=>R});var d=F(5577),te=F(4671);function R(ce=1/0){return(0,d.z)(te.y,ce)}},5577:(Dt,Ie,F)=>{F.d(Ie,{z:()=>Ee});var d=F(4004),te=F(8421),R=F(4482),ce=F(9672),le=F(5403),be=F(576);function Ee(ye,$,j=1/0){return(0,be.m)($)?Ee((K,je)=>(0,d.U)((Ae,Ze)=>$(K,Ae,je,Ze))((0,te.Xf)(ye(K,je))),j):("number"==typeof $&&(j=$),(0,R.e)((K,je)=>function ee(ye,$,j,K,je,Ae,Ze,ht){const _e=[];let ze=0,Oe=0,Ye=!1;const Re=()=>{Ye&&!_e.length&&!ze&&$.complete()},De=qe=>ze<K?Me(qe):_e.push(qe),Me=qe=>{Ae&&$.next(qe),ze++;let Le=!1;(0,te.Xf)(j(qe,Oe++)).subscribe((0,le.x)($,ct=>{je?.(ct),Ae?De(ct):$.next(ct)},()=>{Le=!0},void 0,()=>{if(Le)try{for(ze--;_e.length&&ze<K;){const ct=_e.shift();Ze?(0,ce.f)($,Ze,()=>Me(ct)):Me(ct)}Re()}catch(ct){$.error(ct)}}))};return ye.subscribe((0,le.x)($,De,()=>{Ye=!0,Re()})),()=>{ht?.()}}(K,je,ye,j)))}},5363:(Dt,Ie,F)=>{F.d(Ie,{Q:()=>ce});var d=F(9672),te=F(4482),R=F(5403);function ce(le,ee=0){return(0,te.e)((be,Ee)=>{be.subscribe((0,R.x)(Ee,ye=>(0,d.f)(Ee,le,()=>Ee.next(ye),ee),()=>(0,d.f)(Ee,le,()=>Ee.complete(),ee),ye=>(0,d.f)(Ee,le,()=>Ee.error(ye),ee)))})}},3099:(Dt,Ie,F)=>{F.d(Ie,{B:()=>le});var d=F(8421),te=F(7579),R=F(930),ce=F(4482);function le(be={}){const{connector:Ee=(()=>new te.x),resetOnError:ye=!0,resetOnComplete:$=!0,resetOnRefCountZero:j=!0}=be;return K=>{let je,Ae,Ze,ht=0,_e=!1,ze=!1;const Oe=()=>{Ae?.unsubscribe(),Ae=void 0},Ye=()=>{Oe(),je=Ze=void 0,_e=ze=!1},Re=()=>{const De=je;Ye(),De?.unsubscribe()};return(0,ce.e)((De,Me)=>{ht++,!ze&&!_e&&Oe();const qe=Ze=Ze??Ee();Me.add(()=>{ht--,0===ht&&!ze&&!_e&&(Ae=ee(Re,j))}),qe.subscribe(Me),!je&&ht>0&&(je=new R.Hp({next:Le=>qe.next(Le),error:Le=>{ze=!0,Oe(),Ae=ee(Ye,ye,Le),qe.error(Le)},complete:()=>{_e=!0,Oe(),Ae=ee(Ye,$),qe.complete()}}),(0,d.Xf)(De).subscribe(je))})(K)}}function ee(be,Ee,...ye){if(!0===Ee)return void be();if(!1===Ee)return;const $=new R.Hp({next:()=>{$.unsubscribe(),be()}});return(0,d.Xf)(Ee(...ye)).subscribe($)}},9468:(Dt,Ie,F)=>{F.d(Ie,{R:()=>te});var d=F(4482);function te(R,ce=0){return(0,d.e)((le,ee)=>{ee.add(R.schedule(()=>le.subscribe(ee),ce))})}},8505:(Dt,Ie,F)=>{F.d(Ie,{b:()=>le});var d=F(576),te=F(4482),R=F(5403),ce=F(4671);function le(ee,be,Ee){const ye=(0,d.m)(ee)||be||Ee?{next:ee,error:be,complete:Ee}:ee;return ye?(0,te.e)(($,j)=>{var K;null===(K=ye.subscribe)||void 0===K||K.call(ye);let je=!0;$.subscribe((0,R.x)(j,Ae=>{var Ze;null===(Ze=ye.next)||void 0===Ze||Ze.call(ye,Ae),j.next(Ae)},()=>{var Ae;je=!1,null===(Ae=ye.complete)||void 0===Ae||Ae.call(ye),j.complete()},Ae=>{var Ze;je=!1,null===(Ze=ye.error)||void 0===Ze||Ze.call(ye,Ae),j.error(Ae)},()=>{var Ae,Ze;je&&(null===(Ae=ye.unsubscribe)||void 0===Ae||Ae.call(ye)),null===(Ze=ye.finalize)||void 0===Ze||Ze.call(ye)}))}):ce.y}},4408:(Dt,Ie,F)=>{F.d(Ie,{o:()=>le});var d=F(727);class te extends d.w0{constructor(be,Ee){super()}schedule(be,Ee=0){return this}}const R={setInterval(ee,be,...Ee){const{delegate:ye}=R;return ye?.setInterval?ye.setInterval(ee,be,...Ee):setInterval(ee,be,...Ee)},clearInterval(ee){const{delegate:be}=R;return(be?.clearInterval||clearInterval)(ee)},delegate:void 0};var ce=F(8737);class le extends te{constructor(be,Ee){super(be,Ee),this.scheduler=be,this.work=Ee,this.pending=!1}schedule(be,Ee=0){var ye;if(this.closed)return this;this.state=be;const $=this.id,j=this.scheduler;return null!=$&&(this.id=this.recycleAsyncId(j,$,Ee)),this.pending=!0,this.delay=Ee,this.id=null!==(ye=this.id)&&void 0!==ye?ye:this.requestAsyncId(j,this.id,Ee),this}requestAsyncId(be,Ee,ye=0){return R.setInterval(be.flush.bind(be,this),ye)}recycleAsyncId(be,Ee,ye=0){if(null!=ye&&this.delay===ye&&!1===this.pending)return Ee;null!=Ee&&R.clearInterval(Ee)}execute(be,Ee){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ye=this._execute(be,Ee);if(ye)return ye;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(be,Ee){let $,ye=!1;try{this.work(be)}catch(j){ye=!0,$=j||new Error("Scheduled action threw falsy error")}if(ye)return this.unsubscribe(),$}unsubscribe(){if(!this.closed){const{id:be,scheduler:Ee}=this,{actions:ye}=Ee;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ce.P)(ye,this),null!=be&&(this.id=this.recycleAsyncId(Ee,be,null)),this.delay=null,super.unsubscribe()}}}},7565:(Dt,Ie,F)=>{F.d(Ie,{v:()=>R});var d=F(6063);class te{constructor(le,ee=te.now){this.schedulerActionCtor=le,this.now=ee}schedule(le,ee=0,be){return new this.schedulerActionCtor(this,le).schedule(be,ee)}}te.now=d.l.now;class R extends te{constructor(le,ee=te.now){super(le,ee),this.actions=[],this._active=!1}flush(le){const{actions:ee}=this;if(this._active)return void ee.push(le);let be;this._active=!0;do{if(be=le.execute(le.state,le.delay))break}while(le=ee.shift());if(this._active=!1,be){for(;le=ee.shift();)le.unsubscribe();throw be}}}},4986:(Dt,Ie,F)=>{F.d(Ie,{P:()=>ce,z:()=>R});var d=F(4408);const R=new(F(7565).v)(d.o),ce=R},6063:(Dt,Ie,F)=>{F.d(Ie,{l:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},3410:(Dt,Ie,F)=>{F.d(Ie,{z:()=>d});const d={setTimeout(te,R,...ce){const{delegate:le}=d;return le?.setTimeout?le.setTimeout(te,R,...ce):setTimeout(te,R,...ce)},clearTimeout(te){const{delegate:R}=d;return(R?.clearTimeout||clearTimeout)(te)},delegate:void 0}},2202:(Dt,Ie,F)=>{F.d(Ie,{h:()=>te});const te=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Dt,Ie,F)=>{F.d(Ie,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(Dt,Ie,F)=>{F.d(Ie,{_6:()=>ee,jO:()=>ce,yG:()=>le});var d=F(576),te=F(3532);function R(be){return be[be.length-1]}function ce(be){return(0,d.m)(R(be))?be.pop():void 0}function le(be){return(0,te.K)(R(be))?be.pop():void 0}function ee(be,Ee){return"number"==typeof R(be)?be.pop():Ee}},8737:(Dt,Ie,F)=>{function d(te,R){if(te){const ce=te.indexOf(R);0<=ce&&te.splice(ce,1)}}F.d(Ie,{P:()=>d})},3888:(Dt,Ie,F)=>{function d(te){const ce=te(le=>{Error.call(le),le.stack=(new Error).stack});return ce.prototype=Object.create(Error.prototype),ce.prototype.constructor=ce,ce}F.d(Ie,{d:()=>d})},2806:(Dt,Ie,F)=>{F.d(Ie,{O:()=>ce,x:()=>R});var d=F(2416);let te=null;function R(le){if(d.v.useDeprecatedSynchronousErrorHandling){const ee=!te;if(ee&&(te={errorThrown:!1,error:null}),le(),ee){const{errorThrown:be,error:Ee}=te;if(te=null,be)throw Ee}}else le()}function ce(le){d.v.useDeprecatedSynchronousErrorHandling&&te&&(te.errorThrown=!0,te.error=le)}},9672:(Dt,Ie,F)=>{function d(te,R,ce,le=0,ee=!1){const be=R.schedule(function(){ce(),ee?te.add(this.schedule(null,le)):this.unsubscribe()},le);if(te.add(be),!ee)return be}F.d(Ie,{f:()=>d})},4671:(Dt,Ie,F)=>{function d(te){return te}F.d(Ie,{y:()=>d})},1144:(Dt,Ie,F)=>{F.d(Ie,{z:()=>d});const d=te=>te&&"number"==typeof te.length&&"function"!=typeof te},2206:(Dt,Ie,F)=>{F.d(Ie,{D:()=>te});var d=F(576);function te(R){return Symbol.asyncIterator&&(0,d.m)(R?.[Symbol.asyncIterator])}},576:(Dt,Ie,F)=>{function d(te){return"function"==typeof te}F.d(Ie,{m:()=>d})},3670:(Dt,Ie,F)=>{F.d(Ie,{c:()=>R});var d=F(8822),te=F(576);function R(ce){return(0,te.m)(ce[d.L])}},6495:(Dt,Ie,F)=>{F.d(Ie,{T:()=>R});var d=F(2202),te=F(576);function R(ce){return(0,te.m)(ce?.[d.h])}},8239:(Dt,Ie,F)=>{F.d(Ie,{t:()=>te});var d=F(576);function te(R){return(0,d.m)(R?.then)}},3260:(Dt,Ie,F)=>{F.d(Ie,{L:()=>ce,Q:()=>R});var d=F(7582),te=F(576);function R(le){return(0,d.FC)(this,arguments,function*(){const be=le.getReader();try{for(;;){const{value:Ee,done:ye}=yield(0,d.qq)(be.read());if(ye)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(Ee)}}finally{be.releaseLock()}})}function ce(le){return(0,te.m)(le?.getReader)}},3532:(Dt,Ie,F)=>{F.d(Ie,{K:()=>te});var d=F(576);function te(R){return R&&(0,d.m)(R.schedule)}},4482:(Dt,Ie,F)=>{F.d(Ie,{A:()=>te,e:()=>R});var d=F(576);function te(ce){return(0,d.m)(ce?.lift)}function R(ce){return le=>{if(te(le))return le.lift(function(ee){try{return ce(ee,this)}catch(be){this.error(be)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Dt,Ie,F)=>{function d(){}F.d(Ie,{Z:()=>d})},9635:(Dt,Ie,F)=>{F.d(Ie,{U:()=>R,z:()=>te});var d=F(4671);function te(...ce){return R(ce)}function R(ce){return 0===ce.length?d.y:1===ce.length?ce[0]:function(ee){return ce.reduce((be,Ee)=>Ee(be),ee)}}},7849:(Dt,Ie,F)=>{F.d(Ie,{h:()=>R});var d=F(2416),te=F(3410);function R(ce){te.z.setTimeout(()=>{const{onUnhandledError:le}=d.v;if(!le)throw ce;le(ce)})}},4532:(Dt,Ie,F)=>{function d(te){return new TypeError(`You provided ${null!==te&&"object"==typeof te?"an invalid object":`'${te}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(Ie,{z:()=>d})},4650:(Dt,Ie,F)=>{F.d(Ie,{$8M:()=>xa,$WT:()=>Cr,$Z:()=>fm,AFp:()=>f_,AaK:()=>Ee,BQk:()=>k3,CHM:()=>pc,CRH:()=>Zg,CZH:()=>tf,CqO:()=>Wm,D6c:()=>RT,EJc:()=>QD,EiD:()=>Qo,EpF:()=>qm,F$t:()=>Jm,F4k:()=>s6,FYo:()=>D8,FiY:()=>Ac,Gf:()=>Ky,GfV:()=>qp,Gpc:()=>j,Hsn:()=>l6,JOm:()=>Mt,JVY:()=>W2,JZr:()=>ht,KtG:()=>mc,L6k:()=>K2,LAX:()=>xr,LFG:()=>un,LSH:()=>s1,Lbi:()=>qD,Lck:()=>Ay,MMx:()=>V6,MR2:()=>Vv,NdJ:()=>z3,OlP:()=>nn,P3R:()=>bd,PXZ:()=>dT,Q6J:()=>I3,QGY:()=>P3,QbO:()=>WD,Qsj:()=>qv,R0b:()=>sa,RDi:()=>G2,Rgc:()=>a0,SBq:()=>Md,Sil:()=>XD,Suo:()=>K6,TTD:()=>Cu,TgZ:()=>A3,Udp:()=>ug,WFA:()=>a6,X6Q:()=>vT,XFs:()=>St,Xpm:()=>qi,Xts:()=>m8,Y36:()=>Pd,YKP:()=>Vg,YNc:()=>$m,Yjl:()=>Gt,Yz7:()=>yt,Z0I:()=>Pn,ZZ4:()=>w5,_Bn:()=>Lg,_UZ:()=>i6,_Vd:()=>Td,_c5:()=>zT,_uU:()=>fg,aQg:()=>b5,c2e:()=>KD,cJS:()=>Ct,cg1:()=>U3,d8E:()=>T6,dDg:()=>aT,dqk:()=>an,dwT:()=>ny,eBb:()=>Z2,eFA:()=>x_,eJc:()=>Jg,ekj:()=>dg,eoX:()=>S_,f3M:()=>Un,g9A:()=>m_,h0i:()=>Jd,hGG:()=>OT,iGM:()=>Wy,ifc:()=>we,ip1:()=>h_,jDz:()=>Py,kL8:()=>M6,lG2:()=>It,lqb:()=>l1,lri:()=>b_,mCW:()=>Hc,n5z:()=>kl,oAB:()=>ie,oxw:()=>R3,pB0:()=>vd,q3G:()=>Nn,q4F:()=>Wp,qLn:()=>d4,qOj:()=>Od,qZA:()=>k4,qzn:()=>_i,rWj:()=>C_,sBO:()=>yT,s_b:()=>j6,soG:()=>nf,tBr:()=>ka,tb:()=>T_,tp0:()=>vt,uIk:()=>Um,vHH:()=>_e,vpe:()=>oa,wAp:()=>mt,xp6:()=>om,ynx:()=>P4,z2F:()=>rf,z3N:()=>Fr,zSh:()=>Jl,zs3:()=>Id});var d=F(7579),te=F(727),R=F(9751),ce=F(6451),le=F(3099);function ee(o){for(let a in o)if(o[a]===ee)return a;throw Error("Could not find renamed property on target object.")}function be(o,a){for(const c in a)a.hasOwnProperty(c)&&!o.hasOwnProperty(c)&&(o[c]=a[c])}function Ee(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(Ee).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const c=a.indexOf("\n");return-1===c?a:a.substring(0,c)}function ye(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const $=ee({__forward_ref__:ee});function j(o){return o.__forward_ref__=j,o.toString=function(){return Ee(this())},o}function K(o){return je(o)?o():o}function je(o){return"function"==typeof o&&o.hasOwnProperty($)&&o.__forward_ref__===j}function Ae(o){return o&&!!o.\u0275providers}const ht="https://g.co/ng/security#xss";class _e extends Error{constructor(a,c){super(ze(a,c)),this.code=a}}function ze(o,a){return`NG0${Math.abs(o)}${a?": "+a.trim():""}`}function Oe(o){return"string"==typeof o?o:null==o?"":String(o)}function qe(o,a){throw new _e(-201,!1)}function ge(o,a){null==o&&function ue(o,a,c,u){throw new Error(`ASSERTION ERROR: ${o}`+(null==u?"":` [Expected=> ${c} ${u} ${a} <=Actual]`))}(a,o,null,"!=")}function yt(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function Ct(o){return{providers:o.providers||[],imports:o.imports||[]}}function Xt(o){return Ei(o,In)||Ei(o,jr)}function Pn(o){return null!==Xt(o)}function Ei(o,a){return o.hasOwnProperty(a)?o[a]:null}function Hn(o){return o&&(o.hasOwnProperty(Pr)||o.hasOwnProperty($r))?o[Pr]:null}const In=ee({\u0275prov:ee}),Pr=ee({\u0275inj:ee}),jr=ee({ngInjectableDef:ee}),$r=ee({ngInjectorDef:ee});var St=(()=>((St=St||{})[St.Default=0]="Default",St[St.Host=1]="Host",St[St.Self=2]="Self",St[St.SkipSelf=4]="SkipSelf",St[St.Optional=8]="Optional",St))();let hi;function zr(o){const a=hi;return hi=o,a}function ei(o,a,c){const u=Xt(o);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:c&St.Optional?null:void 0!==a?a:void qe(Ee(o))}const an=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Di={},fi="__NG_DI_FLAG__",br="ngTempTokenPath",ti="ngTokenPath",Bn=/\n/gm,pi="\u0275",bn="__source";let os;function tn(o){const a=os;return os=o,a}function po(o,a=St.Default){if(void 0===os)throw new _e(-203,!1);return null===os?ei(o,void 0,a):os.get(o,a&St.Optional?null:void 0,a)}function un(o,a=St.Default){return(function yu(){return hi}()||po)(K(o),a)}function Un(o,a=St.Default){return un(o,Xn(a))}function Xn(o){return typeof o>"u"||"number"==typeof o?o:0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function $i(o){const a=[];for(let c=0;c<o.length;c++){const u=K(o[c]);if(Array.isArray(u)){if(0===u.length)throw new _e(900,!1);let f,g=St.Default;for(let _=0;_<u.length;_++){const S=u[_],T=Gi(S);"number"==typeof T?-1===T?f=S.token:g|=T:f=S}a.push(un(f,g))}else a.push(un(u))}return a}function An(o,a){return o[fi]=a,o.prototype[fi]=a,o}function Gi(o){return o[fi]}function H(o){return{toString:o}.toString()}var q=(()=>((q=q||{})[q.OnPush=0]="OnPush",q[q.Default=1]="Default",q))(),we=(()=>{return(o=we||(we={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",we;var o})();const ne={},He=[],kt=ee({\u0275cmp:ee}),on=ee({\u0275dir:ee}),qn=ee({\u0275pipe:ee}),zn=ee({\u0275mod:ee}),pn=ee({\u0275fac:ee}),Jt=ee({__NG_ELEMENT_ID__:ee});let Gr=0;function qi(o){return H(()=>{const a=il(o),c={...a,decls:o.decls,vars:o.vars,template:o.template,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,onPush:o.changeDetection===q.OnPush,directiveDefs:null,pipeDefs:null,dependencies:a.standalone&&o.dependencies||null,getStandaloneInjector:null,data:o.data||{},encapsulation:o.encapsulation||we.Emulated,id:"c"+Gr++,styles:o.styles||He,_:null,schemas:o.schemas||null,tView:null};z1(c);const u=o.dependencies;return c.directiveDefs=Ts(u,!1),c.pipeDefs=Ts(u,!0),c})}function ic(o){return Et(o)||cn(o)}function me(o){return null!==o}function ie(o){return H(()=>({type:o.type,bootstrap:o.bootstrap||He,declarations:o.declarations||He,imports:o.imports||He,exports:o.exports||He,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function bt(o,a){if(null==o)return ne;const c={};for(const u in o)if(o.hasOwnProperty(u)){let f=o[u],g=f;Array.isArray(f)&&(g=f[1],f=f[0]),c[f]=u,a&&(a[f]=g)}return c}function It(o){return H(()=>{const a=il(o);return z1(a),a})}function Gt(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function Et(o){return o[kt]||null}function cn(o){return o[on]||null}function sn(o){return o[qn]||null}function Cr(o){const a=Et(o)||cn(o)||sn(o);return null!==a&&a.standalone}function er(o,a){const c=o[zn]||null;if(!c&&!0===a)throw new Error(`Type ${Ee(o)} does not have '\u0275mod' property.`);return c}function il(o){const a={};return{type:o.type,providersResolver:null,factory:null,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:a,exportAs:o.exportAs||null,standalone:!0===o.standalone,selectors:o.selectors||He,viewQuery:o.viewQuery||null,features:o.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:bt(o.inputs,a),outputs:bt(o.outputs)}}function z1(o){o.features?.forEach(a=>a(o))}function Ts(o,a){if(!o)return null;const c=a?sn:ic;return()=>("function"==typeof o?o():o).map(u=>c(u)).filter(me)}const Mi=0,Qe=1,Ht=2,kn=3,xi=4,vn=5,tr=6,pa=7,jn=8,oc=9,go=10,$t=11,sc=12,Ms=13,Ro=14,xs=15,Wn=16,ma=17,Fo=18,vo=19,ga=20,Or=21,Tn=22,ac=1,_u=2,va=7,ss=8,Is=9,Sr=10;function gi(o){return Array.isArray(o)&&"object"==typeof o[ac]}function vi(o){return Array.isArray(o)&&!0===o[ac]}function cc(o){return 0!=(4&o.flags)}function ya(o){return o.componentOffset>-1}function wu(o){return 1==(1&o.flags)}function Ii(o){return!!o.template}function sl(o){return 0!=(256&o[Ht])}function yo(o,a){return o.hasOwnProperty(pn)?o[pn]:null}class As{constructor(a,c,u){this.previousValue=a,this.currentValue=c,this.firstChange=u}isFirstChange(){return this.firstChange}}function Cu(){return lc}function lc(o){return o.type.prototype.ngOnChanges&&(o.setInput=Su),V1}function V1(){const o=Ih(this),a=o?.current;if(a){const c=o.previous;if(c===ne)o.previous=a;else for(let u in a)c[u]=a[u];o.current=null,this.ngOnChanges(a)}}function Su(o,a,c,u){const f=this.declaredInputs[c],g=Ih(o)||function uc(o,a){return o[as]=a}(o,{previous:ne,current:null}),_=g.current||(g.current={}),S=g.previous,T=S[f];_[f]=new As(T&&T.currentValue,a,S===ne),o[u]=a}Cu.ngInherit=!0;const as="__ngSimpleChanges__";function Ih(o){return o[as]||null}const ri=function(o,a,c){};function Er(o){for(;Array.isArray(o);)o=o[Mi];return o}function Dr(o,a){return Er(a[o.index])}function B1(o,a){return o.data[a]}function fr(o,a){const c=a[o];return gi(c)?c:c[Mi]}function Ho(o){return 64==(64&o[Ht])}function ls(o,a){return null==a?null:o[a]}function ba(o){o[Fo]=0}function hc(o,a){o[vn]+=a;let c=o,u=o[kn];for(;null!==u&&(1===a&&1===c[vn]||-1===a&&0===c[vn]);)u[vn]+=a,c=u,u=u[kn]}const Lt={lFrame:Tu(null),bindingsEnabled:!0};function hl(){return Lt.bindingsEnabled}function ve(){return Lt.lFrame.lView}function Bt(){return Lt.lFrame.tView}function pc(o){return Lt.lFrame.contextLView=o,o[jn]}function mc(o){return Lt.lFrame.contextLView=null,o}function pr(){let o=ks();for(;null!==o&&64===o.type;)o=o.parent;return o}function ks(){return Lt.lFrame.currentTNode}function ii(o,a){const c=Lt.lFrame;c.currentTNode=o,c.isParent=a}function G1(){return Lt.lFrame.isParent}function pl(){Lt.lFrame.isParent=!1}function Ps(){return Lt.lFrame.bindingIndex++}function ml(o,a){const c=Lt.lFrame;c.bindingIndex=c.bindingRootIndex=o,ir(a)}function ir(o){Lt.lFrame.currentDirectiveIndex=o}function Ca(o){const a=Lt.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}function Du(){return Lt.lFrame.currentQueryIndex}function gl(o){Lt.lFrame.currentQueryIndex=o}function W1(o){const a=o[Qe];return 2===a.type?a.declTNode:1===a.type?o[tr]:null}function vl(o,a,c){if(c&St.SkipSelf){let f=a,g=o;for(;!(f=f.parent,null!==f||c&St.Host||(f=W1(g),null===f||(g=g[xs],10&f.type))););if(null===f)return!1;a=f,o=g}const u=Lt.lFrame=yc();return u.currentTNode=a,u.lView=o,!0}function yl(o){const a=yc(),c=o[Qe];Lt.lFrame=a,a.currentTNode=c.firstChild,a.lView=o,a.tView=c,a.contextLView=o,a.bindingIndex=c.bindingStartIndex,a.inI18n=!1}function yc(){const o=Lt.lFrame,a=null===o?null:o.child;return null===a?Tu(o):a}function Tu(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function _c(){const o=Lt.lFrame;return Lt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const K1=_c;function _l(){const o=_c();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function Rr(){return Lt.lFrame.selectedIndex}function Yo(o){Lt.lFrame.selectedIndex=o}function On(){const o=Lt.lFrame;return B1(o.tView,o.selectedIndex)}function Cl(o,a){for(let c=a.directiveStart,u=a.directiveEnd;c<u;c++){const g=o.data[c].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:S,ngAfterViewInit:T,ngAfterViewChecked:k,ngOnDestroy:z}=g;_&&(o.contentHooks??(o.contentHooks=[])).push(-c,_),S&&((o.contentHooks??(o.contentHooks=[])).push(c,S),(o.contentCheckHooks??(o.contentCheckHooks=[])).push(c,S)),T&&(o.viewHooks??(o.viewHooks=[])).push(-c,T),k&&((o.viewHooks??(o.viewHooks=[])).push(c,k),(o.viewCheckHooks??(o.viewCheckHooks=[])).push(c,k)),null!=z&&(o.destroyHooks??(o.destroyHooks=[])).push(c,z)}}function Mu(o,a,c){Iu(o,a,3,c)}function xu(o,a,c,u){(3&o[Ht])===c&&Iu(o,a,c,u)}function Q1(o,a){let c=o[Ht];(3&c)===a&&(c&=2047,c+=1,o[Ht]=c)}function Iu(o,a,c,u){const g=u??-1,_=a.length-1;let S=0;for(let T=void 0!==u?65535&o[Fo]:0;T<_;T++)if("number"==typeof a[T+1]){if(S=a[T],null!=u&&S>=u)break}else a[T]<0&&(o[Fo]+=65536),(S<g||-1==g)&&(Sa(o,c,a,T),o[Fo]=(4294901760&o[Fo])+T+2),T++}function Sa(o,a,c,u){const f=c[u]<0,g=c[u+1],S=o[f?-c[u]:c[u]];if(f){if(o[Ht]>>11<o[Fo]>>16&&(3&o[Ht])===a){o[Ht]+=2048,ri(4,S,g);try{g.call(S)}finally{ri(5,S,g)}}}else{ri(4,S,g);try{g.call(S)}finally{ri(5,S,g)}}}const Ea=-1;class Uo{constructor(a,c,u){this.factory=a,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=u}}function Da(o,a,c){let u=0;for(;u<c.length;){const f=c[u];if("number"==typeof f){if(0!==f)break;u++;const g=c[u++],_=c[u++],S=c[u++];o.setAttribute(a,_,S,g)}else{const g=f,_=c[++u];Fs(g)?o.setProperty(a,g,_):o.setAttribute(a,g,_),u++}}return u}function Au(o){return 3===o||4===o||6===o}function Fs(o){return 64===o.charCodeAt(0)}function Ns(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let c=-1;for(let u=0;u<a.length;u++){const f=a[u];"number"==typeof f?c=f:0===c||Dl(o,c,f,null,-1===c||2===c?a[++u]:null)}}return o}function Dl(o,a,c,u,f){let g=0,_=o.length;if(-1===a)_=-1;else for(;g<o.length;){const S=o[g++];if("number"==typeof S){if(S===a){_=-1;break}if(S>a){_=g-1;break}}}for(;g<o.length;){const S=o[g];if("number"==typeof S)break;if(S===c){if(null===u)return void(null!==f&&(o[g+1]=f));if(u===o[g+1])return void(o[g+2]=f)}g++,null!==u&&g++,null!==f&&g++}-1!==_&&(o.splice(_,0,a),g=_+1),o.splice(g++,0,c),null!==u&&o.splice(g++,0,u),null!==f&&o.splice(g++,0,f)}function Ls(o){return o!==Ea}function us(o){return 32767&o}function Vs(o,a){let c=function J1(o){return o>>16}(o),u=a;for(;c>0;)u=u[xs],c--;return u}let Tl=!0;function bc(o){const a=Tl;return Tl=o,a}const Ml=255,X1=5;let Hs=0;const Pi={};function ku(o,a){const c=Ma(o,a);if(-1!==c)return c;const u=a[Qe];u.firstCreatePass&&(o.injectorIndex=a.length,Ta(u.data,o),Ta(a,null),Ta(u.blueprint,null));const f=ed(o,a),g=o.injectorIndex;if(Ls(f)){const _=us(f),S=Vs(f,a),T=S[Qe].data;for(let k=0;k<8;k++)a[g+k]=S[_+k]|T[_+k]}return a[g+8]=f,g}function Ta(o,a){o.push(0,0,0,0,0,0,0,0,a)}function Ma(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function ed(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let c=0,u=null,f=a;for(;null!==f;){if(u=Ec(f),null===u)return Ea;if(c++,f=f[xs],-1!==u.injectorIndex)return u.injectorIndex|c<<16}return Ea}function Cn(o,a,c){!function jo(o,a,c){let u;"string"==typeof c?u=c.charCodeAt(0)||0:c.hasOwnProperty(Jt)&&(u=c[Jt]),null==u&&(u=c[Jt]=Hs++);const f=u&Ml;a.data[o+(f>>X1)]|=1<<f}(o,a,c)}function xl(o,a,c){if(c&St.Optional||void 0!==o)return o;qe()}function Pu(o,a,c,u){if(c&St.Optional&&void 0===u&&(u=null),!(c&(St.Self|St.Host))){const f=o[oc],g=zr(void 0);try{return f?f.get(a,u,c&St.Optional):ei(a,u,c&St.Optional)}finally{zr(g)}}return xl(u,0,c)}function Il(o,a,c,u=St.Default,f){if(null!==o){if(1024&a[Ht]){const _=function Ou(o,a,c,u,f){let g=o,_=a;for(;null!==g&&null!==_&&1024&_[Ht]&&!(256&_[Ht]);){const S=Al(g,_,c,u|St.Self,Pi);if(S!==Pi)return S;let T=g.parent;if(!T){const k=_[Or];if(k){const z=k.get(c,Pi,u);if(z!==Pi)return z}T=Ec(_),_=_[xs]}g=T}return f}(o,a,c,u,Pi);if(_!==Pi)return _}const g=Al(o,a,c,u,Pi);if(g!==Pi)return g}return Pu(a,c,u,f)}function Al(o,a,c,u,f){const g=function zu(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(Jt)?o[Jt]:void 0;return"number"==typeof a?a>=0?a&Ml:Rh:a}(c);if("function"==typeof g){if(!vl(a,o,u))return u&St.Host?xl(f,0,u):Pu(a,c,u,f);try{const _=g(u);if(null!=_||u&St.Optional)return _;qe()}finally{K1()}}else if("number"==typeof g){let _=null,S=Ma(o,a),T=Ea,k=u&St.Host?a[Wn][tr]:null;for((-1===S||u&St.SkipSelf)&&(T=-1===S?ed(o,a):a[S+8],T!==Ea&&Sc(u,!1)?(_=a[Qe],S=us(T),a=Vs(T,a)):S=-1);-1!==S;){const z=a[Qe];if(Cc(g,S,z.data)){const L=mr(S,a,c,_,u,k);if(L!==Pi)return L}T=a[S+8],T!==Ea&&Sc(u,a[Qe].data[S+8]===k)&&Cc(g,S,a)?(_=z,S=us(T),a=Vs(T,a)):S=-1}}return f}function mr(o,a,c,u,f,g){const _=a[Qe],S=_.data[o+8],z=Bs(S,_,c,null==u?ya(S)&&Tl:u!=_&&0!=(3&S.type),f&St.Host&&g===S);return null!==z?Kn(a,_,z,S):Pi}function Bs(o,a,c,u,f){const g=o.providerIndexes,_=a.data,S=1048575&g,T=o.directiveStart,z=g>>20,W=f?S+z:o.directiveEnd;for(let re=u?S:S+z;re<W;re++){const Se=_[re];if(re<T&&c===Se||re>=T&&Se.type===c)return re}if(f){const re=_[T];if(re&&Ii(re)&&re.type===c)return T}return null}function Kn(o,a,c,u){let f=o[c];const g=a.data;if(function V2(o){return o instanceof Uo}(f)){const _=f;_.resolving&&function Re(o,a){const c=a?`. Dependency path: ${a.join(" > ")} > ${o}`:"";throw new _e(-200,`Circular dependency in DI detected for ${o}${c}`)}(function Ye(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():Oe(o)}(g[c]));const S=bc(_.canSeeViewProviders);_.resolving=!0;const T=_.injectImpl?zr(_.injectImpl):null;vl(o,u,St.Default);try{f=o[c]=_.factory(void 0,g,o,u),a.firstCreatePass&&c>=u.directiveStart&&function L2(o,a,c){const{ngOnChanges:u,ngOnInit:f,ngDoCheck:g}=a.type.prototype;if(u){const _=lc(a);(c.preOrderHooks??(c.preOrderHooks=[])).push(o,_),(c.preOrderCheckHooks??(c.preOrderCheckHooks=[])).push(o,_)}f&&(c.preOrderHooks??(c.preOrderHooks=[])).push(0-o,f),g&&((c.preOrderHooks??(c.preOrderHooks=[])).push(o,g),(c.preOrderCheckHooks??(c.preOrderCheckHooks=[])).push(o,g))}(c,g[c],a)}finally{null!==T&&zr(T),bc(S),_.resolving=!1,K1()}}return f}function Cc(o,a,c){return!!(c[a+(o>>X1)]&1<<o)}function Sc(o,a){return!(o&St.Self||o&St.Host&&a)}class $o{constructor(a,c){this._tNode=a,this._lView=c}get(a,c,u){return Il(this._tNode,this._lView,a,Xn(u),c)}}function Rh(){return new $o(pr(),ve())}function kl(o){return H(()=>{const a=o.prototype.constructor,c=a[pn]||Ys(a),u=Object.prototype;let f=Object.getPrototypeOf(o.prototype).constructor;for(;f&&f!==u;){const g=f[pn]||Ys(f);if(g&&g!==c)return g;f=Object.getPrototypeOf(f)}return g=>new g})}function Ys(o){return je(o)?()=>{const a=Ys(K(o));return a&&a()}:yo(o)}function Ec(o){const a=o[Qe],c=a.type;return 2===c?a.declTNode:1===c?o[tr]:null}function xa(o){return function td(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const c=o.attrs;if(c){const u=c.length;let f=0;for(;f<u;){const g=c[f];if(Au(g))break;if(0===g)f+=2;else if("number"==typeof g)for(f++;f<u&&"string"==typeof c[f];)f++;else{if(g===a)return c[f+1];f+=2}}}return null}(pr(),o)}const Us="__parameters__";function $s(o,a,c){return H(()=>{const u=function js(o){return function(...c){if(o){const u=o(...c);for(const f in u)this[f]=u[f]}}}(a);function f(...g){if(this instanceof f)return u.apply(this,g),this;const _=new f(...g);return S.annotation=_,S;function S(T,k,z){const L=T.hasOwnProperty(Us)?T[Us]:Object.defineProperty(T,Us,{value:[]})[Us];for(;L.length<=z;)L.push(null);return(L[z]=L[z]||[]).push(_),T}}return c&&(f.prototype=Object.create(c.prototype)),f.prototype.ngMetadataName=o,f.annotationCls=f,f})}class nn{constructor(a,c){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=yt({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function wo(o,a){o.forEach(c=>Array.isArray(c)?wo(c,a):a(c))}function Hh(o,a,c){a>=o.length?o.push(c):o.splice(a,0,c)}function qs(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function zl(o,a){const c=[];for(let u=0;u<o;u++)c.push(a);return c}function oi(o,a,c){let u=yi(o,a);return u>=0?o[1|u]=c:(u=~u,function Rl(o,a,c,u){let f=o.length;if(f==a)o.push(c,u);else if(1===f)o.push(u,o[0]),o[0]=c;else{for(f--,o.push(o[f-1],o[f]);f>a;)o[f]=o[f-2],f--;o[a]=c,o[a+1]=u}}(o,u,a,c)),u}function dn(o,a){const c=yi(o,a);if(c>=0)return o[1|c]}function yi(o,a){return function dt(o,a,c){let u=0,f=o.length>>c;for(;f!==u;){const g=u+(f-u>>1),_=o[g<<c];if(a===_)return g<<c;_>a?f=g:u=g+1}return~(f<<c)}(o,a,1)}const ka=An($s("Inject",o=>({token:o})),-1),Ac=An($s("Optional"),8),vt=An($s("SkipSelf"),4);var Mt=(()=>((Mt=Mt||{})[Mt.Important=1]="Important",Mt[Mt.DashCase=2]="DashCase",Mt))();const sd=new Map;let Xi=0;const Q="__ngContext__";function oe(o,a){gi(a)?(o[Q]=a[ga],function cd(o){sd.set(o[ga],o)}(a)):o[Q]=a}let eo;function gs(o,a){return eo(o,a)}function Gu(o){const a=o[kn];return vi(a)?a[kn]:a}function qu(o){return $h(o[Ms])}function Js(o){return $h(o[xi])}function $h(o){for(;null!==o&&!vi(o);)o=o[xi];return o}function Xs(o,a,c,u,f){if(null!=u){let g,_=!1;vi(u)?g=u:gi(u)&&(_=!0,u=u[Mi]);const S=Er(u);0===o&&null!==c?null==f?Ku(a,c,S):Ra(a,c,S,f||null,!0):1===o&&null!==c?Ra(a,c,S,f||null,!0):2===o?function Kh(o,a,c){const u=ea(o,a);u&&function Zu(o,a,c,u){o.removeChild(a,c,u)}(o,u,a,c)}(a,S,_):3===o&&a.destroyNode(S),null!=g&&function e1(o,a,c,u,f){const g=c[va];g!==Er(c)&&Xs(a,o,u,g,f);for(let S=Sr;S<c.length;S++){const T=c[S];Xu(T[Qe],T,o,a,u,g)}}(a,o,g,c,f)}}function qh(o,a,c){return o.createElement(a,c)}function U2(o,a){const c=o[Is],u=c.indexOf(a),f=a[kn];512&a[Ht]&&(a[Ht]&=-513,hc(f,-1)),c.splice(u,1)}function Wu(o,a){if(o.length<=Sr)return;const c=Sr+a,u=o[c];if(u){const f=u[ma];null!==f&&f!==o&&U2(f,u),a>0&&(o[c-1][xi]=u[xi]);const g=qs(o,Sr+a);!function r8(o,a){Xu(o,a,a[$t],2,null,null),a[Mi]=null,a[tr]=null}(u[Qe],u);const _=g[vo];null!==_&&_.detachView(g[Qe]),u[kn]=null,u[xi]=null,u[Ht]&=-65}return u}function dd(o,a){if(!(128&a[Ht])){const c=a[$t];c.destroyNode&&Xu(o,a,c,3,null,null),function Lp(o){let a=o[Ms];if(!a)return Oa(o[Qe],o);for(;a;){let c=null;if(gi(a))c=a[Ms];else{const u=a[Sr];u&&(c=u)}if(!c){for(;a&&!a[xi]&&a!==o;)gi(a)&&Oa(a[Qe],a),a=a[kn];null===a&&(a=o),gi(a)&&Oa(a[Qe],a),c=a&&a[xi]}a=c}}(a)}}function Oa(o,a){if(!(128&a[Ht])){a[Ht]&=-65,a[Ht]|=128,function Oc(o,a){let c;if(null!=o&&null!=(c=o.destroyHooks))for(let u=0;u<c.length;u+=2){const f=a[c[u]];if(!(f instanceof Uo)){const g=c[u+1];if(Array.isArray(g))for(let _=0;_<g.length;_+=2){const S=f[g[_]],T=g[_+1];ri(4,S,T);try{T.call(S)}finally{ri(5,S,T)}}else{ri(4,f,g);try{g.call(f)}finally{ri(5,f,g)}}}}}(o,a),function o8(o,a){const c=o.cleanup,u=a[pa];let f=-1;if(null!==c)for(let g=0;g<c.length-1;g+=2)if("string"==typeof c[g]){const _=c[g+3];_>=0?u[f=_]():u[f=-_].unsubscribe(),g+=2}else{const _=u[f=c[g+1]];c[g].call(_)}if(null!==u){for(let g=f+1;g<u.length;g++)(0,u[g])();a[pa]=null}}(o,a),1===a[Qe].type&&a[$t].destroy();const c=a[ma];if(null!==c&&vi(a[kn])){c!==a[kn]&&U2(c,a);const u=a[vo];null!==u&&u.detachView(o)}!function C(o){sd.delete(o[ga])}(a)}}function Gl(o,a,c){return function s8(o,a,c){let u=a;for(;null!==u&&40&u.type;)u=(a=u).parent;if(null===u)return c[Mi];{const{componentOffset:f}=u;if(f>-1){const{encapsulation:g}=o.data[u.directiveStart+f];if(g===we.None||g===we.Emulated)return null}return Dr(u,c)}}(o,a.parent,c)}function Ra(o,a,c,u,f){o.insertBefore(a,c,u,f)}function Ku(o,a,c){o.appendChild(a,c)}function j2(o,a,c,u,f){null!==u?Ra(o,a,c,u,f):Ku(o,a,c)}function ea(o,a){return o.parentNode(a)}function fd(o,a,c){return Rc(o,a,c)}let Wh,Fa,r1,Wl,Rc=function Qu(o,a,c){return 40&o.type?Dr(o,c):null};function Fc(o,a,c,u){const f=Gl(o,u,a),g=a[$t],S=fd(u.parent||a[tr],u,a);if(null!=f)if(Array.isArray(c))for(let T=0;T<c.length;T++)j2(g,f,c[T],S,!1);else j2(g,f,c,S,!1);void 0!==Wh&&Wh(g,u,a,c,f)}function md(o,a){if(null!==a){const c=a.type;if(3&c)return Dr(a,o);if(4&c)return Ko(-1,o[a.index]);if(8&c){const u=a.child;if(null!==u)return md(o,u);{const f=o[a.index];return vi(f)?Ko(-1,f):Er(f)}}if(32&c)return gs(a,o)()||Er(o[a.index]);{const u=gd(o,a);return null!==u?Array.isArray(u)?u[0]:md(Gu(o[Wn]),u):md(o,a.next)}}return null}function gd(o,a){return null!==a?o[Wn][tr].projection[a.projection]:null}function Ko(o,a){const c=Sr+o+1;if(c<a.length){const u=a[c],f=u[Qe].firstChild;if(null!==f)return md(u,f)}return a[va]}function Ju(o,a,c,u,f,g,_){for(;null!=c;){const S=u[c.index],T=c.type;if(_&&0===a&&(S&&oe(Er(S),u),c.flags|=2),32!=(32&c.flags))if(8&T)Ju(o,a,c.child,u,f,g,!1),Xs(a,o,f,S,g);else if(32&T){const k=gs(c,u);let z;for(;z=k();)Xs(a,o,f,z,g);Xs(a,o,f,S,g)}else 16&T?Qh(o,a,u,c,f,g):Xs(a,o,f,S,g);c=_?c.projectionNext:c.next}}function Xu(o,a,c,u,f,g){Ju(c,u,o.firstChild,a,f,g,!1)}function Qh(o,a,c,u,f,g){const _=c[Wn],T=_[tr].projection[u.projection];if(Array.isArray(T))for(let k=0;k<T.length;k++)Xs(a,o,f,T[k],g);else Ju(o,a,T,_[kn],f,g,!0)}function Co(o,a,c){""===c?o.removeAttribute(a,"class"):o.setAttribute(a,"class",c)}function t1(o,a,c){const{mergedAttrs:u,classes:f,styles:g}=c;null!==u&&Da(o,a,u),null!==f&&Co(o,a,f),null!==g&&function Jh(o,a,c){o.setAttribute(a,"style",c)}(o,a,g)}function ql(o){return function n1(){if(void 0===Fa&&(Fa=null,an.trustedTypes))try{Fa=an.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Fa}()?.createHTML(o)||o}function G2(o){r1=o}function t4(o){return function e4(){if(void 0===Wl&&(Wl=null,an.trustedTypes))try{Wl=an.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Wl}()?.createScriptURL(o)||o}class Lc{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ht})`}}class n4 extends Lc{getTypeName(){return"HTML"}}class r4 extends Lc{getTypeName(){return"Style"}}class u8 extends Lc{getTypeName(){return"Script"}}class o4 extends Lc{getTypeName(){return"URL"}}class s4 extends Lc{getTypeName(){return"ResourceURL"}}function Fr(o){return o instanceof Lc?o.changingThisBreaksApplicationSecurity:o}function _i(o,a){const c=function Kl(o){return o instanceof Lc&&o.getTypeName()||null}(o);if(null!=c&&c!==a){if("ResourceURL"===c&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${c} (see ${ht})`)}return c===a}function W2(o){return new n4(o)}function K2(o){return new r4(o)}function Z2(o){return new u8(o)}function xr(o){return new o4(o)}function vd(o){return new s4(o)}class _d{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const c=(new window.DOMParser).parseFromString(ql(a),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(a):(c.removeChild(c.firstChild),c)}catch{return null}}}class ys{constructor(a){this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(a){const c=this.inertDocument.createElement("template");return c.innerHTML=ql(a),c}}const a4=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Hc(o){return(o=String(o)).match(a4)?o:"unsafe:"+o}function Zo(o){const a={};for(const c of o.split(","))a[c]=!0;return a}function Bc(...o){const a={};for(const c of o)for(const u in c)c.hasOwnProperty(u)&&(a[u]=!0);return a}const Zl=Zo("area,br,col,hr,img,wbr"),Q2=Zo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),J2=Zo("rp,rt"),m=Bc(Zl,Bc(Q2,Zo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Bc(J2,Zo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Bc(J2,Q2)),b=Zo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),B=Bc(b,Zo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Zo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),J=Zo("script,style,template");class Pe{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let c=a.firstChild,u=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?u=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,u&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let f=this.checkClobberedElement(c,c.nextSibling);if(f){c=f;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(a){const c=a.nodeName.toLowerCase();if(!m.hasOwnProperty(c))return this.sanitizedSomething=!0,!J.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const u=a.attributes;for(let f=0;f<u.length;f++){const g=u.item(f),_=g.name,S=_.toLowerCase();if(!B.hasOwnProperty(S)){this.sanitizedSomething=!0;continue}let T=g.value;b[S]&&(T=Hc(T)),this.buf.push(" ",_,'="',st(T),'"')}return this.buf.push(">"),!0}endElement(a){const c=a.nodeName.toLowerCase();m.hasOwnProperty(c)&&!Zl.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(a){this.buf.push(st(a))}checkClobberedElement(a,c){if(c&&(a.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return c}}const Ge=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,rt=/([^\#-~ |!])/g;function st(o){return o.replace(/&/g,"&amp;").replace(Ge,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(rt,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Fn;function Qo(o,a){let c=null;try{Fn=Fn||function yd(o){const a=new ys(o);return function Vc(){try{return!!(new window.DOMParser).parseFromString(ql(""),"text/html")}catch{return!1}}()?new _d(a):a}(o);let u=a?String(a):"";c=Fn.getInertBodyElement(u);let f=5,g=u;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,u=g,g=c.innerHTML,c=Fn.getInertBodyElement(u)}while(u!==g);return ql((new Pe).sanitizeChildren(o1(c)||c))}finally{if(c){const u=o1(c)||c;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function o1(o){return"content"in o&&function d8(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var Nn=(()=>((Nn=Nn||{})[Nn.NONE=0]="NONE",Nn[Nn.HTML=1]="HTML",Nn[Nn.STYLE=2]="STYLE",Nn[Nn.SCRIPT=3]="SCRIPT",Nn[Nn.URL=4]="URL",Nn[Nn.RESOURCE_URL=5]="RESOURCE_URL",Nn))();function s1(o){const a=c4();return a?a.sanitize(Nn.URL,o)||"":_i(o,"URL")?Fr(o):Hc(Oe(o))}function a1(o){const a=c4();if(a)return t4(a.sanitize(Nn.RESOURCE_URL,o)||"");if(_i(o,"ResourceURL"))return t4(Fr(o));throw new _e(904,!1)}function bd(o,a,c){return function h8(o,a){return"src"===a&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===a&&("base"===o||"link"===o)?a1:s1}(a,c)(o)}function c4(){const o=ve();return o&&o[sc]}const m8=new nn("ENVIRONMENT_INITIALIZER"),c1=new nn("INJECTOR",-1),Cd=new nn("INJECTOR_DEF_TYPES");class Vp{get(a,c=Di){if(c===Di){const u=new Error(`NullInjectorError: No provider for ${Ee(a)}!`);throw u.name="NullInjectorError",u}return c}}function Vv(o){return{\u0275providers:o}}function l4(...o){return{\u0275providers:Sd(0,o),\u0275fromNgModule:!0}}function Sd(o,...a){const c=[],u=new Set;let f;return wo(a,g=>{const _=g;g8(_,c,[],u)&&(f||(f=[]),f.push(_))}),void 0!==f&&Hp(f,c),c}function Hp(o,a){for(let c=0;c<o.length;c++){const{providers:f}=o[c];v8(f,g=>{a.push(g)})}}function g8(o,a,c,u){if(!(o=K(o)))return!1;let f=null,g=Hn(o);const _=!g&&Et(o);if(g||_){if(_&&!_.standalone)return!1;f=o}else{const T=o.ngModule;if(g=Hn(T),!g)return!1;f=T}const S=u.has(f);if(_){if(S)return!1;if(u.add(f),_.dependencies){const T="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const k of T)g8(k,a,c,u)}}else{if(!g)return!1;{if(null!=g.imports&&!S){let k;u.add(f);try{wo(g.imports,z=>{g8(z,a,c,u)&&(k||(k=[]),k.push(z))})}finally{}void 0!==k&&Hp(k,a)}if(!S){const k=yo(f)||(()=>new f);a.push({provide:f,useFactory:k,deps:He},{provide:Cd,useValue:f,multi:!0},{provide:m8,useValue:()=>un(f),multi:!0})}const T=g.providers;null==T||S||v8(T,z=>{a.push(z)})}}return f!==o&&void 0!==o.providers}function v8(o,a){for(let c of o)Ae(c)&&(c=c.\u0275providers),Array.isArray(c)?v8(c,a):a(c)}const Hv=ee({provide:String,useValue:ee});function y8(o){return null!==o&&"object"==typeof o&&Hv in o}function Yc(o){return"function"==typeof o}const Jl=new nn("Set Injector scope."),r3={},Yv={};let _8;function o3(){return void 0===_8&&(_8=new Vp),_8}class l1{}class Yp extends l1{get destroyed(){return this._destroyed}constructor(a,c,u,f){super(),this.parent=c,this.source=u,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Dd(a,_=>this.processProvider(_)),this.records.set(c1,Ed(void 0,this)),f.has("environment")&&this.records.set(l1,Ed(void 0,this));const g=this.records.get(Jl);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(Cd.multi,He,St.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();for(const a of this._onDestroyHooks)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(a){this._onDestroyHooks.push(a)}runInContext(a){this.assertNotDestroyed();const c=tn(this),u=zr(void 0);try{return a()}finally{tn(c),zr(u)}}get(a,c=Di,u=St.Default){this.assertNotDestroyed(),u=Xn(u);const f=tn(this),g=zr(void 0);try{if(!(u&St.SkipSelf)){let S=this.records.get(a);if(void 0===S){const T=function S8(o){return"function"==typeof o||"object"==typeof o&&o instanceof nn}(a)&&Xt(a);S=T&&this.injectableDefInScope(T)?Ed(w8(a),r3):null,this.records.set(a,S)}if(null!=S)return this.hydrate(a,S)}return(u&St.Self?o3():this.parent).get(a,c=u&St.Optional&&c===Di?null:c)}catch(_){if("NullInjectorError"===_.name){if((_[br]=_[br]||[]).unshift(Ee(a)),f)throw _;return function ni(o,a,c,u){const f=o[br];throw a[bn]&&f.unshift(a[bn]),o.message=function Y(o,a,c,u=null){o=o&&"\n"===o.charAt(0)&&o.charAt(1)==pi?o.slice(2):o;let f=Ee(a);if(Array.isArray(a))f=a.map(Ee).join(" -> ");else if("object"==typeof a){let g=[];for(let _ in a)if(a.hasOwnProperty(_)){let S=a[_];g.push(_+":"+("string"==typeof S?JSON.stringify(S):Ee(S)))}f=`{${g.join(", ")}}`}return`${c}${u?"("+u+")":""}[${f}]: ${o.replace(Bn,"\n  ")}`}("\n"+o.message,f,c,u),o[ti]=f,o[br]=null,o}(_,a,"R3InjectorError",this.source)}throw _}finally{zr(g),tn(f)}}resolveInjectorInitializers(){const a=tn(this),c=zr(void 0);try{const u=this.get(m8.multi,He,St.Self);for(const f of u)f()}finally{tn(a),zr(c)}}toString(){const a=[],c=this.records;for(const u of c.keys())a.push(Ee(u));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new _e(205,!1)}processProvider(a){let c=Yc(a=K(a))?a:K(a&&a.provide);const u=function jv(o){return y8(o)?Ed(void 0,o.useValue):Ed(b8(o),r3)}(a);if(Yc(a)||!0!==a.multi)this.records.get(c);else{let f=this.records.get(c);f||(f=Ed(void 0,r3,!0),f.factory=()=>$i(f.multi),this.records.set(c,f)),c=a,f.multi.push(a)}this.records.set(c,u)}hydrate(a,c){return c.value===r3&&(c.value=Yv,c.value=c.factory()),"object"==typeof c.value&&c.value&&function Up(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(a){if(!a.providedIn)return!1;const c=K(a.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}}function w8(o){const a=Xt(o),c=null!==a?a.factory:yo(o);if(null!==c)return c;if(o instanceof nn)throw new _e(204,!1);if(o instanceof Function)return function Uv(o){const a=o.length;if(a>0)throw zl(a,"?"),new _e(204,!1);const c=function rn(o){return o&&(o[In]||o[jr])||null}(o);return null!==c?()=>c.factory(o):()=>new o}(o);throw new _e(204,!1)}function b8(o,a,c){let u;if(Yc(o)){const f=K(o);return yo(f)||w8(f)}if(y8(o))u=()=>K(o.useValue);else if(function Bp(o){return!(!o||!o.useFactory)}(o))u=()=>o.useFactory(...$i(o.deps||[]));else if(function Bv(o){return!(!o||!o.useExisting)}(o))u=()=>un(K(o.useExisting));else{const f=K(o&&(o.useClass||o.provide));if(!function C8(o){return!!o.deps}(o))return yo(f)||w8(f);u=()=>new f(...$i(o.deps))}return u}function Ed(o,a,c=!1){return{factory:o,value:a,multi:c?[]:void 0}}function Dd(o,a){for(const c of o)Array.isArray(c)?Dd(c,a):c&&Ae(c)?Dd(c.\u0275providers,a):a(c)}class $v{}class jp{}class Gp{resolveComponentFactory(a){throw function Gv(o){const a=Error(`No component factory found for ${Ee(o)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=o,a}(a)}}let Td=(()=>{class o{}return o.NULL=new Gp,o})();function s3(){return Uc(pr(),ve())}function Uc(o,a){return new Md(Dr(o,a))}let Md=(()=>{class o{constructor(c){this.nativeElement=c}}return o.__NG_ELEMENT_ID__=s3,o})();function u4(o){return o instanceof Md?o.nativeElement:o}class D8{}let qv=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function Wv(){const o=ve(),c=fr(pr().index,o);return(gi(c)?c:o)[$t]}(),o})(),Kv=(()=>{class o{}return o.\u0275prov=yt({token:o,providedIn:"root",factory:()=>null}),o})();class qp{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const Wp=new qp("15.2.10"),a3={},T8="ngOriginalError";function M8(o){return o[T8]}class d4{constructor(){this._console=console}handleError(a){const c=this._findOriginalError(a);this._console.error("ERROR",a),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(a){let c=a&&M8(a);for(;c&&M8(c);)c=M8(c);return c||null}}function Na(o){return o instanceof Function?o():o}function em(o,a,c){let u=o.length;for(;;){const f=o.indexOf(a,c);if(-1===f)return f;if(0===f||o.charCodeAt(f-1)<=32){const g=a.length;if(f+g===u||o.charCodeAt(f+g)<=32)return f}c=f+1}}const x8="ng-template";function I8(o,a,c){let u=0,f=!0;for(;u<o.length;){let g=o[u++];if("string"==typeof g&&f){const _=o[u++];if(c&&"class"===g&&-1!==em(_.toLowerCase(),a,0))return!0}else{if(1===g){for(;u<o.length&&"string"==typeof(g=o[u++]);)if(g.toLowerCase()===a)return!0;return!1}"number"==typeof g&&(f=!1)}}return!1}function A8(o){return 4===o.type&&o.value!==x8}function xd(o,a,c){return a===(4!==o.type||c?o.value:x8)}function k8(o,a,c){let u=4;const f=o.attrs||[],g=function nm(o){for(let a=0;a<o.length;a++)if(Au(o[a]))return a;return o.length}(f);let _=!1;for(let S=0;S<a.length;S++){const T=a[S];if("number"!=typeof T){if(!_)if(4&u){if(u=2|1&u,""!==T&&!xd(o,T,c)||""===T&&1===a.length){if(ta(u))return!1;_=!0}}else{const k=8&u?T:a[++S];if(8&u&&null!==o.attrs){if(!I8(o.attrs,k,c)){if(ta(u))return!1;_=!0}continue}const L=tm(8&u?"class":T,f,A8(o),c);if(-1===L){if(ta(u))return!1;_=!0;continue}if(""!==k){let W;W=L>g?"":f[L+1].toLowerCase();const re=8&u?W:null;if(re&&-1!==em(re,k,0)||2&u&&k!==W){if(ta(u))return!1;_=!0}}}}else{if(!_&&!ta(u)&&!ta(T))return!1;if(_&&ta(T))continue;_=!1,u=T|1&u}}return ta(u)||_}function ta(o){return 0==(1&o)}function tm(o,a,c,u){if(null===a)return-1;let f=0;if(u||!c){let g=!1;for(;f<a.length;){const _=a[f];if(_===o)return f;if(3===_||6===_)g=!0;else{if(1===_||2===_){let S=a[++f];for(;"string"==typeof S;)S=a[++f];continue}if(4===_)break;if(0===_){f+=4;continue}}f+=g?1:2}return-1}return function rm(o,a){let c=o.indexOf(4);if(c>-1)for(c++;c<o.length;){const u=o[c];if("number"==typeof u)return-1;if(u===a)return c;c++}return-1}(a,o)}function f4(o,a,c=!1){for(let u=0;u<a.length;u++)if(k8(o,a[u],c))return!0;return!1}function n9(o,a){e:for(let c=0;c<a.length;c++){const u=a[c];if(o.length===u.length){for(let f=0;f<o.length;f++)if(o[f]!==u[f])continue e;return!0}}return!1}function im(o,a){return o?":not("+a.trim()+")":a}function r9(o){let a=o[0],c=1,u=2,f="",g=!1;for(;c<o.length;){let _=o[c];if("string"==typeof _)if(2&u){const S=o[++c];f+="["+_+(S.length>0?'="'+S+'"':"")+"]"}else 8&u?f+="."+_:4&u&&(f+=" "+_);else""!==f&&!ta(_)&&(a+=im(g,f),f=""),u=_,g=g||!ta(u);c++}return""!==f&&(a+=im(g,f)),a}const Yt={};function om(o){sm(Bt(),ve(),Rr()+o,!1)}function sm(o,a,c,u){if(!u)if(3==(3&a[Ht])){const g=o.preOrderCheckHooks;null!==g&&Mu(a,g,c)}else{const g=o.preOrderHooks;null!==g&&xu(a,g,0,c)}Yo(c)}function cm(o,a=null,c=null,u){const f=z8(o,a,c,u);return f.resolveInjectorInitializers(),f}function z8(o,a=null,c=null,u,f=new Set){const g=[c||He,l4(o)];return u=u||("object"==typeof o?void 0:Ee(o)),new Yp(g,a||o3(),u||null,f)}let Id=(()=>{class o{static create(c,u){if(Array.isArray(c))return cm({name:""},u,c,"");{const f=c.name??"";return cm({name:f},c.parent,c.providers,f)}}}return o.THROW_IF_NOT_FOUND=Di,o.NULL=new Vp,o.\u0275prov=yt({token:o,providedIn:"any",factory:()=>un(c1)}),o.__NG_ELEMENT_ID__=-1,o})();function Pd(o,a=St.Default){const c=ve();return null===c?un(o,a):Il(pr(),c,K(o),a)}function fm(){throw new Error("invalid")}function pm(o,a){const c=o.contentQueries;if(null!==c)for(let u=0;u<c.length;u+=2){const g=c[u+1];if(-1!==g){const _=o.data[g];gl(c[u]),_.contentQueries(2,a[g],g)}}}function d3(o,a,c,u,f,g,_,S,T,k,z){const L=a.blueprint.slice();return L[Mi]=f,L[Ht]=76|u,(null!==z||o&&1024&o[Ht])&&(L[Ht]|=1024),ba(L),L[kn]=L[xs]=o,L[jn]=c,L[go]=_||o&&o[go],L[$t]=S||o&&o[$t],L[sc]=T||o&&o[sc]||null,L[oc]=k||o&&o[oc]||null,L[tr]=g,L[ga]=function ad(){return Xi++}(),L[Or]=z,L[Wn]=2==a.type?o[Wn]:L,L}function v4(o,a,c,u,f){let g=o.data[a];if(null===g)g=function h3(o,a,c,u,f){const g=ks(),_=G1(),T=o.data[a]=function vm(o,a,c,u,f,g){return{type:c,index:u,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?g:g&&g.parent,c,a,u,f);return null===o.firstChild&&(o.firstChild=T),null!==g&&(_?null==g.child&&null!==T.parent&&(g.child=T):null===g.next&&(g.next=T,T.prev=g)),T}(o,a,c,u,f),function q1(){return Lt.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=c,g.value=u,g.attrs=f;const _=function fl(){const o=Lt.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}();g.injectorIndex=null===_?-1:_.injectorIndex}return ii(g,!0),g}function y4(o,a,c,u){if(0===c)return-1;const f=a.length;for(let g=0;g<c;g++)a.push(u),o.blueprint.push(u),o.data.push(null);return f}function f3(o,a,c){yl(a);try{const u=o.viewQuery;null!==u&&G8(1,u,c);const f=o.template;null!==f&&na(o,a,f,1,c),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&pm(o,a),o.staticViewQueries&&G8(2,o.viewQuery,c);const g=o.components;null!==g&&function mm(o,a){for(let c=0;c<a.length;c++)no(o,a[c])}(a,g)}catch(u){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),u}finally{a[Ht]&=-5,_l()}}function La(o,a,c,u){const f=a[Ht];if(128!=(128&f)){yl(a);try{ba(a),function _o(o){return Lt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==c&&na(o,a,c,2,u);const _=3==(3&f);if(_){const k=o.preOrderCheckHooks;null!==k&&Mu(a,k,null)}else{const k=o.preOrderHooks;null!==k&&xu(a,k,0,null),Q1(a,0)}if(function Im(o){for(let a=qu(o);null!==a;a=Js(a)){if(!a[_u])continue;const c=a[Is];for(let u=0;u<c.length;u++){const f=c[u];512&f[Ht]||hc(f[kn],1),f[Ht]|=512}}}(a),function w3(o){for(let a=qu(o);null!==a;a=Js(a))for(let c=Sr;c<a.length;c++){const u=a[c],f=u[Qe];Ho(u)&&La(f,u,f.template,u[jn])}}(a),null!==o.contentQueries&&pm(o,a),_){const k=o.contentCheckHooks;null!==k&&Mu(a,k)}else{const k=o.contentHooks;null!==k&&xu(a,k,1),Q1(a,1)}!function w9(o,a){const c=o.hostBindingOpCodes;if(null!==c)try{for(let u=0;u<c.length;u++){const f=c[u];if(f<0)Yo(~f);else{const g=f,_=c[++u],S=c[++u];ml(_,g),S(2,a[g])}}}finally{Yo(-1)}}(o,a);const S=o.components;null!==S&&function b9(o,a){for(let c=0;c<a.length;c++)Am(o,a[c])}(a,S);const T=o.viewQuery;if(null!==T&&G8(2,T,u),_){const k=o.viewCheckHooks;null!==k&&Mu(a,k)}else{const k=o.viewHooks;null!==k&&xu(a,k,2),Q1(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),a[Ht]&=-41,512&a[Ht]&&(a[Ht]&=-513,hc(a[kn],-1))}finally{_l()}}}function na(o,a,c,u,f){const g=Rr(),_=2&u;try{Yo(-1),_&&a.length>Tn&&sm(o,a,Tn,!1),ri(_?2:0,f),c(u,f)}finally{Yo(g),ri(_?3:1,f)}}function L8(o,a,c){if(cc(a)){const f=a.directiveEnd;for(let g=a.directiveStart;g<f;g++){const _=o.data[g];_.contentQueries&&_.contentQueries(1,c[g],g)}}}function p3(o,a,c){hl()&&(function g3(o,a,c,u){const f=c.directiveStart,g=c.directiveEnd;ya(c)&&function Tm(o,a,c){const u=Dr(a,o),f=gm(c),g=o[go],_=w4(o,d3(o,f,null,c.onPush?32:16,u,a,g,g.createRenderer(u,c),null,null,null));o[a.index]=_}(a,c,o.data[f+c.componentOffset]),o.firstCreatePass||ku(c,a),oe(u,a);const _=c.initialInputs;for(let S=f;S<g;S++){const T=o.data[S],k=Kn(a,o,S,c);oe(k,a),null!==_&&Mm(0,S-f,k,T,0,_),Ii(T)&&(fr(c.index,a)[jn]=Kn(a,o,S,c))}}(o,a,c,Dr(c,a)),64==(64&c.flags)&&Y8(o,a,c))}function V8(o,a,c=Dr){const u=a.localNames;if(null!==u){let f=a.index+1;for(let g=0;g<u.length;g+=2){const _=u[g+1],S=-1===_?c(a,o):o[_];o[f++]=S}}}function gm(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=H8(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):a}function H8(o,a,c,u,f,g,_,S,T,k){const z=Tn+u,L=z+f,W=function _4(o,a){const c=[];for(let u=0;u<a;u++)c.push(u<o?null:Yt);return c}(z,L),re="function"==typeof k?k():k;return W[Qe]={type:o,blueprint:W,template:c,queries:null,viewQuery:S,declTNode:a,data:W.slice().fill(null,z),bindingStartIndex:z,expandoStartIndex:L,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:T,consts:re,incompleteFirstPass:!1}}function jc(o,a,c,u){const f=b4(a);null===c?f.push(u):(f.push(c),o.firstCreatePass&&zm(o).push(u,f.length-1))}function wi(o,a,c,u){for(let f in o)if(o.hasOwnProperty(f)){c=null===c?{}:c;const g=o[f];null===u?$c(c,a,f,g):u.hasOwnProperty(f)&&$c(c,a,u[f],g)}return c}function $c(o,a,c,u){o.hasOwnProperty(c)?o[c].push(a,u):o[c]=[a,u]}function So(o,a,c,u,f,g,_,S){const T=Dr(a,c);let z,k=a.inputs;!S&&null!=k&&(z=k[u])?(Rm(o,c,z,u,f),ya(a)&&function ym(o,a){const c=fr(a,o);16&c[Ht]||(c[Ht]|=32)}(c,a.index)):3&a.type&&(u=function EE(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(u),f=null!=_?_(f,a.value||"",u):f,g.setProperty(T,u,f))}function m3(o,a,c,u){if(hl()){const f=null===u?null:{"":-1},g=function Sm(o,a){const c=o.directiveRegistry;let u=null,f=null;if(c)for(let g=0;g<c.length;g++){const _=c[g];if(f4(a,_.selectors,!1))if(u||(u=[]),Ii(_))if(null!==_.findHostDirectiveDefs){const S=[];f=f||new Map,_.findHostDirectiveDefs(_,S,f),u.unshift(...S,_),v3(o,a,S.length)}else u.unshift(_),v3(o,a,0);else f=f||new Map,_.findHostDirectiveDefs?.(_,u,f),u.push(_)}return null===u?null:[u,f]}(o,c);let _,S;null===g?_=S=null:[_,S]=g,null!==_&&B8(o,a,c,_,f,S),f&&function D9(o,a,c){if(a){const u=o.localNames=[];for(let f=0;f<a.length;f+=2){const g=c[a[f+1]];if(null==g)throw new _e(-301,!1);u.push(a[f],g)}}}(c,u,f)}c.mergedAttrs=Ns(c.mergedAttrs,c.attrs)}function B8(o,a,c,u,f,g){for(let k=0;k<u.length;k++)Cn(ku(c,a),o,u[k].type);!function Dm(o,a,c){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+c,o.providerIndexes=a}(c,o.data.length,u.length);for(let k=0;k<u.length;k++){const z=u[k];z.providersResolver&&z.providersResolver(z)}let _=!1,S=!1,T=y4(o,a,u.length,null);for(let k=0;k<u.length;k++){const z=u[k];c.mergedAttrs=Ns(c.mergedAttrs,z.hostAttrs),U8(o,c,a,T,z),Em(T,z,f),null!==z.contentQueries&&(c.flags|=4),(null!==z.hostBindings||null!==z.hostAttrs||0!==z.hostVars)&&(c.flags|=64);const L=z.type.prototype;!_&&(L.ngOnChanges||L.ngOnInit||L.ngDoCheck)&&((o.preOrderHooks??(o.preOrderHooks=[])).push(c.index),_=!0),!S&&(L.ngOnChanges||L.ngDoCheck)&&((o.preOrderCheckHooks??(o.preOrderCheckHooks=[])).push(c.index),S=!0),T++}!function S9(o,a,c){const f=a.directiveEnd,g=o.data,_=a.attrs,S=[];let T=null,k=null;for(let z=a.directiveStart;z<f;z++){const L=g[z],W=c?c.get(L):null,Se=W?W.outputs:null;T=wi(L.inputs,z,T,W?W.inputs:null),k=wi(L.outputs,z,k,Se);const Ue=null===T||null===_||A8(a)?null:xm(T,z,_);S.push(Ue)}null!==T&&(T.hasOwnProperty("class")&&(a.flags|=8),T.hasOwnProperty("style")&&(a.flags|=16)),a.initialInputs=S,a.inputs=T,a.outputs=k}(o,c,g)}function Y8(o,a,c){const u=c.directiveStart,f=c.directiveEnd,g=c.index,_=function N2(){return Lt.lFrame.currentDirectiveIndex}();try{Yo(g);for(let S=u;S<f;S++){const T=o.data[S],k=a[S];ir(S),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&Cm(T,k)}}finally{Yo(-1),ir(_)}}function Cm(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function v3(o,a,c){a.componentOffset=c,(o.components??(o.components=[])).push(a.index)}function Em(o,a,c){if(c){if(a.exportAs)for(let u=0;u<a.exportAs.length;u++)c[a.exportAs[u]]=o;Ii(a)&&(c[""]=o)}}function U8(o,a,c,u,f){o.data[u]=f;const g=f.factory||(f.factory=yo(f.type)),_=new Uo(g,Ii(f),Pd);o.blueprint[u]=_,c[u]=_,function wm(o,a,c,u,f){const g=f.hostBindings;if(g){let _=o.hostBindingOpCodes;null===_&&(_=o.hostBindingOpCodes=[]);const S=~a.index;(function bm(o){let a=o.length;for(;a>0;){const c=o[--a];if("number"==typeof c&&c<0)return c}return 0})(_)!=S&&_.push(S),_.push(c,u,g)}}(o,a,u,y4(o,c,f.hostVars,Yt),f)}function ws(o,a,c,u,f,g){const _=Dr(o,a);!function y3(o,a,c,u,f,g,_){if(null==g)o.removeAttribute(a,f,c);else{const S=null==_?Oe(g):_(g,u||"",f);o.setAttribute(a,f,S,c)}}(a[$t],_,g,o.value,c,u,f)}function Mm(o,a,c,u,f,g){const _=g[a];if(null!==_){const S=u.setInput;for(let T=0;T<_.length;){const k=_[T++],z=_[T++],L=_[T++];null!==S?u.setInput(c,L,k,z):c[z]=L}}}function xm(o,a,c){let u=null,f=0;for(;f<c.length;){const g=c[f];if(0!==g)if(5!==g){if("number"==typeof g)break;if(o.hasOwnProperty(g)){null===u&&(u=[]);const _=o[g];for(let S=0;S<_.length;S+=2)if(_[S]===a){u.push(g,_[S+1],c[f+1]);break}}f+=2}else f+=2;else f+=4}return u}function _3(o,a,c,u){return[o,!0,!1,a,null,0,u,c,null,null]}function Am(o,a){const c=fr(a,o);if(Ho(c)){const u=c[Qe];48&c[Ht]?La(u,c,u.template,c[jn]):c[vn]>0&&b3(c)}}function b3(o){for(let u=qu(o);null!==u;u=Js(u))for(let f=Sr;f<u.length;f++){const g=u[f];if(Ho(g))if(512&g[Ht]){const _=g[Qe];La(_,g,_.template,g[jn])}else g[vn]>0&&b3(g)}const c=o[Qe].components;if(null!==c)for(let u=0;u<c.length;u++){const f=fr(c[u],o);Ho(f)&&f[vn]>0&&b3(f)}}function no(o,a){const c=fr(a,o),u=c[Qe];(function Gc(o,a){for(let c=a.length;c<o.blueprint.length;c++)a.push(o.blueprint[c])})(u,c),f3(u,c,c[jn])}function w4(o,a){return o[Ms]?o[Ro][xi]=a:o[Ms]=a,o[Ro]=a,a}function j8(o){for(;o;){o[Ht]|=32;const a=Gu(o);if(sl(o)&&!a)return o;o=a}return null}function $8(o,a,c,u=!0){const f=a[go];f.begin&&f.begin();try{La(o,a,o.template,c)}catch(_){throw u&&Om(a,_),_}finally{f.end&&f.end()}}function G8(o,a,c){gl(0),a(o,c)}function b4(o){return o[pa]||(o[pa]=[])}function zm(o){return o.cleanup||(o.cleanup=[])}function C3(o,a,c){return(null===o||Ii(o))&&(c=function wa(o){for(;Array.isArray(o);){if("object"==typeof o[ac])return o;o=o[Mi]}return null}(c[a.index])),c[$t]}function Om(o,a){const c=o[oc],u=c?c.get(d4,null):null;u&&u.handleError(a)}function Rm(o,a,c,u,f){for(let g=0;g<c.length;){const _=c[g++],S=c[g++],T=a[_],k=o.data[_];null!==k.setInput?k.setInput(T,f,u,S):T[S]=f}}function q8(o,a,c){let u=c?o.styles:null,f=c?o.classes:null,g=0;if(null!==a)for(let _=0;_<a.length;_++){const S=a[_];"number"==typeof S?g=S:1==g?f=ye(f,S):2==g&&(u=ye(u,S+": "+a[++_]+";"))}c?o.styles=u:o.stylesWithoutHost=u,c?o.classes=f:o.classesWithoutHost=f}function W8(o,a,c,u,f=!1){for(;null!==c;){const g=a[c.index];if(null!==g&&u.push(Er(g)),vi(g))for(let S=Sr;S<g.length;S++){const T=g[S],k=T[Qe].firstChild;null!==k&&W8(T[Qe],T,k,u)}const _=c.type;if(8&_)W8(o,a,c.child,u);else if(32&_){const S=gs(c,a);let T;for(;T=S();)u.push(T)}else if(16&_){const S=gd(a,c);if(Array.isArray(S))u.push(...S);else{const T=Gu(a[Wn]);W8(T[Qe],T,S,u,!0)}}c=f?c.projectionNext:c.next}return u}class S3{get rootNodes(){const a=this._lView,c=a[Qe];return W8(c,a,c.firstChild,[])}constructor(a,c){this._lView=a,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[jn]}set context(a){this._lView[jn]=a}get destroyed(){return 128==(128&this._lView[Ht])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[kn];if(vi(a)){const c=a[ss],u=c?c.indexOf(this):-1;u>-1&&(Wu(a,u),qs(c,u))}this._attachedToViewContainer=!1}dd(this._lView[Qe],this._lView)}onDestroy(a){jc(this._lView[Qe],this._lView,null,a)}markForCheck(){j8(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ht]&=-65}reattach(){this._lView[Ht]|=64}detectChanges(){$8(this._lView[Qe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new _e(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ud(o,a){Xu(o,a,a[$t],2,null,null)}(this._lView[Qe],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new _e(902,!1);this._appRef=a}}class DE extends S3{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;$8(a[Qe],a,a[jn],!1)}checkNoChanges(){}get context(){return null}}class T9 extends Td{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const c=Et(a);return new C4(c,this.ngModule)}}function Fm(o){const a=[];for(let c in o)o.hasOwnProperty(c)&&a.push({propName:o[c],templateName:c});return a}class M9{constructor(a,c){this.injector=a,this.parentInjector=c}get(a,c,u){u=Xn(u);const f=this.injector.get(a,a3,u);return f!==a3||c===a3?f:this.parentInjector.get(a,c,u)}}class C4 extends jp{get inputs(){return Fm(this.componentDef.inputs)}get outputs(){return Fm(this.componentDef.outputs)}constructor(a,c){super(),this.componentDef=a,this.ngModule=c,this.componentType=a.type,this.selector=function i9(o){return o.map(r9).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!c}create(a,c,u,f){let g=(f=f||this.ngModule)instanceof l1?f:f?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const _=g?new M9(a,g):a,S=_.get(D8,null);if(null===S)throw new _e(407,!1);const T=_.get(Kv,null),k=S.createRenderer(null,this.componentDef),z=this.componentDef.selectors[0][0]||"div",L=u?function C9(o,a,c){return o.selectRootElement(a,c===we.ShadowDom)}(k,u,this.componentDef.encapsulation):qh(k,z,function Nm(o){const a=o.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(z)),W=this.componentDef.onPush?288:272,re=H8(0,null,null,1,0,null,null,null,null,null),Se=d3(null,re,null,W,null,null,S,k,T,_,null);let Ue,Xe;yl(Se);try{const _t=this.componentDef;let Rt,Ne=null;_t.findHostDirectiveDefs?(Rt=[],Ne=new Map,_t.findHostDirectiveDefs(_t,Rt,Ne),Rt.push(_t)):Rt=[_t];const qt=function S4(o,a){const c=o[Qe],u=Tn;return o[u]=a,v4(c,u,2,"#host",null)}(Se,L),Qn=function E3(o,a,c,u,f,g,_,S){const T=f[Qe];!function zd(o,a,c,u){for(const f of o)a.mergedAttrs=Ns(a.mergedAttrs,f.hostAttrs);null!==a.mergedAttrs&&(q8(a,a.mergedAttrs,!0),null!==c&&t1(u,c,a))}(u,o,a,_);const k=g.createRenderer(a,c),z=d3(f,gm(c),null,c.onPush?32:16,f[o.index],o,g,k,S||null,null,null);return T.firstCreatePass&&v3(T,o,u.length-1),w4(f,z),f[o.index]=z}(qt,L,_t,Rt,Se,S,k);Xe=B1(re,Tn),L&&function K8(o,a,c,u){if(u)Da(o,c,["ng-version",Wp.full]);else{const{attrs:f,classes:g}=function o9(o){const a=[],c=[];let u=1,f=2;for(;u<o.length;){let g=o[u];if("string"==typeof g)2===f?""!==g&&a.push(g,o[++u]):8===f&&c.push(g);else{if(!ta(f))break;f=g}u++}return{attrs:a,classes:c}}(a.selectors[0]);f&&Da(o,c,f),g&&g.length>0&&Co(o,c,g.join(" "))}}(k,_t,L,u),void 0!==c&&function I9(o,a,c){const u=o.projection=[];for(let f=0;f<a.length;f++){const g=c[f];u.push(null!=g?Array.from(g):null)}}(Xe,this.ngContentSelectors,c),Ue=function E4(o,a,c,u,f,g){const _=pr(),S=f[Qe],T=Dr(_,f);B8(S,f,_,c,null,u);for(let z=0;z<c.length;z++)oe(Kn(f,S,_.directiveStart+z,_),f);Y8(S,f,_),T&&oe(T,f);const k=Kn(f,S,_.directiveStart+_.componentOffset,_);if(o[jn]=f[jn]=k,null!==g)for(const z of g)z(k,a);return L8(S,_,o),k}(Qn,_t,Rt,Ne,Se,[Z8]),f3(re,Se,null)}finally{_l()}return new x9(this.componentType,Ue,Uc(Xe,Se),Se,Xe)}}class x9 extends $v{constructor(a,c,u,f,g){super(),this.location=u,this._rootLView=f,this._tNode=g,this.instance=c,this.hostView=this.changeDetectorRef=new DE(f),this.componentType=a}setInput(a,c){const u=this._tNode.inputs;let f;if(null!==u&&(f=u[a])){const g=this._rootLView;Rm(g[Qe],g,f,a,c),j8(fr(this._tNode.index,g))}}get injector(){return new $o(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function Z8(){const o=pr();Cl(ve()[Qe],o)}function Od(o){let a=function Vm(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),c=!0;const u=[o];for(;a;){let f;if(Ii(o))f=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new _e(903,!1);f=a.\u0275dir}if(f){if(c){u.push(f);const _=o;_.inputs=D3(o.inputs),_.declaredInputs=D3(o.declaredInputs),_.outputs=D3(o.outputs);const S=f.hostBindings;S&&TE(o,S);const T=f.viewQuery,k=f.contentQueries;if(T&&Bm(o,T),k&&Q8(o,k),be(o.inputs,f.inputs),be(o.declaredInputs,f.declaredInputs),be(o.outputs,f.outputs),Ii(f)&&f.data.animation){const z=o.data;z.animation=(z.animation||[]).concat(f.data.animation)}}const g=f.features;if(g)for(let _=0;_<g.length;_++){const S=g[_];S&&S.ngInherit&&S(o),S===Od&&(c=!1)}}a=Object.getPrototypeOf(a)}!function Hm(o){let a=0,c=null;for(let u=o.length-1;u>=0;u--){const f=o[u];f.hostVars=a+=f.hostVars,f.hostAttrs=Ns(f.hostAttrs,c=Ns(c,f.hostAttrs))}}(u)}function D3(o){return o===ne?{}:o===He?[]:o}function Bm(o,a){const c=o.viewQuery;o.viewQuery=c?(u,f)=>{a(u,f),c(u,f)}:a}function Q8(o,a){const c=o.contentQueries;o.contentQueries=c?(u,f,g)=>{a(u,f,g),c(u,f,g)}:a}function TE(o,a){const c=o.hostBindings;o.hostBindings=c?(u,f)=>{a(u,f),c(u,f)}:a}function Fd(o){return!!X8(o)&&(Array.isArray(o)||!(o instanceof Map)&&Symbol.iterator in o)}function X8(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Li(o,a,c){return!Object.is(o[a],c)&&(o[a]=c,!0)}function Um(o,a,c,u){const f=ve();return Li(f,Ps(),a)&&(Bt(),ws(On(),f,o,a,c,u)),Um}function $m(o,a,c,u,f,g,_,S){const T=ve(),k=Bt(),z=o+Tn,L=k.firstCreatePass?function kE(o,a,c,u,f,g,_,S,T){const k=a.consts,z=v4(a,o,4,_||null,ls(k,S));m3(a,c,z,ls(k,T)),Cl(a,z);const L=z.tView=H8(2,z,u,f,g,a.directiveRegistry,a.pipeRegistry,null,a.schemas,k);return null!==a.queries&&(a.queries.template(a,z),L.queries=a.queries.embeddedTView(z)),z}(z,k,T,a,c,u,f,g,_):k.data[z];ii(L,!1);const W=T[$t].createComment("");Fc(k,T,W,L),oe(W,T),w4(T,T[z]=_3(W,T,W,L)),wu(L)&&p3(k,T,L),null!=_&&V8(T,L,S)}function I3(o,a,c){const u=ve();return Li(u,Ps(),a)&&So(Bt(),On(),u,o,a,u[$t],c,!1),I3}function Yd(o,a,c,u,f){const _=f?"class":"style";Rm(o,c,a.inputs[_],_,u)}function A3(o,a,c,u){const f=ve(),g=Bt(),_=Tn+o,S=f[$t],T=g.firstCreatePass?function F9(o,a,c,u,f,g){const _=a.consts,T=v4(a,o,2,u,ls(_,f));return m3(a,c,T,ls(_,g)),null!==T.attrs&&q8(T,T.attrs,!1),null!==T.mergedAttrs&&q8(T,T.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,T),T}(_,g,f,a,c,u):g.data[_],k=f[_]=qh(S,a,function Z1(){return Lt.lFrame.currentNamespace}()),z=wu(T);return ii(T,!0),t1(S,k,T),32!=(32&T.flags)&&Fc(g,f,k,T),0===function U1(){return Lt.lFrame.elementDepthCount}()&&oe(k,f),function dl(){Lt.lFrame.elementDepthCount++}(),z&&(p3(g,f,T),L8(g,T,f)),null!==u&&V8(f,T),A3}function k4(){let o=pr();G1()?pl():(o=o.parent,ii(o,!1));const a=o;!function j1(){Lt.lFrame.elementDepthCount--}();const c=Bt();return c.firstCreatePass&&(Cl(c,o),cc(o)&&c.queries.elementEnd(o)),null!=a.classesWithoutHost&&function wc(o){return 0!=(8&o.flags)}(a)&&Yd(c,a,ve(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function Os(o){return 0!=(16&o.flags)}(a)&&Yd(c,a,ve(),a.stylesWithoutHost,!1),k4}function i6(o,a,c,u){return A3(o,a,c,u),k4(),i6}function P4(o,a,c){const u=ve(),f=Bt(),g=o+Tn,_=f.firstCreatePass?function PE(o,a,c,u,f){const g=a.consts,_=ls(g,u),S=v4(a,o,8,"ng-container",_);return null!==_&&q8(S,_,!0),m3(a,c,S,ls(g,f)),null!==a.queries&&a.queries.elementStart(a,S),S}(g,f,u,a,c):f.data[g];ii(_,!0);const S=u[g]=u[$t].createComment("");return Fc(f,u,S,_),oe(S,u),wu(_)&&(p3(f,u,_),L8(f,_,u)),null!=c&&V8(u,_),P4}function k3(){let o=pr();const a=Bt();return G1()?pl():(o=o.parent,ii(o,!1)),a.firstCreatePass&&(Cl(a,o),cc(o)&&a.queries.elementEnd(o)),k3}function qm(){return ve()}function P3(o){return!!o&&"function"==typeof o.then}function s6(o){return!!o&&"function"==typeof o.subscribe}const Wm=s6;function z3(o,a,c,u){const f=ve(),g=Bt(),_=pr();return Km(g,f,f[$t],_,o,a,u),z3}function a6(o,a){const c=pr(),u=ve(),f=Bt();return Km(f,u,C3(Ca(f.data),c,u),c,o,a),a6}function Km(o,a,c,u,f,g,_){const S=wu(u),k=o.firstCreatePass&&zm(o),z=a[jn],L=b4(a);let W=!0;if(3&u.type||_){const Ue=Dr(u,a),Xe=_?_(Ue):Ue,_t=L.length,Rt=_?qt=>_(Er(qt[u.index])):u.index;let Ne=null;if(!_&&S&&(Ne=function c6(o,a,c,u){const f=o.cleanup;if(null!=f)for(let g=0;g<f.length-1;g+=2){const _=f[g];if(_===c&&f[g+1]===u){const S=a[pa],T=f[g+2];return S.length>T?S[T]:null}"string"==typeof _&&(g+=2)}return null}(o,a,f,u.index)),null!==Ne)(Ne.__ngLastListenerFn__||Ne).__ngNextListenerFn__=g,Ne.__ngLastListenerFn__=g,W=!1;else{g=Zm(u,a,z,g,!1);const qt=c.listen(Xe,f,g);L.push(g,qt),k&&k.push(f,Rt,_t,_t+1)}}else g=Zm(u,a,z,g,!1);const re=u.outputs;let Se;if(W&&null!==re&&(Se=re[f])){const Ue=Se.length;if(Ue)for(let Xe=0;Xe<Ue;Xe+=2){const Qn=a[Se[Xe]][Se[Xe+1]].subscribe(g),Vr=L.length;L.push(g,Qn),k&&k.push(f,u.index,Vr,-(Vr+1))}}}function O3(o,a,c,u){try{return ri(6,a,c),!1!==c(u)}catch(f){return Om(o,f),!1}finally{ri(7,a,c)}}function Zm(o,a,c,u,f){return function g(_){if(_===Function)return u;j8(o.componentOffset>-1?fr(o.index,a):a);let T=O3(a,c,u,_),k=g.__ngNextListenerFn__;for(;k;)T=O3(a,c,k,_)&&T,k=k.__ngNextListenerFn__;return f&&!1===T&&(_.preventDefault(),_.returnValue=!1),T}}function R3(o=1){return function Ah(o){return(Lt.lFrame.contextLView=function wl(o,a){for(;o>0;)a=a[xs],o--;return a}(o,Lt.lFrame.contextLView))[jn]}(o)}function Qm(o,a){let c=null;const u=function c3(o){const a=o.attrs;if(null!=a){const c=a.indexOf(5);if(!(1&c))return a[c+1]}return null}(o);for(let f=0;f<a.length;f++){const g=a[f];if("*"!==g){if(null===u?f4(o,g,!0):n9(u,g))return f}else c=f}return c}function Jm(o){const a=ve()[Wn][tr];if(!a.projection){const u=a.projection=zl(o?o.length:1,null),f=u.slice();let g=a.child;for(;null!==g;){const _=o?Qm(g,o):0;null!==_&&(f[_]?f[_].projectionNext=g:u[_]=g,f[_]=g),g=g.next}}}function l6(o,a=0,c){const u=ve(),f=Bt(),g=v4(f,Tn+o,16,null,c||null);null===g.projection&&(g.projection=a),pl(),32!=(32&g.flags)&&function Zh(o,a,c){Qh(a[$t],0,a,c,Gl(o,c,a),fd(c.parent||a[tr],c,a))}(f,u,g)}function V3(o,a){return o<<17|a<<2}function qc(o){return o>>17&32767}function d6(o){return 2|o}function nu(o){return(131068&o)>>2}function h6(o,a){return-131069&o|a<<2}function f6(o){return 1|o}function p6(o,a,c,u,f){const g=o[c+1],_=null===a;let S=u?qc(g):nu(g),T=!1;for(;0!==S&&(!1===T||_);){const z=o[S+1];V9(o[S],a)&&(T=!0,o[S+1]=u?f6(z):d6(z)),S=u?qc(z):nu(z)}T&&(o[c+1]=u?d6(g):f6(g))}function V9(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&yi(o,a)>=0}function ug(o,a,c){return ra(o,a,c,!1),ug}function dg(o,a){return ra(o,a,null,!0),dg}function ra(o,a,c,u){const f=ve(),g=Bt(),_=function ki(o){const a=Lt.lFrame,c=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,c}(2);g.firstUpdatePass&&function hg(o,a,c,u){const f=o.data;if(null===f[c+1]){const g=f[Rr()],_=function Mn(o,a){return a>=o.expandoStartIndex}(o,c);(function H3(o,a){return 0!=(o.flags&(a?8:16))})(g,u)&&null===a&&!_&&(a=!1),a=function g6(o,a,c,u){const f=Ca(o);let g=u?a.residualClasses:a.residualStyles;if(null===f)0===(u?a.classBindings:a.styleBindings)&&(c=jd(c=ru(null,o,a,c,u),a.attrs,u),g=null);else{const _=a.directiveStylingLast;if(-1===_||o[_]!==f)if(c=ru(f,o,a,c,u),null===g){let T=function v6(o,a,c){const u=c?a.classBindings:a.styleBindings;if(0!==nu(u))return o[qc(u)]}(o,a,u);void 0!==T&&Array.isArray(T)&&(T=ru(null,o,a,T[1],u),T=jd(T,a.attrs,u),function Ya(o,a,c,u){o[qc(c?a.classBindings:a.styleBindings)]=u}(o,a,u,T))}else g=function z4(o,a,c){let u;const f=a.directiveEnd;for(let g=1+a.directiveStylingLast;g<f;g++)u=jd(u,o[g].hostAttrs,c);return jd(u,a.attrs,c)}(o,a,u)}return void 0!==g&&(u?a.residualClasses=g:a.residualStyles=g),c}(f,g,a,u),function ag(o,a,c,u,f,g){let _=g?a.classBindings:a.styleBindings,S=qc(_),T=nu(_);o[u]=c;let z,k=!1;if(Array.isArray(c)?(z=c[1],(null===z||yi(c,z)>0)&&(k=!0)):z=c,f)if(0!==T){const W=qc(o[S+1]);o[u+1]=V3(W,S),0!==W&&(o[W+1]=h6(o[W+1],u)),o[S+1]=function h1(o,a){return 131071&o|a<<17}(o[S+1],u)}else o[u+1]=V3(S,0),0!==S&&(o[S+1]=h6(o[S+1],u)),S=u;else o[u+1]=V3(T,0),0===S?S=u:o[T+1]=h6(o[T+1],u),T=u;k&&(o[u+1]=d6(o[u+1])),p6(o,z,u,!0),p6(o,z,u,!1),function L9(o,a,c,u,f){const g=f?o.residualClasses:o.residualStyles;null!=g&&"string"==typeof a&&yi(g,a)>=0&&(c[u+1]=f6(c[u+1]))}(a,z,o,u,g),_=V3(S,T),g?a.classBindings=_:a.styleBindings=_}(f,g,a,c,_,u)}}(g,o,_,u),a!==Yt&&Li(f,_,a)&&function R4(o,a,c,u,f,g,_,S){if(!(3&a.type))return;const T=o.data,k=T[S+1],z=function og(o){return 1==(1&o)}(k)?iu(T,a,c,f,nu(k),_):void 0;F4(z)||(F4(g)||function ig(o){return 2==(2&o)}(k)&&(g=iu(T,null,c,f,S,_)),function vs(o,a,c,u,f){if(a)f?o.addClass(c,u):o.removeClass(c,u);else{let g=-1===u.indexOf("-")?void 0:Mt.DashCase;null==f?o.removeStyle(c,u,g):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),g|=Mt.Important),o.setStyle(c,u,f,g))}}(u,_,function Vo(o,a){return Er(a[o])}(Rr(),c),f,g))}(g,g.data[Rr()],f,f[$t],o,f[_+1]=function N4(o,a){return null==o||""===o||("string"==typeof a?o+=a:"object"==typeof o&&(o=Ee(Fr(o)))),o}(a,c),u,_)}function ru(o,a,c,u,f){let g=null;const _=c.directiveEnd;let S=c.directiveStylingLast;for(-1===S?S=c.directiveStart:S++;S<_&&(g=a[S],u=jd(u,g.hostAttrs,f),g!==o);)S++;return null!==o&&(c.directiveStylingLast=S),u}function jd(o,a,c){const u=c?1:2;let f=-1;if(null!==a)for(let g=0;g<a.length;g++){const _=a[g];"number"==typeof _?f=_:f===u&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),oi(o,_,!!c||a[++g]))}return void 0===o?null:o}function iu(o,a,c,u,f,g){const _=null===a;let S;for(;f>0;){const T=o[f],k=Array.isArray(T),z=k?T[1]:T,L=null===z;let W=c[f+1];W===Yt&&(W=L?He:void 0);let re=L?dn(W,u):z===u?W:void 0;if(k&&!F4(re)&&(re=dn(T,u)),F4(re)&&(S=re,_))return S;const Se=o[f+1];f=_?qc(Se):nu(Se)}if(null!==a){let T=g?a.residualClasses:a.residualStyles;null!=T&&(S=dn(T,u))}return S}function F4(o){return void 0!==o}function fg(o,a=""){const c=ve(),u=Bt(),f=o+Tn,g=u.firstCreatePass?v4(u,f,1,a,null):u.data[f],_=c[f]=function $l(o,a){return o.createText(a)}(c[$t],a);Fc(u,c,_,g),ii(g,!1)}function T6(o,a,c){const u=ve();if(Li(u,Ps(),a)){const g=Bt(),_=On();So(g,_,u,o,a,C3(Ca(g.data),_,u),c,!0)}return T6}const m1=void 0;var bg=["en",[["a","p"],["AM","PM"],m1],[["AM","PM"],m1,m1],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],m1,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],m1,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",m1,"{1} 'at' {0}",m1],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ty(o){const c=Math.floor(Math.abs(o)),u=o.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===u?1:5}];let g1={};function ny(o,a,c){"string"!=typeof a&&(c=a,a=o[mt.LocaleId]),a=a.toLowerCase().replace(/_/g,"-"),g1[a]=o,c&&(g1[a][mt.ExtraData]=c)}function U3(o){const a=function x6(o){return o.toLowerCase().replace(/_/g,"-")}(o);let c=j3(a);if(c)return c;const u=a.split("-")[0];if(c=j3(u),c)return c;if("en"===u)return bg;throw new _e(701,!1)}function M6(o){return U3(o)[mt.PluralCase]}function j3(o){return o in g1||(g1[o]=an.ng&&an.ng.common&&an.ng.common.locales&&an.ng.common.locales[o]),g1[o]}var mt=(()=>((mt=mt||{})[mt.LocaleId=0]="LocaleId",mt[mt.DayPeriodsFormat=1]="DayPeriodsFormat",mt[mt.DayPeriodsStandalone=2]="DayPeriodsStandalone",mt[mt.DaysFormat=3]="DaysFormat",mt[mt.DaysStandalone=4]="DaysStandalone",mt[mt.MonthsFormat=5]="MonthsFormat",mt[mt.MonthsStandalone=6]="MonthsStandalone",mt[mt.Eras=7]="Eras",mt[mt.FirstDayOfWeek=8]="FirstDayOfWeek",mt[mt.WeekendRange=9]="WeekendRange",mt[mt.DateFormat=10]="DateFormat",mt[mt.TimeFormat=11]="TimeFormat",mt[mt.DateTimeFormat=12]="DateTimeFormat",mt[mt.NumberSymbols=13]="NumberSymbols",mt[mt.NumberFormats=14]="NumberFormats",mt[mt.CurrencyCode=15]="CurrencyCode",mt[mt.CurrencySymbol=16]="CurrencySymbol",mt[mt.CurrencyName=17]="CurrencyName",mt[mt.Currencies=18]="Currencies",mt[mt.Directionality=19]="Directionality",mt[mt.PluralCase=20]="PluralCase",mt[mt.ExtraData=21]="ExtraData",mt))();const B4="en-US";let iy=B4;function J3(o,a,c,u,f){if(o=K(o),Array.isArray(o))for(let g=0;g<o.length;g++)J3(o[g],a,c,u,f);else{const g=Bt(),_=ve();let S=Yc(o)?o:K(o.provide),T=b8(o);const k=pr(),z=1048575&k.providerIndexes,L=k.directiveStart,W=k.providerIndexes>>20;if(Yc(o)||!o.multi){const re=new Uo(T,f,Pd),Se=N6(S,a,f?z:z+W,L);-1===Se?(Cn(ku(k,_),g,S),F6(g,o,a.length),a.push(S),k.directiveStart++,k.directiveEnd++,f&&(k.providerIndexes+=1048576),c.push(re),_.push(re)):(c[Se]=re,_[Se]=re)}else{const re=N6(S,a,z+W,L),Se=N6(S,a,z,z+W),Xe=Se>=0&&c[Se];if(f&&!Xe||!f&&!(re>=0&&c[re])){Cn(ku(k,_),g,S);const _t=function Ng(o,a,c,u,f){const g=new Uo(o,c,Pd);return g.multi=[],g.index=a,g.componentProviders=0,Fg(g,f,u&&!c),g}(f?Iy:X3,c.length,f,u,T);!f&&Xe&&(c[Se].providerFactory=_t),F6(g,o,a.length,0),a.push(S),k.directiveStart++,k.directiveEnd++,f&&(k.providerIndexes+=1048576),c.push(_t),_.push(_t)}else F6(g,o,re>-1?re:Se,Fg(c[f?Se:re],T,!f&&u));!f&&u&&Xe&&c[Se].componentProviders++}}}function F6(o,a,c,u){const f=Yc(a),g=function n3(o){return!!o.useClass}(a);if(f||g){const T=(g?K(a.useClass):a).prototype.ngOnDestroy;if(T){const k=o.destroyHooks||(o.destroyHooks=[]);if(!f&&a.multi){const z=k.indexOf(c);-1===z?k.push(c,[u,T]):k[z+1].push(u,T)}else k.push(c,T)}}}function Fg(o,a,c){return c&&o.componentProviders++,o.multi.push(a)-1}function N6(o,a,c,u){for(let f=c;f<u;f++)if(a[f]===o)return f;return-1}function X3(o,a,c,u){return L6(this.multi,[])}function Iy(o,a,c,u){const f=this.multi;let g;if(this.providerFactory){const _=this.providerFactory.componentProviders,S=Kn(c,c[Qe],this.providerFactory.index,u);g=S.slice(0,_),L6(f,g);for(let T=_;T<S.length;T++)g.push(S[T])}else g=[],L6(f,g);return g}function L6(o,a){for(let c=0;c<o.length;c++)a.push((0,o[c])());return a}function Lg(o,a=[]){return c=>{c.providersResolver=(u,f)=>function xy(o,a,c){const u=Bt();if(u.firstCreatePass){const f=Ii(o);J3(c,u.data,u.blueprint,f,!0),J3(a,u.data,u.blueprint,f,!1)}}(u,f?f(o):o,a)}}class Jd{}class Vg{}function Ay(o,a){return new Hg(o,a??null)}class Hg extends Jd{constructor(a,c){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new T9(this);const u=er(a);this._bootstrapComponents=Na(u.bootstrap),this._r3Injector=z8(a,c,[{provide:Jd,useValue:this},{provide:Td,useValue:this.componentFactoryResolver}],Ee(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class e0 extends Vg{constructor(a){super(),this.moduleType=a}create(a){return new Hg(this.moduleType,a)}}class ky extends Jd{constructor(a,c,u){super(),this.componentFactoryResolver=new T9(this),this.instance=null;const f=new Yp([...a,{provide:Jd,useValue:this},{provide:Td,useValue:this.componentFactoryResolver}],c||o3(),u,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function V6(o,a,c=null){return new ky(o,a,c).injector}let cD=(()=>{class o{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c.id)){const u=Sd(0,c.type),f=u.length>0?V6([u],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c.id,f)}return this.cachedInjectors.get(c.id)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return o.\u0275prov=yt({token:o,providedIn:"environment",factory:()=>new o(un(l1))}),o})();function Py(o){o.getStandaloneInjector=a=>a.get(cD).getOrCreateStandaloneInjector(o)}function Ug(o){return a=>{setTimeout(o,void 0,a)}}const oa=class ED extends d.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,c,u){let f=a,g=c||(()=>null),_=u;if(a&&"object"==typeof a){const T=a;f=T.next?.bind(T),g=T.error?.bind(T),_=T.complete?.bind(T)}this.__isAsync&&(g=Ug(g),f&&(f=Ug(f)),_&&(_=Ug(_)));const S=super.subscribe({next:f,error:g,complete:_});return a instanceof te.w0&&a.add(S),S}};function jg(){return this._results[Symbol.iterator]()}class s0{get changes(){return this._changes||(this._changes=new oa)}constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=s0.prototype;c[Symbol.iterator]||(c[Symbol.iterator]=jg)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,c){return this._results.reduce(a,c)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,c){const u=this;u.dirty=!1;const f=function Ki(o){return o.flat(Number.POSITIVE_INFINITY)}(a);(this._changesDetected=!function Nu(o,a,c){if(o.length!==a.length)return!1;for(let u=0;u<o.length;u++){let f=o[u],g=a[u];if(c&&(f=c(f),g=c(g)),g!==f)return!1}return!0}(u._results,f,c))&&(u._results=f,u.length=f.length,u.last=f[this.length-1],u.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let a0=(()=>{class o{}return o.__NG_ELEMENT_ID__=jy,o})();const Uy=a0,$g=class extends Uy{constructor(a,c,u){super(),this._declarationLView=a,this._declarationTContainer=c,this.elementRef=u}createEmbeddedView(a,c){const u=this._declarationTContainer.tView,f=d3(this._declarationLView,u,a,16,null,u.declTNode,null,null,null,null,c||null);f[ma]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[vo];return null!==_&&(f[vo]=_.createEmbeddedView(u)),f3(u,f,a),new S3(f)}};function jy(){return _1(pr(),ve())}function _1(o,a){return 4&o.type?new $g(a,o,Uc(o,a)):null}let j6=(()=>{class o{}return o.__NG_ELEMENT_ID__=$y,o})();function $y(){return qg(pr(),ve())}const DD=j6,Gy=class extends DD{constructor(a,c,u){super(),this._lContainer=a,this._hostTNode=c,this._hostLView=u}get element(){return Uc(this._hostTNode,this._hostLView)}get injector(){return new $o(this._hostTNode,this._hostLView)}get parentInjector(){const a=ed(this._hostTNode,this._hostLView);if(Ls(a)){const c=Vs(a,this._hostLView),u=us(a);return new $o(c[Qe].data[u+8],c)}return new $o(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const c=Gg(this._lContainer);return null!==c&&c[a]||null}get length(){return this._lContainer.length-Sr}createEmbeddedView(a,c,u){let f,g;"number"==typeof u?f=u:null!=u&&(f=u.index,g=u.injector);const _=a.createEmbeddedView(c||{},g);return this.insert(_,f),_}createComponent(a,c,u,f,g){const _=a&&!function Pl(o){return"function"==typeof o}(a);let S;if(_)S=c;else{const L=c||{};S=L.index,u=L.injector,f=L.projectableNodes,g=L.environmentInjector||L.ngModuleRef}const T=_?a:new C4(Et(a)),k=u||this.parentInjector;if(!g&&null==T.ngModule){const W=(_?k:this.parentInjector).get(l1,null);W&&(g=W)}const z=T.create(k,f,void 0,g);return this.insert(z.hostView,S),z}insert(a,c){const u=a._lView,f=u[Qe];if(function Eu(o){return vi(o[kn])}(u)){const z=this.indexOf(a);if(-1!==z)this.detach(z);else{const L=u[kn],W=new Gy(L,L[tr],L[kn]);W.detach(W.indexOf(a))}}const g=this._adjustIndex(c),_=this._lContainer;!function zc(o,a,c,u){const f=Sr+u,g=c.length;u>0&&(c[f-1][xi]=a),u<g-Sr?(a[xi]=c[f],Hh(c,Sr+u,a)):(c.push(a),a[xi]=null),a[kn]=c;const _=a[ma];null!==_&&c!==_&&function i8(o,a){const c=o[Is];a[Wn]!==a[kn][kn][Wn]&&(o[_u]=!0),null===c?o[Is]=[a]:c.push(a)}(_,a);const S=a[vo];null!==S&&S.insertView(o),a[Ht]|=64}(f,u,_,g);const S=Ko(g,_),T=u[$t],k=ea(T,_[va]);return null!==k&&function Y2(o,a,c,u,f,g){u[Mi]=f,u[tr]=a,Xu(o,u,c,1,f,g)}(f,_[tr],T,u,k,S),a.attachToViewContainerRef(),Hh(q4(_),g,a),a}move(a,c){return this.insert(a,c)}indexOf(a){const c=Gg(this._lContainer);return null!==c?c.indexOf(a):-1}remove(a){const c=this._adjustIndex(a,-1),u=Wu(this._lContainer,c);u&&(qs(q4(this._lContainer),c),dd(u[Qe],u))}detach(a){const c=this._adjustIndex(a,-1),u=Wu(this._lContainer,c);return u&&null!=qs(q4(this._lContainer),c)?new S3(u):null}_adjustIndex(a,c=0){return a??this.length+c}};function Gg(o){return o[ss]}function q4(o){return o[ss]||(o[ss]=[])}function qg(o,a){let c;const u=a[o.index];if(vi(u))c=u;else{let f;if(8&o.type)f=Er(u);else{const g=a[$t];f=g.createComment("");const _=Dr(o,a);Ra(g,ea(g,_),f,function $2(o,a){return o.nextSibling(a)}(g,_),!1)}a[o.index]=c=_3(u,a,f,o),w4(a,c)}return new Gy(c,o,a)}class En{constructor(a){this.queryList=a,this.matches=null}clone(){return new En(this.queryList)}setDirty(){this.queryList.setDirty()}}class W4{constructor(a=[]){this.queries=a}createEmbeddedView(a){const c=a.queries;if(null!==c){const u=null!==a.contentQueries?a.contentQueries[0]:c.length,f=[];for(let g=0;g<u;g++){const _=c.getByIndex(g);f.push(this.queries[_.indexInDeclarationView].clone())}return new W4(f)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let c=0;c<this.queries.length;c++)null!==J6(a,c).matches&&this.queries[c].setDirty()}}class c0{constructor(a,c,u=null){this.predicate=a,this.flags=c,this.read=u}}class $6{constructor(a=[]){this.queries=a}elementStart(a,c){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(a,c)}elementEnd(a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(a)}embeddedTView(a){let c=null;for(let u=0;u<this.length;u++){const f=null!==c?c.length:0,g=this.getByIndex(u).embeddedTView(a,f);g&&(g.indexInDeclarationView=u,null!==c?c.push(g):c=[g])}return null!==c?new $6(c):null}template(a,c){for(let u=0;u<this.queries.length;u++)this.queries[u].template(a,c)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class G6{constructor(a,c=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(a,c){this.isApplyingToNode(c)&&this.matchTNode(a,c)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,c){this.elementStart(a,c)}embeddedTView(a,c){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,c),new G6(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let u=a.parent;for(;null!==u&&8&u.type&&u.index!==c;)u=u.parent;return c===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(a,c){const u=this.metadata.predicate;if(Array.isArray(u))for(let f=0;f<u.length;f++){const g=u[f];this.matchTNodeWithReadOption(a,c,TD(c,g)),this.matchTNodeWithReadOption(a,c,Bs(c,a,g,!1,!1))}else u===a0?4&c.type&&this.matchTNodeWithReadOption(a,c,-1):this.matchTNodeWithReadOption(a,c,Bs(c,a,u,!1,!1))}matchTNodeWithReadOption(a,c,u){if(null!==u){const f=this.metadata.read;if(null!==f)if(f===Md||f===j6||f===a0&&4&c.type)this.addMatch(c.index,-2);else{const g=Bs(c,a,f,!1,!1);null!==g&&this.addMatch(c.index,g)}else this.addMatch(c.index,u)}}addMatch(a,c){null===this.matches?this.matches=[a,c]:this.matches.push(a,c)}}function TD(o,a){const c=o.localNames;if(null!==c)for(let u=0;u<c.length;u+=2)if(c[u]===a)return c[u+1];return null}function W6(o,a,c,u){return-1===c?function q6(o,a){return 11&o.type?Uc(o,a):4&o.type?_1(o,a):null}(a,o):-2===c?function Wg(o,a,c){return c===Md?Uc(a,o):c===a0?_1(a,o):c===j6?qg(a,o):void 0}(o,a,u):Kn(o,o[Qe],c,a)}function qy(o,a,c,u){const f=a[vo].queries[u];if(null===f.matches){const g=o.data,_=c.matches,S=[];for(let T=0;T<_.length;T+=2){const k=_[T];S.push(k<0?null:W6(a,g[k],_[T+1],c.metadata.read))}f.matches=S}return f.matches}function Kg(o,a,c,u){const f=o.queries.getByIndex(c),g=f.matches;if(null!==g){const _=qy(o,a,f,c);for(let S=0;S<g.length;S+=2){const T=g[S];if(T>0)u.push(_[S/2]);else{const k=g[S+1],z=a[-T];for(let L=Sr;L<z.length;L++){const W=z[L];W[ma]===W[kn]&&Kg(W[Qe],W,k,u)}if(null!==z[Is]){const L=z[Is];for(let W=0;W<L.length;W++){const re=L[W];Kg(re[Qe],re,k,u)}}}}}return u}function Wy(o){const a=ve(),c=Bt(),u=Du();gl(u+1);const f=J6(c,u);if(o.dirty&&function ul(o){return 4==(4&o[Ht])}(a)===(2==(2&f.metadata.flags))){if(null===f.matches)o.reset([]);else{const g=f.crossesNgTemplate?Kg(c,a,u,[]):qy(c,a,f,u);o.reset(g,u4),o.notifyOnChanges()}return!0}return!1}function Ky(o,a,c){const u=Bt();u.firstCreatePass&&(Z6(u,new c0(o,a,c),-1),2==(2&a)&&(u.staticViewQueries=!0)),l0(u,ve(),a)}function K6(o,a,c,u){const f=Bt();if(f.firstCreatePass){const g=pr();Z6(f,new c0(a,c,u),g.index),function Q6(o,a){const c=o.contentQueries||(o.contentQueries=[]);a!==(c.length?c[c.length-1]:-1)&&c.push(o.queries.length-1,a)}(f,o),2==(2&c)&&(f.staticContentQueries=!0)}l0(f,ve(),c)}function Zg(){return function Qg(o,a){return o[vo].queries[a].queryList}(ve(),Du())}function l0(o,a,c){const u=new s0(4==(4&c));jc(o,a,u,u.destroy),null===a[vo]&&(a[vo]=new W4),a[vo].queries.push(new En(u))}function Z6(o,a,c){null===o.queries&&(o.queries=new $6),o.queries.track(new G6(a,c))}function J6(o,a){return o.queries.getByIndex(a)}function Jg(o){return!!er(o)}function ef(...o){}const h_=new nn("Application Initializer");let tf=(()=>{class o{constructor(c){this.appInits=c,this.resolve=ef,this.reject=ef,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,f)=>{this.resolve=u,this.reject=f})}runInitializers(){if(this.initialized)return;const c=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const g=this.appInits[f]();if(P3(g))c.push(g);else if(Wm(g)){const _=new Promise((S,T)=>{g.subscribe({complete:S,error:T})});c.push(_)}}Promise.all(c).then(()=>{u()}).catch(f=>{this.reject(f)}),0===c.length&&u(),this.initialized=!0}}return o.\u0275fac=function(c){return new(c||o)(un(h_,8))},o.\u0275prov=yt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const f_=new nn("AppId",{providedIn:"root",factory:function p_(){return`${o5()}${o5()}${o5()}`}});function o5(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const m_=new nn("Platform Initializer"),qD=new nn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),WD=new nn("AnimationModuleType");let KD=(()=>{class o{log(c){console.log(c)}warn(c){console.warn(c)}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=yt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const nf=new nn("LocaleId",{providedIn:"root",factory:()=>Un(nf,St.Optional|St.SkipSelf)||function ZD(){return typeof $localize<"u"&&$localize.locale||B4}()}),QD=new nn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class JD{constructor(a,c){this.ngModuleFactory=a,this.componentFactories=c}}let XD=(()=>{class o{compileModuleSync(c){return new e0(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const u=this.compileModuleSync(c),g=Na(er(c).declarations).reduce((_,S)=>{const T=Et(S);return T&&_.push(new C4(T)),_},[]);return new JD(u,g)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=yt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const rT=(()=>Promise.resolve(0))();function s5(o){typeof Zone>"u"?rT.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class sa{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new oa(!1),this.onMicrotaskEmpty=new oa(!1),this.onStable=new oa(!1),this.onError=new oa(!1),typeof Zone>"u")throw new _e(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!u&&c,f.shouldCoalesceRunChangeDetection=u,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function iT(){let o=an.requestAnimationFrame,a=an.cancelAnimationFrame;if(typeof Zone<"u"&&o&&a){const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c);const u=a[Zone.__symbol__("OriginalDelegate")];u&&(a=u)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function __(o){const a=()=>{!function y_(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(an,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,c5(o),o.isCheckStableRunning=!0,a5(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),c5(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,u,f,g,_,S)=>{try{return w_(o),c.invokeTask(f,g,_,S)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||o.shouldCoalesceRunChangeDetection)&&a(),l5(o)}},onInvoke:(c,u,f,g,_,S,T)=>{try{return w_(o),c.invoke(f,g,_,S,T)}finally{o.shouldCoalesceRunChangeDetection&&a(),l5(o)}},onHasTask:(c,u,f,g)=>{c.hasTask(f,g),u===f&&("microTask"==g.change?(o._hasPendingMicrotasks=g.microTask,c5(o),a5(o)):"macroTask"==g.change&&(o.hasPendingMacrotasks=g.macroTask))},onHandleError:(c,u,f,g)=>(c.handleError(f,g),o.runOutsideAngular(()=>o.onError.emit(g)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!sa.isInAngularZone())throw new _e(909,!1)}static assertNotInAngularZone(){if(sa.isInAngularZone())throw new _e(909,!1)}run(a,c,u){return this._inner.run(a,c,u)}runTask(a,c,u,f){const g=this._inner,_=g.scheduleEventTask("NgZoneEvent: "+f,a,oT,ef,ef);try{return g.runTask(_,c,u)}finally{g.cancelTask(_)}}runGuarded(a,c,u){return this._inner.runGuarded(a,c,u)}runOutsideAngular(a){return this._outer.run(a)}}const oT={};function a5(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function c5(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function w_(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function l5(o){o._nesting--,a5(o)}class sT{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new oa,this.onMicrotaskEmpty=new oa,this.onStable=new oa,this.onError=new oa}run(a,c,u){return a.apply(c,u)}runGuarded(a,c,u){return a.apply(c,u)}runOutsideAngular(a){return a()}runTask(a,c,u,f){return a.apply(c,u)}}const b_=new nn(""),C_=new nn("");let u5,aT=(()=>{class o{constructor(c,u,f){this._ngZone=c,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,u5||(function E_(o){u5=o}(f),f.addToWindow(u)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{sa.assertNotInAngularZone(),s5(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())s5(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(c)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,u,f){let g=-1;u&&u>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==g),c(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:c,timeoutId:g,updateCb:f})}whenStable(c,u,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,u,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,u,f){return[]}}return o.\u0275fac=function(c){return new(c||o)(un(sa),un(S_),un(C_))},o.\u0275prov=yt({token:o,factory:o.\u0275fac}),o})(),S_=(()=>{class o{constructor(){this._applications=new Map}registerApplication(c,u){this._applications.set(c,u)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,u=!0){return u5?.findTestabilityInTree(this,c,u)??null}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=yt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const ou=!1;let su=null;const D_=new nn("AllowMultipleToken"),d5=new nn("PlatformDestroyListeners"),T_=new nn("appBootstrapListener");class dT{constructor(a,c){this.name=a,this.token=c}}function x_(o,a,c=[]){const u=`Platform: ${a}`,f=new nn(u);return(g=[])=>{let _=f5();if(!_||_.injector.get(D_,!1)){const S=[...c,...g,{provide:f,useValue:!0}];o?o(S):function hT(o){if(su&&!su.get(D_,!1))throw new _e(400,!1);su=o;const a=o.get(p5);(function M_(o){const a=o.get(m_,null);a&&a.forEach(c=>c())})(o)}(function h5(o=[],a){return Id.create({name:a,providers:[{provide:Jl,useValue:"platform"},{provide:d5,useValue:new Set([()=>su=null])},...o]})}(S,u))}return function pT(o){const a=f5();if(!a)throw new _e(401,!1);return a}()}}function f5(){return su?.get(p5)??null}let p5=(()=>{class o{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,u){const f=function A_(o,a){let c;return c="noop"===o?new sT:("zone.js"===o?void 0:o)||new sa(a),c}(u?.ngZone,function I_(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!o||!o.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!o||!o.ngZoneRunCoalescing)||!1}}(u)),g=[{provide:sa,useValue:f}];return f.run(()=>{const _=Id.create({providers:g,parent:this.injector,name:c.moduleType.name}),S=c.create(_),T=S.injector.get(d4,null);if(!T)throw new _e(402,!1);return f.runOutsideAngular(()=>{const k=f.onError.subscribe({next:z=>{T.handleError(z)}});S.onDestroy(()=>{sf(this._modules,S),k.unsubscribe()})}),function k_(o,a,c){try{const u=c();return P3(u)?u.catch(f=>{throw a.runOutsideAngular(()=>o.handleError(f)),f}):u}catch(u){throw a.runOutsideAngular(()=>o.handleError(u)),u}}(T,f,()=>{const k=S.injector.get(tf);return k.runInitializers(),k.donePromise.then(()=>(function oy(o){ge(o,"Expected localeId to be defined"),"string"==typeof o&&(iy=o.toLowerCase().replace(/_/g,"-"))}(S.injector.get(nf,B4)||B4),this._moduleDoBootstrap(S),S))})})}bootstrapModule(c,u=[]){const f=P_({},u);return function cT(o,a,c){const u=new e0(c);return Promise.resolve(u)}(0,0,c).then(g=>this.bootstrapModuleFactory(g,f))}_moduleDoBootstrap(c){const u=c.injector.get(rf);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(f=>u.bootstrap(f));else{if(!c.instance.ngDoBootstrap)throw new _e(-403,!1);c.instance.ngDoBootstrap(u)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new _e(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const c=this._injector.get(d5,null);c&&(c.forEach(u=>u()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(c){return new(c||o)(un(Id))},o.\u0275prov=yt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function P_(o,a){return Array.isArray(a)?a.reduce(P_,o):{...o,...a}}let rf=(()=>{class o{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(c,u,f){this._zone=c,this._injector=u,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new R.y(S=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{S.next(this._stable),S.complete()})}),_=new R.y(S=>{let T;this._zone.runOutsideAngular(()=>{T=this._zone.onStable.subscribe(()=>{sa.assertNotInAngularZone(),s5(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,S.next(!0))})})});const k=this._zone.onUnstable.subscribe(()=>{sa.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{S.next(!1)}))});return()=>{T.unsubscribe(),k.unsubscribe()}});this.isStable=(0,ce.T)(g,_.pipe((0,le.B)()))}bootstrap(c,u){const f=c instanceof jp;if(!this._injector.get(tf).done){!f&&Cr(c);throw new _e(405,ou)}let _;_=f?c:this._injector.get(Td).resolveComponentFactory(c),this.componentTypes.push(_.componentType);const S=function uT(o){return o.isBoundToModule}(_)?void 0:this._injector.get(Jd),k=_.create(Id.NULL,[],u||_.selector,S),z=k.location.nativeElement,L=k.injector.get(b_,null);return L?.registerApplication(z),k.onDestroy(()=>{this.detachView(k.hostView),sf(this.components,k),L?.unregisterApplication(z)}),this._loadComponent(k),k}tick(){if(this._runningTick)throw new _e(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const u=c;this._views.push(u),u.attachToAppRef(this)}detachView(c){const u=c;sf(this._views,u),u.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c);const u=this._injector.get(T_,[]);u.push(...this._bootstrapListeners),u.forEach(f=>f(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>sf(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new _e(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(c){return new(c||o)(un(sa),un(l1),un(d4))},o.\u0275prov=yt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function sf(o,a){const c=o.indexOf(a);c>-1&&o.splice(c,1)}function vT(){return!1}let yT=(()=>{class o{}return o.__NG_ELEMENT_ID__=_T,o})();function _T(o){return function wT(o,a,c){if(ya(o)&&!c){const u=fr(o.index,a);return new S3(u,u)}return 47&o.type?new S3(a[Wn],a):null}(pr(),ve(),16==(16&o))}class L_{constructor(){}supports(a){return Fd(a)}create(a){return new TT(a)}}const DT=(o,a)=>a;class TT{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||DT}forEachItem(a){let c;for(c=this._itHead;null!==c;c=c._next)a(c)}forEachOperation(a){let c=this._itHead,u=this._removalsHead,f=0,g=null;for(;c||u;){const _=!u||c&&c.currentIndex<V_(u,f,g)?c:u,S=V_(_,f,g),T=_.currentIndex;if(_===u)f--,u=u._nextRemoved;else if(c=c._next,null==_.previousIndex)f++;else{g||(g=[]);const k=S-f,z=T-f;if(k!=z){for(let W=0;W<k;W++){const re=W<g.length?g[W]:g[W]=0,Se=re+W;z<=Se&&Se<k&&(g[W]=re+1)}g[_.previousIndex]=z-k}}S!==T&&a(_,S,T)}}forEachPreviousItem(a){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachMovedItem(a){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}forEachIdentityChange(a){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)a(c)}diff(a){if(null==a&&(a=[]),!Fd(a))throw new _e(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let f,g,_,c=this._itHead,u=!1;if(Array.isArray(a)){this.length=a.length;for(let S=0;S<this.length;S++)g=a[S],_=this._trackByFn(S,g),null!==c&&Object.is(c.trackById,_)?(u&&(c=this._verifyReinsertion(c,g,_,S)),Object.is(c.item,g)||this._addIdentityChange(c,g)):(c=this._mismatch(c,g,_,S),u=!0),c=c._next}else f=0,function k9(o,a){if(Array.isArray(o))for(let c=0;c<o.length;c++)a(o[c]);else{const c=o[Symbol.iterator]();let u;for(;!(u=c.next()).done;)a(u.value)}}(a,S=>{_=this._trackByFn(f,S),null!==c&&Object.is(c.trackById,_)?(u&&(c=this._verifyReinsertion(c,S,_,f)),Object.is(c.item,S)||this._addIdentityChange(c,S)):(c=this._mismatch(c,S,_,f),u=!0),c=c._next,f++}),this.length=f;return this._truncate(c),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,c,u,f){let g;return null===a?g=this._itTail:(g=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._reinsertAfter(a,g,f)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(u,f))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._moveAfter(a,g,f)):a=this._addAfter(new MT(c,u),g,f),a}_verifyReinsertion(a,c,u,f){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==g?a=this._reinsertAfter(g,a._prev,f):a.currentIndex!=f&&(a.currentIndex=f,this._addToMoves(a,f)),a}_truncate(a){for(;null!==a;){const c=a._next;this._addToRemovals(this._unlink(a)),a=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,c,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const f=a._prevRemoved,g=a._nextRemoved;return null===f?this._removalsHead=g:f._nextRemoved=g,null===g?this._removalsTail=f:g._prevRemoved=f,this._insertAfter(a,c,u),this._addToMoves(a,u),a}_moveAfter(a,c,u){return this._unlink(a),this._insertAfter(a,c,u),this._addToMoves(a,u),a}_addAfter(a,c,u){return this._insertAfter(a,c,u),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,c,u){const f=null===c?this._itHead:c._next;return a._next=f,a._prev=c,null===f?this._itTail=a:f._prev=a,null===c?this._itHead=a:c._next=a,null===this._linkedRecords&&(this._linkedRecords=new _5),this._linkedRecords.put(a),a.currentIndex=u,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const c=a._prev,u=a._next;return null===c?this._itHead=u:c._next=u,null===u?this._itTail=c:u._prev=c,a}_addToMoves(a,c){return a.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _5),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,c){return a.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class MT{constructor(a,c){this.item=a,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class xT{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,c){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===c||c<=u.currentIndex)&&Object.is(u.trackById,a))return u;return null}remove(a){const c=a._prevDup,u=a._nextDup;return null===c?this._head=u:c._nextDup=u,null===u?this._tail=c:u._prevDup=c,null===this._head}}class _5{constructor(){this.map=new Map}put(a){const c=a.trackById;let u=this.map.get(c);u||(u=new xT,this.map.set(c,u)),u.add(a)}get(a,c){const f=this.map.get(a);return f?f.get(a,c):null}remove(a){const c=a.trackById;return this.map.get(c).remove(a)&&this.map.delete(c),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function V_(o,a,c){const u=o.previousIndex;if(null===u)return u;let f=0;return c&&u<c.length&&(f=c[u]),u+a+f}class H_{constructor(){}supports(a){return a instanceof Map||X8(a)}create(){return new IT}}class IT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let c;for(c=this._mapHead;null!==c;c=c._next)a(c)}forEachPreviousItem(a){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)a(c)}forEachChangedItem(a){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}diff(a){if(a){if(!(a instanceof Map||X8(a)))throw new _e(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(a,(u,f)=>{if(c&&c.key===f)this._maybeAddToChanges(c,u),this._appendAfter=c,c=c._next;else{const g=this._getOrCreateRecordForKey(f,u);c=this._insertBeforeOrAppend(c,g)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let u=c;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,c){if(a){const u=a._prev;return c._next=a,c._prev=u,a._prev=c,u&&(u._next=c),a===this._mapHead&&(this._mapHead=c),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(a,c){if(this._records.has(a)){const f=this._records.get(a);this._maybeAddToChanges(f,c);const g=f._prev,_=f._next;return g&&(g._next=_),_&&(_._prev=g),f._next=null,f._prev=null,f}const u=new AT(a);return this._records.set(a,u),u.currentValue=c,this._addToAdditions(u),u}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,c){Object.is(c,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=c,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,c){a instanceof Map?a.forEach(c):Object.keys(a).forEach(u=>c(a[u],u))}}class AT{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function B_(){return new w5([new L_])}let w5=(()=>{class o{constructor(c){this.factories=c}static create(c,u){if(null!=u){const f=u.factories.slice();c=c.concat(f)}return new o(c)}static extend(c){return{provide:o,useFactory:u=>o.create(c,u||B_()),deps:[[o,new vt,new Ac]]}}find(c){const u=this.factories.find(f=>f.supports(c));if(null!=u)return u;throw new _e(901,!1)}}return o.\u0275prov=yt({token:o,providedIn:"root",factory:B_}),o})();function Y_(){return new b5([new H_])}let b5=(()=>{class o{constructor(c){this.factories=c}static create(c,u){if(u){const f=u.factories.slice();c=c.concat(f)}return new o(c)}static extend(c){return{provide:o,useFactory:u=>o.create(c,u||Y_()),deps:[[o,new vt,new Ac]]}}find(c){const u=this.factories.find(f=>f.supports(c));if(u)return u;throw new _e(901,!1)}}return o.\u0275prov=yt({token:o,providedIn:"root",factory:Y_}),o})();const zT=x_(null,"core",[]);let OT=(()=>{class o{constructor(c){}}return o.\u0275fac=function(c){return new(c||o)(un(rf))},o.\u0275mod=ie({type:o}),o.\u0275inj=Ct({}),o})();function RT(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}},3942:(Dt,Ie,F)=>{F.d(Ie,{Z:()=>Ze});var d=F(2090),te=F(4859),R=F(6881),ce=F(1877);class le{constructor(_e,ze){this._delegate=_e,this.firebase=ze,(0,R._addComponent)(_e,new te.wA("app-compat",()=>this,"PUBLIC")),this.container=_e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_e){this._delegate.automaticDataCollectionEnabled=_e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(_e=>{this._delegate.checkDestroyed(),_e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,R.deleteApp)(this._delegate)))}_getService(_e,ze=R._DEFAULT_ENTRY_NAME){var Oe;this._delegate.checkDestroyed();const Ye=this._delegate.container.getProvider(_e);return!Ye.isInitialized()&&"EXPLICIT"===(null===(Oe=Ye.getComponent())||void 0===Oe?void 0:Oe.instantiationMode)&&Ye.initialize(),Ye.getImmediate({identifier:ze})}_removeServiceInstance(_e,ze=R._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(_e).clearInstance(ze)}_addComponent(_e){(0,R._addComponent)(this._delegate,_e)}_addOrOverwriteComponent(_e){(0,R._addOrOverwriteComponent)(this._delegate,_e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const be=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),$=function ye(){const ht=function Ee(ht){const _e={},ze={__esModule:!0,initializeApp:function Re(Le,ct={}){const ae=R.initializeApp(Le,ct);if((0,d.r3)(_e,ae.name))return _e[ae.name];const At=new ht(ae,ze);return _e[ae.name]=At,At},app:Ye,registerVersion:R.registerVersion,setLogLevel:R.setLogLevel,onLog:R.onLog,apps:null,SDK_VERSION:R.SDK_VERSION,INTERNAL:{registerComponent:function Me(Le){const ct=Le.name,ae=ct.replace("-compat","");if(R._registerComponent(Le)&&"PUBLIC"===Le.type){const At=(nt=Ye())=>{if("function"!=typeof nt[ae])throw be.create("invalid-app-argument",{appName:ct});return nt[ae]()};void 0!==Le.serviceProps&&(0,d.ZB)(At,Le.serviceProps),ze[ae]=At,ht.prototype[ae]=function(...nt){return this._getService.bind(this,ct).apply(this,Le.multipleInstances?nt:[])}}return"PUBLIC"===Le.type?ze[ae]:null},removeApp:function Oe(Le){delete _e[Le]},useAsService:function qe(Le,ct){return"serverAuth"===ct?null:ct},modularAPIs:R}};function Ye(Le){if(!(0,d.r3)(_e,Le=Le||R._DEFAULT_ENTRY_NAME))throw be.create("no-app",{appName:Le});return _e[Le]}return ze.default=ze,Object.defineProperty(ze,"apps",{get:function De(){return Object.keys(_e).map(Le=>_e[Le])}}),Ye.App=ht,ze}(le);return ht.INTERNAL=Object.assign(Object.assign({},ht.INTERNAL),{createFirebaseNamespace:ye,extendNamespace:function _e(ze){(0,d.ZB)(ht,ze)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),ht}(),j=new ce.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ht=self.firebase.SDK_VERSION;ht&&ht.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ze=$;!function Ae(ht){(0,R.registerVersion)("@firebase/app-compat","0.2.13",ht)}()},6881:(Dt,Ie,F)=>{F.r(Ie),F.d(Ie,{FirebaseError:()=>ce.ZR,SDK_VERSION:()=>os,_DEFAULT_ENTRY_NAME:()=>ei,_addComponent:()=>ut,_addOrOverwriteComponent:()=>Nt,_apps:()=>an,_clearComponents:()=>ti,_components:()=>ln,_getProvider:()=>fi,_registerComponent:()=>Di,_removeServiceInstance:()=>br,deleteApp:()=>Ti,getApp:()=>po,getApps:()=>un,initializeApp:()=>tn,onLog:()=>$i,registerVersion:()=>Xn,setLogLevel:()=>An});var d=F(5861),te=F(4859),R=F(1877),ce=F(2090);const le=(me,ie)=>ie.some(Fe=>me instanceof Fe);let ee,be;const $=new WeakMap,j=new WeakMap,K=new WeakMap,je=new WeakMap,Ae=new WeakMap;let _e={get(me,ie,Fe){if(me instanceof IDBTransaction){if("done"===ie)return j.get(me);if("objectStoreNames"===ie)return me.objectStoreNames||K.get(me);if("store"===ie)return Fe.objectStoreNames[1]?void 0:Fe.objectStore(Fe.objectStoreNames[0])}return Re(me[ie])},set:(me,ie,Fe)=>(me[ie]=Fe,!0),has:(me,ie)=>me instanceof IDBTransaction&&("done"===ie||"store"===ie)||ie in me};function Ye(me){return"function"==typeof me?function Oe(me){return me!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ye(){return be||(be=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(me)?function(...ie){return me.apply(De(this),ie),Re($.get(this))}:function(...ie){return Re(me.apply(De(this),ie))}:function(ie,...Fe){const bt=me.call(De(this),ie,...Fe);return K.set(bt,ie.sort?ie.sort():[ie]),Re(bt)}}(me):(me instanceof IDBTransaction&&function ht(me){if(j.has(me))return;const ie=new Promise((Fe,bt)=>{const It=()=>{me.removeEventListener("complete",Gt),me.removeEventListener("error",Et),me.removeEventListener("abort",Et)},Gt=()=>{Fe(),It()},Et=()=>{bt(me.error||new DOMException("AbortError","AbortError")),It()};me.addEventListener("complete",Gt),me.addEventListener("error",Et),me.addEventListener("abort",Et)});j.set(me,ie)}(me),le(me,function Ee(){return ee||(ee=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(me,_e):me)}function Re(me){if(me instanceof IDBRequest)return function Ze(me){const ie=new Promise((Fe,bt)=>{const It=()=>{me.removeEventListener("success",Gt),me.removeEventListener("error",Et)},Gt=()=>{Fe(Re(me.result)),It()},Et=()=>{bt(me.error),It()};me.addEventListener("success",Gt),me.addEventListener("error",Et)});return ie.then(Fe=>{Fe instanceof IDBCursor&&$.set(Fe,me)}).catch(()=>{}),Ae.set(ie,me),ie}(me);if(je.has(me))return je.get(me);const ie=Ye(me);return ie!==me&&(je.set(me,ie),Ae.set(ie,me)),ie}const De=me=>Ae.get(me),Le=["get","getKey","getAll","getAllKeys","count"],ct=["put","add","delete","clear"],ae=new Map;function At(me,ie){if(!(me instanceof IDBDatabase)||ie in me||"string"!=typeof ie)return;if(ae.get(ie))return ae.get(ie);const Fe=ie.replace(/FromIndex$/,""),bt=ie!==Fe,It=ct.includes(Fe);if(!(Fe in(bt?IDBIndex:IDBObjectStore).prototype)||!It&&!Le.includes(Fe))return;const Gt=function(){var Et=(0,d.Z)(function*(cn,...sn){const Cr=this.transaction(cn,It?"readwrite":"readonly");let er=Cr.store;return bt&&(er=er.index(sn.shift())),(yield Promise.all([er[Fe](...sn),It&&Cr.done]))[0]});return function(sn){return Et.apply(this,arguments)}}();return ae.set(ie,Gt),Gt}!function ze(me){_e=me(_e)}(me=>({...me,get:(ie,Fe,bt)=>At(ie,Fe)||me.get(ie,Fe,bt),has:(ie,Fe)=>!!At(ie,Fe)||me.has(ie,Fe)}));class nt{constructor(ie){this.container=ie}getPlatformInfoString(){return this.container.getProviders().map(Fe=>{if(function Kt(me){return"VERSION"===me.getComponent()?.type}(Fe)){const bt=Fe.getImmediate();return`${bt.library}/${bt.version}`}return null}).filter(Fe=>Fe).join(" ")}}const ft="@firebase/app",di=new R.Yd("@firebase/app"),ei="[DEFAULT]",fo={[ft]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},an=new Map,ln=new Map;function ut(me,ie){try{me.container.addComponent(ie)}catch(Fe){di.debug(`Component ${ie.name} failed to register with FirebaseApp ${me.name}`,Fe)}}function Nt(me,ie){me.container.addOrOverwriteComponent(ie)}function Di(me){const ie=me.name;if(ln.has(ie))return di.debug(`There were multiple attempts to register component ${ie}.`),!1;ln.set(ie,me);for(const Fe of an.values())ut(Fe,me);return!0}function fi(me,ie){const Fe=me.container.getProvider("heartbeat").getImmediate({optional:!0});return Fe&&Fe.triggerHeartbeat(),me.container.getProvider(ie)}function br(me,ie,Fe=ei){fi(me,ie).clearInstance(Fe)}function ti(){ln.clear()}const pi=new ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class bn{constructor(ie,Fe,bt){this._isDeleted=!1,this._options=Object.assign({},ie),this._config=Object.assign({},Fe),this._name=Fe.name,this._automaticDataCollectionEnabled=Fe.automaticDataCollectionEnabled,this._container=bt,this.container.addComponent(new te.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ie){this.checkDestroyed(),this._automaticDataCollectionEnabled=ie}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ie){this._isDeleted=ie}checkDestroyed(){if(this.isDeleted)throw pi.create("app-deleted",{appName:this._name})}}const os="9.23.0";function tn(me,ie={}){let Fe=me;"object"!=typeof ie&&(ie={name:ie});const bt=Object.assign({name:ei,automaticDataCollectionEnabled:!1},ie),It=bt.name;if("string"!=typeof It||!It)throw pi.create("bad-app-name",{appName:String(It)});if(Fe||(Fe=(0,ce.aH)()),!Fe)throw pi.create("no-options");const Gt=an.get(It);if(Gt){if((0,ce.vZ)(Fe,Gt.options)&&(0,ce.vZ)(bt,Gt.config))return Gt;throw pi.create("duplicate-app",{appName:It})}const Et=new te.H0(It);for(const sn of ln.values())Et.addComponent(sn);const cn=new bn(Fe,bt,Et);return an.set(It,cn),cn}function po(me=ei){const ie=an.get(me);if(!ie&&me===ei&&(0,ce.aH)())return tn();if(!ie)throw pi.create("no-app",{appName:me});return ie}function un(){return Array.from(an.values())}function Ti(me){return Un.apply(this,arguments)}function Un(){return(Un=(0,d.Z)(function*(me){const ie=me.name;an.has(ie)&&(an.delete(ie),yield Promise.all(me.container.getProviders().map(Fe=>Fe.delete())),me.isDeleted=!0)})).apply(this,arguments)}function Xn(me,ie,Fe){var bt;let It=null!==(bt=fo[me])&&void 0!==bt?bt:me;Fe&&(It+=`-${Fe}`);const Gt=It.match(/\s|\//),Et=ie.match(/\s|\//);if(Gt||Et){const cn=[`Unable to register library "${It}" with version "${ie}":`];return Gt&&cn.push(`library name "${It}" contains illegal characters (whitespace or "/")`),Gt&&Et&&cn.push("and"),Et&&cn.push(`version name "${ie}" contains illegal characters (whitespace or "/")`),void di.warn(cn.join(" "))}Di(new te.wA(`${It}-version`,()=>({library:It,version:ie}),"VERSION"))}function $i(me,ie){if(null!==me&&"function"!=typeof me)throw pi.create("invalid-log-argument");(0,R.Am)(me,ie)}function An(me){(0,R.Ub)(me)}const Gi="firebase-heartbeat-database",ni=1,Y="firebase-heartbeat-store";let H=null;function q(){return H||(H=function Me(me,ie,{blocked:Fe,upgrade:bt,blocking:It,terminated:Gt}={}){const Et=indexedDB.open(me,ie),cn=Re(Et);return bt&&Et.addEventListener("upgradeneeded",sn=>{bt(Re(Et.result),sn.oldVersion,sn.newVersion,Re(Et.transaction),sn)}),Fe&&Et.addEventListener("blocked",sn=>Fe(sn.oldVersion,sn.newVersion,sn)),cn.then(sn=>{Gt&&sn.addEventListener("close",()=>Gt()),It&&sn.addEventListener("versionchange",Cr=>It(Cr.oldVersion,Cr.newVersion,Cr))}).catch(()=>{}),cn}(Gi,ni,{upgrade:(me,ie)=>{0===ie&&me.createObjectStore(Y)}}).catch(me=>{throw pi.create("idb-open",{originalErrorMessage:me.message})})),H}function ne(){return(ne=(0,d.Z)(function*(me){try{return yield(yield q()).transaction(Y).objectStore(Y).get(on(me))}catch(ie){if(ie instanceof ce.ZR)di.warn(ie.message);else{const Fe=pi.create("idb-get",{originalErrorMessage:ie?.message});di.warn(Fe.message)}}})).apply(this,arguments)}function He(me,ie){return kt.apply(this,arguments)}function kt(){return(kt=(0,d.Z)(function*(me,ie){try{const bt=(yield q()).transaction(Y,"readwrite");yield bt.objectStore(Y).put(ie,on(me)),yield bt.done}catch(Fe){if(Fe instanceof ce.ZR)di.warn(Fe.message);else{const bt=pi.create("idb-set",{originalErrorMessage:Fe?.message});di.warn(bt.message)}}})).apply(this,arguments)}function on(me){return`${me.name}!${me.options.appId}`}class pn{constructor(ie){this.container=ie,this._heartbeatsCache=null;const Fe=this.container.getProvider("app").getImmediate();this._storage=new qi(Fe),this._heartbeatsCachePromise=this._storage.read().then(bt=>(this._heartbeatsCache=bt,bt))}triggerHeartbeat(){var ie=this;return(0,d.Z)(function*(){const bt=ie.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),It=Jt();if(null===ie._heartbeatsCache&&(ie._heartbeatsCache=yield ie._heartbeatsCachePromise),ie._heartbeatsCache.lastSentHeartbeatDate!==It&&!ie._heartbeatsCache.heartbeats.some(Gt=>Gt.date===It))return ie._heartbeatsCache.heartbeats.push({date:It,agent:bt}),ie._heartbeatsCache.heartbeats=ie._heartbeatsCache.heartbeats.filter(Gt=>{const Et=new Date(Gt.date).valueOf();return Date.now()-Et<=2592e6}),ie._storage.overwrite(ie._heartbeatsCache)})()}getHeartbeatsHeader(){var ie=this;return(0,d.Z)(function*(){if(null===ie._heartbeatsCache&&(yield ie._heartbeatsCachePromise),null===ie._heartbeatsCache||0===ie._heartbeatsCache.heartbeats.length)return"";const Fe=Jt(),{heartbeatsToSend:bt,unsentEntries:It}=function Gr(me,ie=1024){const Fe=[];let bt=me.slice();for(const It of me){const Gt=Fe.find(Et=>Et.agent===It.agent);if(Gt){if(Gt.dates.push(It.date),mo(Fe)>ie){Gt.dates.pop();break}}else if(Fe.push({agent:It.agent,dates:[It.date]}),mo(Fe)>ie){Fe.pop();break}bt=bt.slice(1)}return{heartbeatsToSend:Fe,unsentEntries:bt}}(ie._heartbeatsCache.heartbeats),Gt=(0,ce.L)(JSON.stringify({version:2,heartbeats:bt}));return ie._heartbeatsCache.lastSentHeartbeatDate=Fe,It.length>0?(ie._heartbeatsCache.heartbeats=It,yield ie._storage.overwrite(ie._heartbeatsCache)):(ie._heartbeatsCache.heartbeats=[],ie._storage.overwrite(ie._heartbeatsCache)),Gt})()}}function Jt(){return(new Date).toISOString().substring(0,10)}class qi{constructor(ie){this.app=ie,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,ce.hl)()&&(0,ce.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ie=this;return(0,d.Z)(function*(){return(yield ie._canUseIndexedDBPromise)&&(yield function we(me){return ne.apply(this,arguments)}(ie.app))||{heartbeats:[]}})()}overwrite(ie){var Fe=this;return(0,d.Z)(function*(){var bt;if(yield Fe._canUseIndexedDBPromise){const Gt=yield Fe.read();return He(Fe.app,{lastSentHeartbeatDate:null!==(bt=ie.lastSentHeartbeatDate)&&void 0!==bt?bt:Gt.lastSentHeartbeatDate,heartbeats:ie.heartbeats})}})()}add(ie){var Fe=this;return(0,d.Z)(function*(){var bt;if(yield Fe._canUseIndexedDBPromise){const Gt=yield Fe.read();return He(Fe.app,{lastSentHeartbeatDate:null!==(bt=ie.lastSentHeartbeatDate)&&void 0!==bt?bt:Gt.lastSentHeartbeatDate,heartbeats:[...Gt.heartbeats,...ie.heartbeats]})}})()}}function mo(me){return(0,ce.L)(JSON.stringify({version:2,heartbeats:me})).length}!function ic(me){Di(new te.wA("platform-logger",ie=>new nt(ie),"PRIVATE")),Di(new te.wA("heartbeat",ie=>new pn(ie),"PRIVATE")),Xn(ft,"0.9.13",me),Xn(ft,"0.9.13","esm2017"),Xn("fire-js","")}("")},4859:(Dt,Ie,F)=>{F.d(Ie,{H0:()=>Ee,wA:()=>R});var d=F(5861),te=F(2090);class R{constructor($,j,K){this.name=$,this.instanceFactory=j,this.type=K,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode($){return this.instantiationMode=$,this}setMultipleInstances($){return this.multipleInstances=$,this}setServiceProps($){return this.serviceProps=$,this}setInstanceCreatedCallback($){return this.onInstanceCreated=$,this}}const ce="[DEFAULT]";class le{constructor($,j){this.name=$,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get($){const j=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(j)){const K=new te.BH;if(this.instancesDeferred.set(j,K),this.isInitialized(j)||this.shouldAutoInitialize())try{const je=this.getOrInitializeService({instanceIdentifier:j});je&&K.resolve(je)}catch{}}return this.instancesDeferred.get(j).promise}getImmediate($){var j;const K=this.normalizeInstanceIdentifier($?.identifier),je=null!==(j=$?.optional)&&void 0!==j&&j;if(!this.isInitialized(K)&&!this.shouldAutoInitialize()){if(je)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:K})}catch(Ae){if(je)return null;throw Ae}}getComponent(){return this.component}setComponent($){if($.name!==this.name)throw Error(`Mismatching Component ${$.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=$,this.shouldAutoInitialize()){if(function be(ye){return"EAGER"===ye.instantiationMode}($))try{this.getOrInitializeService({instanceIdentifier:ce})}catch{}for(const[j,K]of this.instancesDeferred.entries()){const je=this.normalizeInstanceIdentifier(j);try{const Ae=this.getOrInitializeService({instanceIdentifier:je});K.resolve(Ae)}catch{}}}}clearInstance($=ce){this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)}delete(){var $=this;return(0,d.Z)(function*(){const j=Array.from($.instances.values());yield Promise.all([...j.filter(K=>"INTERNAL"in K).map(K=>K.INTERNAL.delete()),...j.filter(K=>"_delete"in K).map(K=>K._delete())])})()}isComponentSet(){return null!=this.component}isInitialized($=ce){return this.instances.has($)}getOptions($=ce){return this.instancesOptions.get($)||{}}initialize($={}){const{options:j={}}=$,K=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(K))throw Error(`${this.name}(${K}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const je=this.getOrInitializeService({instanceIdentifier:K,options:j});for(const[Ae,Ze]of this.instancesDeferred.entries())K===this.normalizeInstanceIdentifier(Ae)&&Ze.resolve(je);return je}onInit($,j){var K;const je=this.normalizeInstanceIdentifier(j),Ae=null!==(K=this.onInitCallbacks.get(je))&&void 0!==K?K:new Set;Ae.add($),this.onInitCallbacks.set(je,Ae);const Ze=this.instances.get(je);return Ze&&$(Ze,je),()=>{Ae.delete($)}}invokeOnInitCallbacks($,j){const K=this.onInitCallbacks.get(j);if(K)for(const je of K)try{je($,j)}catch{}}getOrInitializeService({instanceIdentifier:$,options:j={}}){let K=this.instances.get($);if(!K&&this.component&&(K=this.component.instanceFactory(this.container,{instanceIdentifier:(ye=$,ye===ce?void 0:ye),options:j}),this.instances.set($,K),this.instancesOptions.set($,j),this.invokeOnInitCallbacks(K,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,K)}catch{}var ye;return K||null}normalizeInstanceIdentifier($=ce){return this.component?this.component.multipleInstances?$:ce:$}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ee{constructor($){this.name=$,this.providers=new Map}addComponent($){const j=this.getProvider($.name);if(j.isComponentSet())throw new Error(`Component ${$.name} has already been registered with ${this.name}`);j.setComponent($)}addOrOverwriteComponent($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)}getProvider($){if(this.providers.has($))return this.providers.get($);const j=new le($,this);return this.providers.set($,j),j}getProviders(){return Array.from(this.providers.values())}}},1877:(Dt,Ie,F)=>{F.d(Ie,{Am:()=>ye,Ub:()=>Ee,Yd:()=>be,in:()=>te});const d=[];var te=(()=>{return($=te||(te={}))[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT",te;var $})();const R={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},ce=te.INFO,le={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},ee=($,j,...K)=>{if(j<$.logLevel)return;const je=(new Date).toISOString(),Ae=le[j];if(!Ae)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);console[Ae](`[${je}]  ${$.name}:`,...K)};class be{constructor(j){this.name=j,this._logLevel=ce,this._logHandler=ee,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(j){if(!(j in te))throw new TypeError(`Invalid value "${j}" assigned to \`logLevel\``);this._logLevel=j}setLogLevel(j){this._logLevel="string"==typeof j?R[j]:j}get logHandler(){return this._logHandler}set logHandler(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j}get userLogHandler(){return this._userLogHandler}set userLogHandler(j){this._userLogHandler=j}debug(...j){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...j),this._logHandler(this,te.DEBUG,...j)}log(...j){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...j),this._logHandler(this,te.VERBOSE,...j)}info(...j){this._userLogHandler&&this._userLogHandler(this,te.INFO,...j),this._logHandler(this,te.INFO,...j)}warn(...j){this._userLogHandler&&this._userLogHandler(this,te.WARN,...j),this._logHandler(this,te.WARN,...j)}error(...j){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...j),this._logHandler(this,te.ERROR,...j)}}function Ee($){d.forEach(j=>{j.setLogLevel($)})}function ye($,j){for(const K of d){let je=null;j&&j.level&&(je=R[j.level]),K.userLogHandler=null===$?null:(Ae,Ze,...ht)=>{const _e=ht.map(ze=>{if(null==ze)return null;if("string"==typeof ze)return ze;if("number"==typeof ze||"boolean"==typeof ze)return ze.toString();if(ze instanceof Error)return ze.message;try{return JSON.stringify(ze)}catch{return null}}).filter(ze=>ze).join(" ");Ze>=(je??Ae.logLevel)&&$({level:te[Ze].toLowerCase(),message:_e,args:ht,type:Ae.name})}}}},259:(Dt,Ie,F)=>{F.d(Ie,{C6:()=>d.getApps,Mq:()=>d.getApp});var d=F(6881);(0,d.registerVersion)("firebase","9.23.0","app")},9260:(Dt,Ie,F)=>{F.d(Ie,{Z:()=>d.Z});var d=F(3942);d.Z.registerVersion("firebase","9.23.0","app-compat")},2644:(Dt,Ie,F)=>{F.r(Ie);var d=F(5861),te=F(3942),R=F(2090),ce=F(6881),le=F(7582),ee=F(1877),be=F(4859);const ye={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},K_EMAIL_SIGNIN="EMAIL_SIGNIN",K_PASSWORD_RESET="PASSWORD_RESET",K_RECOVER_EMAIL="RECOVER_EMAIL",K_REVERT_SECOND_FACTOR_ADDITION="REVERT_SECOND_FACTOR_ADDITION",K_VERIFY_AND_CHANGE_EMAIL="VERIFY_AND_CHANGE_EMAIL",K_VERIFY_EMAIL="VERIFY_EMAIL";const Ze=function je(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},ht=function Ae(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},_e=new R.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Oe=new ee.Yd("@firebase/auth");function Re(y,...p){Oe.logLevel<=ee.in.ERROR&&Oe.error(`Auth (${ce.SDK_VERSION}): ${y}`,...p)}function De(y,...p){throw ct(y,...p)}function Me(y,...p){return ct(y,...p)}function qe(y,p,m){const b=Object.assign(Object.assign({},ht()),{[p]:m});return new R.LL("auth","Firebase",b).create(p,{appName:y.name})}function Le(y,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&De(y,"argument-error"),qe(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ct(y,...p){if("string"!=typeof y){const m=p[0],b=[...p.slice(1)];return b[0]&&(b[0].appName=y.name),y._errorFactory.create(m,...b)}return _e.create(y,...p)}function ae(y,p,...m){if(!y)throw ct(p,...m)}function At(y){const p="INTERNAL ASSERTION FAILED: "+y;throw Re(p),new Error(p)}function nt(y,p){y||At(p)}function Kt(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function ft(){return"http:"===is()||"https:"===is()}function is(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class ho{constructor(p,m){this.shortDelay=p,this.longDelay=m,nt(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,R.uI)()||(0,R.b$)()}get(){return function di(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ft()||(0,R.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function de(y,p){nt(y.emulator,"Emulator should always be set here");const{url:m}=y.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class pe{static initialize(p,m,b){this.fetchImpl=p,m&&(this.headersImpl=m),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void At("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void At("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void At("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ge={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ue=new ho(3e4,6e4);function Te(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function xe(y,p,m,b){return lt.apply(this,arguments)}function lt(){return(lt=(0,d.Z)(function*(y,p,m,b,M={}){return yt(y,M,(0,d.Z)(function*(){let P={},B={};b&&("GET"===p?B=b:P={body:JSON.stringify(b)});const J=(0,R.xO)(Object.assign({key:y.config.apiKey},B)).slice(1),Pe=yield y._getAdditionalHeaders();return Pe["Content-Type"]="application/json",y.languageCode&&(Pe["X-Firebase-Locale"]=y.languageCode),pe.fetch()(Pn(y,y.config.apiHost,m,J),Object.assign({method:p,headers:Pe,referrerPolicy:"no-referrer"},P))}))})).apply(this,arguments)}function yt(y,p,m){return wn.apply(this,arguments)}function wn(){return(wn=(0,d.Z)(function*(y,p,m){y._canInitEmulator=!1;const b=Object.assign(Object.assign({},ge),p);try{const M=new Ei(y),P=yield Promise.race([m(),M.promise]);M.clearNetworkTimeout();const B=yield P.json();if("needConfirmation"in B)throw rn(y,"account-exists-with-different-credential",B);if(P.ok&&!("errorMessage"in B))return B;{const J=P.ok?B.errorMessage:B.error.message,[Pe,Ge]=J.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Pe)throw rn(y,"credential-already-in-use",B);if("EMAIL_EXISTS"===Pe)throw rn(y,"email-already-in-use",B);if("USER_DISABLED"===Pe)throw rn(y,"user-disabled",B);const rt=b[Pe]||Pe.toLowerCase().replace(/[_\s]+/g,"-");if(Ge)throw qe(y,rt,Ge);De(y,rt)}}catch(M){if(M instanceof R.ZR)throw M;De(y,"network-request-failed",{message:String(M)})}})).apply(this,arguments)}function Ct(y,p,m,b){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,d.Z)(function*(y,p,m,b,M={}){const P=yield xe(y,p,m,b,M);return"mfaPendingCredential"in P&&De(y,"multi-factor-auth-required",{_serverResponse:P}),P})).apply(this,arguments)}function Pn(y,p,m,b){const M=`${p}${m}?${b}`;return y.config.emulator?de(y.config,M):`${y.config.apiScheme}://${M}`}class Ei{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,b)=>{this.timer=setTimeout(()=>b(Me(this.auth,"network-request-failed")),ue.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function rn(y,p,m){const b={appName:y.name};m.email&&(b.email=m.email),m.phoneNumber&&(b.phoneNumber=m.phoneNumber);const M=Me(y,p,b);return M.customData._tokenResponse=m,M}function In(){return(In=(0,d.Z)(function*(y,p){return xe(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function jr(){return(jr=(0,d.Z)(function*(y,p){return xe(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function St(){return(St=(0,d.Z)(function*(y,p){return xe(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function hi(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function ei(){return(ei=(0,d.Z)(function*(y,p=!1){const m=(0,R.m9)(y),b=yield m.getIdToken(p),M=an(b);ae(M&&M.exp&&M.auth_time&&M.iat,m.auth,"internal-error");const P="object"==typeof M.firebase?M.firebase:void 0,B=P?.sign_in_provider;return{claims:M,token:b,authTime:hi(fo(M.auth_time)),issuedAtTime:hi(fo(M.iat)),expirationTime:hi(fo(M.exp)),signInProvider:B||null,signInSecondFactor:P?.sign_in_second_factor||null}})).apply(this,arguments)}function fo(y){return 1e3*Number(y)}function an(y){const[p,m,b]=y.split(".");if(void 0===p||void 0===m||void 0===b)return Re("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,R.tV)(m);return M?JSON.parse(M):(Re("Failed to decode base64 JWT payload"),null)}catch(M){return Re("Caught error parsing JWT payload as JSON",M?.toString()),null}}function ut(y,p){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,d.Z)(function*(y,p,m=!1){if(m)return p;try{return yield p}catch(b){throw b instanceof R.ZR&&function Di({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}(b)&&y.auth.currentUser===y&&(yield y.auth.signOut()),b}})).apply(this,arguments)}class fi{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const M=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const b=this.getInterval(p);this.timerId=setTimeout((0,d.Z)(function*(){yield m.iteration()}),b)}iteration(){var p=this;return(0,d.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&p.schedule(!0))}p.schedule()})()}}class br{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=hi(this.lastLoginAt),this.creationTime=hi(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ti(y){return Bn.apply(this,arguments)}function Bn(){return Bn=(0,d.Z)(function*(y){var p;const m=y.auth,b=yield y.getIdToken(),M=yield ut(y,function $r(y,p){return St.apply(this,arguments)}(m,{idToken:b}));ae(M?.users.length,m,"internal-error");const P=M.users[0];y._notifyReloadListener(P);const B=null!==(p=P.providerUserInfo)&&void 0!==p&&p.length?function tn(y){return y.map(p=>{var{providerId:m}=p,b=(0,le._T)(p,["providerId"]);return{providerId:m,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}(P.providerUserInfo):[],J=function os(y,p){return[...y.filter(b=>!p.some(M=>M.providerId===b.providerId)),...p]}(y.providerData,B),rt=!!y.isAnonymous&&!(y.email&&P.passwordHash||J?.length),st={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:J,metadata:new br(P.createdAt,P.lastLoginAt),isAnonymous:rt};Object.assign(y,st)}),Bn.apply(this,arguments)}function bn(){return(bn=(0,d.Z)(function*(y){const p=(0,R.m9)(y);yield ti(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function un(){return(un=(0,d.Z)(function*(y,p){const m=yield yt(y,{},(0,d.Z)(function*(){const b=(0,R.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:M,apiKey:P}=y.config,B=Pn(y,M,"/v1/token",`key=${P}`),J=yield y._getAdditionalHeaders();return J["Content-Type"]="application/x-www-form-urlencoded",pe.fetch()(B,{method:"POST",headers:J,body:b})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Ti{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){ae(p.idToken,"internal-error"),ae(typeof p.idToken<"u","internal-error"),ae(typeof p.refreshToken<"u","internal-error");const m="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function ln(y){const p=an(y);return ae(p,"internal-error"),ae(typeof p.exp<"u","internal-error"),ae(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var b=this;return(0,d.Z)(function*(){return ae(!b.accessToken||b.refreshToken,p,"user-token-expired"),m||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(p,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var b=this;return(0,d.Z)(function*(){const{accessToken:M,refreshToken:P,expiresIn:B}=yield function po(y,p){return un.apply(this,arguments)}(p,m);b.updateTokensAndExpiration(M,P,Number(B))})()}updateTokensAndExpiration(p,m,b){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(p,m){const{refreshToken:b,accessToken:M,expirationTime:P}=m,B=new Ti;return b&&(ae("string"==typeof b,"internal-error",{appName:p}),B.refreshToken=b),M&&(ae("string"==typeof M,"internal-error",{appName:p}),B.accessToken=M),P&&(ae("number"==typeof P,"internal-error",{appName:p}),B.expirationTime=P),B}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Ti,this.toJSON())}_performRefresh(){return At("not implemented")}}function Un(y,p){ae("string"==typeof y||typeof y>"u","internal-error",{appName:p})}class Xn{constructor(p){var{uid:m,auth:b,stsTokenManager:M}=p,P=(0,le._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=b,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.emailVerified=P.emailVerified||!1,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.tenantId=P.tenantId||null,this.providerData=P.providerData?[...P.providerData]:[],this.metadata=new br(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,d.Z)(function*(){const b=yield ut(m,m.stsTokenManager.getToken(m.auth,p));return ae(b,m.auth,"internal-error"),m.accessToken!==b&&(m.accessToken=b,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),b})()}getIdTokenResult(p){return function zr(y){return ei.apply(this,arguments)}(this,p)}reload(){return function pi(y){return bn.apply(this,arguments)}(this)}_assign(p){this!==p&&(ae(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const m=new Xn(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(p){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var b=this;return(0,d.Z)(function*(){let M=!1;p.idToken&&p.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(p),M=!0),m&&(yield ti(b)),yield b.auth._persistUserIfCurrent(b),M&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var p=this;return(0,d.Z)(function*(){const m=yield p.getIdToken();return yield ut(p,function Hn(y,p){return In.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var b,M,P,B,J,Pe,Ge,rt;const st=null!==(b=m.displayName)&&void 0!==b?b:void 0,Fn=null!==(M=m.email)&&void 0!==M?M:void 0,Qo=null!==(P=m.phoneNumber)&&void 0!==P?P:void 0,o1=null!==(B=m.photoURL)&&void 0!==B?B:void 0,d8=null!==(J=m.tenantId)&&void 0!==J?J:void 0,Nn=null!==(Pe=m._redirectEventId)&&void 0!==Pe?Pe:void 0,e3=null!==(Ge=m.createdAt)&&void 0!==Ge?Ge:void 0,t3=null!==(rt=m.lastLoginAt)&&void 0!==rt?rt:void 0,{uid:s1,emailVerified:a1,isAnonymous:to,providerData:wd,stsTokenManager:Ql}=m;ae(s1&&Ql,p,"internal-error");const h8=Ti.fromJSON(this.name,Ql);ae("string"==typeof s1,p,"internal-error"),Un(st,p.name),Un(Fn,p.name),ae("boolean"==typeof a1,p,"internal-error"),ae("boolean"==typeof to,p,"internal-error"),Un(Qo,p.name),Un(o1,p.name),Un(d8,p.name),Un(Nn,p.name),Un(e3,p.name),Un(t3,p.name);const bd=new Xn({uid:s1,auth:p,email:Fn,emailVerified:a1,displayName:st,isAnonymous:to,photoURL:o1,phoneNumber:Qo,tenantId:d8,stsTokenManager:h8,createdAt:e3,lastLoginAt:t3});return wd&&Array.isArray(wd)&&(bd.providerData=wd.map(f8=>Object.assign({},f8))),Nn&&(bd._redirectEventId=Nn),bd}static _fromIdTokenResponse(p,m,b=!1){return(0,d.Z)(function*(){const M=new Ti;M.updateFromServerResponse(m);const P=new Xn({uid:m.localId,auth:p,stsTokenManager:M,isAnonymous:b});return yield ti(P),P})()}}const $i=new Map;function An(y){nt(y instanceof Function,"Expected a class definition");let p=$i.get(y);return p?(nt(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,$i.set(y,p),p)}const ni=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(m,b){var M=this;return(0,d.Z)(function*(){M.storage[m]=b})()}_get(m){var b=this;return(0,d.Z)(function*(){const M=b.storage[m];return void 0===M?null:M})()}_remove(m){var b=this;return(0,d.Z)(function*(){delete b.storage[m]})()}_addListener(m,b){}_removeListener(m,b){}}return y.type="NONE",y})();function Y(y,p,m){return`firebase:${y}:${p}:${m}`}class H{constructor(p,m,b){this.persistence=p,this.auth=m,this.userKey=b;const{config:M,name:P}=this.auth;this.fullUserKey=Y(this.userKey,M.apiKey,P),this.fullPersistenceKey=Y("persistence",M.apiKey,P),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,d.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?Xn._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,d.Z)(function*(){if(m.persistence===p)return;const b=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,b?m.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,b="authUser"){return(0,d.Z)(function*(){if(!m.length)return new H(An(ni),p,b);const M=(yield Promise.all(m.map(function(){var Ge=(0,d.Z)(function*(rt){if(yield rt._isAvailable())return rt});return function(rt){return Ge.apply(this,arguments)}}()))).filter(Ge=>Ge);let P=M[0]||An(ni);const B=Y(b,p.config.apiKey,p.name);let J=null;for(const Ge of m)try{const rt=yield Ge._get(B);if(rt){const st=Xn._fromJSON(p,rt);Ge!==P&&(J=st),P=Ge;break}}catch{}const Pe=M.filter(Ge=>Ge._shouldAllowMigration);return P._shouldAllowMigration&&Pe.length?(P=Pe[0],J&&(yield P._set(B,J.toJSON())),yield Promise.all(m.map(function(){var Ge=(0,d.Z)(function*(rt){if(rt!==P)try{yield rt._remove(B)}catch{}});return function(rt){return Ge.apply(this,arguments)}}())),new H(P,p,b)):new H(P,p,b)})()}}function q(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(kt(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(we(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(qn(p))return"Blackberry";if(zn(p))return"Webos";if(ne(p))return"Safari";if((p.includes("chrome/")||He(p))&&!p.includes("edge/"))return"Chrome";if(on(p))return"Android";{const b=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===b?.length)return b[1]}return"Other"}function we(y=(0,R.z$)()){return/firefox\//i.test(y)}function ne(y=(0,R.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function He(y=(0,R.z$)()){return/crios\//i.test(y)}function kt(y=(0,R.z$)()){return/iemobile/i.test(y)}function on(y=(0,R.z$)()){return/android/i.test(y)}function qn(y=(0,R.z$)()){return/blackberry/i.test(y)}function zn(y=(0,R.z$)()){return/webos/i.test(y)}function pn(y=(0,R.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function mo(y=(0,R.z$)()){return pn(y)||on(y)||zn(y)||qn(y)||/windows phone/i.test(y)||kt(y)}function me(y,p=[]){let m;switch(y){case"Browser":m=q((0,R.z$)());break;case"Worker":m=`${q((0,R.z$)())}-${y}`;break;default:m=y}const b=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${ce.SDK_VERSION}/${b}`}function Fe(){return(Fe=(0,d.Z)(function*(y){return(yield xe(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function bt(y,p){return It.apply(this,arguments)}function It(){return(It=(0,d.Z)(function*(y,p){return xe(y,"GET","/v2/recaptchaConfig",Te(y,p))})).apply(this,arguments)}function Gt(y){return void 0!==y&&void 0!==y.getResponse}function Et(y){return void 0!==y&&void 0!==y.enterprise}class cn{constructor(p){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.emailPasswordEnabled=p.recaptchaEnforcementState.some(m=>"EMAIL_PASSWORD_PROVIDER"===m.provider&&"OFF"!==m.enforcementState)}}function Cr(y){return new Promise((p,m)=>{const b=document.createElement("script");b.setAttribute("src",y),b.onload=p,b.onerror=M=>{const P=Me("internal-error");P.customData=M,m(P)},b.type="text/javascript",b.charset="UTF-8",function sn(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(b)})}function er(y){return`__${y}${Math.floor(1e6*Math.random())}`}const Ts="NO_RECAPTCHA";class Mi{constructor(p){this.type="recaptcha-enterprise",this.auth=vn(p)}verify(p="verify",m=!1){var b=this;return(0,d.Z)(function*(){function P(){return P=(0,d.Z)(function*(J){if(!m){if(null==J.tenantId&&null!=J._agentRecaptchaConfig)return J._agentRecaptchaConfig.siteKey;if(null!=J.tenantId&&void 0!==J._tenantRecaptchaConfigs[J.tenantId])return J._tenantRecaptchaConfigs[J.tenantId].siteKey}return new Promise(function(){var Pe=(0,d.Z)(function*(Ge,rt){bt(J,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(st=>{if(void 0!==st.recaptchaKey){const Fn=new cn(st);return null==J.tenantId?J._agentRecaptchaConfig=Fn:J._tenantRecaptchaConfigs[J.tenantId]=Fn,Ge(Fn.siteKey)}rt(new Error("recaptcha Enterprise site key undefined"))}).catch(st=>{rt(st)})});return function(Ge,rt){return Pe.apply(this,arguments)}}())}),P.apply(this,arguments)}function B(J,Pe,Ge){const rt=window.grecaptcha;Et(rt)?rt.enterprise.ready(()=>{rt.enterprise.execute(J,{action:p}).then(st=>{Pe(st)}).catch(()=>{Pe(Ts)})}):Ge(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((J,Pe)=>{(function M(J){return P.apply(this,arguments)})(b.auth).then(Ge=>{if(!m&&Et(window.grecaptcha))B(Ge,J,Pe);else{if(typeof window>"u")return void Pe(new Error("RecaptchaVerifier is only supported in browser"));Cr("https://www.google.com/recaptcha/enterprise.js?render="+Ge).then(()=>{B(Ge,J,Pe)}).catch(rt=>{Pe(rt)})}}).catch(Ge=>{Pe(Ge)})})})()}}function Qe(y,p,m){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,d.Z)(function*(y,p,m,b=!1){const M=new Mi(y);let P;try{P=yield M.verify(m)}catch{P=yield M.verify(m,!0)}const B=Object.assign({},p);return Object.assign(B,b?{captchaResp:P}:{captchaResponse:P}),Object.assign(B,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(B,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),B})).apply(this,arguments)}class kn{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const b=P=>new Promise((B,J)=>{try{B(p(P))}catch(Pe){J(Pe)}});b.onAbort=m,this.queue.push(b);const M=this.queue.length-1;return()=>{this.queue[M]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,d.Z)(function*(){if(m.auth.currentUser===p)return;const b=[];try{for(const M of m.queue)yield M(p),M.onAbort&&b.push(M.onAbort)}catch(M){b.reverse();for(const P of b)try{P()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:M?.message})}})()}}class xi{constructor(p,m,b,M){this.app=p,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=b,this.config=M,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tr(this),this.idTokenSubscription=new tr(this),this.beforeStateQueue=new kn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_e,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=M.sdkClientVersion}_initializeWithPersistence(p,m){var b=this;return m&&(this._popupRedirectResolver=An(m)),this._initializationPromise=this.queue((0,d.Z)(function*(){var M,P;if(!b._deleted&&(b.persistenceManager=yield H.create(b,p),!b._deleted)){if(null!==(M=b._popupRedirectResolver)&&void 0!==M&&M._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch{}yield b.initializeCurrentUser(m),b.lastNotifiedUid=(null===(P=b.currentUser)||void 0===P?void 0:P.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,d.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUser(p){var m=this;return(0,d.Z)(function*(){var b;const M=yield m.assertedPersistence.getCurrentUser();let P=M,B=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const J=null===(b=m.redirectUser)||void 0===b?void 0:b._redirectEventId,Pe=P?._redirectEventId,Ge=yield m.tryRedirectSignIn(p);(!J||J===Pe)&&Ge?.user&&(P=Ge.user,B=!0)}if(!P)return m.directlySetCurrentUser(null);if(!P._redirectEventId){if(B)try{yield m.beforeStateQueue.runMiddleware(P)}catch(J){P=M,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(J))}return P?m.reloadAndSetCurrentUserOrClear(P):m.directlySetCurrentUser(null)}return ae(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===P._redirectEventId?m.directlySetCurrentUser(P):m.reloadAndSetCurrentUserOrClear(P)})()}tryRedirectSignIn(p){var m=this;return(0,d.Z)(function*(){let b=null;try{b=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch{yield m._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,d.Z)(function*(){try{yield ti(p)}catch(b){if("auth/network-request-failed"!==b?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Ds(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,d.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,d.Z)(function*(){const b=p?(0,R.m9)(p):null;return b&&ae(b.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(b&&b._clone(m))})()}_updateCurrentUser(p,m=!1){var b=this;return(0,d.Z)(function*(){if(!b._deleted)return p&&ae(b.tenantId===p.tenantId,b,"tenant-id-mismatch"),m||(yield b.beforeStateQueue.runMiddleware(p)),b.queue((0,d.Z)(function*(){yield b.directlySetCurrentUser(p),b.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,d.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var m=this;return this.queue((0,d.Z)(function*(){yield m.assertedPersistence.setPersistence(An(p))}))}initializeRecaptchaConfig(){var p=this;return(0,d.Z)(function*(){const m=yield bt(p,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),b=new cn(m);null==p.tenantId?p._agentRecaptchaConfig=b:p._tenantRecaptchaConfigs[p.tenantId]=b,b.emailPasswordEnabled&&new Mi(p).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new R.LL("auth","Firebase",p())}onAuthStateChanged(p,m,b){return this.registerStateListener(this.authStateSubscription,p,m,b)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,b){return this.registerStateListener(this.idTokenSubscription,p,m,b)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var b=this;return(0,d.Z)(function*(){const M=yield b.getOrInitRedirectPersistenceManager(m);return null===p?M.removeCurrentUser():M.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,d.Z)(function*(){if(!m.redirectPersistenceManager){const b=p&&An(p)||m._popupRedirectResolver;ae(b,m,"argument-error"),m.redirectPersistenceManager=yield H.create(m,[An(b._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,d.Z)(function*(){var b,M;return m._isInitialized&&(yield m.queue((0,d.Z)(function*(){}))),(null===(b=m._currentUser)||void 0===b?void 0:b._redirectEventId)===p?m._currentUser:(null===(M=m.redirectUser)||void 0===M?void 0:M._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,d.Z)(function*(){if(p===m.currentUser)return m.queue((0,d.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,b,M){if(this._deleted)return()=>{};const P="function"==typeof m?m:m.next.bind(m),B=this._isInitialized?Promise.resolve():this._initializationPromise;return ae(B,this,"internal-error"),B.then(()=>P(this.currentUser)),"function"==typeof m?p.addObserver(m,b,M):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,d.Z)(function*(){m.currentUser&&m.currentUser!==p&&m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh(),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=me(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,d.Z)(function*(){var m;const b={"X-Client-Version":p.clientVersion};p.app.options.appId&&(b["X-Firebase-gmpid"]=p.app.options.appId);const M=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();M&&(b["X-Firebase-Client"]=M);const P=yield p._getAppCheckToken();return P&&(b["X-Firebase-AppCheck"]=P),b})()}_getAppCheckToken(){var p=this;return(0,d.Z)(function*(){var m;const b=yield null===(m=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getToken();return b?.error&&function Ye(y,...p){Oe.logLevel<=ee.in.WARN&&Oe.warn(`Auth (${ce.SDK_VERSION}): ${y}`,...p)}(`Error while retrieving App Check token: ${b.error}`),b?.token})()}}function vn(y){return(0,R.m9)(y)}class tr{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,R.ne)(m=>this.observer=m)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function go(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function sc(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class Ro{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return At("not implemented")}_getIdTokenResponse(p){return At("not implemented")}_linkToIdToken(p,m){return At("not implemented")}_getReauthenticationResolver(p){return At("not implemented")}}function xs(y,p){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,d.Z)(function*(y,p){return xe(y,"POST","/v1/accounts:resetPassword",Te(y,p))})).apply(this,arguments)}function ma(y,p){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,d.Z)(function*(y,p){return xe(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function ga(){return(ga=(0,d.Z)(function*(y,p){return xe(y,"POST","/v1/accounts:update",Te(y,p))})).apply(this,arguments)}function Or(y,p){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,d.Z)(function*(y,p){return Ct(y,"POST","/v1/accounts:signInWithPassword",Te(y,p))})).apply(this,arguments)}function mi(y,p){return ac.apply(this,arguments)}function ac(){return(ac=(0,d.Z)(function*(y,p){return xe(y,"POST","/v1/accounts:sendOobCode",Te(y,p))})).apply(this,arguments)}function va(){return(va=(0,d.Z)(function*(y,p){return mi(y,p)})).apply(this,arguments)}function ss(y,p){return Is.apply(this,arguments)}function Is(){return(Is=(0,d.Z)(function*(y,p){return mi(y,p)})).apply(this,arguments)}function Sr(y,p){return ol.apply(this,arguments)}function ol(){return(ol=(0,d.Z)(function*(y,p){return mi(y,p)})).apply(this,arguments)}function vi(){return(vi=(0,d.Z)(function*(y,p){return mi(y,p)})).apply(this,arguments)}function ya(){return(ya=(0,d.Z)(function*(y,p){return Ct(y,"POST","/v1/accounts:signInWithEmailLink",Te(y,p))})).apply(this,arguments)}function Ii(){return(Ii=(0,d.Z)(function*(y,p){return Ct(y,"POST","/v1/accounts:signInWithEmailLink",Te(y,p))})).apply(this,arguments)}class sl extends Ro{constructor(p,m,b,M=null){super("password",b),this._email=p,this._password=m,this._tenantId=M}static _fromEmailAndPassword(p,m){return new sl(p,m,"password")}static _fromEmailAndCode(p,m,b=null){return new sl(p,m,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,d.Z)(function*(){var b;switch(m.signInMethod){case"password":const M={returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(b=p._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const P=yield Qe(p,M,"signInWithPassword");return Or(p,P)}return Or(p,M).catch(function(){var P=(0,d.Z)(function*(B){if("auth/missing-recaptcha-token"===B.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const J=yield Qe(p,M,"signInWithPassword");return Or(p,J)}return Promise.reject(B)});return function(B){return P.apply(this,arguments)}}());case"emailLink":return function cc(y,p){return ya.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:De(p,"internal-error")}})()}_linkToIdToken(p,m){var b=this;return(0,d.Z)(function*(){switch(b.signInMethod){case"password":return ma(p,{idToken:m,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function wu(y,p){return Ii.apply(this,arguments)}(p,{idToken:m,email:b._email,oobCode:b._password});default:De(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Wi(y,p){return O1.apply(this,arguments)}function O1(){return(O1=(0,d.Z)(function*(y,p){return Ct(y,"POST","/v1/accounts:signInWithIdp",Te(y,p))})).apply(this,arguments)}class No extends Ro{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new No(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):De("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:M}=m,P=(0,le._T)(m,["providerId","signInMethod"]);if(!b||!M)return null;const B=new No(b,M);return B.idToken=P.idToken||void 0,B.accessToken=P.accessToken||void 0,B.secret=P.secret,B.nonce=P.nonce,B.pendingToken=P.pendingToken||null,B}_getIdTokenResponse(p){return Wi(p,this.buildRequest())}_linkToIdToken(p,m){const b=this.buildRequest();return b.idToken=m,Wi(p,b)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Wi(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,R.xO)(m)}return p}}function bu(){return(bu=(0,d.Z)(function*(y,p){return xe(y,"POST","/v1/accounts:sendVerificationCode",Te(y,p))})).apply(this,arguments)}function R1(){return(R1=(0,d.Z)(function*(y,p){return Ct(y,"POST","/v1/accounts:signInWithPhoneNumber",Te(y,p))})).apply(this,arguments)}function al(){return(al=(0,d.Z)(function*(y,p){const m=yield Ct(y,"POST","/v1/accounts:signInWithPhoneNumber",Te(y,p));if(m.temporaryProof)throw rn(y,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const F1={USER_NOT_FOUND:"user-not-found"};function cl(){return(cl=(0,d.Z)(function*(y,p){return Ct(y,"POST","/v1/accounts:signInWithPhoneNumber",Te(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),F1)})).apply(this,arguments)}class nr extends Ro{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new nr({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new nr({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function z2(y,p){return R1.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function O2(y,p){return al.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Q0(y,p){return cl.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:b,verificationCode:M}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:b,code:M}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:b,phoneNumber:M,temporaryProof:P}=p;return b||m||M||P?new nr({verificationId:m,verificationCode:b,phoneNumber:M,temporaryProof:P}):null}}class _a{constructor(p){var m,b,M,P,B,J;const Pe=(0,R.zd)((0,R.pd)(p)),Ge=null!==(m=Pe.apiKey)&&void 0!==m?m:null,rt=null!==(b=Pe.oobCode)&&void 0!==b?b:null,st=function xh(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=Pe.mode)&&void 0!==M?M:null);ae(Ge&&rt&&st,"argument-error"),this.apiKey=Ge,this.operation=st,this.code=rt,this.continueUrl=null!==(P=Pe.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==(B=Pe.languageCode)&&void 0!==B?B:null,this.tenantId=null!==(J=Pe.tenantId)&&void 0!==J?J:null}static parseLink(p){const m=function N1(y){const p=(0,R.zd)((0,R.pd)(y)).link,m=p?(0,R.zd)((0,R.pd)(p)).deep_link_id:null,b=(0,R.zd)((0,R.pd)(y)).deep_link_id;return(b?(0,R.zd)((0,R.pd)(b)).link:null)||b||m||p||y}(p);try{return new _a(m)}catch{return null}}}let L1=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(m,b){return sl._fromEmailAndPassword(m,b)}static credentialWithLink(m,b){const M=_a.parseLink(b);return ae(M,"argument-error"),sl._fromEmailAndCode(m,M.code,M.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Lo{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class yo extends Lo{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class As extends yo{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return ae("providerId"in m&&"signInMethod"in m,"argument-error"),No._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return ae(p.idToken||p.accessToken,"argument-error"),No._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return As.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return As.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:b,oauthTokenSecret:M,pendingToken:P,nonce:B,providerId:J}=p;if(!b&&!M&&!m&&!P||!J)return null;try{return new As(J)._credential({idToken:m,accessToken:b,nonce:B,pendingToken:P})}catch{return null}}}let Cu=(()=>{class y extends yo{constructor(){super("facebook.com")}static credential(m){return No._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),lc=(()=>{class y extends yo{constructor(){super("google.com"),this.addScope("profile")}static credential(m,b){return No._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:b})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:b,oauthAccessToken:M}=m;if(!b&&!M)return null;try{return y.credential(b,M)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),V1=(()=>{class y extends yo{constructor(){super("github.com")}static credential(m){return No._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class as extends Ro{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return Wi(p,this.buildRequest())}_linkToIdToken(p,m){const b=this.buildRequest();return b.idToken=m,Wi(p,b)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Wi(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:M,pendingToken:P}=m;return b&&M&&P&&b===M?new as(b,P):null}static _create(p,m){return new as(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class uc extends Lo{constructor(p){ae(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return uc.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return uc.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=as.fromJSON(p);return ae(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:b}=p;if(!m||!b)return null;try{return as._create(b,m)}catch{return null}}}let ll=(()=>{class y extends yo{constructor(){super("twitter.com")}static credential(m,b){return No._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:b})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:b,oauthTokenSecret:M}=m;if(!b||!M)return null;try{return y.credential(b,M)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function cs(y,p){return ri.apply(this,arguments)}function ri(){return(ri=(0,d.Z)(function*(y,p){return Ct(y,"POST","/v1/accounts:signUp",Te(y,p))})).apply(this,arguments)}class qr{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,b,M=!1){return(0,d.Z)(function*(){const P=yield Xn._fromIdTokenResponse(p,b,M),B=dc(b);return new qr({user:P,providerId:B,_tokenResponse:b,operationType:m})})()}static _forOperation(p,m,b){return(0,d.Z)(function*(){yield p._updateTokensIfNecessary(b,!0);const M=dc(b);return new qr({user:p,providerId:M,_tokenResponse:b,operationType:m})})()}}function dc(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function wa(){return(wa=(0,d.Z)(function*(y){var p;const m=vn(y);if(yield m._initializationPromise,null!==(p=m.currentUser)&&void 0!==p&&p.isAnonymous)return new qr({user:m.currentUser,providerId:null,operationType:"signIn"});const b=yield cs(m,{returnSecureToken:!0}),M=yield qr._fromIdTokenResponse(m,"signIn",b,!0);return yield m._updateCurrentUser(M.user),M})).apply(this,arguments)}class Vo extends R.ZR{constructor(p,m,b,M){var P;super(m.code,m.message),this.operationType=b,this.user=M,Object.setPrototypeOf(this,Vo.prototype),this.customData={appName:p.name,tenantId:null!==(P=p.tenantId)&&void 0!==P?P:void 0,_serverResponse:m.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(p,m,b,M){return new Vo(p,m,b,M)}}function Dr(y,p,m,b){return("reauthenticate"===p?m._getReauthenticationResolver(y):m._getIdTokenResponse(y)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?Vo._fromErrorAndOperation(y,P,p,b):P})}function H1(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function Wr(){return Wr=(0,d.Z)(function*(y,p){const m=(0,R.m9)(y);yield Ho(!0,m,p);const{providerUserInfo:b}=yield function Pr(y,p){return jr.apply(this,arguments)}(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),M=H1(b||[]);return m.providerData=m.providerData.filter(P=>M.has(P.providerId)),M.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m}),Wr.apply(this,arguments)}function fr(y,p){return ul.apply(this,arguments)}function ul(){return(ul=(0,d.Z)(function*(y,p,m=!1){const b=yield ut(y,p._linkToIdToken(y.auth,yield y.getIdToken()),m);return qr._forOperation(y,"link",b)})).apply(this,arguments)}function Ho(y,p,m){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,d.Z)(function*(y,p,m){yield ti(p);const M=!1===y?"provider-already-linked":"no-such-provider";ae(H1(p.providerData).has(m)===y,p.auth,M)})).apply(this,arguments)}function ls(y,p){return ba.apply(this,arguments)}function ba(){return(ba=(0,d.Z)(function*(y,p,m=!1){const{auth:b}=y,M="reauthenticate";try{const P=yield ut(y,Dr(b,M,p,y),m);ae(P.idToken,b,"internal-error");const B=an(P.idToken);ae(B,b,"internal-error");const{sub:J}=B;return ae(y.uid===J,b,"user-mismatch"),qr._forOperation(y,M,P)}catch(P){throw"auth/user-not-found"===P?.code&&De(b,"user-mismatch"),P}})).apply(this,arguments)}function hc(y,p){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,d.Z)(function*(y,p,m=!1){const b="signIn",M=yield Dr(y,b,p),P=yield qr._fromIdTokenResponse(y,b,M);return m||(yield y._updateCurrentUser(P.user)),P})).apply(this,arguments)}function fc(y,p){return Y1.apply(this,arguments)}function Y1(){return(Y1=(0,d.Z)(function*(y,p){return hc(vn(y),p)})).apply(this,arguments)}function U1(y,p){return dl.apply(this,arguments)}function dl(){return(dl=(0,d.Z)(function*(y,p){const m=(0,R.m9)(y);return yield Ho(!1,m,p.providerId),fr(m,p)})).apply(this,arguments)}function j1(y,p){return hl.apply(this,arguments)}function hl(){return(hl=(0,d.Z)(function*(y,p){return ls((0,R.m9)(y),p)})).apply(this,arguments)}function $1(){return($1=(0,d.Z)(function*(y,p){return Ct(y,"POST","/v1/accounts:signInWithCustomToken",Te(y,p))})).apply(this,arguments)}function Bt(){return Bt=(0,d.Z)(function*(y,p){const m=vn(y),b=yield function R2(y,p){return $1.apply(this,arguments)}(m,{token:p,returnSecureToken:!0}),M=yield qr._fromIdTokenResponse(m,"signIn",b);return yield m._updateCurrentUser(M.user),M}),Bt.apply(this,arguments)}class pc{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?mc._fromServerResponse(p,m):"totpInfo"in m?pr._fromServerResponse(p,m):De(p,"internal-error")}}class mc extends pc{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new mc(m)}}class pr extends pc{constructor(p){super("totp",p)}static _fromServerResponse(p,m){return new pr(m)}}function ks(y,p,m){var b;ae((null===(b=m.url)||void 0===b?void 0:b.length)>0,y,"invalid-continue-uri"),ae(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(ae(m.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(ae(m.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function ii(){return ii=(0,d.Z)(function*(y,p,m){var b;const M=vn(y),P={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};if(null!==(b=M._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const B=yield Qe(M,P,"getOobCode",!0);m&&ks(M,B,m),yield ss(M,B)}else m&&ks(M,P,m),yield ss(M,P).catch(function(){var B=(0,d.Z)(function*(J){if("auth/missing-recaptcha-token"!==J.code)return Promise.reject(J);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Pe=yield Qe(M,P,"getOobCode",!0);m&&ks(M,Pe,m),yield ss(M,Pe)}});return function(J){return B.apply(this,arguments)}}())}),ii.apply(this,arguments)}function pl(){return(pl=(0,d.Z)(function*(y,p,m){yield xs((0,R.m9)(y),{oobCode:p,newPassword:m})})).apply(this,arguments)}function Bo(){return Bo=(0,d.Z)(function*(y,p){yield function vo(y,p){return ga.apply(this,arguments)}((0,R.m9)(y),{oobCode:p})}),Bo.apply(this,arguments)}function gc(y,p){return rr.apply(this,arguments)}function rr(){return(rr=(0,d.Z)(function*(y,p){const m=(0,R.m9)(y),b=yield xs(m,{oobCode:p}),M=b.requestType;switch(ae(M,m,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ae(b.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ae(b.mfaInfo,m,"internal-error");default:ae(b.email,m,"internal-error")}let P=null;return b.mfaInfo&&(P=pc._fromServerResponse(vn(m),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:P},operation:M}})).apply(this,arguments)}function _o(){return(_o=(0,d.Z)(function*(y,p){const{data:m}=yield gc((0,R.m9)(y),p);return m.email})).apply(this,arguments)}function ki(){return ki=(0,d.Z)(function*(y,p,m){var b;const M=vn(y),P={returnSecureToken:!0,email:p,password:m,clientType:"CLIENT_TYPE_WEB"};let B;if(null!==(b=M._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const Ge=yield Qe(M,P,"signUpPassword");B=cs(M,Ge)}else B=cs(M,P).catch(function(){var Ge=(0,d.Z)(function*(rt){if("auth/missing-recaptcha-token"===rt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const st=yield Qe(M,P,"signUpPassword");return cs(M,st)}return Promise.reject(rt)});return function(rt){return Ge.apply(this,arguments)}}());const J=yield B.catch(Ge=>Promise.reject(Ge)),Pe=yield qr._fromIdTokenResponse(M,"signIn",J);return yield M._updateCurrentUser(Pe.user),Pe}),ki.apply(this,arguments)}function ml(){return ml=(0,d.Z)(function*(y,p,m){var b;const M=vn(y),P={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};function B(J,Pe){ae(Pe.handleCodeInApp,M,"argument-error"),Pe&&ks(M,J,Pe)}if(null!==(b=M._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const J=yield Qe(M,P,"getOobCode",!0);B(J,m),yield Sr(M,J)}else B(P,m),yield Sr(M,P).catch(function(){var J=(0,d.Z)(function*(Pe){if("auth/missing-recaptcha-token"!==Pe.code)return Promise.reject(Pe);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Ge=yield Qe(M,P,"getOobCode",!0);B(Ge,m),yield Sr(M,Ge)}});return function(Pe){return J.apply(this,arguments)}}())}),ml.apply(this,arguments)}function Ca(){return(Ca=(0,d.Z)(function*(y,p,m){const b=(0,R.m9)(y),M=L1.credentialWithLink(p,m||Kt());return ae(M._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),fc(b,M)})).apply(this,arguments)}function gl(){return(gl=(0,d.Z)(function*(y,p){return xe(y,"POST","/v1/accounts:createAuthUri",Te(y,p))})).apply(this,arguments)}function vl(){return vl=(0,d.Z)(function*(y,p){const b={identifier:p,continueUri:ft()?Kt():"http://localhost"},{signinMethods:M}=yield function Du(y,p){return gl.apply(this,arguments)}((0,R.m9)(y),b);return M||[]}),vl.apply(this,arguments)}function yc(){return yc=(0,d.Z)(function*(y,p){const m=(0,R.m9)(y),M={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&ks(m.auth,M,p);const{email:P}=yield function _u(y,p){return va.apply(this,arguments)}(m.auth,M);P!==y.email&&(yield y.reload())}),yc.apply(this,arguments)}function _c(){return _c=(0,d.Z)(function*(y,p,m){const b=(0,R.m9)(y),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};m&&ks(b.auth,P,m);const{email:B}=yield function gi(y,p){return vi.apply(this,arguments)}(b.auth,P);B!==y.email&&(yield y.reload())}),_c.apply(this,arguments)}function _l(){return(_l=(0,d.Z)(function*(y,p){return xe(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function wl(){return wl=(0,d.Z)(function*(y,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const b=(0,R.m9)(y),P={idToken:yield b.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},B=yield ut(b,function K1(y,p){return _l.apply(this,arguments)}(b.auth,P));b.displayName=B.displayName||null,b.photoURL=B.photoUrl||null;const J=b.providerData.find(({providerId:Pe})=>"password"===Pe);J&&(J.displayName=b.displayName,J.photoURL=b.photoURL),yield b._updateTokensIfNecessary(B)}),wl.apply(this,arguments)}function On(y,p,m){return bl.apply(this,arguments)}function bl(){return(bl=(0,d.Z)(function*(y,p,m){const{auth:b}=y,P={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(P.email=p),m&&(P.password=m);const B=yield ut(y,ma(b,P));yield y._updateTokensIfNecessary(B,!0)})).apply(this,arguments)}class zs{constructor(p,m,b={}){this.isNewUser=p,this.providerId=m,this.profile=b}}class Ph extends zs{constructor(p,m,b,M){super(p,m,b),this.username=M}}class Z1 extends zs{constructor(p,m){super(p,"facebook.com",m)}}class L2 extends Ph{constructor(p,m){super(p,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class Cl extends zs{constructor(p,m){super(p,"google.com",m)}}class Mu extends Ph{constructor(p,m,b){super(p,"twitter.com",m,b)}}function xu(y){const{user:p,_tokenResponse:m}=y;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function kh(y){var p,m;if(!y)return null;const{providerId:b}=y,M=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},P=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!b&&y?.idToken){const B=null===(m=null===(p=an(y.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(B)return new zs(P,"anonymous"!==B&&"custom"!==B?B:null)}if(!b)return null;switch(b){case"facebook.com":return new Z1(P,M);case"github.com":return new L2(P,M);case"google.com":return new Cl(P,M);case"twitter.com":return new Mu(P,M,y.screenName||null);case"custom":case"anonymous":return new zs(P,null);default:return new zs(P,b,M)}}(m)}class Os{constructor(p,m,b){this.type=p,this.credential=m,this.auth=b}static _fromIdtoken(p,m){return new Os("enroll",p,m)}static _fromMfaPendingCredential(p){return new Os("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,b;if(p?.multiFactorSession){if(null!==(m=p.multiFactorSession)&&void 0!==m&&m.pendingCredential)return Os._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(b=p.multiFactorSession)&&void 0!==b&&b.idToken)return Os._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Rs{constructor(p,m,b){this.session=p,this.hints=m,this.signInResolver=b}static _fromError(p,m){const b=vn(p),M=m.customData._serverResponse,P=(M.mfaInfo||[]).map(J=>pc._fromServerResponse(b,J));ae(M.mfaPendingCredential,b,"internal-error");const B=Os._fromMfaPendingCredential(M.mfaPendingCredential);return new Rs(B,P,function(){var J=(0,d.Z)(function*(Pe){const Ge=yield Pe._process(b,B);delete M.mfaInfo,delete M.mfaPendingCredential;const rt=Object.assign(Object.assign({},M),{idToken:Ge.idToken,refreshToken:Ge.refreshToken});switch(m.operationType){case"signIn":const st=yield qr._fromIdTokenResponse(b,m.operationType,rt);return yield b._updateCurrentUser(st.user),st;case"reauthenticate":return ae(m.user,b,"internal-error"),qr._forOperation(m.user,m.operationType,rt);default:De(b,"internal-error")}});return function(Pe){return J.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,d.Z)(function*(){return m.signInResolver(p)})()}}class Ls{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(b=>pc._fromServerResponse(p.auth,b)))})}static _fromUser(p){return new Ls(p)}getSession(){var p=this;return(0,d.Z)(function*(){return Os._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,m){var b=this;return(0,d.Z)(function*(){const M=p,P=yield b.getSession(),B=yield ut(b.user,M._process(b.user.auth,P,m));return yield b.user._updateTokensIfNecessary(B),b.user.reload()})()}unenroll(p){var m=this;return(0,d.Z)(function*(){const b="string"==typeof p?p:p.uid,M=yield m.user.getIdToken();try{const P=yield ut(m.user,function Dl(y,p){return xe(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Te(y,p))}(m.user.auth,{idToken:M,mfaEnrollmentId:b}));m.enrolledFactors=m.enrolledFactors.filter(({uid:B})=>B!==b),yield m.user._updateTokensIfNecessary(P),yield m.user.reload()}catch(P){throw P}})()}}const us=new WeakMap,Vs="__sak";class Tl{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Vs,"1"),this.storage.removeItem(Vs),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Hs=(()=>{class y extends Tl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,b)=>this.onStorageEvent(m,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function bc(){const y=(0,R.z$)();return ne(y)||pn(y)}()&&function ic(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=mo(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const b of Object.keys(this.listeners)){const M=this.storage.getItem(b),P=this.localCache[b];M!==P&&m(b,P,M)}}onStorageEvent(m,b=!1){if(!m.key)return void this.forAllChangedKeys((J,Pe,Ge)=>{this.notifyListeners(J,Ge)});const M=m.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const J=this.storage.getItem(M);if(m.newValue!==J)null!==m.newValue?this.storage.setItem(M,m.newValue):this.storage.removeItem(M);else if(this.localCache[M]===m.newValue&&!b)return}const P=()=>{const J=this.storage.getItem(M);!b&&this.localCache[M]===J||this.notifyListeners(M,J)},B=this.storage.getItem(M);!function qi(){return(0,R.w1)()&&10===document.documentMode}()||B===m.newValue||m.newValue===m.oldValue?P():setTimeout(P,10)}notifyListeners(m,b){this.localCache[m]=b;const M=this.listeners[m];if(M)for(const P of Array.from(M))P(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,b,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:b,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,b){var M=()=>super._set,P=this;return(0,d.Z)(function*(){yield M().call(P,m,b),P.localCache[m]=JSON.stringify(b)})()}_get(m){var b=()=>super._get,M=this;return(0,d.Z)(function*(){const P=yield b().call(M,m);return M.localCache[m]=JSON.stringify(P),P})()}_remove(m){var b=()=>super._remove,M=this;return(0,d.Z)(function*(){yield b().call(M,m),delete M.localCache[m]})()}}return y.type="LOCAL",y})(),jo=(()=>{class y extends Tl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,b){}_removeListener(m,b){}}return y.type="SESSION",y})();let Ta=(()=>{class y{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const b=this.receivers.find(P=>P.isListeningto(m));if(b)return b;const M=new y(m);return this.receivers.push(M),M}isListeningto(m){return this.eventTarget===m}handleEvent(m){var b=this;return(0,d.Z)(function*(){const M=m,{eventId:P,eventType:B,data:J}=M.data,Pe=b.handlersMap[B];if(!Pe?.size)return;M.ports[0].postMessage({status:"ack",eventId:P,eventType:B});const Ge=Array.from(Pe).map(function(){var st=(0,d.Z)(function*(Fn){return Fn(M.origin,J)});return function(Fn){return st.apply(this,arguments)}}()),rt=yield function ku(y){return Promise.all(y.map(function(){var p=(0,d.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(b){return{fulfilled:!1,reason:b}}});return function(m){return p.apply(this,arguments)}}()))}(Ge);M.ports[0].postMessage({status:"done",eventId:P,eventType:B,response:rt})})()}_subscribe(m,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(b)}_unsubscribe(m,b){this.handlersMap[m]&&b&&this.handlersMap[m].delete(b),(!b||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Ma(y="",p=10){let m="";for(let b=0;b<p;b++)m+=Math.floor(10*Math.random());return y+m}class ed{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,b=50){var M=this;return(0,d.Z)(function*(){const P=typeof MessageChannel<"u"?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let B,J;return new Promise((Pe,Ge)=>{const rt=Ma("",20);P.port1.start();const st=setTimeout(()=>{Ge(new Error("unsupported_event"))},b);J={messageChannel:P,onMessage(Fn){const Qo=Fn;if(Qo.data.eventId===rt)switch(Qo.data.status){case"ack":clearTimeout(st),B=setTimeout(()=>{Ge(new Error("timeout"))},3e3);break;case"done":clearTimeout(B),Pe(Qo.data.response);break;default:clearTimeout(st),clearTimeout(B),Ge(new Error("invalid_response"))}}},M.handlers.add(J),P.port1.addEventListener("message",J.onMessage),M.target.postMessage({eventType:p,eventId:rt,data:m},[P.port2])}).finally(()=>{J&&M.removeMessageHandler(J)})})()}}function Cn(){return window}function xl(){return typeof Cn().WorkerGlobalScope<"u"&&"function"==typeof Cn().importScripts}function Il(){return(Il=(0,d.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Bs="firebaseLocalStorageDb",Kn=1,zu="firebaseLocalStorage",Cc="fbase_key";class Sc{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function $o(y,p){return y.transaction([zu],p?"readwrite":"readonly").objectStore(zu)}function kl(){const y=indexedDB.open(Bs,Kn);return new Promise((p,m)=>{y.addEventListener("error",()=>{m(y.error)}),y.addEventListener("upgradeneeded",()=>{const b=y.result;try{b.createObjectStore(zu,{keyPath:Cc})}catch(M){m(M)}}),y.addEventListener("success",(0,d.Z)(function*(){const b=y.result;b.objectStoreNames.contains(zu)?p(b):(b.close(),yield function Rh(){const y=indexedDB.deleteDatabase(Bs);return new Sc(y).toPromise()}(),p(yield kl()))}))})}function Ys(y,p,m){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,d.Z)(function*(y,p,m){const b=$o(y,!0).put({[Cc]:p,value:m});return new Sc(b).toPromise()})).apply(this,arguments)}function xa(){return(xa=(0,d.Z)(function*(y,p){const m=$o(y,!1).get(p),b=yield new Sc(m).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function ds(y,p){const m=$o(y,!0).delete(p);return new Sc(m).toPromise()}const js=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,d.Z)(function*(){return m.db||(m.db=yield kl()),m.db})()}_withRetries(m){var b=this;return(0,d.Z)(function*(){let M=0;for(;;)try{const P=yield b._openDb();return yield m(P)}catch(P){if(M++>3)throw P;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,d.Z)(function*(){return xl()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,d.Z)(function*(){m.receiver=Ta._getInstance(function mr(){return xl()?self:null}()),m.receiver._subscribe("keyChanged",function(){var b=(0,d.Z)(function*(M,P){return{keyProcessed:(yield m._poll()).includes(P.key)}});return function(M,P){return b.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var b=(0,d.Z)(function*(M,P){return["keyChanged"]});return function(M,P){return b.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,d.Z)(function*(){var b,M;if(m.activeServiceWorker=yield function Pu(){return Il.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new ed(m.activeServiceWorker);const P=yield m.sender._send("ping",{},800);P&&null!==(b=P[0])&&void 0!==b&&b.fulfilled&&null!==(M=P[0])&&void 0!==M&&M.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var b=this;return(0,d.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function Al(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:m},b.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const m=yield kl();return yield Ys(m,Vs,"1"),yield ds(m,Vs),!0}catch{}return!1})()}_withPendingWrite(m){var b=this;return(0,d.Z)(function*(){b.pendingWrites++;try{yield m()}finally{b.pendingWrites--}})()}_set(m,b){var M=this;return(0,d.Z)(function*(){return M._withPendingWrite((0,d.Z)(function*(){return yield M._withRetries(P=>Ys(P,m,b)),M.localCache[m]=b,M.notifyServiceWorker(m)}))})()}_get(m){var b=this;return(0,d.Z)(function*(){const M=yield b._withRetries(P=>function Ec(y,p){return xa.apply(this,arguments)}(P,m));return b.localCache[m]=M,M})()}_remove(m){var b=this;return(0,d.Z)(function*(){return b._withPendingWrite((0,d.Z)(function*(){return yield b._withRetries(M=>ds(M,m)),delete b.localCache[m],b.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,d.Z)(function*(){const b=yield m._withRetries(B=>{const J=$o(B,!1).getAll();return new Sc(J).toPromise()});if(!b)return[];if(0!==m.pendingWrites)return[];const M=[],P=new Set;for(const{fbase_key:B,value:J}of b)P.add(B),JSON.stringify(m.localCache[B])!==JSON.stringify(J)&&(m.notifyListeners(B,J),M.push(B));for(const B of Object.keys(m.localCache))m.localCache[B]&&!P.has(B)&&(m.notifyListeners(B,null),M.push(B));return M})()}notifyListeners(m,b){this.localCache[m]=b;const M=this.listeners[m];if(M)for(const P of Array.from(M))P(b)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})(),Tc=1e12;class Ru{constructor(p){this.auth=p,this.counter=Tc,this._widgets=new Map}render(p,m){const b=this.counter;return this._widgets.set(b,new Fu(p,this.auth.name,m||{})),this.counter++,b}reset(p){var m;const b=p||Tc;null===(m=this._widgets.get(b))||void 0===m||m.delete(),this._widgets.delete(b)}getResponse(p){var m;return(null===(m=this._widgets.get(p||Tc))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,d.Z)(function*(){var b;return null===(b=m._widgets.get(p||Tc))||void 0===b||b.execute(),""})()}}class Fu{constructor(p,m,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof p?document.getElementById(p):p;ae(M,"argument-error",{appName:m}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function e8(y){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<y;b++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Lh=er("rcb"),t8=new ho(3e4,6e4);class n8{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=Cn().grecaptcha)||void 0===p||!p.render)}load(p,m=""){return ae(function Vh(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(m),p,"argument-error"),this.shouldResolveImmediately(m)&&Gt(Cn().grecaptcha)?Promise.resolve(Cn().grecaptcha):new Promise((b,M)=>{const P=Cn().setTimeout(()=>{M(Me(p,"network-request-failed"))},t8.get());Cn()[Lh]=()=>{Cn().clearTimeout(P),delete Cn()[Lh];const J=Cn().grecaptcha;if(!J||!Gt(J))return void M(Me(p,"internal-error"));const Pe=J.render;J.render=(Ge,rt)=>{const st=Pe(Ge,rt);return this.counter++,st},this.hostLanguage=m,b(J)},Cr(`https://www.google.com/recaptcha/api.js??${(0,R.xO)({onload:Lh,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(P),M(Me(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var m;return!(null===(m=Cn().grecaptcha)||void 0===m||!m.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class gr{load(p){return(0,d.Z)(function*(){return new Ru(p)})()}clearedOneInstance(){}}const Mc="recaptcha",Pl={theme:"light",type:"image"};class Nu{constructor(p,m=Object.assign({},Pl),b){this.parameters=m,this.type=Mc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=vn(b),this.isInvisible="invisible"===this.parameters.size,ae(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof p?document.getElementById(p):p;ae(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new gr:new n8,this.validateStartingState()}verify(){var p=this;return(0,d.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),b=p.getAssertedRecaptcha();return b.getResponse(m)||new Promise(P=>{const B=J=>{J&&(p.tokenChangeListeners.delete(B),P(J))};p.tokenChangeListeners.add(B),p.isInvisible&&b.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){ae(!this.parameters.sitekey,this.auth,"argument-error"),ae(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ae(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(b=>b(m)),"function"==typeof p)p(m);else if("string"==typeof p){const b=Cn()[p];"function"==typeof b&&b(m)}}}assertNotDestroyed(){ae(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,d.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const b=document.createElement("div");m.appendChild(b),m=b}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,d.Z)(function*(){ae(ft()&&!xl(),p.auth,"internal-error"),yield function Ki(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function ie(y){return Fe.apply(this,arguments)}(p.auth);ae(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return ae(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class wo{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=nr._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function qs(){return(qs=(0,d.Z)(function*(y,p,m){const b=vn(y),M=yield xc(b,p,(0,R.m9)(m));return new wo(M,P=>fc(b,P))})).apply(this,arguments)}function Ol(){return(Ol=(0,d.Z)(function*(y,p,m){const b=(0,R.m9)(y);yield Ho(!1,b,"phone");const M=yield xc(b.auth,p,(0,R.m9)(m));return new wo(M,P=>U1(b,P))})).apply(this,arguments)}function Rl(){return(Rl=(0,d.Z)(function*(y,p,m){const b=(0,R.m9)(y),M=yield xc(b.auth,p,(0,R.m9)(m));return new wo(M,P=>j1(b,P))})).apply(this,arguments)}function xc(y,p,m){return oi.apply(this,arguments)}function oi(){return oi=(0,d.Z)(function*(y,p,m){var b;const M=yield m.verify();try{let P;if(ae("string"==typeof M,y,"argument-error"),ae(m.type===Mc,y,"argument-error"),P="string"==typeof p?{phoneNumber:p}:p,"session"in P){const B=P.session;if("phoneNumber"in P)return ae("enroll"===B.type,y,"internal-error"),(yield function Da(y,p){return xe(y,"POST","/v2/accounts/mfaEnrollment:start",Te(y,p))}(y,{idToken:B.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{ae("signin"===B.type,y,"internal-error");const J=(null===(b=P.multiFactorHint)||void 0===b?void 0:b.uid)||P.multiFactorUid;return ae(J,y,"missing-multi-factor-info"),(yield function $s(y,p){return xe(y,"POST","/v2/accounts/mfaSignIn:start",Te(y,p))}(y,{mfaPendingCredential:B.credential,mfaEnrollmentId:J,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:B}=yield function P2(y,p){return bu.apply(this,arguments)}(y,{phoneNumber:P.phoneNumber,recaptchaToken:M});return B}}finally{m._reset()}}),oi.apply(this,arguments)}function yi(){return(yi=(0,d.Z)(function*(y,p){yield fr((0,R.m9)(y),p)})).apply(this,arguments)}let at=(()=>{class y{constructor(m){this.providerId=y.PROVIDER_ID,this.auth=vn(m)}verifyPhoneNumber(m,b){return xc(this.auth,m,(0,R.m9)(b))}static credential(m,b){return nr._fromVerification(m,b)}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:b,temporaryProof:M}=m;return b&&M?nr._fromTokenResponse(b,M):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function dt(y,p){return p?An(p):(ae(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Rn extends Ro{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Wi(p,this._buildIdpRequest())}_linkToIdToken(p,m){return Wi(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return Wi(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function rd(y){return hc(y.auth,new Rn(y),y.bypassAuthState)}function Ic(y){const{auth:p,user:m}=y;return ae(m,p,"internal-error"),ls(m,new Rn(y),y.bypassAuthState)}function $n(y){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,d.Z)(function*(y){const{auth:p,user:m}=y;return ae(m,p,"internal-error"),fr(m,new Rn(y),y.bypassAuthState)})).apply(this,arguments)}class Lu{constructor(p,m,b,M,P=!1){this.auth=p,this.resolver=b,this.user=M,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,d.Z)(function*(b,M){p.pendingPromise={resolve:b,reject:M};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(P){p.reject(P)}});return function(b,M){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,d.Z)(function*(){const{urlResponse:b,sessionId:M,postBody:P,tenantId:B,error:J,type:Pe}=p;if(J)return void m.reject(J);const Ge={auth:m.auth,requestUri:b,sessionId:M,tenantId:B||void 0,postBody:P||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Pe)(Ge))}catch(rt){m.reject(rt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return rd;case"linkViaPopup":case"linkViaRedirect":return $n;case"reauthViaPopup":case"reauthViaRedirect":return Ic;default:De(this.auth,"internal-error")}}resolve(p){nt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){nt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const zi=new ho(2e3,1e4);function ka(){return(ka=(0,d.Z)(function*(y,p,m){const b=vn(y);Le(y,p,Lo);const M=dt(b,m);return new Nl(b,"signInViaPopup",p,M).executeNotNull()})).apply(this,arguments)}function hs(){return(hs=(0,d.Z)(function*(y,p,m){const b=(0,R.m9)(y);Le(b.auth,p,Lo);const M=dt(b.auth,m);return new Nl(b.auth,"reauthViaPopup",p,M,b).executeNotNull()})).apply(this,arguments)}function Vu(){return(Vu=(0,d.Z)(function*(y,p,m){const b=(0,R.m9)(y);Le(b.auth,p,Lo);const M=dt(b.auth,m);return new Nl(b.auth,"linkViaPopup",p,M,b).executeNotNull()})).apply(this,arguments)}let Nl=(()=>{class y extends Lu{constructor(m,b,M,P,B){super(m,b,P,B),this.provider=M,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var m=this;return(0,d.Z)(function*(){const b=yield m.execute();return ae(b,m.auth,"internal-error"),b})()}onExecution(){var m=this;return(0,d.Z)(function*(){nt(1===m.filter.length,"Popup operations only handle one event");const b=Ma();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],b),m.authWindow.associatedEvent=b,m.resolver._originValidation(m.auth).catch(M=>{m.reject(M)}),m.resolver._isIframeWebStorageSupported(m.auth,M=>{M||m.reject(Me(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Me(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const m=()=>{var b,M;this.pollId=null!==(M=null===(b=this.authWindow)||void 0===b?void 0:b.window)&&void 0!==M&&M.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Me(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(m,zi.get())};m()}}return y.currentPopupAction=null,y})();const Go="pendingRedirect",fs=new Map;class or extends Lu{constructor(p,m,b=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,b),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,d.Z)(function*(){let b=fs.get(m.auth._key());if(!b){try{const P=(yield function Hu(y,p){return Bu.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;b=()=>Promise.resolve(P)}catch(M){b=()=>Promise.reject(M)}fs.set(m.auth._key(),b)}return m.bypassAuthState||fs.set(m.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,b=this;return(0,d.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(b,p);if("unknown"!==p.type){if(p.eventId){const M=yield b.auth._redirectUserForId(p.eventId);if(M)return b.user=M,m().call(b,p);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function Bu(){return(Bu=(0,d.Z)(function*(y,p){const m=qo(p),b=Vl(y);if(!(yield b._isAvailable()))return!1;const M="true"===(yield b._get(m));return yield b._remove(m),M})).apply(this,arguments)}function Ws(y,p){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,d.Z)(function*(y,p){return Vl(y)._set(qo(p),"true")})).apply(this,arguments)}function id(y,p){fs.set(y._key(),p)}function Vl(y){return An(y._redirectPersistence)}function qo(y){return Y(Go,y.config.apiKey,y.name)}function od(y,p,m){return function Bh(y,p,m){return Oi.apply(this,arguments)}(y,p,m)}function Oi(){return(Oi=(0,d.Z)(function*(y,p,m){const b=vn(y);Le(y,p,Lo),yield b._initializationPromise;const M=dt(b,m);return yield Ws(M,b),M._openRedirect(b,p,"signInViaRedirect")})).apply(this,arguments)}function kc(y,p,m){return function Zi(y,p,m){return si.apply(this,arguments)}(y,p,m)}function si(){return(si=(0,d.Z)(function*(y,p,m){const b=(0,R.m9)(y);Le(b.auth,p,Lo),yield b.auth._initializationPromise;const M=dt(b.auth,m);yield Ws(M,b.auth);const P=yield Gn(b);return M._openRedirect(b.auth,p,"reauthViaRedirect",P)})).apply(this,arguments)}function Tr(y,p,m){return function Yu(y,p,m){return Uu.apply(this,arguments)}(y,p,m)}function Uu(){return(Uu=(0,d.Z)(function*(y,p,m){const b=(0,R.m9)(y);Le(b.auth,p,Lo),yield b.auth._initializationPromise;const M=dt(b.auth,m);yield Ho(!1,b,p.providerId),yield Ws(M,b.auth);const P=yield Gn(b);return M._openRedirect(b.auth,p,"linkViaRedirect",P)})).apply(this,arguments)}function ai(){return(ai=(0,d.Z)(function*(y,p){return yield vn(y)._initializationPromise,ci(y,p,!1)})).apply(this,arguments)}function ci(y,p){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,d.Z)(function*(y,p,m=!1){const b=vn(y),M=dt(b,p),B=yield new or(b,M,m).execute();return B&&!m&&(delete B.user._redirectEventId,yield b._persistUserIfCurrent(B.user),yield b._setRedirectUser(null,p)),B})).apply(this,arguments)}function Gn(y){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,d.Z)(function*(y){const p=Ma(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class Pa{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(p,b)&&(m=!0,this.sendToConsumer(p,b),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function sr(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bo(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var b;if(p.error&&!bo(p)){const M=(null===(b=p.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";m.onError(Me(this.auth,M))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const b=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&b}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Qi(p))}saveEventToCache(p){this.cachedEventUids.add(Qi(p)),this.lastProcessedEventTime=Date.now()}}function Qi(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function bo({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===p?.code}function ps(y){return Yh.apply(this,arguments)}function Yh(){return(Yh=(0,d.Z)(function*(y,p={}){return xe(y,"GET","/v1/projects",p)})).apply(this,arguments)}const Hl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Bl=/^https?/;function Wo(){return(Wo=(0,d.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield ps(y);for(const m of p)try{if(Ul(m))return}catch{}De(y,"unauthorized-domain")})).apply(this,arguments)}function Ul(y){const p=Kt(),{protocol:m,hostname:b}=new URL(p);if(y.startsWith("chrome-extension://")){const B=new URL(y);return""===B.hostname&&""===b?"chrome-extension:"===m&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&B.hostname===b}if(!Bl.test(m))return!1;if(Hl.test(y))return b===y;const M=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(b)}const za=new ho(3e4,6e4);function Mt(){const y=Cn().___jsl;if(y?.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let m=0;m<y.CP.length;m++)y.CP[m]=null}let jl=null;const Uh=new ho(5e3,15e3),sd="__/auth/iframe",Xi="emulator/auth/iframe",ad={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ld(y){const p=y.config;ae(p.authDomain,y,"auth-domain-config-required");const m=p.emulator?de(p,Xi):`https://${y.config.authDomain}/${sd}`,b={apiKey:p.apiKey,appName:y.name,v:ce.SDK_VERSION},M=cd.get(y.config.apiHost);M&&(b.eid=M);const P=y._getFrameworks();return P.length&&(b.fw=P.join(",")),`${m}?${(0,R.xO)(b).slice(1)}`}function D(){return D=(0,d.Z)(function*(y){const p=yield function Ri(y){return jl=jl||function Ji(y){return new Promise((p,m)=>{var b,M,P;function B(){Mt(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Mt(),m(Me(y,"network-request-failed"))},timeout:za.get()})}if(null!==(M=null===(b=Cn().gapi)||void 0===b?void 0:b.iframes)&&void 0!==M&&M.Iframe)p(gapi.iframes.getContext());else{if(null===(P=Cn().gapi)||void 0===P||!P.load){const J=er("iframefcb");return Cn()[J]=()=>{gapi.load?B():m(Me(y,"network-request-failed"))},Cr(`https://apis.google.com/js/api.js?onload=${J}`).catch(Pe=>m(Pe))}B()}}).catch(p=>{throw jl=null,p})}(y),jl}(y),m=Cn().gapi;return ae(m,y,"internal-error"),p.open({where:document.body,url:ld(y),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ad,dontclear:!0},b=>new Promise(function(){var M=(0,d.Z)(function*(P,B){yield b.restyle({setHideOnLeave:!1});const J=Me(y,"network-request-failed"),Pe=Cn().setTimeout(()=>{B(J)},Uh.get());function Ge(){Cn().clearTimeout(Pe),P(b)}b.ping(Ge).then(Ge,()=>{B(J)})});return function(P,B){return M.apply(this,arguments)}}()))}),D.apply(this,arguments)}const I={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},O=500,G=600,Q="_blank",oe="http://localhost";class We{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const zt="__/auth/handler",Ot="emulator/auth/handler",Kr=encodeURIComponent("fac");function Sn(y,p,m,b,M,P){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,d.Z)(function*(y,p,m,b,M,P){ae(y.config.authDomain,y,"auth-domain-config-required"),ae(y.config.apiKey,y,"invalid-api-key");const B={apiKey:y.config.apiKey,appName:y.name,authType:m,redirectUrl:b,v:ce.SDK_VERSION,eventId:M};if(p instanceof Lo){p.setDefaultLanguage(y.languageCode),B.providerId=p.providerId||"",(0,R.xb)(p.getCustomParameters())||(B.customParameters=JSON.stringify(p.getCustomParameters()));for(const[rt,st]of Object.entries(P||{}))B[rt]=st}if(p instanceof yo){const rt=p.getScopes().filter(st=>""!==st);rt.length>0&&(B.scopes=rt.join(","))}y.tenantId&&(B.tid=y.tenantId);const J=B;for(const rt of Object.keys(J))void 0===J[rt]&&delete J[rt];const Pe=yield y._getAppCheckToken(),Ge=Pe?`#${Kr}=${encodeURIComponent(Pe)}`:"";return`${function ms({config:y}){return y.emulator?de(y,Ot):`https://${y.authDomain}/${zt}`}(y)}?${(0,R.xO)(J).slice(1)}${Ge}`})).apply(this,arguments)}const Qs="webStorageSupport",eo=class Mr{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jo,this._completeRedirectFn=ci,this._overrideRedirectResult=id}_openPopup(p,m,b,M){var P=this;return(0,d.Z)(function*(){var B;nt(null===(B=P.eventManagers[p._key()])||void 0===B?void 0:B.manager,"_initialize() not called before _openPopup()");const J=yield Sn(p,m,b,Kt(),M);return function $e(y,p,m,b=O,M=G){const P=Math.max((window.screen.availHeight-M)/2,0).toString(),B=Math.max((window.screen.availWidth-b)/2,0).toString();let J="";const Pe=Object.assign(Object.assign({},I),{width:b.toString(),height:M.toString(),top:P,left:B}),Ge=(0,R.z$)().toLowerCase();m&&(J=He(Ge)?Q:m),we(Ge)&&(p=p||oe,Pe.scrollbars="yes");const rt=Object.entries(Pe).reduce((Fn,[Qo,o1])=>`${Fn}${Qo}=${o1},`,"");if(function Gr(y=(0,R.z$)()){var p;return pn(y)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(Ge)&&"_self"!==J)return function pt(y,p){const m=document.createElement("a");m.href=y,m.target=p;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(b)}(p||"",J),new We(null);const st=window.open(p||"",J,rt);ae(st,y,"popup-blocked");try{st.focus()}catch{}return new We(st)}(p,J,Ma())})()}_openRedirect(p,m,b,M){var P=this;return(0,d.Z)(function*(){return yield P._originValidation(p),function td(y){Cn().location.href=y}(yield Sn(p,m,b,Kt(),M)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:M,promise:P}=this.eventManagers[m];return M?Promise.resolve(M):(nt(P,"If manager is not set, promise should be"),P)}const b=this.initAndGetManager(p);return this.eventManagers[m]={promise:b},b.catch(()=>{delete this.eventManagers[m]}),b}initAndGetManager(p){var m=this;return(0,d.Z)(function*(){const b=yield function C(y){return D.apply(this,arguments)}(p),M=new Pa(p);return b.register("authEvent",P=>(ae(P?.authEvent,p,"invalid-auth-event"),{status:M.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:M},m.iframes[p._key()]=b,M})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(Qs,{type:Qs},M=>{var P;const B=null===(P=M?.[0])||void 0===P?void 0:P[Qs];void 0!==B&&m(!!B),De(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Yl(y){return Wo.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return mo()||ne()||pn()}};class gs{constructor(p){this.factorId=p}_process(p,m,b){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,b);case"signin":return this._finalizeSignIn(p,m.credential);default:return At("unexpected MultiFactorSessionType")}}}class $u extends gs{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new $u(p)}_finalizeEnroll(p,m,b){return function Au(y,p){return xe(y,"POST","/v2/accounts/mfaEnrollment:finalize",Te(y,p))}(p,{idToken:m,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function Nh(y,p){return xe(y,"POST","/v2/accounts/mfaSignIn:finalize",Te(y,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Gu=(()=>{class y{constructor(){}static assertion(m){return $u._fromCredential(m)}}return y.FACTOR_ID="phone",y})();var $h="@firebase/auth";class $l{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,d.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(b=>{p(b?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);m&&(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function zc(){return window}(0,R.Pz)("authIdTokenMaxAge"),function B2(y){(0,ce._registerComponent)(new be.wA("auth",(p,{options:m})=>{const b=p.getProvider("app").getImmediate(),M=p.getProvider("heartbeat"),P=p.getProvider("app-check-internal"),{apiKey:B,authDomain:J}=b.options;ae(B&&!B.includes(":"),"invalid-api-key",{appName:b.name});const Pe={apiKey:B,authDomain:J,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:me(y)},Ge=new xi(b,M,P,Pe);return function jn(y,p){const m=p?.persistence||[],b=(Array.isArray(m)?m:[m]).map(An);p?.errorMap&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(b,p?.popupRedirectResolver)}(Ge,m),Ge},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,b)=>{p.getProvider("auth-internal").initialize()})),(0,ce._registerComponent)(new be.wA("auth-internal",p=>{const m=vn(p.getProvider("auth").getImmediate());return new $l(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ce.registerVersion)($h,"0.23.2",function Gh(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,ce.registerVersion)($h,"0.23.2","esm2017")}("Browser");const i8=2e3;function Wu(){return Wu=(0,d.Z)(function*(y,p,m){var b;const{BuildInfo:M}=zc();nt(p.sessionId,"AuthEvent did not contain a session ID");const P=yield function Ra(y){return Ku.apply(this,arguments)}(p.sessionId),B={};return pn()?B.ibi=M.packageName:on()?B.apn=M.packageName:De(y,"operation-not-supported-in-this-environment"),M.displayName&&(B.appDisplayName=M.displayName),B.sessionId=P,Sn(y,m,p.type,void 0,null!==(b=p.eventId)&&void 0!==b?b:void 0,B)}),Wu.apply(this,arguments)}function Oa(){return(Oa=(0,d.Z)(function*(y){const{BuildInfo:p}=zc(),m={};pn()?m.iosBundleId=p.packageName:on()?m.androidPackageName=p.packageName:De(y,"operation-not-supported-in-this-environment"),yield ps(y,m)})).apply(this,arguments)}function Gl(){return(Gl=(0,d.Z)(function*(y,p,m){const{cordova:b}=zc();let M=()=>{};try{yield new Promise((P,B)=>{let J=null;function Pe(){var st;P();const Fn=null===(st=b.plugins.browsertab)||void 0===st?void 0:st.close;"function"==typeof Fn&&Fn(),"function"==typeof m?.close&&m.close()}function Ge(){J||(J=window.setTimeout(()=>{B(Me(y,"redirect-cancelled-by-user"))},i8))}function rt(){"visible"===document?.visibilityState&&Ge()}p.addPassiveListener(Pe),document.addEventListener("resume",Ge,!1),on()&&document.addEventListener("visibilitychange",rt,!1),M=()=>{p.removePassiveListener(Pe),document.removeEventListener("resume",Ge,!1),document.removeEventListener("visibilitychange",rt,!1),J&&window.clearTimeout(J)}})}finally{M()}})).apply(this,arguments)}function Ku(){return(Ku=(0,d.Z)(function*(y){const p=function j2(y){if(nt(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),m=new Uint8Array(p);for(let b=0;b<y.length;b++)m[b]=y.charCodeAt(b);return m}(y),m=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(m)).map(M=>M.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const Zu=20;class hd extends Pa{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(p)),super.onEvent(p)}initialized(){var p=this;return(0,d.Z)(function*(){yield p.initPromise})()}}function fd(y){return Qu.apply(this,arguments)}function Qu(){return(Qu=(0,d.Z)(function*(y){const p=yield pd()._get(Fc(y));return p&&(yield pd()._remove(Fc(y))),p})).apply(this,arguments)}function Wh(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<Zu;m++){const b=Math.floor(Math.random()*p.length);y.push(p.charAt(b))}return y.join("")}function pd(){return An(Hs)}function Fc(y){return Y("authEvent",y.config.apiKey,y.name)}function Ko(y){if(!y?.includes("?"))return{};const[p,...m]=y.split("?");return(0,R.zd)(m.join("?"))}const Xu=class Ju{constructor(){this._redirectPersistence=jo,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ci,this._overrideRedirectResult=id}_initialize(p){var m=this;return(0,d.Z)(function*(){const b=p._key();let M=m.eventManagers.get(b);return M||(M=new hd(p),m.eventManagers.set(b,M),m.attachCallbackListeners(p,M)),M})()}_openPopup(p){De(p,"operation-not-supported-in-this-environment")}_openRedirect(p,m,b,M){var P=this;return(0,d.Z)(function*(){!function s8(y){var p,m,b,M,P,B,J,Pe,Ge,rt;const st=zc();ae("function"==typeof(null===(p=st?.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ae(typeof(null===(m=st?.BuildInfo)||void 0===m?void 0:m.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ae("function"==typeof(null===(P=null===(M=null===(b=st?.cordova)||void 0===b?void 0:b.plugins)||void 0===M?void 0:M.browsertab)||void 0===P?void 0:P.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ae("function"==typeof(null===(Pe=null===(J=null===(B=st?.cordova)||void 0===B?void 0:B.plugins)||void 0===J?void 0:J.browsertab)||void 0===Pe?void 0:Pe.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ae("function"==typeof(null===(rt=null===(Ge=st?.cordova)||void 0===Ge?void 0:Ge.InAppBrowser)||void 0===rt?void 0:rt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const B=yield P._initialize(p);yield B.initialized(),B.resetRedirect(),function Ll(){fs.clear()}(),yield P._originValidation(p);const J=function ea(y,p,m=null){return{type:p,eventId:m,urlResponse:null,sessionId:Wh(),postBody:null,tenantId:y.tenantId,error:Me(y,"no-auth-event")}}(p,b,M);yield function $2(y,p){return pd()._set(Fc(y),p)}(p,J);const Pe=yield function U2(y,p,m){return Wu.apply(this,arguments)}(p,J,m),Ge=yield function o8(y){const{cordova:p}=zc();return new Promise(m=>{p.plugins.browsertab.isAvailable(b=>{let M=null;b?p.plugins.browsertab.openUrl(y):M=p.InAppBrowser.open(y,function Jt(y=(0,R.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),m(M)})})}(Pe);return function Oc(y,p,m){return Gl.apply(this,arguments)}(p,B,Ge)})()}_isIframeWebStorageSupported(p,m){throw new Error("Method not implemented.")}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function dd(y){return Oa.apply(this,arguments)}(p)),this.originValidationPromises[m]}attachCallbackListeners(p,m){const{universalLinks:b,handleOpenURL:M,BuildInfo:P}=zc(),B=setTimeout((0,d.Z)(function*(){yield fd(p),m.onEvent(Zh())}),500),J=function(){var rt=(0,d.Z)(function*(st){clearTimeout(B);const Fn=yield fd(p);let Qo=null;Fn&&st?.url&&(Qo=function Rc(y,p){var m,b;const M=function gd(y){const p=Ko(y),m=p.link?decodeURIComponent(p.link):void 0,b=Ko(m).link,M=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return Ko(M).link||M||b||m||y}(p);if(M.includes("/__/auth/callback")){const P=Ko(M),B=P.firebaseError?function md(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(P.firebaseError)):null,J=null===(b=null===(m=B?.code)||void 0===m?void 0:m.split("auth/"))||void 0===b?void 0:b[1],Pe=J?Me(J):null;return Pe?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Pe,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:M,postBody:null}}return null}(Fn,st.url)),m.onEvent(Qo||Zh())});return function(Fn){return rt.apply(this,arguments)}}();typeof b<"u"&&"function"==typeof b.subscribe&&b.subscribe(null,J);const Pe=M,Ge=`${P.packageName.toLowerCase()}://`;zc().handleOpenURL=function(){var rt=(0,d.Z)(function*(st){if(st.toLowerCase().startsWith(Ge)&&J({url:st}),"function"==typeof Pe)try{Pe(st)}catch(Fn){console.error(Fn)}});return function(st){return rt.apply(this,arguments)}}()}};function Zh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Me("no-auth-event")}}const Jh=1e3;function Co(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function Fa(y=(0,R.z$)()){return!("file:"!==Co()&&"ionic:"!==Co()&&"capacitor:"!==Co()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function l8(){try{const y=self.localStorage,p=Ma();if(y)return y.setItem(p,"1"),y.removeItem(p),!function c8(y=(0,R.z$)()){return function ql(){return(0,R.w1)()&&11===document?.documentMode}()||function a8(y=(0,R.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,R.hl)()}catch{return Xh()&&(0,R.hl)()}return!1}function Xh(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function r1(){return(function t1(){return"http:"===Co()||"https:"===Co()}()||(0,R.ru)()||Fa())&&!function n1(){return(0,R.b$)()||(0,R.UG)()}()&&l8()&&!Xh()}function G2(){return Fa()&&typeof document<"u"}function Wl(){return(Wl=(0,d.Z)(function*(){return!!G2()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},Jh);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const Fi={LOCAL:"local",NONE:"none",SESSION:"session"},Nc=ae,t4="persistence";function n4(y){return r4.apply(this,arguments)}function r4(){return(r4=(0,d.Z)(function*(y){yield y._initializationPromise;const p=o4(),m=Y(t4,y.config.apiKey,y.name);p&&p.setItem(m,y._getPersistence())})).apply(this,arguments)}function o4(){var y;try{return(null===(y=function e4(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const s4=ae;class Fr{constructor(){this.browserResolver=An(eo),this.cordovaResolver=An(Xu),this.underlyingResolver=null,this._redirectPersistence=jo,this._completeRedirectFn=ci,this._overrideRedirectResult=id}_initialize(p){var m=this;return(0,d.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,m,b,M){var P=this;return(0,d.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openPopup(p,m,b,M)})()}_openRedirect(p,m,b,M){var P=this;return(0,d.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openRedirect(p,m,b,M)})()}_isIframeWebStorageSupported(p,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,m)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return G2()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return s4(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,d.Z)(function*(){if(p.underlyingResolver)return;const m=yield function q2(){return Wl.apply(this,arguments)}();p.underlyingResolver=m?p.cordovaResolver:p.browserResolver})()}}function _i(y){return y.unwrap()}function W2(y){return Z2(y)}function Z2(y){const{_tokenResponse:p}=y instanceof R.ZR?y.customData:y;if(!p)return null;if(!(y instanceof R.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return at.credentialFromResult(y);const m=p.providerId;if(!m||m===ye.PASSWORD)return null;let b;switch(m){case ye.GOOGLE:b=lc;break;case ye.FACEBOOK:b=Cu;break;case ye.GITHUB:b=V1;break;case ye.TWITTER:b=ll;break;default:const{oauthIdToken:M,oauthAccessToken:P,oauthTokenSecret:B,pendingToken:J,nonce:Pe}=p;return P||B||M||J?J?m.startsWith("saml.")?as._create(m,J):No._fromParams({providerId:m,signInMethod:m,pendingToken:J,idToken:M,accessToken:P}):new As(m).credential({idToken:M,accessToken:P,rawNonce:Pe}):null}return y instanceof R.ZR?b.credentialFromError(y):b.credentialFromResult(y)}function xr(y,p){return p.catch(m=>{throw m instanceof R.ZR&&function K2(y,p){var m;const b=null===(m=p.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===p?.code)p.resolver=new _d(y,function El(y,p){var m;const b=(0,R.m9)(y),M=p;return ae(p.customData.operationType,b,"argument-error"),ae(null===(m=M.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,b,"argument-error"),Rs._fromError(b,M)}(y,p));else if(b){const M=Z2(p),P=p;M&&(P.credential=M,P.tenantId=b.tenantId||void 0,P.email=b.email||void 0,P.phoneNumber=b.phoneNumber||void 0)}}(y,m),m}).then(m=>{const M=m.user;return{operationType:m.operationType,credential:W2(m),additionalUserInfo:xu(m),user:ys.getOrCreate(M)}})}function vd(y,p){return yd.apply(this,arguments)}function yd(){return(yd=(0,d.Z)(function*(y,p){const m=yield p;return{verificationId:m.verificationId,confirm:b=>xr(y,m.confirm(b))}})).apply(this,arguments)}class _d{constructor(p,m){this.resolver=m,this.auth=function Kl(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return xr(_i(this.auth),this.resolver.resolveSignIn(p))}}class ys{constructor(p){this._delegate=p,this.multiFactor=function J1(y){const p=(0,R.m9)(y);return us.has(p)||us.set(p,Ls._fromUser(p)),us.get(p)}(p)}static getOrCreate(p){return ys.USER_MAP.has(p)||ys.USER_MAP.set(p,new ys(p)),ys.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var m=this;return(0,d.Z)(function*(){return xr(m.auth,U1(m._delegate,p))})()}linkWithPhoneNumber(p,m){var b=this;return(0,d.Z)(function*(){return vd(b.auth,function zl(y,p,m){return Ol.apply(this,arguments)}(b._delegate,p,m))})()}linkWithPopup(p){var m=this;return(0,d.Z)(function*(){return xr(m.auth,function vt(y,p,m){return Vu.apply(this,arguments)}(m._delegate,p,Fr))})()}linkWithRedirect(p){var m=this;return(0,d.Z)(function*(){return yield n4(vn(m.auth)),Tr(m._delegate,p,Fr)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var m=this;return(0,d.Z)(function*(){return xr(m.auth,j1(m._delegate,p))})()}reauthenticateWithPhoneNumber(p,m){return vd(this.auth,function Ia(y,p,m){return Rl.apply(this,arguments)}(this._delegate,p,m))}reauthenticateWithPopup(p){return xr(this.auth,function Ac(y,p,m){return hs.apply(this,arguments)}(this._delegate,p,Fr))}reauthenticateWithRedirect(p){var m=this;return(0,d.Z)(function*(){return yield n4(vn(m.auth)),kc(m._delegate,p,Fr)})()}sendEmailVerification(p){return function yl(y,p){return yc.apply(this,arguments)}(this._delegate,p)}unlink(p){var m=this;return(0,d.Z)(function*(){return yield function B1(y,p){return Wr.apply(this,arguments)}(m._delegate,p),m})()}updateEmail(p){return function Rr(y,p){return On((0,R.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function Yo(y,p){return On((0,R.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function dn(y,p){return yi.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function Ah(y,p){return wl.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,m){return function Tu(y,p,m){return _c.apply(this,arguments)}(this._delegate,p,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ys.USER_MAP=new WeakMap;const Vc=ae;let a4=(()=>{class y{constructor(m,b){if(this.app=m,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:M}=m.options;Vc(M,"invalid-api-key",{appName:m.name}),Vc(M,"invalid-api-key",{appName:m.name});const P=typeof window<"u"?Fr:void 0;this._delegate=b.initialize({options:{persistence:Zo(M,m.name),popupRedirectResolver:P}}),this._delegate._updateErrorMap(Ze),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ys.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,b){!function oc(y,p,m){const b=vn(y);ae(b._canInitEmulator,b,"emulator-config-failed"),ae(/^https?:\/\//.test(p),b,"invalid-emulator-scheme");const M=!!m?.disableWarnings,P=go(p),{host:B,port:J}=function $t(y){const p=go(y),m=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!m)return{host:"",port:null};const b=m[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(b);if(M){const P=M[1];return{host:P,port:sc(b.substr(P.length+1))}}{const[P,B]=b.split(":");return{host:P,port:sc(B)}}}(p);b.config.emulator={url:`${P}//${B}${null===J?"":`:${J}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:B,port:J,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function Ms(){function y(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,m,b)}applyActionCode(m){return function F2(y,p){return Bo.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return gc(this._delegate,m)}confirmPasswordReset(m,b){return function G1(y,p,m){return pl.apply(this,arguments)}(this._delegate,m,b)}createUserWithEmailAndPassword(m,b){var M=this;return(0,d.Z)(function*(){return xr(M._delegate,function Ps(y,p,m){return ki.apply(this,arguments)}(M._delegate,m,b))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function W1(y,p){return vl.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function N2(y,p){return"EMAIL_SIGNIN"===_a.parseLink(p)?.operation}(0,m)}getRedirectResult(){var m=this;return(0,d.Z)(function*(){Vc(r1(),m._delegate,"operation-not-supported-in-this-environment");const b=yield function Zn(y,p){return ai.apply(this,arguments)}(m._delegate,Fr);return b?xr(m._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function Qh(y,p){vn(y)._logFramework(p)}(this._delegate,m)}onAuthStateChanged(m,b,M){const{next:P,error:B,complete:J}=Hc(m,b,M);return this._delegate.onAuthStateChanged(P,B,J)}onIdTokenChanged(m,b,M){const{next:P,error:B,complete:J}=Hc(m,b,M);return this._delegate.onIdTokenChanged(P,B,J)}sendSignInLinkToEmail(m,b){return function vc(y,p,m){return ml.apply(this,arguments)}(this._delegate,m,b)}sendPasswordResetEmail(m,b){return function fl(y,p,m){return ii.apply(this,arguments)}(this._delegate,m,b||void 0)}setPersistence(m){var b=this;return(0,d.Z)(function*(){let M;switch(function Lc(y,p){Nc(Object.values(Fi).includes(p),y,"invalid-persistence-type"),(0,R.b$)()?Nc(p!==Fi.SESSION,y,"unsupported-persistence-type"):(0,R.UG)()?Nc(p===Fi.NONE,y,"unsupported-persistence-type"):Xh()?Nc(p===Fi.NONE||p===Fi.LOCAL&&(0,R.hl)(),y,"unsupported-persistence-type"):Nc(p===Fi.NONE||l8(),y,"unsupported-persistence-type")}(b._delegate,m),m){case Fi.SESSION:M=jo;break;case Fi.LOCAL:M=(yield An(js)._isAvailable())?js:Hs;break;case Fi.NONE:M=ni;break;default:return De("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(M)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return xr(this._delegate,function Er(y){return wa.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return xr(this._delegate,fc(this._delegate,m))}signInWithCustomToken(m){return xr(this._delegate,function ve(y,p){return Bt.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,b){return xr(this._delegate,function q1(y,p,m){return fc((0,R.m9)(y),L1.credential(p,m))}(this._delegate,m,b))}signInWithEmailLink(m,b){return xr(this._delegate,function ir(y,p,m){return Ca.apply(this,arguments)}(this._delegate,m,b))}signInWithPhoneNumber(m,b){return vd(this._delegate,function Hh(y,p,m){return qs.apply(this,arguments)}(this._delegate,m,b))}signInWithPopup(m){var b=this;return(0,d.Z)(function*(){return Vc(r1(),b._delegate,"operation-not-supported-in-this-environment"),xr(b._delegate,function Aa(y,p,m){return ka.apply(this,arguments)}(b._delegate,m,Fr))})()}signInWithRedirect(m){var b=this;return(0,d.Z)(function*(){return Vc(r1(),b._delegate,"operation-not-supported-in-this-environment"),yield n4(b._delegate),od(b._delegate,m,Fr)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function Ai(y,p){return _o.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Fi,y})();function Hc(y,p,m){let b=y;"function"!=typeof y&&({next:b,error:p,complete:m}=y);const M=b;return{next:B=>M(B&&ys.getOrCreate(B)),error:p,complete:m}}function Zo(y,p){const m=function u8(y,p){const m=o4();if(!m)return[];const b=Y(t4,y,p);switch(m.getItem(b)){case Fi.NONE:return[ni];case Fi.LOCAL:return[js,jo];case Fi.SESSION:return[jo];default:return[]}}(y,p);if(typeof self<"u"&&!m.includes(js)&&m.push(js),typeof window<"u")for(const b of[Hs,jo])m.includes(b)||m.push(b);return m.includes(ni)||m.push(ni),m}class Bc{constructor(){this.providerId="phone",this._delegate=new at(_i(te.Z.auth()))}static credential(p,m){return at.credential(p,m)}verifyPhoneNumber(p,m){return this._delegate.verifyPhoneNumber(p,m)}unwrap(){return this._delegate}}Bc.PHONE_SIGN_IN_METHOD=at.PHONE_SIGN_IN_METHOD,Bc.PROVIDER_ID=at.PROVIDER_ID;const Zl=ae;class Q2{constructor(p,m,b=te.Z.app()){var M;Zl(null===(M=b.options)||void 0===M?void 0:M.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new Nu(p,m,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function X2(y){y.INTERNAL.registerComponent(new be.wA("auth-compat",p=>{const m=p.getProvider("app-compat").getImmediate(),b=p.getProvider("auth");return new a4(m,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:K_EMAIL_SIGNIN,PASSWORD_RESET:K_PASSWORD_RESET,RECOVER_EMAIL:K_RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:K_REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:K_VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:K_VERIFY_EMAIL}},EmailAuthProvider:L1,FacebookAuthProvider:Cu,GithubAuthProvider:V1,GoogleAuthProvider:lc,OAuthProvider:As,SAMLAuthProvider:uc,PhoneAuthProvider:Bc,PhoneMultiFactorGenerator:Gu,RecaptchaVerifier:Q2,TwitterAuthProvider:ll,Auth:a4,AuthCredential:Ro,Error:R.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.4.2")}(te.Z)},5861:(Dt,Ie,F)=>{function d(R,ce,le,ee,be,Ee,ye){try{var $=R[Ee](ye),j=$.value}catch(K){return void le(K)}$.done?ce(j):Promise.resolve(j).then(ee,be)}function te(R){return function(){var ce=this,le=arguments;return new Promise(function(ee,be){var Ee=R.apply(ce,le);function ye(j){d(Ee,ee,be,ye,$,"next",j)}function $(j){d(Ee,ee,be,ye,$,"throw",j)}ye(void 0)})}}F.d(Ie,{Z:()=>te})},7582:(Dt,Ie,F)=>{function ce(de,pe){var ge={};for(var ue in de)Object.prototype.hasOwnProperty.call(de,ue)&&pe.indexOf(ue)<0&&(ge[ue]=de[ue]);if(null!=de&&"function"==typeof Object.getOwnPropertySymbols){var Te=0;for(ue=Object.getOwnPropertySymbols(de);Te<ue.length;Te++)pe.indexOf(ue[Te])<0&&Object.prototype.propertyIsEnumerable.call(de,ue[Te])&&(ge[ue[Te]]=de[ue[Te]])}return ge}function le(de,pe,ge,ue){var lt,Te=arguments.length,xe=Te<3?pe:null===ue?ue=Object.getOwnPropertyDescriptor(pe,ge):ue;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)xe=Reflect.decorate(de,pe,ge,ue);else for(var yt=de.length-1;yt>=0;yt--)(lt=de[yt])&&(xe=(Te<3?lt(xe):Te>3?lt(pe,ge,xe):lt(pe,ge))||xe);return Te>3&&xe&&Object.defineProperty(pe,ge,xe),xe}function K(de,pe,ge,ue){return new(ge||(ge=Promise))(function(xe,lt){function yt(Xt){try{Ct(ue.next(Xt))}catch(Pn){lt(Pn)}}function wn(Xt){try{Ct(ue.throw(Xt))}catch(Pn){lt(Pn)}}function Ct(Xt){Xt.done?xe(Xt.value):function Te(xe){return xe instanceof ge?xe:new ge(function(lt){lt(xe)})}(Xt.value).then(yt,wn)}Ct((ue=ue.apply(de,pe||[])).next())})}function Re(de){return this instanceof Re?(this.v=de,this):new Re(de)}function De(de,pe,ge){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Te,ue=ge.apply(de,pe||[]),xe=[];return Te=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),yt("next"),yt("throw"),yt("return",function lt(rn){return function(Hn){return Promise.resolve(Hn).then(rn,Pn)}}),Te[Symbol.asyncIterator]=function(){return this},Te;function yt(rn,Hn){ue[rn]&&(Te[rn]=function(In){return new Promise(function(Pr,jr){xe.push([rn,In,Pr,jr])>1||wn(rn,In)})},Hn&&(Te[rn]=Hn(Te[rn])))}function wn(rn,Hn){try{!function Ct(rn){rn.value instanceof Re?Promise.resolve(rn.value.v).then(Xt,Pn):Ei(xe[0][2],rn)}(ue[rn](Hn))}catch(In){Ei(xe[0][3],In)}}function Xt(rn){wn("next",rn)}function Pn(rn){wn("throw",rn)}function Ei(rn,Hn){rn(Hn),xe.shift(),xe.length&&wn(xe[0][0],xe[0][1])}}function qe(de){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ge,pe=de[Symbol.asyncIterator];return pe?pe.call(de):(de=function ht(de){var pe="function"==typeof Symbol&&Symbol.iterator,ge=pe&&de[pe],ue=0;if(ge)return ge.call(de);if(de&&"number"==typeof de.length)return{next:function(){return de&&ue>=de.length&&(de=void 0),{value:de&&de[ue++],done:!de}}};throw new TypeError(pe?"Object is not iterable.":"Symbol.iterator is not defined.")}(de),ge={},ue("next"),ue("throw"),ue("return"),ge[Symbol.asyncIterator]=function(){return this},ge);function ue(xe){ge[xe]=de[xe]&&function(lt){return new Promise(function(yt,wn){!function Te(xe,lt,yt,wn){Promise.resolve(wn).then(function(Ct){xe({value:Ct,done:yt})},lt)}(yt,wn,(lt=de[xe](lt)).done,lt.value)})}}}F.d(Ie,{FC:()=>De,KL:()=>qe,_T:()=>ce,gn:()=>le,mG:()=>K,qq:()=>Re}),"function"==typeof SuppressedError&&SuppressedError}},Dt=>{Dt(Dt.s=8182)}]);