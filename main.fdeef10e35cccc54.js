(self.webpackChunkhandwritten=self.webpackChunkhandwritten||[]).push([[179],{2011:(Yt,ee,B)=>{"use strict";B.d(ee,{Dh:()=>W,GT:()=>j,cc:()=>U,hO:()=>G,on:()=>z,pX:()=>H,xv:()=>q});var l=B(4650),V=B(9260),M=B(4976);Yt=B.hmd(Yt);const F=["ngOnDestroy"],H=(ae,ye,ve,Te={})=>new Proxy(ae,{get:(de,we)=>ve.runOutsideAngular(()=>{var Ge;if(ae[we])return!(null===(Ge=Te?.spy)||void 0===Ge)&&Ge.get&&Te.spy.get(we,ae[we]),ae[we];if(F.indexOf(we)>-1)return()=>{};const J=ye.toPromise().then(Me=>{const I=Me&&Me[we];return"function"==typeof I?I.bind(Me):I&&I.then?I.then(Re=>ve.run(()=>Re)):ve.run(()=>I)});return new Proxy(()=>{},{get:(Me,I)=>J[I],apply:(Me,I,Re)=>J.then(et=>{var qe;const it=et&&et(...Re);return!(null===(qe=Te?.spy)||void 0===qe)&&qe.apply&&Te.spy.apply(we,Re,it),it})})})}),j=(ae,ye)=>{ye.forEach(ve=>{Object.getOwnPropertyNames(ve.prototype||ve).forEach(Te=>{Object.defineProperty(ae.prototype,Te,Object.getOwnPropertyDescriptor(ve.prototype||ve,Te))})})};class Q{constructor(ye){return ye}}const W=new l.OlP("angularfire2.app.options"),q=new l.OlP("angularfire2.app.name");function z(ae,ye,ve){const de="object"==typeof ve&&ve||{};de.name=de.name||"string"==typeof ve&&ve||"[DEFAULT]";const Ge=V.Z.apps.filter(J=>J&&J.name===de.name)[0]||ye.runOutsideAngular(()=>V.Z.initializeApp(ae,de));try{JSON.stringify(ae)!==JSON.stringify(Ge.options)&&L("error",`${Ge.name} Firebase App already initialized with different options${Yt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Q(Ge)}const L=(ae,...ye)=>{(0,l.X6Q)()&&typeof console<"u"&&console[ae](...ye)},P={provide:Q,useFactory:z,deps:[W,l.R0b,[new l.FiY,q]]};let G=(()=>{class ae{constructor(ve){V.Z.registerVersion("angularfire",M.q4.full,"core"),V.Z.registerVersion("angularfire",M.q4.full,"app-compat"),V.Z.registerVersion("angular",l.q4F.full,ve.toString())}static initializeApp(ve,Te){return{ngModule:ae,providers:[{provide:W,useValue:ve},{provide:q,useValue:Te}]}}}return ae.\u0275fac=function(ve){return new(ve||ae)(l.LFG(l.Lbi))},ae.\u0275mod=l.oAB({type:ae}),ae.\u0275inj=l.cJS({providers:[P]}),ae})();function U(ae,ye,ve,Te,de){const[,we,Ge]=globalThis.\u0275AngularfireInstanceCache.find(J=>J[0]===ae)||[];if(we)return function X(ae,ye){try{return ae.toString()===ye.toString()}catch{return ae===ye}}(de,Ge)||(ie("error",`${ye} was already initialized on the ${ve} Firebase App with different settings.${le?" You may need to reload as Firebase is not HMR aware.":""}`),ie("warn",{is:de,was:Ge})),we;{const J=Te();return globalThis.\u0275AngularfireInstanceCache.push([ae,J,de]),J}}const le=!!Yt.hot,ie=(ae,...ye)=>{(0,l.X6Q)()&&typeof console<"u"&&console[ae](...ye)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(Yt,ee,B)=>{"use strict";B.d(ee,{q4:()=>Hn,iC:()=>Eo,HU:()=>Kt,vb:()=>pu,JM:()=>fu});var l=B(4650),V=B(259),M=B(5861),F=B(6881),H=B(2090),j=B(4859),Q=B(1877);const W=(C,T)=>T.some(R=>C instanceof R);let q,z;const G=new WeakMap,U=new WeakMap,X=new WeakMap,le=new WeakMap,ie=new WeakMap;let ve={get(C,T,R){if(C instanceof IDBTransaction){if("done"===T)return U.get(C);if("objectStoreNames"===T)return C.objectStoreNames||X.get(C);if("store"===T)return R.objectStoreNames[1]?void 0:R.objectStore(R.objectStoreNames[0])}return Ge(C[T])},set:(C,T,R)=>(C[T]=R,!0),has:(C,T)=>C instanceof IDBTransaction&&("done"===T||"store"===T)||T in C};function we(C){return"function"==typeof C?function de(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function P(){return z||(z=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(C)?function(...T){return C.apply(J(this),T),Ge(G.get(this))}:function(...T){return Ge(C.apply(J(this),T))}:function(T,...R){const te=C.call(J(this),T,...R);return X.set(te,T.sort?T.sort():[T]),Ge(te)}}(C):(C instanceof IDBTransaction&&function ye(C){if(U.has(C))return;const T=new Promise((R,te)=>{const me=()=>{C.removeEventListener("complete",xe),C.removeEventListener("error",Ve),C.removeEventListener("abort",Ve)},xe=()=>{R(),me()},Ve=()=>{te(C.error||new DOMException("AbortError","AbortError")),me()};C.addEventListener("complete",xe),C.addEventListener("error",Ve),C.addEventListener("abort",Ve)});U.set(C,T)}(C),W(C,function L(){return q||(q=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(C,ve):C)}function Ge(C){if(C instanceof IDBRequest)return function ae(C){const T=new Promise((R,te)=>{const me=()=>{C.removeEventListener("success",xe),C.removeEventListener("error",Ve)},xe=()=>{R(Ge(C.result)),me()},Ve=()=>{te(C.error),me()};C.addEventListener("success",xe),C.addEventListener("error",Ve)});return T.then(R=>{R instanceof IDBCursor&&G.set(R,C)}).catch(()=>{}),ie.set(T,C),T}(C);if(le.has(C))return le.get(C);const T=we(C);return T!==C&&(le.set(C,T),ie.set(T,C)),T}const J=C=>ie.get(C),Re=["get","getKey","getAll","getAllKeys","count"],et=["put","add","delete","clear"],qe=new Map;function it(C,T){if(!(C instanceof IDBDatabase)||T in C||"string"!=typeof T)return;if(qe.get(T))return qe.get(T);const R=T.replace(/FromIndex$/,""),te=T!==R,me=et.includes(R);if(!(R in(te?IDBIndex:IDBObjectStore).prototype)||!me&&!Re.includes(R))return;const xe=function(){var Ve=(0,M.Z)(function*(_t,...vt){const Ft=this.transaction(_t,me?"readwrite":"readonly");let sn=Ft.store;return te&&(sn=sn.index(vt.shift())),(yield Promise.all([sn[R](...vt),me&&Ft.done]))[0]});return function(vt){return Ve.apply(this,arguments)}}();return qe.set(T,xe),xe}!function Te(C){ve=C(ve)}(C=>({...C,get:(T,R,te)=>it(T,R)||C.get(T,R,te),has:(T,R)=>!!it(T,R)||C.has(T,R)}));const lt="@firebase/installations",Ht="0.6.4",Be=1e4,Le=`w:${Ht}`,Ce="FIS_v2",_e="https://firebaseinstallations.googleapis.com/v1",pe=36e5,ut=new H.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function wt(C){return C instanceof H.ZR&&C.code.includes("request-failed")}function en({projectId:C}){return`${_e}/projects/${C}/installations`}function At(C){return{token:C.token,requestStatus:2,expiresIn:Ee(C.expiresIn),creationTime:Date.now()}}function rn(C,T){return N.apply(this,arguments)}function N(){return(N=(0,M.Z)(function*(C,T){const te=(yield T.json()).error;return ut.create("request-failed",{requestName:C,serverCode:te.code,serverMessage:te.message,serverStatus:te.status})})).apply(this,arguments)}function Ke({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function se(C){return re.apply(this,arguments)}function re(){return(re=(0,M.Z)(function*(C){const T=yield C();return T.status>=500&&T.status<600?C():T})).apply(this,arguments)}function Ee(C){return Number(C.replace("s","000"))}function ge(){return(ge=(0,M.Z)(function*({appConfig:C,heartbeatServiceProvider:T},{fid:R}){const te=en(C),me=Ke(C),xe=T.getImmediate({optional:!0});if(xe){const Ft=yield xe.getHeartbeatsHeader();Ft&&me.append("x-firebase-client",Ft)}const _t={method:"POST",headers:me,body:JSON.stringify({fid:R,authVersion:Ce,appId:C.appId,sdkVersion:Le})},vt=yield se(()=>fetch(te,_t));if(vt.ok){const Ft=yield vt.json();return{fid:Ft.fid||R,registrationStatus:2,refreshToken:Ft.refreshToken,authToken:At(Ft.authToken)}}throw yield rn("Create Installation",vt)})).apply(this,arguments)}function st(C){return new Promise(T=>{setTimeout(T,C)})}const ot=/^[cdef][\w-]{21}$/,Pt="";function Cn(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const R=function Ot(C){return function xt(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return ot.test(R)?R:Pt}catch{return Pt}}function dn(C){return`${C.appName}!${C.appId}`}const Dt=new Map;function $t(C,T){const R=dn(C);ar(R,T),function Vr(C,T){const R=function oi(){return!Pn&&"BroadcastChannel"in self&&(Pn=new BroadcastChannel("[Firebase] FID Change"),Pn.onmessage=C=>{ar(C.data.key,C.data.fid)}),Pn}();R&&R.postMessage({key:C,fid:T}),function Ln(){0===Dt.size&&Pn&&(Pn.close(),Pn=null)}()}(R,T)}function ar(C,T){const R=Dt.get(C);if(R)for(const te of R)te(T)}let Pn=null;const Vo="firebase-installations-database",Sn=1,Vi="firebase-installations-store";let En=null;function Kr(){return En||(En=function Me(C,T,{blocked:R,upgrade:te,blocking:me,terminated:xe}={}){const Ve=indexedDB.open(C,T),_t=Ge(Ve);return te&&Ve.addEventListener("upgradeneeded",vt=>{te(Ge(Ve.result),vt.oldVersion,vt.newVersion,Ge(Ve.transaction))}),R&&Ve.addEventListener("blocked",()=>R()),_t.then(vt=>{xe&&vt.addEventListener("close",()=>xe()),me&&vt.addEventListener("versionchange",()=>me())}).catch(()=>{}),_t}(Vo,Sn,{upgrade:(C,T)=>{0===T&&C.createObjectStore(Vi)}})),En}function hr(C,T){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,M.Z)(function*(C,T){const R=dn(C),me=(yield Kr()).transaction(Vi,"readwrite"),xe=me.objectStore(Vi),Ve=yield xe.get(R);return yield xe.put(T,R),yield me.done,(!Ve||Ve.fid!==T.fid)&&$t(C,T.fid),T})).apply(this,arguments)}function mo(C){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,M.Z)(function*(C){const T=dn(C),te=(yield Kr()).transaction(Vi,"readwrite");yield te.objectStore(Vi).delete(T),yield te.done})).apply(this,arguments)}function go(C,T){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,M.Z)(function*(C,T){const R=dn(C),me=(yield Kr()).transaction(Vi,"readwrite"),xe=me.objectStore(Vi),Ve=yield xe.get(R),_t=T(Ve);return void 0===_t?yield xe.delete(R):yield xe.put(_t,R),yield me.done,_t&&(!Ve||Ve.fid!==_t.fid)&&$t(C,_t.fid),_t})).apply(this,arguments)}function fe(C){return ce.apply(this,arguments)}function ce(){return ce=(0,M.Z)(function*(C){let T;const R=yield go(C.appConfig,te=>{const me=function Se(C){return er(C||{fid:Cn(),registrationStatus:0})}(te),xe=function Ze(C,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(ut.create("app-offline"))};const R={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},te=function Oe(C,T){return ht.apply(this,arguments)}(C,R);return{installationEntry:R,registrationPromise:te}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:tn(C)}:{installationEntry:T}}(C,me);return T=xe.registrationPromise,xe.installationEntry});return R.fid===Pt?{installationEntry:yield T}:{installationEntry:R,registrationPromise:T}}),ce.apply(this,arguments)}function ht(){return ht=(0,M.Z)(function*(C,T){try{const R=yield function Xe(C,T){return ge.apply(this,arguments)}(C,T);return hr(C.appConfig,R)}catch(R){throw wt(R)&&409===R.customData.serverCode?yield mo(C.appConfig):yield hr(C.appConfig,{fid:T.fid,registrationStatus:0}),R}}),ht.apply(this,arguments)}function tn(C){return kn.apply(this,arguments)}function kn(){return(kn=(0,M.Z)(function*(C){let T=yield Cr(C.appConfig);for(;1===T.registrationStatus;)yield st(100),T=yield Cr(C.appConfig);if(0===T.registrationStatus){const{installationEntry:R,registrationPromise:te}=yield fe(C);return te||R}return T})).apply(this,arguments)}function Cr(C){return go(C,T=>{if(!T)throw ut.create("installation-not-found");return er(T)})}function er(C){return function Vn(C){return 1===C.registrationStatus&&C.registrationTime+Be<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function fi(){return(fi=(0,M.Z)(function*({appConfig:C,heartbeatServiceProvider:T},R){const te=function vo(C,{fid:T}){return`${en(C)}/${T}/authTokens:generate`}(C,R),me=function ze(C,{refreshToken:T}){const R=Ke(C);return R.append("Authorization",function Je(C){return`${Ce} ${C}`}(T)),R}(C,R),xe=T.getImmediate({optional:!0});if(xe){const Ft=yield xe.getHeartbeatsHeader();Ft&&me.append("x-firebase-client",Ft)}const _t={method:"POST",headers:me,body:JSON.stringify({installation:{sdkVersion:Le,appId:C.appId}})},vt=yield se(()=>fetch(te,_t));if(vt.ok)return At(yield vt.json());throw yield rn("Generate Auth Token",vt)})).apply(this,arguments)}function Ho(C){return Ac.apply(this,arguments)}function Ac(){return Ac=(0,M.Z)(function*(C,T=!1){let R;const te=yield go(C.appConfig,xe=>{if(!_n(xe))throw ut.create("not-registered");const Ve=xe.authToken;if(!T&&function jt(C){return 2===C.requestStatus&&!function On(C){const T=Date.now();return T<C.creationTime||C.creationTime+C.expiresIn<T+pe}(C)}(Ve))return xe;if(1===Ve.requestStatus)return R=function $e(C,T){return Ne.apply(this,arguments)}(C,T),xe;{if(!navigator.onLine)throw ut.create("app-offline");const _t=function zn(C){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:T})}(xe);return R=function Ut(C,T){return Qt.apply(this,arguments)}(C,_t),_t}});return R?yield R:te.authToken}),Ac.apply(this,arguments)}function Ne(){return(Ne=(0,M.Z)(function*(C,T){let R=yield ct(C.appConfig);for(;1===R.authToken.requestStatus;)yield st(100),R=yield ct(C.appConfig);const te=R.authToken;return 0===te.requestStatus?Ho(C,T):te})).apply(this,arguments)}function ct(C){return go(C,T=>{if(!_n(T))throw ut.create("not-registered");return function Zr(C){return 1===C.requestStatus&&C.requestTime+Be<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function Qt(){return Qt=(0,M.Z)(function*(C,T){try{const R=yield function Tn(C,T){return fi.apply(this,arguments)}(C,T),te=Object.assign(Object.assign({},T),{authToken:R});return yield hr(C.appConfig,te),R}catch(R){if(!wt(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const te=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield hr(C.appConfig,te)}else yield mo(C.appConfig);throw R}}),Qt.apply(this,arguments)}function _n(C){return void 0!==C&&2===C.registrationStatus}function Al(){return(Al=(0,M.Z)(function*(C){const T=C,{installationEntry:R,registrationPromise:te}=yield fe(T);return te?te.catch(console.error):Ho(T).catch(console.error),R.fid})).apply(this,arguments)}function Js(){return Js=(0,M.Z)(function*(C,T=!1){const R=C;return yield function Ji(C){return bt.apply(this,arguments)}(R),(yield Ho(R,T)).token}),Js.apply(this,arguments)}function bt(){return(bt=(0,M.Z)(function*(C){const{registrationPromise:T}=yield fe(C);T&&(yield T)})).apply(this,arguments)}function pi(C){return ut.create("missing-app-config-values",{valueName:C})}const yn="installations",ea=C=>{const T=C.getProvider("app").getImmediate(),R=function kc(C){if(!C||!C.options)throw pi("App Configuration");if(!C.name)throw pi("App Name");const T=["projectId","apiKey","appId"];for(const R of T)if(!C.options[R])throw pi(R);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(T);return{app:T,appConfig:R,heartbeatServiceProvider:(0,F._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},ss=C=>{const T=C.getProvider("app").getImmediate(),R=(0,F._getProvider)(T,yn).getImmediate();return{getId:()=>function xr(C){return Al.apply(this,arguments)}(R),getToken:me=>function Md(C){return Js.apply(this,arguments)}(R,me)}};(function ta(){(0,F._registerComponent)(new j.wA(yn,ea,"PUBLIC")),(0,F._registerComponent)(new j.wA("installations-internal",ss,"PRIVATE"))})(),(0,F.registerVersion)(lt,Ht),(0,F.registerVersion)(lt,Ht,"esm2017");const Sr="@firebase/remote-config",si=new H.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class cs{constructor(T,R,te,me){this.client=T,this.storage=R,this.storageCache=te,this.logger=me}isCachedDataFresh(T,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const te=Date.now()-R,me=te<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${te}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${me}.`),me}fetch(T){var R=this;return(0,M.Z)(function*(){const[te,me]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(me&&R.isCachedDataFresh(T.cacheMaxAgeMillis,te))return me;T.eTag=me&&me.eTag;const xe=yield R.client.fetch(T),Ve=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===xe.status&&Ve.push(R.storage.setLastSuccessfulFetchResponse(xe)),yield Promise.all(Ve),xe})()}}function G0(C=navigator){return C.languages&&C.languages[0]||C.language}class Xu{constructor(T,R,te,me,xe,Ve){this.firebaseInstallations=T,this.sdkVersion=R,this.namespace=te,this.projectId=me,this.apiKey=xe,this.appId=Ve}fetch(T){var R=this;return(0,M.Z)(function*(){const[te,me]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),Ve=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,_t={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},vt={sdk_version:R.sdkVersion,app_instance_id:te,app_instance_id_token:me,app_id:R.appId,language_code:G0()},Ft={method:"POST",headers:_t,body:JSON.stringify(vt)},sn=fetch(Ve,Ft),an=new Promise((ei,To)=>{T.signal.addEventListener(()=>{const Bs=new Error("The operation was aborted.");Bs.name="AbortError",To(Bs)})});let vi;try{yield Promise.race([sn,an]),vi=yield sn}catch(ei){let To="fetch-client-network";throw"AbortError"===ei?.name&&(To="fetch-timeout"),si.create(To,{originalErrorMessage:ei?.message})}let jn=vi.status;const hn=vi.headers.get("ETag")||void 0;let Hs,Ta;if(200===vi.status){let ei;try{ei=yield vi.json()}catch(To){throw si.create("fetch-client-parse",{originalErrorMessage:To?.message})}Hs=ei.entries,Ta=ei.state}if("INSTANCE_STATE_UNSPECIFIED"===Ta?jn=500:"NO_CHANGE"===Ta?jn=304:("NO_TEMPLATE"===Ta||"EMPTY_CONFIG"===Ta)&&(Hs={}),304!==jn&&200!==jn)throw si.create("fetch-status",{httpStatus:jn});return{status:jn,eTag:hn,config:Hs}})()}}class W0{constructor(T,R){this.client=T,this.storage=R}fetch(T){var R=this;return(0,M.Z)(function*(){const te=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(T,te)})()}attemptFetch(T,{throttleEndTimeMillis:R,backoffCount:te}){var me=this;return(0,M.Z)(function*(){yield function q0(C,T){return new Promise((R,te)=>{const me=Math.max(T-Date.now(),0),xe=setTimeout(R,me);C.addEventListener(()=>{clearTimeout(xe),te(si.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,R);try{const xe=yield me.client.fetch(T);return yield me.storage.deleteThrottleMetadata(),xe}catch(xe){if(!function Id(C){if(!(C instanceof H.ZR&&C.customData))return!1;const T=Number(C.customData.httpStatus);return 429===T||500===T||503===T||504===T}(xe))throw xe;const Ve={throttleEndTimeMillis:Date.now()+(0,H.$s)(te),backoffCount:te+1};return yield me.storage.setThrottleMetadata(Ve),me.attemptFetch(T,Ve)}})()}}class m6{constructor(T,R,te,me,xe){this.app=T,this._client=R,this._storageCache=te,this._storage=me,this._logger=xe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ol(C,T){const R=C.target.error||void 0;return si.create(T,{originalErrorMessage:R&&R?.message})}const tr="app_namespace_store";class g6{constructor(T,R,te,me=function Ua(){return new Promise((C,T)=>{try{const R=indexedDB.open("firebase_remote_config",1);R.onerror=te=>{T(Ol(te,"storage-open"))},R.onsuccess=te=>{C(te.target.result)},R.onupgradeneeded=te=>{0===te.oldVersion&&te.target.result.createObjectStore(tr,{keyPath:"compositeKey"})}}catch(R){T(si.create("storage-open",{originalErrorMessage:R?.message}))}})}()){this.appId=T,this.appName=R,this.namespace=te,this.openDbPromise=me}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var R=this;return(0,M.Z)(function*(){const te=yield R.openDbPromise;return new Promise((me,xe)=>{const _t=te.transaction([tr],"readonly").objectStore(tr),vt=R.createCompositeKey(T);try{const Ft=_t.get(vt);Ft.onerror=sn=>{xe(Ol(sn,"storage-get"))},Ft.onsuccess=sn=>{const an=sn.target.result;me(an?an.value:void 0)}}catch(Ft){xe(si.create("storage-get",{originalErrorMessage:Ft?.message}))}})})()}set(T,R){var te=this;return(0,M.Z)(function*(){const me=yield te.openDbPromise;return new Promise((xe,Ve)=>{const vt=me.transaction([tr],"readwrite").objectStore(tr),Ft=te.createCompositeKey(T);try{const sn=vt.put({compositeKey:Ft,value:R});sn.onerror=an=>{Ve(Ol(an,"storage-set"))},sn.onsuccess=()=>{xe()}}catch(sn){Ve(si.create("storage-set",{originalErrorMessage:sn?.message}))}})})()}delete(T){var R=this;return(0,M.Z)(function*(){const te=yield R.openDbPromise;return new Promise((me,xe)=>{const _t=te.transaction([tr],"readwrite").objectStore(tr),vt=R.createCompositeKey(T);try{const Ft=_t.delete(vt);Ft.onerror=sn=>{xe(Ol(sn,"storage-delete"))},Ft.onsuccess=()=>{me()}}catch(Ft){xe(si.create("storage-delete",{originalErrorMessage:Ft?.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class zd{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,M.Z)(function*(){const R=T.storage.getLastFetchStatus(),te=T.storage.getLastSuccessfulFetchTimestampMillis(),me=T.storage.getActiveConfig(),xe=yield R;xe&&(T.lastFetchStatus=xe);const Ve=yield te;Ve&&(T.lastSuccessfulFetchTimestampMillis=Ve);const _t=yield me;_t&&(T.activeConfig=_t)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function e1(){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,M.Z)(function*(){if(!(0,H.hl)())return!1;try{return yield(0,H.eu)()}catch{return!1}})).apply(this,arguments)}!function ls(){(0,F._registerComponent)(new j.wA("remote-config",function C(T,{instanceIdentifier:R}){const te=T.getProvider("app").getImmediate(),me=T.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw si.create("registration-window");if(!(0,H.hl)())throw si.create("indexed-db-unavailable");const{projectId:xe,apiKey:Ve,appId:_t}=te.options;if(!xe)throw si.create("registration-project-id");if(!Ve)throw si.create("registration-api-key");if(!_t)throw si.create("registration-app-id");const vt=new g6(_t,te.name,R=R||"firebase"),Ft=new zd(vt),sn=new Q.Yd(Sr);sn.logLevel=Q.in.ERROR;const an=new Xu(me,F.SDK_VERSION,R,xe,Ve,_t),vi=new W0(an,vt),jn=new cs(vi,vt,Ft,sn),hn=new m6(te,jn,Ft,vt,sn);return function Bi(C){const T=(0,H.m9)(C);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(hn),hn},"PUBLIC").setMultipleInstances(!0)),(0,F.registerVersion)(Sr,"0.4.4"),(0,F.registerVersion)(Sr,"0.4.4","esm2017")}();const Pd=(C,T)=>T.some(R=>C instanceof R);let t1,zs;const Rl=new WeakMap,Ps=new WeakMap,Ai=new WeakMap,mi=new WeakMap,Fc=new WeakMap;let us={get(C,T,R){if(C instanceof IDBTransaction){if("done"===T)return Ps.get(C);if("objectStoreNames"===T)return C.objectStoreNames||Ai.get(C);if("store"===T)return R.objectStoreNames[1]?void 0:R.objectStore(R.objectStoreNames[0])}return gi(C[T])},set:(C,T,R)=>(C[T]=R,!0),has:(C,T)=>C instanceof IDBTransaction&&("done"===T||"store"===T)||T in C};function Rd(C){return"function"==typeof C?function Od(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Nc(){return zs||(zs=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(C)?function(...T){return C.apply(Hr(this),T),gi(Rl.get(this))}:function(...T){return gi(C.apply(Hr(this),T))}:function(T,...R){const te=C.call(Hr(this),T,...R);return Ai.set(te,T.sort?T.sort():[T]),gi(te)}}(C):(C instanceof IDBTransaction&&function ja(C){if(Ps.has(C))return;const T=new Promise((R,te)=>{const me=()=>{C.removeEventListener("complete",xe),C.removeEventListener("error",Ve),C.removeEventListener("abort",Ve)},xe=()=>{R(),me()},Ve=()=>{te(C.error||new DOMException("AbortError","AbortError")),me()};C.addEventListener("complete",xe),C.addEventListener("error",Ve),C.addEventListener("abort",Ve)});Ps.set(C,T)}(C),Pd(C,function O4(){return t1||(t1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(C,us):C)}function gi(C){if(C instanceof IDBRequest)return function Jr(C){const T=new Promise((R,te)=>{const me=()=>{C.removeEventListener("success",xe),C.removeEventListener("error",Ve)},xe=()=>{R(gi(C.result)),me()},Ve=()=>{te(C.error),me()};C.addEventListener("success",xe),C.addEventListener("error",Ve)});return T.then(R=>{R instanceof IDBCursor&&Rl.set(R,C)}).catch(()=>{}),Fc.set(T,C),T}(C);if(mi.has(C))return mi.get(C);const T=Rd(C);return T!==C&&(mi.set(C,T),Fc.set(T,C)),T}const Hr=C=>Fc.get(C);function Nl(C,T,{blocked:R,upgrade:te,blocking:me,terminated:xe}={}){const Ve=indexedDB.open(C,T),_t=gi(Ve);return te&&Ve.addEventListener("upgradeneeded",vt=>{te(gi(Ve.result),vt.oldVersion,vt.newVersion,gi(Ve.transaction))}),R&&Ve.addEventListener("blocked",()=>R()),_t.then(vt=>{xe&&vt.addEventListener("close",()=>xe()),me&&vt.addEventListener("versionchange",()=>me())}).catch(()=>{}),_t}function ds(C,{blocked:T}={}){const R=indexedDB.deleteDatabase(C);return T&&R.addEventListener("blocked",()=>T()),gi(R).then(()=>{})}const n1=["get","getKey","getAll","getAllKeys","count"],Os=["put","add","delete","clear"],$a=new Map;function Lc(C,T){if(!(C instanceof IDBDatabase)||T in C||"string"!=typeof T)return;if($a.get(T))return $a.get(T);const R=T.replace(/FromIndex$/,""),te=T!==R,me=Os.includes(R);if(!(R in(te?IDBIndex:IDBObjectStore).prototype)||!me&&!n1.includes(R))return;const xe=function(){var Ve=(0,M.Z)(function*(_t,...vt){const Ft=this.transaction(_t,me?"readwrite":"readonly");let sn=Ft.store;return te&&(sn=sn.index(vt.shift())),(yield Promise.all([sn[R](...vt),me&&Ft.done]))[0]});return function(vt){return Ve.apply(this,arguments)}}();return $a.set(T,xe),xe}!function Xr(C){us=C(us)}(C=>({...C,get:(T,R,te)=>Lc(T,R)||C.get(T,R,te),has:(T,R)=>!!Lc(T,R)||C.has(T,R)}));const ln="/firebase-messaging-sw.js",Vc="/firebase-cloud-messaging-push-scope",Nd="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Fd="https://fcmregistrations.googleapis.com/v1",Fl="google.c.a.c_id",Ld="google.c.a.c_l",Ll="google.c.a.ts",K0="google.c.a.e";var We=(()=>{return(C=We||(We={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",We;var C})();function fn(C){const T=new Uint8Array(C);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Hc(C){const R=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),te=atob(R),me=new Uint8Array(te.length);for(let xe=0;xe<te.length;++xe)me[xe]=te.charCodeAt(xe);return me}const Bc="fcm_token_details_db",Br=5,ia="fcm_token_object_Store";function ki(){return ki=(0,M.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(xe=>xe.name).includes(Bc))return null;let T=null;return(yield Nl(Bc,Br,{upgrade:(te=(0,M.Z)(function*(me,xe,Ve,_t){var vt;if(xe<2||!me.objectStoreNames.contains(ia))return;const Ft=_t.objectStore(ia),sn=yield Ft.index("fcmSenderId").get(C);if(yield Ft.clear(),sn)if(2===xe){const an=sn;if(!an.auth||!an.p256dh||!an.endpoint)return;T={token:an.fcmToken,createTime:null!==(vt=an.createTime)&&void 0!==vt?vt:Date.now(),subscriptionOptions:{auth:an.auth,p256dh:an.p256dh,endpoint:an.endpoint,swScope:an.swScope,vapidKey:"string"==typeof an.vapidKey?an.vapidKey:fn(an.vapidKey)}}}else if(3===xe){const an=sn;T={token:an.fcmToken,createTime:an.createTime,subscriptionOptions:{auth:fn(an.auth),p256dh:fn(an.p256dh),endpoint:an.endpoint,swScope:an.swScope,vapidKey:fn(an.vapidKey)}}}else if(4===xe){const an=sn;T={token:an.fcmToken,createTime:an.createTime,subscriptionOptions:{auth:fn(an.auth),p256dh:fn(an.p256dh),endpoint:an.endpoint,swScope:an.swScope,vapidKey:fn(an.vapidKey)}}}}),function(xe,Ve,_t,vt){return te.apply(this,arguments)})})).close(),yield ds(Bc),yield ds("fcm_vapid_details_db"),yield ds("undefined"),function Hd(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:T}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}(T)?T:null;var te}),ki.apply(this,arguments)}const Hl="firebase-messaging-database",Z0=1,hs="firebase-messaging-store";let Yc=null;function Ar(){return Yc||(Yc=Nl(Hl,Z0,{upgrade:(C,T)=>{0===T&&C.createObjectStore(hs)}})),Yc}function to(C){return Yo.apply(this,arguments)}function Yo(){return Yo=(0,M.Z)(function*(C){const T=Bl(C),te=yield(yield Ar()).transaction(hs).objectStore(hs).get(T);if(te)return te;{const me=yield function Vl(C){return ki.apply(this,arguments)}(C.appConfig.senderId);if(me)return yield oa(C,me),me}}),Yo.apply(this,arguments)}function oa(C,T){return no.apply(this,arguments)}function no(){return(no=(0,M.Z)(function*(C,T){const R=Bl(C),me=(yield Ar()).transaction(hs,"readwrite");return yield me.objectStore(hs).put(T,R),yield me.done,T})).apply(this,arguments)}function Uc(){return(Uc=(0,M.Z)(function*(C){const T=Bl(C),te=(yield Ar()).transaction(hs,"readwrite");yield te.objectStore(hs).delete(T),yield te.done})).apply(this,arguments)}function Bl({appConfig:C}){return C.appId}const kr=new H.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ga(C,T){return r1.apply(this,arguments)}function r1(){return(r1=(0,M.Z)(function*(C,T){const R=yield o1(C),te=Ud(T),me={method:"POST",headers:R,body:JSON.stringify(te)};let xe;try{xe=yield(yield fetch(jc(C.appConfig),me)).json()}catch(Ve){throw kr.create("token-subscribe-failed",{errorInfo:Ve?.toString()})}if(xe.error)throw kr.create("token-subscribe-failed",{errorInfo:xe.error.message});if(!xe.token)throw kr.create("token-subscribe-no-token");return xe.token})).apply(this,arguments)}function Yd(){return(Yd=(0,M.Z)(function*(C,T){const R=yield o1(C),te=Ud(T.subscriptionOptions),me={method:"PATCH",headers:R,body:JSON.stringify(te)};let xe;try{xe=yield(yield fetch(`${jc(C.appConfig)}/${T.token}`,me)).json()}catch(Ve){throw kr.create("token-update-failed",{errorInfo:Ve?.toString()})}if(xe.error)throw kr.create("token-update-failed",{errorInfo:xe.error.message});if(!xe.token)throw kr.create("token-update-no-token");return xe.token})).apply(this,arguments)}function Ul(C,T){return jl.apply(this,arguments)}function jl(){return(jl=(0,M.Z)(function*(C,T){const te={method:"DELETE",headers:yield o1(C)};try{const xe=yield(yield fetch(`${jc(C.appConfig)}/${T}`,te)).json();if(xe.error)throw kr.create("token-unsubscribe-failed",{errorInfo:xe.error.message})}catch(me){throw kr.create("token-unsubscribe-failed",{errorInfo:me?.toString()})}})).apply(this,arguments)}function jc({projectId:C}){return`${Fd}/projects/${C}/registrations`}function o1(C){return $c.apply(this,arguments)}function $c(){return($c=(0,M.Z)(function*({appConfig:C,installations:T}){const R=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function Ud({p256dh:C,auth:T,endpoint:R,vapidKey:te}){const me={web:{endpoint:R,auth:T,p256dh:C}};return te!==Nd&&(me.web.applicationPubKey=te),me}const $l=6048e5;function Gl(){return Gl=(0,M.Z)(function*(C){const T=yield function F4(C,T){return jd.apply(this,arguments)}(C.swRegistration,C.vapidKey),R={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:T.endpoint,auth:fn(T.getKey("auth")),p256dh:fn(T.getKey("p256dh"))},te=yield to(C.firebaseDependencies);if(te){if(function J0(C,T){return T.vapidKey===C.vapidKey&&T.endpoint===C.endpoint&&T.auth===C.auth&&T.p256dh===C.p256dh}(te.subscriptionOptions,R))return Date.now()>=te.createTime+$l?function nr(C,T){return ql.apply(this,arguments)}(C,{token:te.token,createTime:Date.now(),subscriptionOptions:R}):te.token;try{yield Ul(C.firebaseDependencies,te.token)}catch(me){console.warn(me)}return N4(C.firebaseDependencies,R)}return N4(C.firebaseDependencies,R)}),Gl.apply(this,arguments)}function fs(){return fs=(0,M.Z)(function*(C){const T=yield to(C.firebaseDependencies);T&&(yield Ul(C.firebaseDependencies,T.token),yield function Bd(C){return Uc.apply(this,arguments)}(C.firebaseDependencies));const R=yield C.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()}),fs.apply(this,arguments)}function ql(){return ql=(0,M.Z)(function*(C,T){try{const R=yield function Yl(C,T){return Yd.apply(this,arguments)}(C.firebaseDependencies,T),te=Object.assign(Object.assign({},T),{token:R,createTime:Date.now()});return yield oa(C.firebaseDependencies,te),R}catch(R){throw yield function ai(C){return fs.apply(this,arguments)}(C),R}}),ql.apply(this,arguments)}function N4(C,T){return sa.apply(this,arguments)}function sa(){return(sa=(0,M.Z)(function*(C,T){const te={token:yield Ga(C,T),createTime:Date.now(),subscriptionOptions:T};return yield oa(C,te),te.token})).apply(this,arguments)}function jd(){return(jd=(0,M.Z)(function*(C,T){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Hc(T)})})).apply(this,arguments)}function Wl(C){const T={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function s1(C,T){if(!T.notification)return;C.notification={};const R=T.notification.title;R&&(C.notification.title=R);const te=T.notification.body;te&&(C.notification.body=te);const me=T.notification.image;me&&(C.notification.image=me);const xe=T.notification.icon;xe&&(C.notification.icon=xe)}(T,C),function a1(C,T){T.data&&(C.data=T.data)}(T,C),function $d(C,T){var R,te,me,xe,Ve;if(!(T.fcmOptions||null!==(R=T.notification)&&void 0!==R&&R.click_action))return;C.fcmOptions={};const _t=null!==(me=null===(te=T.fcmOptions)||void 0===te?void 0:te.link)&&void 0!==me?me:null===(xe=T.notification)||void 0===xe?void 0:xe.click_action;_t&&(C.fcmOptions.link=_t);const vt=null===(Ve=T.fcmOptions)||void 0===Ve?void 0:Ve.analytics_label;vt&&(C.fcmOptions.analyticsLabel=vt)}(T,C),T}function qa(C,T){const R=[];for(let te=0;te<C.length;te++)R.push(C.charAt(te)),te<T.length&&R.push(T.charAt(te));return R.join("")}function ps(C){return kr.create("missing-app-config-values",{valueName:C})}qa("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),qa("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class X0{constructor(T,R,te){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const me=function Wa(C){if(!C||!C.options)throw ps("App Configuration Object");if(!C.name)throw ps("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:R}=C;for(const te of T)if(!R[te])throw ps(te);return{appName:C.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:me,installations:R,analyticsProvider:te}}_delete(){return Promise.resolve()}}function L4(C){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,M.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(ln,{scope:Vc}),C.swRegistration.update().catch(()=>{})}catch(T){throw kr.create("failed-service-worker-registration",{browserErrorMessage:T?.message})}})).apply(this,arguments)}function Gc(){return(Gc=(0,M.Z)(function*(C,T){if(!T&&!C.swRegistration&&(yield L4(C)),T||!C.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw kr.create("invalid-sw-registration");C.swRegistration=T}})).apply(this,arguments)}function ca(){return(ca=(0,M.Z)(function*(C,T){T?C.vapidKey=T:C.vapidKey||(C.vapidKey=Nd)})).apply(this,arguments)}function Ka(){return Ka=(0,M.Z)(function*(C,T){if(!navigator)throw kr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw kr.create("permission-blocked");return yield function aa(C,T){return ca.apply(this,arguments)}(C,T?.vapidKey),yield function v6(C,T){return Gc.apply(this,arguments)}(C,T?.serviceWorkerRegistration),function R4(C){return Gl.apply(this,arguments)}(C)}),Ka.apply(this,arguments)}function la(){return(la=(0,M.Z)(function*(C,T,R){const te=function ua(C){switch(C){case We.NOTIFICATION_CLICKED:return"notification_open";case We.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(T);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(te,{message_id:R[Fl],message_name:R[Ld],message_time:R[Ll],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function da(){return da=(0,M.Z)(function*(C,T){const R=T.data;if(!R.isFirebaseMessaging)return;C.onMessageHandler&&R.messageType===We.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(Wl(R)):C.onMessageHandler.next(Wl(R)));const te=R.data;(function c1(C){return"object"==typeof C&&!!C&&Fl in C})(te)&&"1"===te[K0]&&(yield function l1(C,T,R){return la.apply(this,arguments)}(C,R.messageType,te))}),da.apply(this,arguments)}const Rs="@firebase/messaging",ha=C=>{const T=new X0(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function Ql(C,T){return da.apply(this,arguments)}(T,R)),T},Jl=C=>{const T=C.getProvider("messaging").getImmediate();return{getToken:te=>function Zl(C,T){return Ka.apply(this,arguments)}(T,te)}};function V4(){return Xl.apply(this,arguments)}function Xl(){return(Xl=(0,M.Z)(function*(){try{yield(0,H.eu)()}catch{return!1}return typeof window<"u"&&(0,H.hl)()&&(0,H.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function qc(){(0,F._registerComponent)(new j.wA("messaging",ha,"PUBLIC")),(0,F._registerComponent)(new j.wA("messaging-internal",Jl,"PRIVATE")),(0,F.registerVersion)(Rs,"0.12.4"),(0,F.registerVersion)(Rs,"0.12.4","esm2017")}();const Un="analytics",Kd="firebase_id",eu="origin",d1=6e4,tu="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",nu="https://www.googletagmanager.com/gtag/js",Yr=new Q.Yd("@firebase/analytics"),Er=new H.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function h1(C){if(!C.startsWith(nu)){const T=Er.create("invalid-gtag-resource",{gtagURL:C});return Yr.warn(T.message),""}return C}function Wc(C){return Promise.all(C.map(T=>T.catch(R=>R)))}function ma(){return(ma=(0,M.Z)(function*(C,T,R,te,me,xe){const Ve=te[me];try{if(Ve)yield T[Ve];else{const vt=(yield Wc(R)).find(Ft=>Ft.measurementId===me);vt&&(yield T[vt.appId])}}catch(_t){Yr.error(_t)}C("config",me,xe)})).apply(this,arguments)}function Zc(){return(Zc=(0,M.Z)(function*(C,T,R,te,me){try{let xe=[];if(me&&me.send_to){let Ve=me.send_to;Array.isArray(Ve)||(Ve=[Ve]);const _t=yield Wc(R);for(const vt of Ve){const Ft=_t.find(an=>an.measurementId===vt),sn=Ft&&T[Ft.appId];if(!sn){xe=[];break}xe.push(sn)}}0===xe.length&&(xe=Object.values(T)),yield Promise.all(xe),C("event",te,me||{})}catch(xe){Yr.error(xe)}})).apply(this,arguments)}const Qc=30,ya=new class va{constructor(T={},R=1e3){this.throttleMetadata=T,this.intervalMillis=R}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,R){this.throttleMetadata[T]=R}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function Y4(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function xn(){return(xn=(0,M.Z)(function*(C){var T;const{appId:R,apiKey:te}=C,me={method:"GET",headers:Y4(te)},xe=tu.replace("{app-id}",R),Ve=yield fetch(xe,me);if(200!==Ve.status&&304!==Ve.status){let _t="";try{const vt=yield Ve.json();null!==(T=vt.error)&&void 0!==T&&T.message&&(_t=vt.error.message)}catch{}throw Er.create("config-fetch-failed",{httpStatus:Ve.status,responseMessage:_t})}return Ve.json()})).apply(this,arguments)}function Jc(){return(Jc=(0,M.Z)(function*(C,T=ya,R){const{appId:te,apiKey:me,measurementId:xe}=C.options;if(!te)throw Er.create("no-app-id");if(!me){if(xe)return{measurementId:xe,appId:te};throw Er.create("no-api-key")}const Ve=T.getThrottleMetadata(te)||{backoffCount:0,throttleEndTimeMillis:Date.now()},_t=new _6;return setTimeout((0,M.Z)(function*(){_t.abort()}),void 0!==R?R:d1),p1({appId:te,apiKey:me,measurementId:xe},Ve,_t,T)})).apply(this,arguments)}function p1(C,T,R){return m1.apply(this,arguments)}function m1(){return m1=(0,M.Z)(function*(C,{throttleEndTimeMillis:T,backoffCount:R},te,me=ya){var xe;const{appId:Ve,measurementId:_t}=C;try{yield function y6(C,T){return new Promise((R,te)=>{const me=Math.max(T-Date.now(),0),xe=setTimeout(R,me);C.addEventListener(()=>{clearTimeout(xe),te(Er.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(te,T)}catch(vt){if(_t)return Yr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${_t} provided in the "measurementId" field in the local Firebase config. [${vt?.message}]`),{appId:Ve,measurementId:_t};throw vt}try{const vt=yield function Zd(C){return xn.apply(this,arguments)}(C);return me.deleteThrottleMetadata(Ve),vt}catch(vt){const Ft=vt;if(!function U4(C){if(!(C instanceof H.ZR&&C.customData))return!1;const T=Number(C.customData.httpStatus);return 429===T||500===T||503===T||504===T}(Ft)){if(me.deleteThrottleMetadata(Ve),_t)return Yr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${_t} provided in the "measurementId" field in the local Firebase config. [${Ft?.message}]`),{appId:Ve,measurementId:_t};throw vt}const sn=503===Number(null===(xe=Ft?.customData)||void 0===xe?void 0:xe.httpStatus)?(0,H.$s)(R,me.intervalMillis,Qc):(0,H.$s)(R,me.intervalMillis),an={throttleEndTimeMillis:Date.now()+sn,backoffCount:R+1};return me.setThrottleMetadata(Ve,an),Yr.debug(`Calling attemptFetch again in ${sn} millis`),p1(C,an,te,me)}}),m1.apply(this,arguments)}class _6{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}let _a,Xa;function j4(){return(j4=(0,M.Z)(function*(C,T,R,te,me){if(me&&me.global)C("event",R,te);else{const xe=yield T;C("event",R,Object.assign(Object.assign({},te),{send_to:xe}))}})).apply(this,arguments)}function Nn(){return(Nn=(0,M.Z)(function*(){if(!(0,H.hl)())return Yr.warn(Er.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,H.eu)()}catch(C){return Yr.warn(Er.create("indexeddb-unavailable",{errorInfo:C?.toString()}).message),!1}return!0})).apply(this,arguments)}function kt(){return kt=(0,M.Z)(function*(C,T,R,te,me,xe,Ve){var _t;const vt=function e3(C){return Jc.apply(this,arguments)}(C);vt.then(jn=>{R[jn.measurementId]=jn.appId,C.options.measurementId&&jn.measurementId!==C.options.measurementId&&Yr.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${jn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(jn=>Yr.error(jn)),T.push(vt);const Ft=function zi(){return Nn.apply(this,arguments)}().then(jn=>{if(jn)return te.getId()}),[sn,an]=yield Promise.all([vt,Ft]);(function ga(C){const T=window.document.getElementsByTagName("script");for(const R of Object.values(T))if(R.src&&R.src.includes(nu)&&R.src.includes(C))return R;return null})(xe)||function gs(C,T){const R=function Kc(C,T){let R;return window.trustedTypes&&(R=window.trustedTypes.createPolicy(C,T)),R}("firebase-js-sdk-policy",{createScriptURL:h1}),te=document.createElement("script"),me=`${nu}?l=${C}&id=${T}`;te.src=R?R?.createScriptURL(me):me,te.async=!0,document.head.appendChild(te)}(xe,sn.measurementId),Xa&&(me("consent","default",Xa),function au(C){Xa=C}(void 0)),me("js",new Date);const vi=null!==(_t=Ve?.config)&&void 0!==_t?_t:{};return vi[eu]="firebase",vi.update=!0,null!=an&&(vi[Kd]=an),me("config",sn.measurementId,vi),_a&&(me("set",_a),function el(C){_a=C}(void 0)),sn.measurementId}),kt.apply(this,arguments)}class Ct{constructor(T){this.app=T}_delete(){return delete Jn[this.app.options.appId],Promise.resolve()}}let Jn={},Qd=[];const tl={};let v1,io,rr="dataLayer",cu="gtag",ec=!1;function Fs(C,T,R){!function nl(){const C=[];if((0,H.ru)()&&C.push("This is a browser extension environment."),(0,H.zI)()||C.push("Cookies are not available."),C.length>0){const T=C.map((te,me)=>`(${me+1}) ${te}`).join(" "),R=Er.create("invalid-analytics-context",{errorInfo:T});Yr.warn(R.message)}}();const te=C.options.appId;if(!te)throw Er.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw Er.create("no-api-key");Yr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Jn[te])throw Er.create("already-exists",{id:te});if(!ec){!function H4(C){let T=[];Array.isArray(window[C])?T=window[C]:window[C]=T}(rr);const{wrappedGtag:xe,gtagCore:Ve}=function Ns(C,T,R,te,me){let xe=function(...Ve){window[te].push(arguments)};return window[me]&&"function"==typeof window[me]&&(xe=window[me]),window[me]=function Ja(C,T,R,te){function xe(){return xe=(0,M.Z)(function*(Ve,..._t){try{if("event"===Ve){const[vt,Ft]=_t;yield function f1(C,T,R,te,me){return Zc.apply(this,arguments)}(C,T,R,vt,Ft)}else if("config"===Ve){const[vt,Ft]=_t;yield function ru(C,T,R,te,me,xe){return ma.apply(this,arguments)}(C,T,R,te,vt,Ft)}else if("consent"===Ve){const[vt]=_t;C("consent","update",vt)}else if("get"===Ve){const[vt,Ft,sn]=_t;C("get",vt,Ft,sn)}else if("set"===Ve){const[vt]=_t;C("set",vt)}else C(Ve,..._t)}catch(vt){Yr.error(vt)}}),xe.apply(this,arguments)}return function me(Ve){return xe.apply(this,arguments)}}(xe,C,T,R),{gtagCore:xe,wrappedGtag:window[me]}}(Jn,Qd,tl,rr,cu);io=xe,v1=Ve,ec=!0}return Jn[te]=function Ui(C,T,R,te,me,xe,Ve){return kt.apply(this,arguments)}(C,Qd,tl,T,v1,rr,R),new Ct(C)}function lu(){return vs.apply(this,arguments)}function vs(){return(vs=(0,M.Z)(function*(){if((0,H.ru)()||!(0,H.zI)()||!(0,H.hl)())return!1;try{return yield(0,H.eu)()}catch{return!1}})).apply(this,arguments)}const jo="@firebase/analytics";!function G4(){(0,F._registerComponent)(new j.wA(Un,(T,{options:R})=>Fs(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,F._registerComponent)(new j.wA("analytics-internal",function C(T){try{const R=T.getProvider(Un).getImmediate();return{logEvent:(te,me,xe)=>function Jd(C,T,R,te){C=(0,H.m9)(C),function w6(C,T,R,te,me){return j4.apply(this,arguments)}(io,Jn[C.app.options.appId],T,R,te).catch(me=>Yr.error(me))}(R,te,me,xe)}}catch(R){throw Er.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,F.registerVersion)(jo,"0.10.0"),(0,F.registerVersion)(jo,"0.10.0","esm2017")}();var Pi=B(4408),Co=B(7565);const zr=new class jr extends Co.v{}(class rl extends Pi.o{constructor(T,R){super(T,R),this.scheduler=T,this.work=R}schedule(T,R=0){return R>0?super.schedule(T,R):(this.delay=R,this.state=T,this.scheduler.flush(this),this)}execute(T,R){return R>0||this.closed?super.execute(T,R):this._execute(T,R)}requestAsyncId(T,R,te=0){return null!=te&&te>0||null==te&&this.delay>0?super.requestAsyncId(T,R,te):(T.flush(this),0)}});var C1=B(4986),Tr=B(8505),cr=B(9468),ci=B(5363);const Hn=new l.GfV("7.6.1"),lr="__angularfire_symbol__analyticsIsSupportedValue",Sa="__angularfire_symbol__analyticsIsSupported",S1="__angularfire_symbol__remoteConfigIsSupportedValue",rc="__angularfire_symbol__remoteConfigIsSupported",oo="__angularfire_symbol__messagingIsSupportedValue",$o="__angularfire_symbol__messagingIsSupported";function fu(C,T,R){if(T){if(1===T.length)return T[0];const xe=T.filter(Ve=>Ve.app===R);if(1===xe.length)return xe[0]}return R.container.getProvider(C).getImmediate({optional:!0})}globalThis[Sa]||(globalThis[Sa]=lu().then(C=>globalThis[lr]=C).catch(()=>globalThis[lr]=!1)),globalThis[$o]||(globalThis[$o]=V4().then(C=>globalThis[oo]=C).catch(()=>globalThis[oo]=!1)),globalThis[rc]||(globalThis[rc]=e1().then(C=>globalThis[S1]=C).catch(()=>globalThis[S1]=!1));const pu=(C,T)=>{const R=T?[T]:(0,V.C6)(),te=[];return R.forEach(me=>{me.container.getProvider(C).instances.forEach(Ve=>{te.includes(Ve)||te.push(Ve)})}),te};function Go(){}class il{constructor(T,R=zr){this.zone=T,this.delegate=R}now(){return this.delegate.now()}schedule(T,R,te){const me=this.zone;return this.delegate.schedule(function(Ve){me.runGuarded(()=>{T.apply(this,[Ve])})},R,te)}}class Ea{constructor(T){this.zone=T,this.task=null}call(T,R){const te=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Go,{},Go,Go)),R.pipe((0,Tr.b)({next:te,complete:te,error:te})).subscribe(T).add(te)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Kt=(()=>{class C{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new il(Zone.current)),this.insideAngular=R.run(()=>new il(Zone.current,C1.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(R){return new(R||C)(l.LFG(l.R0b))},C.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function So(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function Eo(C){return So(),function eh(C){return function(R){return(R=R.lift(new Ea(C.ngZone))).pipe((0,cr.R)(C.outsideAngular),(0,ci.Q)(C.insideAngular))}}(So())(C)}},2090:(Yt,ee,B)=>{"use strict";B.d(ee,{$s:()=>mo,BH:()=>we,G6:()=>Le,L:()=>q,LL:()=>He,P0:()=>ve,Pz:()=>de,Sg:()=>Ge,UG:()=>I,US:()=>j,ZB:()=>P,ZR:()=>je,aH:()=>Te,b$:()=>qe,eu:()=>_e,hl:()=>Ce,jU:()=>Re,m9:()=>Ii,ne:()=>dn,pd:()=>Cn,r3:()=>re,ru:()=>et,tV:()=>z,uI:()=>Me,vZ:()=>ge,w1:()=>lt,xO:()=>ot,xb:()=>Je,z$:()=>J,zI:()=>pe,zd:()=>Pt});const F=function(fe){const ce=[];let Se=0;for(let Ze=0;Ze<fe.length;Ze++){let Oe=fe.charCodeAt(Ze);Oe<128?ce[Se++]=Oe:Oe<2048?(ce[Se++]=Oe>>6|192,ce[Se++]=63&Oe|128):55296==(64512&Oe)&&Ze+1<fe.length&&56320==(64512&fe.charCodeAt(Ze+1))?(Oe=65536+((1023&Oe)<<10)+(1023&fe.charCodeAt(++Ze)),ce[Se++]=Oe>>18|240,ce[Se++]=Oe>>12&63|128,ce[Se++]=Oe>>6&63|128,ce[Se++]=63&Oe|128):(ce[Se++]=Oe>>12|224,ce[Se++]=Oe>>6&63|128,ce[Se++]=63&Oe|128)}return ce},j={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(fe,ce){if(!Array.isArray(fe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Se=ce?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ze=[];for(let Oe=0;Oe<fe.length;Oe+=3){const ht=fe[Oe],tn=Oe+1<fe.length,kn=tn?fe[Oe+1]:0,Cr=Oe+2<fe.length,er=Cr?fe[Oe+2]:0;let fi=(15&kn)<<2|er>>6,vo=63&er;Cr||(vo=64,tn||(fi=64)),Ze.push(Se[ht>>2],Se[(3&ht)<<4|kn>>4],Se[fi],Se[vo])}return Ze.join("")},encodeString(fe,ce){return this.HAS_NATIVE_SUPPORT&&!ce?btoa(fe):this.encodeByteArray(F(fe),ce)},decodeString(fe,ce){return this.HAS_NATIVE_SUPPORT&&!ce?atob(fe):function(fe){const ce=[];let Se=0,Ze=0;for(;Se<fe.length;){const Oe=fe[Se++];if(Oe<128)ce[Ze++]=String.fromCharCode(Oe);else if(Oe>191&&Oe<224){const ht=fe[Se++];ce[Ze++]=String.fromCharCode((31&Oe)<<6|63&ht)}else if(Oe>239&&Oe<365){const Cr=((7&Oe)<<18|(63&fe[Se++])<<12|(63&fe[Se++])<<6|63&fe[Se++])-65536;ce[Ze++]=String.fromCharCode(55296+(Cr>>10)),ce[Ze++]=String.fromCharCode(56320+(1023&Cr))}else{const ht=fe[Se++],tn=fe[Se++];ce[Ze++]=String.fromCharCode((15&Oe)<<12|(63&ht)<<6|63&tn)}}return ce.join("")}(this.decodeStringToByteArray(fe,ce))},decodeStringToByteArray(fe,ce){this.init_();const Se=ce?this.charToByteMapWebSafe_:this.charToByteMap_,Ze=[];for(let Oe=0;Oe<fe.length;){const ht=Se[fe.charAt(Oe++)],kn=Oe<fe.length?Se[fe.charAt(Oe)]:0;++Oe;const er=Oe<fe.length?Se[fe.charAt(Oe)]:64;++Oe;const Tn=Oe<fe.length?Se[fe.charAt(Oe)]:64;if(++Oe,null==ht||null==kn||null==er||null==Tn)throw new Q;Ze.push(ht<<2|kn>>4),64!==er&&(Ze.push(kn<<4&240|er>>2),64!==Tn&&Ze.push(er<<6&192|Tn))}return Ze},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let fe=0;fe<this.ENCODED_VALS.length;fe++)this.byteToCharMap_[fe]=this.ENCODED_VALS.charAt(fe),this.charToByteMap_[this.byteToCharMap_[fe]]=fe,this.byteToCharMapWebSafe_[fe]=this.ENCODED_VALS_WEBSAFE.charAt(fe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[fe]]=fe,fe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(fe)]=fe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(fe)]=fe)}}};class Q extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const q=function(fe){return function(fe){const ce=F(fe);return j.encodeByteArray(ce,!0)}(fe).replace(/\./g,"")},z=function(fe){try{return j.decodeString(fe,!0)}catch(ce){console.error("base64Decode failed: ",ce)}return null};function P(fe,ce){if(!(ce instanceof Object))return ce;switch(ce.constructor){case Date:return new Date(ce.getTime());case Object:void 0===fe&&(fe={});break;case Array:fe=[];break;default:return ce}for(const Se in ce)!ce.hasOwnProperty(Se)||!G(Se)||(fe[Se]=P(fe[Se],ce[Se]));return fe}function G(fe){return"__proto__"!==fe}const ae=()=>{try{return function U(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const fe=process.env.__FIREBASE_DEFAULTS__;return fe?JSON.parse(fe):void 0})()||(()=>{if(typeof document>"u")return;let fe;try{fe=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ce=fe&&z(fe[1]);return ce&&JSON.parse(ce)})()}catch(fe){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${fe}`)}},ve=fe=>{const ce=(fe=>{var ce,Se;return null===(Se=null===(ce=ae())||void 0===ce?void 0:ce.emulatorHosts)||void 0===Se?void 0:Se[fe]})(fe);if(!ce)return;const Se=ce.lastIndexOf(":");if(Se<=0||Se+1===ce.length)throw new Error(`Invalid host ${ce} with no separate hostname and port!`);const Ze=parseInt(ce.substring(Se+1),10);return"["===ce[0]?[ce.substring(1,Se-1),Ze]:[ce.substring(0,Se),Ze]},Te=()=>{var fe;return null===(fe=ae())||void 0===fe?void 0:fe.config},de=fe=>{var ce;return null===(ce=ae())||void 0===ce?void 0:ce[`_${fe}`]};class we{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ce,Se)=>{this.resolve=ce,this.reject=Se})}wrapCallback(ce){return(Se,Ze)=>{Se?this.reject(Se):this.resolve(Ze),"function"==typeof ce&&(this.promise.catch(()=>{}),1===ce.length?ce(Se):ce(Se,Ze))}}}function Ge(fe,ce){if(fe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ze=ce||"demo-project",Oe=fe.iat||0,ht=fe.sub||fe.user_id;if(!ht)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const tn=Object.assign({iss:`https://securetoken.google.com/${Ze}`,aud:Ze,iat:Oe,exp:Oe+3600,auth_time:Oe,sub:ht,user_id:ht,firebase:{sign_in_provider:"custom",identities:{}}},fe);return[q(JSON.stringify({alg:"none",type:"JWT"})),q(JSON.stringify(tn)),""].join(".")}function J(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Me(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(J())}function I(){var fe;const ce=null===(fe=ae())||void 0===fe?void 0:fe.forceEnvironment;if("node"===ce)return!0;if("browser"===ce)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Re(){return"object"==typeof self&&self.self===self}function et(){const fe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof fe&&void 0!==fe.id}function qe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function lt(){const fe=J();return fe.indexOf("MSIE ")>=0||fe.indexOf("Trident/")>=0}function Le(){return!I()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ce(){try{return"object"==typeof indexedDB}catch{return!1}}function _e(){return new Promise((fe,ce)=>{try{let Se=!0;const Ze="validate-browser-context-for-indexeddb-analytics-module",Oe=self.indexedDB.open(Ze);Oe.onsuccess=()=>{Oe.result.close(),Se||self.indexedDB.deleteDatabase(Ze),fe(!0)},Oe.onupgradeneeded=()=>{Se=!1},Oe.onerror=()=>{var ht;ce((null===(ht=Oe.error)||void 0===ht?void 0:ht.message)||"")}}catch(Se){ce(Se)}})}function pe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class je extends Error{constructor(ce,Se,Ze){super(Se),this.code=ce,this.customData=Ze,this.name="FirebaseError",Object.setPrototypeOf(this,je.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,He.prototype.create)}}class He{constructor(ce,Se,Ze){this.service=ce,this.serviceName=Se,this.errors=Ze}create(ce,...Se){const Ze=Se[0]||{},Oe=`${this.service}/${ce}`,ht=this.errors[ce],tn=ht?function ut(fe,ce){return fe.replace(wt,(Se,Ze)=>{const Oe=ce[Ze];return null!=Oe?String(Oe):`<${Ze}?>`})}(ht,Ze):"Error";return new je(Oe,`${this.serviceName}: ${tn} (${Oe}).`,Ze)}}const wt=/\{\$([^}]+)}/g;function re(fe,ce){return Object.prototype.hasOwnProperty.call(fe,ce)}function Je(fe){for(const ce in fe)if(Object.prototype.hasOwnProperty.call(fe,ce))return!1;return!0}function ge(fe,ce){if(fe===ce)return!0;const Se=Object.keys(fe),Ze=Object.keys(ce);for(const Oe of Se){if(!Ze.includes(Oe))return!1;const ht=fe[Oe],tn=ce[Oe];if(st(ht)&&st(tn)){if(!ge(ht,tn))return!1}else if(ht!==tn)return!1}for(const Oe of Ze)if(!Se.includes(Oe))return!1;return!0}function st(fe){return null!==fe&&"object"==typeof fe}function ot(fe){const ce=[];for(const[Se,Ze]of Object.entries(fe))Array.isArray(Ze)?Ze.forEach(Oe=>{ce.push(encodeURIComponent(Se)+"="+encodeURIComponent(Oe))}):ce.push(encodeURIComponent(Se)+"="+encodeURIComponent(Ze));return ce.length?"&"+ce.join("&"):""}function Pt(fe){const ce={};return fe.replace(/^\?/,"").split("&").forEach(Ze=>{if(Ze){const[Oe,ht]=Ze.split("=");ce[decodeURIComponent(Oe)]=decodeURIComponent(ht)}}),ce}function Cn(fe){const ce=fe.indexOf("?");if(!ce)return"";const Se=fe.indexOf("#",ce);return fe.substring(ce,Se>0?Se:void 0)}function dn(fe,ce){const Se=new Dt(fe,ce);return Se.subscribe.bind(Se)}class Dt{constructor(ce,Se){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Se,this.task.then(()=>{ce(this)}).catch(Ze=>{this.error(Ze)})}next(ce){this.forEachObserver(Se=>{Se.next(ce)})}error(ce){this.forEachObserver(Se=>{Se.error(ce)}),this.close(ce)}complete(){this.forEachObserver(ce=>{ce.complete()}),this.close()}subscribe(ce,Se,Ze){let Oe;if(void 0===ce&&void 0===Se&&void 0===Ze)throw new Error("Missing Observer.");Oe=function Lr(fe,ce){if("object"!=typeof fe||null===fe)return!1;for(const Se of ce)if(Se in fe&&"function"==typeof fe[Se])return!0;return!1}(ce,["next","error","complete"])?ce:{next:ce,error:Se,complete:Ze},void 0===Oe.next&&(Oe.next=Mn),void 0===Oe.error&&(Oe.error=Mn),void 0===Oe.complete&&(Oe.complete=Mn);const ht=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Oe.error(this.finalError):Oe.complete()}catch{}}),this.observers.push(Oe),ht}unsubscribeOne(ce){void 0===this.observers||void 0===this.observers[ce]||(delete this.observers[ce],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ce){if(!this.finalized)for(let Se=0;Se<this.observers.length;Se++)this.sendOne(Se,ce)}sendOne(ce,Se){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ce])try{Se(this.observers[ce])}catch(Ze){typeof console<"u"&&console.error&&console.error(Ze)}})}close(ce){this.finalized||(this.finalized=!0,void 0!==ce&&(this.finalError=ce),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Mn(){}const En=1e3,Kr=2,hr=144e5,Mr=.5;function mo(fe,ce=En,Se=Kr){const Ze=ce*Math.pow(Se,fe),Oe=Math.round(Mr*Ze*(Math.random()-.5)*2);return Math.min(hr,Ze+Oe)}function Ii(fe){return fe&&fe._delegate?fe._delegate:fe}},4789:(Yt,ee,B)=>{"use strict";var l=B(4650);let V=null;function M(){return V}class H{}const j=new l.OlP("DocumentToken");let Q=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function W(){return(0,l.LFG)(z)}()},providedIn:"platform"}),n})();const q=new l.OlP("Location Initialized");let z=(()=>{class n extends Q{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return M().getBaseHref(this._doc)}onPopState(t){const r=M().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=M().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){L()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){L()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(j))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function P(){return new z((0,l.LFG)(j))}()},providedIn:"platform"}),n})();function L(){return!!window.history.pushState}function G(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function U(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function X(n){return n&&"?"!==n[0]?"?"+n:n}let le=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(ae)},providedIn:"root"}),n})();const ie=new l.OlP("appBaseHref");let ae=(()=>{class n extends le{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(j).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return G(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+X(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const c=this.prepareExternalUrl(i+X(o));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,o){const c=this.prepareExternalUrl(i+X(o));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Q),l.LFG(ie,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ye=(()=>{class n extends le{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=G(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let c=this.prepareExternalUrl(i+X(o));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,o){let c=this.prepareExternalUrl(i+X(o));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Q),l.LFG(ie,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),ve=(()=>{class n{constructor(t){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function Ge(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(U(we(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+X(r))}normalize(t){return n.stripTrailingSlash(function de(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,we(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+X(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+X(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=X,n.joinWithSlash=G,n.stripTrailingSlash=U,n.\u0275fac=function(t){return new(t||n)(l.LFG(le))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Te(){return new ve((0,l.LFG)(le))}()},providedIn:"root"}),n})();function we(n){return n.replace(/\/index.html$/,"")}function Js(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}const Ji=/\s+/,bt=[];let on=(()=>{class n{constructor(t,r,i,o){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this.initialClasses=bt,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(Ji):bt}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(Ji):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,Boolean(t[r]));this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(Ji).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Ir{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Xs=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,o,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Ir(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===o?void 0:o);else if(null!==o){const h=r.get(o);r.move(h,c),fr(h,i)}});for(let i=0,o=r.length;i<o;i++){const h=r.get(i).context;h.index=i,h.count=o,h.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{fr(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function fr(n,e){n.context.$implicit=e.item}let pi=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new yn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){zc("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){zc("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class yn{constructor(){this.$implicit=null,this.ngIf=null}}function zc(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(e)}'.`)}let _o=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,o]=t.split("."),c=-1===i.indexOf("-")?void 0:l.JOm.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,c):this._renderer.removeStyle(this._ngEl.nativeElement,i,c)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.aQg),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),tr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const P4="browser",kd="server";function ls(n){return n===kd}let Rc=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new Pd((0,l.LFG)(j),window)}),n})();class Pd{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function zs(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const c=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=t1(this.window.history)||t1(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function t1(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Nc{}class $d extends H{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class c1 extends $d{static makeCurrent(){!function F(n){V||(V=n)}(new c1)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Wa(){return qa=qa||document.querySelector("base"),qa?qa.getAttribute("href"):null}();return null==t?null:function X0(n){ps=ps||document.createElement("a"),ps.setAttribute("href",n);const e=ps.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){qa=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Js(document.cookie,e)}}let ps,qa=null;const L4=new l.OlP("TRANSITION_ID"),v6=[{provide:l.ip1,useFactory:function Kl(n,e,t){return()=>{t.get(l.CZH).donePromise.then(()=>{const r=M(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<i.length;o++)r.remove(i[o])})}},deps:[L4,j,l.zs3],multi:!0}];let aa=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const ca=new l.OlP("EventManagerPlugins");let Zl=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const c=i[o];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ca),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Ka{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=M().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let l1=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const i=this.usageCount;let o=i.get(t)??0;return o+=r,o>0?i.set(t,o):i.delete(t),o}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),la=(()=>{class n extends l1{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(o=>o.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const i=this.doc.createElement("style");i.textContent=r,t.appendChild(i);const o=this.styleRef.get(r);o?o.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(j))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const ua={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ql=/%COMP%/g,qc=new l.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function qd(n,e){return e.flat(100).map(t=>t.replace(Ql,n))}function fa(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let ro=(()=>{class n{constructor(t,r,i,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=o,this.rendererByCompId=new Map,this.defaultRenderer=new ms(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(t,r);return i instanceof Kd?i.applyToHost(t):i instanceof Un&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const c=this.eventManager,h=this.sharedStylesHost,g=this.removeStylesOnCompDestory;switch(r.encapsulation){case l.ifc.Emulated:o=new Kd(c,h,r,this.appId,g);break;case l.ifc.ShadowDom:return new Wd(c,h,t,r);default:o=new Un(c,h,r,g)}o.onDestroy=()=>i.delete(r.id),i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Zl),l.LFG(la),l.LFG(l.AFp),l.LFG(qc))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class ms{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(ua[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Qa(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Qa(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const o=ua[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=ua[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(l.JOm.DashCase|l.JOm.Important)?e.style.setProperty(t,r,i&l.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&l.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,fa(r)):this.eventManager.addEventListener(e,t,fa(r))}}function Qa(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Wd extends ms{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=qd(i.id,i.styles);for(const c of o){const h=document.createElement("style");h.textContent=c,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Un extends ms{constructor(e,t,r,i,o=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=qd(o,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Kd extends Un{constructor(e,t,r,i,o){const c=i+"-"+r.id;super(e,t,r,o,c),this.contentAttr=function V4(n){return"_ngcontent-%COMP%".replace(Ql,n)}(c),this.hostAttr=function Xl(n){return"_nghost-%COMP%".replace(Ql,n)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let eu=(()=>{class n extends Ka{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(j))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const d1=["alt","control","meta","shift"],tu={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},nu={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Yr=(()=>{class n extends Ka{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const o=n.parseEventName(r),c=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>M().onAndCancel(t,o.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let c="",h=r.indexOf("code");if(h>-1&&(r.splice(h,1),c="code."),d1.forEach(_=>{const E=r.indexOf(_);E>-1&&(r.splice(E,1),c+=_+".")}),c+=o,0!=r.length||0===o.length)return null;const g={};return g.domEventName=i,g.fullKey=c,g}static matchEventFullKeyCode(t,r){let i=tu[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),d1.forEach(c=>{c!==i&&(0,nu[c])(t)&&(o+=c+".")}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(j))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const f1=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:P4},{provide:l.g9A,useValue:function gs(){c1.makeCurrent()},multi:!0},{provide:j,useFactory:function ru(){return(0,l.RDi)(document),document},deps:[]}]),Zc=new l.OlP(""),Ja=[{provide:l.rWj,useClass:class Gc{addToWindow(e){l.dqk.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new Error("Could not find testability for element.");return o},l.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(r=>{const i=l.dqk.getAllAngularTestabilities();let o=i.length,c=!1;const h=function(g){c=c||g,o--,0==o&&r(c)};i.forEach(function(g){g.whenStable(h)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?M().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],Ns=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function H4(){return new l.qLn},deps:[]},{provide:ca,useClass:eu,multi:!0,deps:[j,l.R0b,l.Lbi]},{provide:ca,useClass:Yr,multi:!0,deps:[j]},{provide:ro,useClass:ro,deps:[Zl,la,l.AFp,qc]},{provide:l.FYo,useExisting:ro},{provide:l1,useExisting:la},{provide:la,useClass:la,deps:[j]},{provide:Zl,useClass:Zl,deps:[ca,l.R0b]},{provide:Nc,useClass:aa,deps:[]},[]];let ga=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:l.AFp,useValue:t.appId},{provide:L4,useExisting:l.AFp},v6]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Zc,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[...Ns,...Ja],imports:[tr,l.hGG]}),n})(),Y4=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(j))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function ya(){return new Y4((0,l.LFG)(j))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let Xa=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):l.LFG(el),r},providedIn:"root"}),n})(),el=(()=>{class n extends Xa{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case l.q3G.NONE:return r;case l.q3G.HTML:return(0,l.qzn)(r,"HTML")?(0,l.z3N)(r):(0,l.EiD)(this._doc,String(r)).toString();case l.q3G.STYLE:return(0,l.qzn)(r,"Style")?(0,l.z3N)(r):r;case l.q3G.SCRIPT:if((0,l.qzn)(r,"Script"))return(0,l.z3N)(r);throw new Error("unsafe value used in a script context");case l.q3G.URL:return(0,l.qzn)(r,"URL")?(0,l.z3N)(r):(0,l.mCW)(String(r));case l.q3G.RESOURCE_URL:if((0,l.qzn)(r,"ResourceURL"))return(0,l.z3N)(r);throw new Error(`unsafe value used in a resource URL context (see ${l.JZr})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${l.JZr})`)}}bypassSecurityTrustHtml(t){return(0,l.JVY)(t)}bypassSecurityTrustStyle(t){return(0,l.L6k)(t)}bypassSecurityTrustScript(t){return(0,l.eBb)(t)}bypassSecurityTrustUrl(t){return(0,l.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,l.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(j))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function au(n){return new el(n.get(j))}(l.LFG(l.zs3)),r},providedIn:"root"}),n})();var Nn=B(8996),Ui=B(3269);function kt(...n){const e=(0,Ui.yG)(n);return(0,Nn.D)(n,e)}var Ct=B(7579);class Jn extends Ct.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const tl=(0,B(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var rr=B(9751);const{isArray:cu}=Array,{getPrototypeOf:v1,prototype:io,keys:ec}=Object;function tc(n){if(1===n.length){const e=n[0];if(cu(e))return{args:e,keys:null};if(function nl(n){return n&&"object"==typeof n&&v1(n)===io}(e)){const t=ec(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Fs=B(4671),Nt=B(4004);const{isArray:y1}=Array;function vs(n){return(0,Nt.U)(e=>function lu(n,e){return y1(e)?n(...e):n(e)}(n,e))}function Ls(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var pr=B(5403),_1=B(9672);function uu(...n){const e=(0,Ui.yG)(n),t=(0,Ui.jO)(n),{args:r,keys:i}=tc(n);if(0===r.length)return(0,Nn.D)([],e);const o=new rr.y(function ba(n,e,t=Fs.y){return r=>{Ca(e,()=>{const{length:i}=n,o=new Array(i);let c=i,h=i;for(let g=0;g<i;g++)Ca(e,()=>{const _=(0,Nn.D)(n[g],e);let E=!1;_.subscribe((0,pr.x)(r,x=>{o[g]=x,E||(E=!0,h--),h||r.next(t(o.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>Ls(i,c):Fs.y));return t?o.pipe(vs(t)):o}function Ca(n,e,t){n?(0,_1.f)(t,n,e):e()}var du=B(8189);function nc(...n){return function Jd(){return(0,du.J)(1)}()((0,Nn.D)(n,(0,Ui.yG)(n)))}var jo=B(8421);function w1(n){return new rr.y(e=>{(0,jo.Xf)(n()).subscribe(e)})}var G4=B(9635),Pi=B(576);function rl(n,e){const t=(0,Pi.m)(n)?n:()=>n,r=i=>i.error(t());return new rr.y(e?i=>e.schedule(r,0,i):r)}var Co=B(515),jr=B(727),zr=B(4482);function b1(){return(0,zr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,pr.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class C1 extends rr.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,zr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new jr.w0;const t=this.getSubject();e.add(this.source.subscribe((0,pr.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=jr.w0.EMPTY)}return e}refCount(){return b1()(this)}}function Tr(n,e){return(0,zr.e)((t,r)=>{let i=null,o=0,c=!1;const h=()=>c&&!i&&r.complete();t.subscribe((0,pr.x)(r,g=>{i?.unsubscribe();let _=0;const E=o++;(0,jo.Xf)(n(g,E)).subscribe(i=(0,pr.x)(r,x=>r.next(e?e(g,x,E,_++):x),()=>{i=null,h()}))},()=>{c=!0,h()}))})}function cr(n){return n<=0?()=>Co.E:(0,zr.e)((e,t)=>{let r=0;e.subscribe((0,pr.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function ci(...n){const e=(0,Ui.yG)(n);return(0,zr.e)((t,r)=>{(e?nc(n,t,e):nc(n,t)).subscribe(r)})}function Hn(n,e){return(0,zr.e)((t,r)=>{let i=0;t.subscribe((0,pr.x)(r,o=>n.call(e,o,i++)&&r.next(o)))})}var lr=B(5577);function Sa(n){return(0,zr.e)((e,t)=>{let r=!1;e.subscribe((0,pr.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function S1(n=rc){return(0,zr.e)((e,t)=>{let r=!1;e.subscribe((0,pr.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function rc(){return new tl}function oo(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Hn((i,o)=>n(i,o,r)):Fs.y,cr(1),t?Sa(e):S1(()=>new tl))}function $o(n,e){return(0,Pi.m)(e)?(0,lr.z)(n,e,1):(0,lr.z)(n,1)}var Pr=B(8505);function Vs(n){return(0,zr.e)((e,t)=>{let o,r=null,i=!1;r=e.subscribe((0,pr.x)(t,void 0,void 0,c=>{o=(0,jo.Xf)(n(c,Vs(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function hu(n,e){return(0,zr.e)(function q4(n,e,t,r,i){return(o,c)=>{let h=t,g=e,_=0;o.subscribe((0,pr.x)(c,E=>{const x=_++;g=h?n(g,E,x):(h=!0,E),r&&c.next(g)},i&&(()=>{h&&c.next(g),c.complete()})))}}(n,e,arguments.length>=2,!0))}function fu(n){return n<=0?()=>Co.E:(0,zr.e)((e,t)=>{let r=[];e.subscribe((0,pr.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function pu(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Hn((i,o)=>n(i,o,r)):Fs.y,fu(1),t?Sa(e):S1(()=>new tl))}function Go(n,e=!1){return(0,zr.e)((t,r)=>{let i=0;t.subscribe((0,pr.x)(r,o=>{const c=n(o,i++);(c||e)&&r.next(o),!c&&r.complete()}))})}function il(n){return(0,Nt.U)(()=>n)}function Ea(n){return(0,zr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Kt="primary",So=Symbol("RouteTitle");class mu{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function so(n){return new mu(n)}function W4(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const c=r[o],h=n[o];if(c.startsWith(":"))i[c.substring(1)]=h;else if(c!==h.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Eo(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!eh(n[i],e[i]))return!1;return!0}function eh(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}return n===e}function th(n){return Array.prototype.concat.apply([],n)}function nh(n){return n.length>0?n[n.length-1]:null}function T(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function R(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,Nn.D)(Promise.resolve(n)):kt(n)}const te=!1,me={exact:function vt(n,e,t){if(!ei(n.segments,e.segments)||!vi(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!vt(n.children[r],e.children[r],t))return!1;return!0},subset:sn},xe={exact:function _t(n,e){return Eo(n,e)},subset:function Ft(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>eh(n[t],e[t]))},ignored:()=>!0};function Ve(n,e,t){return me[t.paths](n.root,e.root,t.matrixParams)&&xe[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function sn(n,e,t){return an(n,e,e.segments,t)}function an(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!ei(i,t)||e.hasChildren()||!vi(i,t,r))}if(n.segments.length===t.length){if(!ei(n.segments,t)||!vi(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!sn(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(ei(n.segments,i)&&vi(n.segments,i,r)&&n.children[Kt])&&an(n.children[Kt],e,o,r)}}function vi(n,e,t){return e.every((r,i)=>xe[t](n[i].parameters,r.parameters))}class jn{constructor(e=new hn([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=so(this.queryParams)),this._queryParamMap}toString(){return T1.serialize(this)}}class hn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,T(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return K4(this)}}class Hs{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=so(this.parameters)),this._parameterMap}toString(){return t3(this)}}function ei(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Bs=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return new E1},providedIn:"root"}),n})();class E1{parse(e){const t=new M1(e);return new jn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${ol(e.root,!0)}`,r=function b6(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Da(t)}=${Da(i)}`).join("&"):`${Da(t)}=${Da(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Z4(n){return encodeURI(n)}(e.fragment)}`:""}`}}const T1=new E1;function K4(n){return n.segments.map(e=>t3(e)).join("/")}function ol(n,e){if(!n.hasChildren())return K4(n);if(e){const t=n.children[Kt]?ol(n.children[Kt],!1):"",r=[];return T(n.children,(i,o)=>{o!==Kt&&r.push(`${o}:${ol(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function To(n,e){let t=[];return T(n.children,(r,i)=>{i===Kt&&(t=t.concat(e(r,i)))}),T(n.children,(r,i)=>{i!==Kt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Kt?[ol(n.children[Kt],!1)]:[`${i}:${ol(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Kt]?`${K4(n)}/${t[0]}`:`${K4(n)}/(${t.join("//")})`}}function D1(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Da(n){return D1(n).replace(/%3B/gi,";")}function Ma(n){return D1(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function gu(n){return decodeURIComponent(n)}function Q4(n){return gu(n.replace(/\+/g,"%20"))}function t3(n){return`${Ma(n.path)}${function J4(n){return Object.keys(n).map(e=>`;${Ma(e)}=${Ma(n[e])}`).join("")}(n.parameters)}`}const n3=/^[^\/()?;=#]+/;function rh(n){const e=n.match(n3);return e?e[0]:""}const ug=/^[^=?&#]+/,C6=/^[^&#]+/;class M1{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new hn([],{}):new hn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Kt]=new hn(e,t)),r}parseSegment(){const e=rh(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new l.vHH(4009,te);return this.capture(e),new Hs(gu(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=rh(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=rh(this.remaining);i&&(r=i,this.capture(r))}e[gu(t)]=gu(r)}parseQueryParam(e){const t=function sl(n){const e=n.match(ug);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function r3(n){const e=n.match(C6);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=Q4(t),o=Q4(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(o)}else e[i]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=rh(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new l.vHH(4010,te);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Kt);const c=this.parseChildren();t[o]=1===Object.keys(c).length?c[Kt]:new hn([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new l.vHH(4011,te)}}function ih(n){return n.segments.length>0?new hn([],{[Kt]:n}):n}function ic(n){const e={};for(const r of Object.keys(n.children)){const o=ic(n.children[r]);(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function S6(n){if(1===n.numberOfChildren&&n.children[Kt]){const e=n.children[Kt];return new hn(n.segments.concat(e.segments),e.children)}return n}(new hn(n.segments,e))}function al(n){return n instanceof jn}const vu=!1;function o3(n,e,t,r,i){if(0===t.length)return xa(e.root,e.root,e.root,r,i);const o=function A1(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new sh(!0,0,n);let e=0,t=!1;const r=n.reduce((i,o,c)=>{if("object"==typeof o&&null!=o){if(o.outlets){const h={};return T(o.outlets,(g,_)=>{h[_]="string"==typeof g?g.split("/"):g}),[...i,{outlets:h}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===c?(o.split("/").forEach((h,g)=>{0==g&&"."===h||(0==g&&""===h?t=!0:".."===h?e++:""!=h&&i.push(h))}),i):[...i,o]},[]);return new sh(t,e,r)}(t);return o.toRoot()?xa(e.root,e.root,new hn([],{}),r,i):function c(g){const _=function ah(n,e,t,r){if(n.isAbsolute)return new cl(e.root,!0,0);if(-1===r)return new cl(t,t===e.root,0);return function ll(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new l.vHH(4005,vu&&"Invalid number of '../'");i=r.segments.length}return new cl(r,!1,i-o)}(t,r+(I1(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,e,n.snapshot?._urlSegment,g),E=_.processChildren?ys(_.segmentGroup,_.index,o.commands):lh(_.segmentGroup,_.index,o.commands);return xa(e.root,_.segmentGroup,E,r,i)}(n.snapshot?._lastPathIndex)}function I1(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function oh(n){return"object"==typeof n&&null!=n&&n.outlets}function xa(n,e,t,r,i){let c,o={};r&&T(r,(g,_)=>{o[_]=Array.isArray(g)?g.map(E=>`${E}`):`${g}`}),c=n===e?t:s3(n,e,t);const h=ih(ic(c));return new jn(h,o,i)}function s3(n,e,t){const r={};return T(n.children,(i,o)=>{r[o]=i===e?t:s3(i,e,t)}),new hn(n.segments,r)}class sh{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&I1(r[0]))throw new l.vHH(4003,vu&&"Root segment cannot have matrix parameters");const i=r.find(oh);if(i&&i!==nh(r))throw new l.vHH(4004,vu&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class cl{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function lh(n,e,t){if(n||(n=new hn([],{})),0===n.segments.length&&n.hasChildren())return ys(n,e,t);const r=function e2(n,e,t){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;const c=n.segments[i],h=t[r];if(oh(h))break;const g=`${h}`,_=r<t.length-1?t[r+1]:null;if(i>0&&void 0===g)break;if(g&&_&&"object"==typeof _&&void 0===_.outlets){if(!n2(g,_,c))return o;r+=2}else{if(!n2(g,{},c))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new hn(n.segments.slice(0,r.pathIndex),{});return o.children[Kt]=new hn(n.segments.slice(r.pathIndex),n.children),ys(o,0,i)}return r.match&&0===i.length?new hn(n.segments,{}):r.match&&!n.hasChildren()?k1(n,e,t):r.match?ys(n,0,i):k1(n,e,t)}function ys(n,e,t){if(0===t.length)return new hn(n.segments,{});{const r=function ch(n){return oh(n[0])?n[0].outlets:{[Kt]:n}}(t),i={};if(!r[Kt]&&n.children[Kt]&&1===n.numberOfChildren&&0===n.children[Kt].segments.length){const o=ys(n.children[Kt],e,t);return new hn(n.segments,o.children)}return T(r,(o,c)=>{"string"==typeof o&&(o=[o]),null!==o&&(i[c]=lh(n.children[c],e,o))}),T(n.children,(o,c)=>{void 0===r[c]&&(i[c]=o)}),new hn(n.segments,i)}}function k1(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const o=t[i];if(oh(o)){const g=z1(o.outlets);return new hn(r,g)}if(0===i&&I1(t[0])){r.push(new Hs(n.segments[e].path,t2(t[0]))),i++;continue}const c=oh(o)?o.outlets[Kt]:`${o}`,h=i<t.length-1?t[i+1]:null;c&&h&&I1(h)?(r.push(new Hs(c,t2(h))),i+=2):(r.push(new Hs(c,{})),i++)}return new hn(r,{})}function z1(n){const e={};return T(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=k1(new hn([],{}),0,t))}),e}function t2(n){const e={};return T(n,(t,r)=>e[r]=`${t}`),e}function n2(n,e,t){return n==t.path&&Eo(e,t.parameters)}const P1="imperative";class Ys{constructor(e,t){this.id=e,this.url=t}}class r2 extends Ys{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class qo extends Ys{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class O1 extends Ys{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class sc extends Ys{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class R1 extends Ys{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class yu extends Ys{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class T6 extends Ys{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class D6 extends Ys{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class M6 extends Ys{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class o2 extends Ys{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class N1{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class a3{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class c3{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _u{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class s2{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ao{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ul{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let c2=(()=>{class n{createUrlTree(t,r,i,o,c,h){return o3(t||r.root,i,o,c,h)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),x6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(e){return c2.\u0275fac(e)},providedIn:"root"}),n})();class u2{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=d2(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=d2(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=li(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return li(e,this._root).map(t=>t.value)}}function d2(n,e){if(n===e.value)return e;for(const t of e.children){const r=d2(n,t);if(r)return r}return null}function li(n,e){if(n===e.value)return[e];for(const t of e.children){const r=li(n,t);if(r.length)return r.unshift(e),r}return[]}class ji{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function wu(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class l3 extends u2{constructor(e,t){super(e),this.snapshot=t,hl(this,e)}toString(){return this.snapshot.toString()}}function u3(n,e){const t=function d3(n,e){const c=new hh([],{},{},"",{},Kt,e,null,n.root,-1,{});return new Us("",new ji(c,[]))}(n,e),r=new Jn([new Hs("",{})]),i=new Jn({}),o=new Jn({}),c=new Jn({}),h=new Jn(""),g=new $r(r,i,c,h,o,Kt,e,t.root);return g.snapshot=t.root,new l3(new ji(g,[]),t)}class $r{constructor(e,t,r,i,o,c,h,g){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=c,this.component=h,this.title=this.data?.pipe((0,Nt.U)(_=>_[So]))??kt(void 0),this._futureSnapshot=g}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Nt.U)(e=>so(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Nt.U)(e=>so(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function uh(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],o=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function dh(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class hh{get title(){return this.data?.[So]}constructor(e,t,r,i,o,c,h,g,_,E,x){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=c,this.component=h,this.routeConfig=g,this._urlSegment=_,this._lastPathIndex=E,this._resolve=x}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=so(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=so(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Us extends u2{constructor(e,t){super(t),this.url=e,hl(this,t)}toString(){return h2(this._root)}}function hl(n,e){e.value._routerState=n,e.children.forEach(t=>hl(n,t))}function h2(n){const e=n.children.length>0?` { ${n.children.map(h2).join(", ")} } `:"";return`${n.value}${e}`}function fl(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Eo(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Eo(e.params,t.params)||n.params.next(t.params),function Xd(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Eo(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Eo(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function _s(n,e){const t=Eo(n.params,e.params)&&function Ta(n,e){return ei(n,e)&&n.every((t,r)=>Eo(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||_s(n.parent,e.parent))}function bu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function h3(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return bu(n,r,i);return bu(n,r)})}(n,e,t);return new ji(r,i)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const c=o.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(h=>bu(n,h)),c}}const r=function f3(n){return new $r(new Jn(n.url),new Jn(n.params),new Jn(n.queryParams),new Jn(n.fragment),new Jn(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(o=>bu(n,o));return new ji(r,i)}}const p3="ngNavigationCancelingError";function y(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=al(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=p(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function p(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[p3]=!0,r.cancellationCode=e,t&&(r.url=t),r}function m(n){return b(n)&&al(n.url)}function b(n){return n&&n[p3]}class k{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Y,this.attachRef=null}}let Y=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new k,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const he=!1;let Ae=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Kt,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.parentContexts=(0,l.f3M)(Y),this.location=(0,l.f3M)(l.s_b),this.changeDetector=(0,l.f3M)(l.sBO),this.environmentInjector=(0,l.f3M)(l.lqb)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,he);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,he);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,he);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new l.vHH(4013,he);this._activatedRoute=t;const i=this.location,c=t.snapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,g=new rt(t,h,i.injector);if(r&&function yt(n){return!!n.resolveComponentFactory}(r)){const _=r.resolveComponentFactory(c);this.activated=i.createComponent(_,i.length,g)}else this.activated=i.createComponent(c,{index:i.length,injector:g,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.TTD]}),n})();class rt{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===$r?this.route:e===Y?this.childContexts:this.parent.get(e,t)}}let It=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(t,r){1&t&&l._UZ(0,"router-outlet")},dependencies:[Ae],encapsulation:2}),n})();function zt(n,e){return n.providers&&!n._injector&&(n._injector=(0,l.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function V1(n){const e=n.children&&n.children.map(V1),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Kt&&(t.component=It),t}function Do(n){return n.outlet||Kt}function fh(n,e){const t=n.filter(r=>Do(r)===e);return t.push(...n.filter(r=>Do(r)!==e)),t}function Cu(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class ph{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),fl(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=wu(t);e.children.forEach(o=>{const c=o.value.outlet;this.deactivateRoutes(o,i[c],r),delete i[c]}),T(i,(o,c)=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(i===o)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=wu(e);for(const c of Object.keys(o))this.deactivateRouteAndItsChildren(o[c],i);if(r&&r.outlet){const c=r.outlet.detach(),h=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:h})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=wu(e);for(const c of Object.keys(o))this.deactivateRouteAndItsChildren(o[c],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=wu(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new ao(o.value.snapshot))}),e.children.length&&this.forwardEvent(new _u(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(fl(i),i===o)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const h=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(h.contexts),c.attachRef=h.componentRef,c.route=h.route.value,c.outlet&&c.outlet.attach(h.componentRef,h.route.value),fl(h.route.value),this.activateChildRoutes(e,null,c.children)}else{const h=Cu(i.snapshot),g=h?.get(l._Vd)??null;c.attachRef=null,c.route=i,c.resolver=g,c.injector=h,c.outlet&&c.outlet.activateWith(i,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class k6{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class z6{constructor(e,t){this.component=e,this.route=t}}function p2(n,e,t){const r=n._root;return mh(r,e?e._root:null,t,[r.value])}function H1(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,l.Z0I)(n)?e.get(n):n:r}function mh(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=wu(e);return n.children.forEach(c=>{(function dg(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,c=e?e.value:null,h=t?t.getContext(n.value.outlet):null;if(c&&o.routeConfig===c.routeConfig){const g=function ty(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!ei(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ei(n.url,e.url)||!Eo(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_s(n,e)||!Eo(n.queryParams,e.queryParams);default:return!_s(n,e)}}(c,o,o.routeConfig.runGuardsAndResolvers);g?i.canActivateChecks.push(new k6(r)):(o.data=c.data,o._resolvedData=c._resolvedData),mh(n,e,o.component?h?h.children:null:t,r,i),g&&h&&h.outlet&&h.outlet.isActivated&&i.canDeactivateChecks.push(new z6(h.outlet.component,c))}else c&&m2(e,h,i),i.canActivateChecks.push(new k6(r)),mh(n,null,o.component?h?h.children:null:t,r,i)})(c,o[c.value.outlet],t,r.concat([c.value]),i),delete o[c.value.outlet]}),T(o,(c,h)=>m2(c,t.getContext(h),i)),i}function m2(n,e,t){const r=wu(n),i=n.value;T(r,(o,c)=>{m2(o,i.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new z6(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function gh(n){return"function"==typeof n}function ml(n){return n instanceof tl||"EmptyError"===n?.name}const g3=Symbol("INITIAL_VALUE");function Su(){return Tr(n=>uu(n.map(e=>e.pipe(cr(1),ci(g3)))).pipe((0,Nt.U)(e=>{for(const t of e)if(!0!==t){if(t===g3)return g3;if(!1===t||t instanceof jn)return t}return!0}),Hn(e=>e!==g3),cr(1)))}function V6(n){return(0,G4.z)((0,Pr.b)(e=>{if(al(e))throw y(0,e)}),(0,Nt.U)(e=>!0===e))}const H6={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function mg(n,e,t,r,i){const o=B6(n,e,t);return o.matched?function vh(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?kt(i.map(c=>{const h=H1(c,n);return R(function N6(n){return n&&gh(n.canMatch)}(h)?h.canMatch(e,t):n.runInContext(()=>h(e,t)))})).pipe(Su(),V6()):kt(!0)}(r=zt(e,r),e,t).pipe((0,Nt.U)(c=>!0===c?o:{...H6})):kt(o)}function B6(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...H6}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||W4)(t,n,e);if(!i)return{...H6};const o={};T(i.posParams,(h,g)=>{o[g]=h.path});const c=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:c,positionalParamSegments:i.posParams??{}}}function yh(n,e,t,r){if(t.length>0&&function cy(n,e,t){return t.some(r=>Y6(n,e,r)&&Do(r)!==Kt)}(n,t,r)){const o=new hn(e,function gg(n,e,t,r){const i={};i[Kt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const o of t)if(""===o.path&&Do(o)!==Kt){const c=new hn([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,i[Do(o)]=c}return i}(n,e,r,new hn(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function vg(n,e,t){return t.some(r=>Y6(n,e,r))}(n,t,r)){const o=new hn(n.segments,function ay(n,e,t,r,i){const o={};for(const c of r)if(Y6(n,t,c)&&!i[Do(c)]){const h=new hn([],{});h._sourceSegment=n,h._segmentIndexShift=e.length,o[Do(c)]=h}return{...i,...o}}(n,e,t,r,n.children));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const i=new hn(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function Y6(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function yg(n,e,t,r){return!!(Do(n)===r||r!==Kt&&Y6(e,t,n))&&("**"===n.path||B6(e,n,t).matched)}function _h(n,e,t){return 0===e.length&&!n.children[t]}const _3=!1;class gl{constructor(e){this.segmentGroup=e||null}}class wh{constructor(e){this.urlTree=e}}function g2(n){return rl(new gl(n))}function U6(n){return rl(new wh(n))}class _g{constructor(e,t,r,i,o){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0}apply(){const e=yh(this.urlTree.root,[],[],this.config).segmentGroup,t=new hn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Kt).pipe((0,Nt.U)(o=>this.createUrlTree(ic(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Vs(o=>{if(o instanceof wh)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof gl?this.noMatchError(o):o}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Kt).pipe((0,Nt.U)(i=>this.createUrlTree(ic(i),e.queryParams,e.fragment))).pipe(Vs(i=>{throw i instanceof gl?this.noMatchError(i):i}))}noMatchError(e){return new l.vHH(4002,_3)}createUrlTree(e,t,r){const i=ih(e);return new jn(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Nt.U)(o=>new hn([],o))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return(0,Nn.D)(i).pipe($o(o=>{const c=r.children[o],h=fh(t,o);return this.expandSegmentGroup(e,h,c,o).pipe((0,Nt.U)(g=>({segment:g,outlet:o})))}),hu((o,c)=>(o[c.outlet]=c.segment,o),{}),pu())}expandSegment(e,t,r,i,o,c){return(0,Nn.D)(r).pipe($o(h=>this.expandSegmentAgainstRoute(e,t,r,h,i,o,c).pipe(Vs(_=>{if(_ instanceof gl)return kt(null);throw _}))),oo(h=>!!h),Vs((h,g)=>{if(ml(h))return _h(t,i,o)?kt(new hn([],{})):g2(t);throw h}))}expandSegmentAgainstRoute(e,t,r,i,o,c,h){return yg(i,t,o,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,o,c):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,c):g2(t):g2(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const o=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?U6(o):this.lineralizeSegments(r,o).pipe((0,lr.z)(c=>{const h=new hn(c,{});return this.expandSegment(e,h,t,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,c){const{matched:h,consumedSegments:g,remainingSegments:_,positionalParamSegments:E}=B6(t,i,o);if(!h)return g2(t);const x=this.applyRedirectCommands(g,i.redirectTo,E);return i.redirectTo.startsWith("/")?U6(x):this.lineralizeSegments(i,x).pipe((0,lr.z)(K=>this.expandSegment(e,t,r,K.concat(_),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,o){return"**"===r.path?(e=zt(r,e),r.loadChildren?(r._loadedRoutes?kt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,Nt.U)(h=>(r._loadedRoutes=h.routes,r._loadedInjector=h.injector,new hn(i,{})))):kt(new hn(i,{}))):mg(t,r,i,e).pipe(Tr(({matched:c,consumedSegments:h,remainingSegments:g})=>c?this.getChildConfig(e=r._injector??e,r,i).pipe((0,lr.z)(E=>{const x=E.injector??e,K=E.routes,{segmentGroup:ne,slicedSegments:ue}=yh(t,h,g,K),De=new hn(ne.segments,ne.children);if(0===ue.length&&De.hasChildren())return this.expandChildren(x,K,De).pipe((0,Nt.U)(ft=>new hn(h,ft)));if(0===K.length&&0===ue.length)return kt(new hn(h,{}));const Ie=Do(r)===o;return this.expandSegment(x,De,K,ue,Ie?Kt:o,!0).pipe((0,Nt.U)(pt=>new hn(h.concat(pt.segments),pt.children)))})):g2(t)))}getChildConfig(e,t,r){return t.children?kt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?kt({routes:t._loadedRoutes,injector:t._loadedInjector}):function sy(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?kt(!0):kt(i.map(c=>{const h=H1(c,n);return R(function O6(n){return n&&gh(n.canLoad)}(h)?h.canLoad(e,t):n.runInContext(()=>h(e,t)))})).pipe(Su(),V6())}(e,t,r).pipe((0,lr.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,Pr.b)(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function uy(n){return rl(p(_3,3))}())):kt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return kt(r);if(i.numberOfChildren>1||!i.children[Kt])return e.redirectTo,rl(new l.vHH(4e3,_3));i=i.children[Kt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const o=this.createSegmentGroup(e,t.root,r,i);return new jn(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return T(e,(i,o)=>{if("string"==typeof i&&i.startsWith(":")){const h=i.substring(1);r[o]=t[h]}else r[o]=i}),r}createSegmentGroup(e,t,r,i){const o=this.createSegments(e,t.segments,r,i);let c={};return T(t.children,(h,g)=>{c[g]=this.createSegmentGroup(e,h,r,i)}),new hn(o,c)}createSegments(e,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new l.vHH(4001,_3);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class j6{}class v2{constructor(e,t,r,i,o,c,h){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=o,this.paramsInheritanceStrategy=c,this.urlSerializer=h}recognize(){const e=yh(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Kt).pipe((0,Nt.U)(t=>{if(null===t)return null;const r=new hh([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Kt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new ji(r,t),o=new Us(this.url,i);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(e){const t=e.value,r=uh(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,Nn.D)(Object.keys(r.children)).pipe($o(i=>{const o=r.children[i],c=fh(t,i);return this.processSegmentGroup(e,c,o,i)}),hu((i,o)=>i&&o?(i.push(...o),i):null),Go(i=>null!==i),Sa(null),pu(),(0,Nt.U)(i=>{if(null===i)return null;const o=bg(i);return function fy(n){n.sort((e,t)=>e.value.outlet===Kt?-1:t.value.outlet===Kt?1:e.value.outlet.localeCompare(t.value.outlet))}(o),o}))}processSegment(e,t,r,i,o){return(0,Nn.D)(t).pipe($o(c=>this.processSegmentAgainstRoute(c._injector??e,c,r,i,o)),oo(c=>!!c),Vs(c=>{if(ml(c))return _h(r,i,o)?kt([]):kt(null);throw c}))}processSegmentAgainstRoute(e,t,r,i,o){if(t.redirectTo||!yg(t,r,i,o))return kt(null);let c;if("**"===t.path){const h=i.length>0?nh(i).parameters:{},g=Sg(r)+i.length;c=kt({snapshot:new hh(i,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ac(t),Do(t),t.component??t._loadedComponent??null,t,Cg(r),g,Eg(t)),consumedSegments:[],remainingSegments:[]})}else c=mg(r,t,i,e).pipe((0,Nt.U)(({matched:h,consumedSegments:g,remainingSegments:_,parameters:E})=>{if(!h)return null;const x=Sg(r)+g.length;return{snapshot:new hh(g,E,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ac(t),Do(t),t.component??t._loadedComponent??null,t,Cg(r),x,Eg(t)),consumedSegments:g,remainingSegments:_}}));return c.pipe(Tr(h=>{if(null===h)return kt(null);const{snapshot:g,consumedSegments:_,remainingSegments:E}=h;e=t._injector??e;const x=t._loadedInjector??e,K=function py(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:ne,slicedSegments:ue}=yh(r,_,E,K.filter(Ie=>void 0===Ie.redirectTo));if(0===ue.length&&ne.hasChildren())return this.processChildren(x,K,ne).pipe((0,Nt.U)(Ie=>null===Ie?null:[new ji(g,Ie)]));if(0===K.length&&0===ue.length)return kt([new ji(g,[])]);const De=Do(t)===o;return this.processSegment(x,K,ne,ue,De?Kt:o).pipe((0,Nt.U)(Ie=>null===Ie?null:[new ji(g,Ie)]))}))}}function my(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function bg(n){const e=[],t=new Set;for(const r of n){if(!my(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=bg(r.children);e.push(new ji(r.value,i))}return e.filter(r=>!t.has(r))}function Cg(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Sg(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function ac(n){return n.data||{}}function Eg(n){return n.resolve||{}}function G6(n){return"string"==typeof n.title||null===n.title}function q6(n){return Tr(e=>{const t=n(e);return t?(0,Nn.D)(t).pipe((0,Nt.U)(()=>e)):kt(e)})}const bh=new l.OlP("ROUTES");let K6=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,l.f3M)(l.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return kt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=R(t.loadComponent()).pipe((0,Nt.U)(Mg),(0,Pr.b)(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Ea(()=>{this.componentLoaders.delete(t)})),i=new C1(r,()=>new Ct.x).pipe(b1());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return kt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,Nt.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(r);let g,_,E=!1;Array.isArray(h)?_=h:(g=h.create(t).injector,_=th(g.get(bh,[],l.XFs.Self|l.XFs.Optional)));return{routes:_.map(V1),injector:g}}),Ea(()=>{this.childrenLoaders.delete(r)})),c=new C1(o,()=>new Ct.x).pipe(b1());return this.childrenLoaders.set(r,c),c}loadModuleFactoryOrRoutes(t){return R(t()).pipe((0,Nt.U)(Mg),(0,lr.z)(r=>r instanceof l.YKP||Array.isArray(r)?kt(r):(0,Nn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Mg(n){return function Ia(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let b3=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Ct.x,this.configLoader=(0,l.f3M)(K6),this.environmentInjector=(0,l.f3M)(l.lqb),this.urlSerializer=(0,l.f3M)(Bs),this.rootContexts=(0,l.f3M)(Y),this.navigationId=0,this.afterPreactivation=()=>kt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new a3(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new N1(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Jn({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:P1,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Hn(r=>0!==r.id),(0,Nt.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),Tr(r=>{let i=!1,o=!1;return kt(r).pipe((0,Pr.b)(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Tr(c=>{const h=t.browserUrlTree.toString(),g=!t.navigated||c.extractedUrl.toString()!==h||h!==t.currentUrlTree.toString();if(!g&&"reload"!==(c.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const E="";return this.events.next(new sc(c.id,t.serializeUrl(r.rawUrl),E,0)),t.rawUrlTree=c.rawUrl,c.resolve(null),Co.E}if(t.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return xg(c.source)&&(t.browserUrlTree=c.extractedUrl),kt(c).pipe(Tr(E=>{const x=this.transitions?.getValue();return this.events.next(new r2(E.id,this.urlSerializer.serialize(E.extractedUrl),E.source,E.restoredState)),x!==this.transitions?.getValue()?Co.E:Promise.resolve(E)}),function wg(n,e,t,r){return Tr(i=>function dy(n,e,t,r,i){return new _g(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,Nt.U)(o=>({...i,urlAfterRedirects:o}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,Pr.b)(E=>{this.currentNavigation={...this.currentNavigation,finalUrl:E.urlAfterRedirects},r.urlAfterRedirects=E.urlAfterRedirects}),function vy(n,e,t,r,i){return(0,lr.z)(o=>function $6(n,e,t,r,i,o,c="emptyOnly"){return new v2(n,e,t,r,i,c,o).recognize().pipe(Tr(h=>null===h?function hy(n){return new rr.y(e=>e.error(n))}(new j6):kt(h)))}(n,e,t,o.urlAfterRedirects,r.serialize(o.urlAfterRedirects),r,i).pipe((0,Nt.U)(c=>({...o,targetSnapshot:c}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,Pr.b)(E=>{if(r.targetSnapshot=E.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!E.extras.skipLocationChange){const K=t.urlHandlingStrategy.merge(E.urlAfterRedirects,E.rawUrl);t.setBrowserUrl(K,E)}t.browserUrlTree=E.urlAfterRedirects}const x=new yu(E.id,this.urlSerializer.serialize(E.extractedUrl),this.urlSerializer.serialize(E.urlAfterRedirects),E.targetSnapshot);this.events.next(x)}));if(g&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:E,extractedUrl:x,source:K,restoredState:ne,extras:ue}=c,De=new r2(E,this.urlSerializer.serialize(x),K,ne);this.events.next(De);const Ie=u3(x,this.rootComponentType).snapshot;return kt(r={...c,targetSnapshot:Ie,urlAfterRedirects:x,extras:{...ue,skipLocationChange:!1,replaceUrl:!1}})}{const E="";return this.events.next(new sc(c.id,t.serializeUrl(r.extractedUrl),E,1)),t.rawUrlTree=c.rawUrl,c.resolve(null),Co.E}}),(0,Pr.b)(c=>{const h=new T6(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(h)}),(0,Nt.U)(c=>r={...c,guards:p2(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),function v3(n,e){return(0,lr.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:c}}=t;return 0===c.length&&0===o.length?kt({...t,guardsResult:!0}):function iy(n,e,t,r){return(0,Nn.D)(n).pipe((0,lr.z)(i=>function oy(n,e,t,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?kt(o.map(h=>{const g=Cu(e)??i,_=H1(h,g);return R(function ny(n){return n&&gh(n.canDeactivate)}(_)?_.canDeactivate(n,e,t,r):g.runInContext(()=>_(n,e,t,r))).pipe(oo())})).pipe(Su()):kt(!0)}(i.component,i.route,t,e,r)),oo(i=>!0!==i,!0))}(c,r,i,n).pipe((0,lr.z)(h=>h&&function hg(n){return"boolean"==typeof n}(h)?function F6(n,e,t,r){return(0,Nn.D)(e).pipe($o(i=>nc(function B1(n,e){return null!==n&&e&&e(new c3(n)),kt(!0)}(i.route.parent,r),function y3(n,e){return null!==n&&e&&e(new s2(n)),kt(!0)}(i.route,r),function L6(n,e,t){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(c=>function P6(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>w1(()=>kt(c.guards.map(g=>{const _=Cu(c.node)??t,E=H1(g,_);return R(function R6(n){return n&&gh(n.canActivateChild)}(E)?E.canActivateChild(r,n):_.runInContext(()=>E(r,n))).pipe(oo())})).pipe(Su())));return kt(o).pipe(Su())}(n,i.path,t),function pg(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return kt(!0);const i=r.map(o=>w1(()=>{const c=Cu(e)??t,h=H1(o,c);return R(function ZE(n){return n&&gh(n.canActivate)}(h)?h.canActivate(e,n):c.runInContext(()=>h(e,n))).pipe(oo())}));return kt(i).pipe(Su())}(n,i.route,t))),oo(i=>!0!==i,!0))}(r,o,n,e):kt(h)),(0,Nt.U)(h=>({...t,guardsResult:h})))})}(this.environmentInjector,c=>this.events.next(c)),(0,Pr.b)(c=>{if(r.guardsResult=c.guardsResult,al(c.guardsResult))throw y(0,c.guardsResult);const h=new D6(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(h)}),Hn(c=>!!c.guardsResult||(t.restoreHistory(c),this.cancelNavigationTransition(c,"",3),!1)),q6(c=>{if(c.guards.canActivateChecks.length)return kt(c).pipe((0,Pr.b)(h=>{const g=new M6(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(g)}),Tr(h=>{let g=!1;return kt(h).pipe(function QE(n,e){return(0,lr.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return kt(t);let o=0;return(0,Nn.D)(i).pipe($o(c=>function JE(n,e,t,r){const i=n.routeConfig,o=n._resolve;return void 0!==i?.title&&!G6(i)&&(o[So]=i.title),function Tg(n,e,t,r){const i=function XE(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return kt({});const o={};return(0,Nn.D)(i).pipe((0,lr.z)(c=>function Dg(n,e,t,r){const i=Cu(e)??r,o=H1(n,i);return R(o.resolve?o.resolve(e,t):i.runInContext(()=>o(e,t)))}(n[c],e,t,r).pipe(oo(),(0,Pr.b)(h=>{o[c]=h}))),fu(1),il(o),Vs(c=>ml(c)?Co.E:rl(c)))}(o,n,e,r).pipe((0,Nt.U)(c=>(n._resolvedData=c,n.data=uh(n,t).resolve,i&&G6(i)&&(n.data[So]=i.title),null)))}(c.route,r,n,e)),(0,Pr.b)(()=>o++),fu(1),(0,lr.z)(c=>o===i.length?kt(t):Co.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,Pr.b)({next:()=>g=!0,complete:()=>{g||(t.restoreHistory(h),this.cancelNavigationTransition(h,"",2))}}))}),(0,Pr.b)(h=>{const g=new o2(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(g)}))}),q6(c=>{const h=g=>{const _=[];g.routeConfig?.loadComponent&&!g.routeConfig._loadedComponent&&_.push(this.configLoader.loadComponent(g.routeConfig).pipe((0,Pr.b)(E=>{g.component=E}),(0,Nt.U)(()=>{})));for(const E of g.children)_.push(...h(E));return _};return uu(h(c.targetSnapshot.root)).pipe(Sa(),cr(1))}),q6(()=>this.afterPreactivation()),(0,Nt.U)(c=>{const h=function pl(n,e,t){const r=bu(n,e._root,t?t._root:void 0);return new l3(r,e)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return r={...c,targetRouterState:h}}),(0,Pr.b)(c=>{t.currentUrlTree=c.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl),t.routerState=c.targetRouterState,"deferred"===t.urlUpdateStrategy&&(c.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,c),t.browserUrlTree=c.urlAfterRedirects)}),((n,e,t)=>(0,Nt.U)(r=>(new ph(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c)),cr(1),(0,Pr.b)({next:c=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new qo(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{i=!0}}),Ea(()=>{i||o||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Vs(c=>{if(o=!0,b(c)){m(c)||(t.navigated=!0,t.restoreHistory(r,!0));const h=new O1(r.id,this.urlSerializer.serialize(r.extractedUrl),c.message,c.cancellationCode);if(this.events.next(h),m(c)){const g=t.urlHandlingStrategy.merge(c.url,t.rawUrlTree),_={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||xg(r.source)};t.scheduleNavigation(g,P1,null,_,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const h=new R1(r.id,this.urlSerializer.serialize(r.extractedUrl),c,r.targetSnapshot??void 0);this.events.next(h);try{r.resolve(t.errorHandler(c))}catch(g){r.reject(g)}}return Co.E}))}))}cancelNavigationTransition(t,r,i){const o=new O1(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function xg(n){return n!==P1}let Ig=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Kt);return r}getResolvedTitleForRoute(t){return t.data[So]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(yy)},providedIn:"root"}),n})(),yy=(()=>{class n extends Ig{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Y4))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ag=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(wy)},providedIn:"root"}),n})();class _y{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let wy=(()=>{class n extends _y{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const pn=new l.OlP("",{providedIn:"root",factory:()=>({})});let kg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(zg)},providedIn:"root"}),n})(),zg=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Cy(n){throw n}function Sy(n,e,t){return e.parse("/")}const Pg={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ey={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Mo=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,l.f3M)(l.c2e),this.isNgZoneEnabled=!1,this.options=(0,l.f3M)(pn,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Cy,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Sy,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,l.f3M)(kg),this.routeReuseStrategy=(0,l.f3M)(Ag),this.urlCreationStrategy=(0,l.f3M)(x6),this.titleStrategy=(0,l.f3M)(Ig),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=th((0,l.f3M)(bh,{optional:!0})??[]),this.navigationTransitions=(0,l.f3M)(b3),this.urlSerializer=(0,l.f3M)(Bs),this.location=(0,l.f3M)(ve),this.isNgZoneEnabled=(0,l.f3M)(l.R0b)instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new jn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=u3(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),P1,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const o={replaceUrl:!0},c=i?.navigationId?i:null;if(i){const g={...i};delete g.navigationId,delete g.\u0275routerPageId,0!==Object.keys(g).length&&(o.state=g)}const h=this.parseUrl(t);this.scheduleNavigation(h,r,c,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(V1),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:c,queryParamsHandling:h,preserveFragment:g}=r,_=g?this.currentUrlTree.fragment:c;let E=null;switch(h){case"merge":E={...this.currentUrlTree.queryParams,...o};break;case"preserve":E=this.currentUrlTree.queryParams;break;default:E=o||null}return null!==E&&(E=this.removeEmptyProps(E)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,E,_??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=al(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,P1,null,r)}navigate(t,r={skipLocationChange:!1}){return function Ty(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new l.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...Pg}:!1===r?{...Ey}:r,al(t))return Ve(this.currentUrlTree,t,i);const o=this.parseUrl(t);return Ve(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const o=t[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(t,r,i,o,c){if(this.disposed)return Promise.resolve(!1);let h,g,_,E;return c?(h=c.resolve,g=c.reject,_=c.promise):_=new Promise((x,K)=>{h=x,g=K}),E="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:E,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:h,reject:g,promise:_,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),_.catch(x=>Promise.reject(x))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const c={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",c)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(i,"",o)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-(this.browserPageId??this.currentPageId);0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Q6{}let J6=(()=>{class n{constructor(t,r,i,o,c){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(Hn(t=>t instanceof qo),$o(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=(0,l.MMx)(o.providers,t,`Route: ${o.path}`));const c=o._injector??t,h=o._loadedInjector??c;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(c,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(h,o.children??o._loadedRoutes))}return(0,Nn.D)(i).pipe((0,du.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):kt(null);const o=i.pipe((0,lr.z)(c=>null===c?kt(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));if(r.loadComponent&&!r._loadedComponent){const c=this.loader.loadComponent(r);return(0,Nn.D)([o,c]).pipe((0,du.J)())}return o})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Mo),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(Q6),l.LFG(K6))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const w2=new l.OlP("");let Rg=(()=>{class n{constructor(t,r,i,o,c={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof r2?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof qo&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof ul&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ul(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();var js=(()=>((js=js||{})[js.COMPLETE=0]="COMPLETE",js[js.FAILED=1]="FAILED",js[js.REDIRECTING=2]="REDIRECTING",js))();const b2=!1;function Y1(n,e){return{\u0275kind:n,\u0275providers:e}}const ef=new l.OlP("",{providedIn:"root",factory:()=>!1});function C2(){const n=(0,l.f3M)(l.zs3);return e=>{const t=n.get(l.z2F);if(e!==t.components[0])return;const r=n.get(Mo),i=n.get(Ng);1===n.get(S3)&&r.initialNavigation(),n.get(Fg,null,l.XFs.Optional)?.setUpPreloading(),n.get(w2,null,l.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const Ng=new l.OlP(b2?"bootstrap done indicator":"",{factory:()=>new Ct.x}),S3=new l.OlP(b2?"initial navigation":"",{providedIn:"root",factory:()=>1});function Iy(){let n=[];return n=b2?[{provide:l.Xts,multi:!0,useFactory:()=>{const e=(0,l.f3M)(Mo);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function a2(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],Y1(1,n)}const Fg=new l.OlP(b2?"router preloader":"");function Ay(n){return Y1(0,[{provide:Fg,useExisting:J6},{provide:Q6,useExisting:n}])}const Eh=!1,Py=new l.OlP(Eh?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),tf=[ve,{provide:Bs,useClass:E1},Mo,Y,{provide:$r,useFactory:function X6(n){return n.routerState.root},deps:[Mo]},K6,Eh?{provide:ef,useValue:!0}:[]];function Oy(){return new l.PXZ("Router",Mo)}let Ry=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[tf,Eh&&r?.enableTracing?Iy().\u0275providers:[],{provide:bh,multi:!0,useValue:t},{provide:Py,useFactory:Hg,deps:[[Mo,new l.FiY,new l.tp0]]},{provide:pn,useValue:r||{}},r?.useHash?{provide:le,useClass:ye}:{provide:le,useClass:ae},{provide:w2,useFactory:()=>{const n=(0,l.f3M)(Rc),e=(0,l.f3M)(l.R0b),t=(0,l.f3M)(pn),r=(0,l.f3M)(b3),i=(0,l.f3M)(Bs);return t.scrollOffset&&n.setOffset(t.scrollOffset),new Rg(i,r,n,e,t)}},r?.preloadingStrategy?Ay(r.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:Oy},r?.initialNavigation?Fy(r):[],[{provide:Bg,useFactory:C2},{provide:l.tb,multi:!0,useExisting:Bg}]]}}static forChild(t){return{ngModule:n,providers:[{provide:bh,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Py,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[It]}),n})();function Hg(n){if(Eh&&n)throw new l.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Fy(n){return["disabled"===n.initialNavigation?Y1(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const e=(0,l.f3M)(Mo);return()=>{e.setUpLocationChangeListener()}}},{provide:S3,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Y1(2,[{provide:S3,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:e=>{const t=e.get(q,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(Mo),o=e.get(Ng);(function nT(n,e){n.events.pipe(Hn(t=>t instanceof qo||t instanceof O1||t instanceof R1||t instanceof sc),(0,Nt.U)(t=>t instanceof qo||t instanceof sc?js.COMPLETE:t instanceof O1&&(0===t.code||1===t.code)?js.REDIRECTING:js.FAILED),Hn(t=>t!==js.REDIRECTING),cr(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(b3).afterPreactivation=()=>(r(!0),o.closed?kt(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const Bg=new l.OlP(Eh?"Router Initializer":"");var Ue=B(5861),$i=B(6881),wn=B(2090),Eu=B(4859);const nf="firebasestorage.googleapis.com",T3="storageBucket";class mr extends wn.ZR{constructor(e,t,r=0){super(af(e),`Firebase Storage: ${t} (${af(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,mr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return af(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var ur=(()=>{return(n=ur||(ur={})).UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",ur;var n})();function af(n){return"storage/"+n}function D3(){return new mr(ur.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function M3(n){return new mr(ur.INVALID_ARGUMENT,n)}function Gg(){return new mr(ur.APP_DELETED,"The Firebase app was deleted.")}function U1(n,e){return new mr(ur.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function E2(n){throw new mr(ur.INTERNAL_ERROR,"Internal error: "+n)}class xo{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=xo.makeFromUrl(e,t)}catch{return new xo(e,"")}if(""===r.path)return r;throw function sT(n){return new mr(ur.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",h=new RegExp("^gs://"+i+"(/(.*))?$","i");function _(gt){gt.path_=decodeURIComponent(gt.path)}const x=t.replace(/[.]/g,"\\."),ft=[{regex:h,indices:{bucket:1,path:3},postModify:function o(gt){"/"===gt.path.charAt(gt.path.length-1)&&(gt.path_=gt.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${x}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:_},{regex:new RegExp(`^https?://${t===nf?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:_}];for(let gt=0;gt<ft.length;gt++){const qt=ft[gt],Xt=qt.regex.exec(e);if(Xt){let br=Xt[qt.indices.path];br||(br=""),r=new xo(Xt[qt.indices.bucket],br),qt.postModify(r);break}}if(null==r)throw function By(n){return new mr(ur.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return r}}class Gy{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function x3(n){return"string"==typeof n||n instanceof String}function df(n){return hf()&&n instanceof Blob}function hf(){return typeof Blob<"u"&&!(0,wn.UG)()}function ff(n,e,t,r){if(r<e)throw M3(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw M3(`Invalid value for '${n}'. Expected ${t} or less.`)}function vl(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function I3(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var Tu=(()=>{return(n=Tu||(Tu={}))[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",Tu;var n})();class A3{constructor(e,t,r,i,o,c,h,g,_,E,x,K=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=g,this.timeout_=_,this.progressCallback_=E,this.connectionFactory_=x,this.retry=K,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((ne,ue)=>{this.resolve_=ne,this.reject_=ue,this.start_()})}start_(){const t=(r,i)=>{const o=this.resolve_,c=this.reject_,h=i.connection;if(i.wasSuccessCode)try{const g=this.callback_(h,h.getResponse());!function cc(n){return void 0!==n}(g)?o():o(g)}catch(g){c(g)}else if(null!==h){const g=D3();g.serverResponse=h.getErrorText(),c(this.errorCallback_?this.errorCallback_(h,g):g)}else c(i.canceled?this.appDelete_?Gg():function $g(){return new mr(ur.CANCELED,"User canceled the upload/download.")}():function Wo(){return new mr(ur.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new j1(!1,null,!0)):this.backoffId_=function qy(n,e,t){let r=1,i=null,o=null,c=!1,h=0;function g(){return 2===h}let _=!1;function E(...Ie){_||(_=!0,e.apply(null,Ie))}function x(Ie){i=setTimeout(()=>{i=null,n(ne,g())},Ie)}function K(){o&&clearTimeout(o)}function ne(Ie,...tt){if(_)return void K();if(Ie)return K(),void E.call(null,Ie,...tt);if(g()||c)return K(),void E.call(null,Ie,...tt);let ft;r<64&&(r*=2),1===h?(h=2,ft=0):ft=1e3*(r+Math.random()),x(ft)}let ue=!1;function De(Ie){ue||(ue=!0,K(),!_&&(null!==i?(Ie||(h=2),clearTimeout(i),x(0)):Ie||(h=1)))}return x(0),o=setTimeout(()=>{c=!0,De(!0)},t),De}((r,i)=>{if(i)return void r(!1,new j1(!1,null,!0));const o=this.connectionFactory_();this.pendingConnection_=o;const c=h=>{null!==this.progressCallback_&&this.progressCallback_(h.loaded,h.lengthComputable?h.total:-1)};null!==this.progressCallback_&&o.addUploadProgressListener(c),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&o.removeUploadProgressListener(c),this.pendingConnection_=null;const h=o.getErrorCode()===Tu.NO_ERROR,g=o.getStatus();if(!h||function qg(n,e){const t=n>=500&&n<600,i=-1!==[408,429].indexOf(n),o=-1!==e.indexOf(n);return t||i||o}(g,this.additionalRetryCodes_)&&this.retry){const E=o.getErrorCode()===Tu.ABORT;return void r(!1,new j1(!1,null,E))}const _=-1!==this.successCodes_.indexOf(g);r(!0,new j1(_,o))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function Wy(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class j1{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function Zg(...n){const e=function Kg(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(hf())return new Blob(n);throw new mr(ur.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const yi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Dh{constructor(e,t){this.data=e,this.contentType=t||null}}function Mh(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function gf(n,e){switch(n){case yi.BASE64:{const i=-1!==e.indexOf("-"),o=-1!==e.indexOf("_");if(i||o)throw U1(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case yi.BASE64URL:{const i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw U1(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function mf(n){if(typeof atob>"u")throw function jy(n){return new mr(ur.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(i){throw i.message.includes("polyfill")?i:U1(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class vf{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw U1(yi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function D2(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class yl{constructor(e,t){let r=0,i="";df(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(df(this.data_)){const i=function Qg(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new yl(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new yl(r,!0)}}static getBlob(...e){if(hf()){const t=e.map(r=>r instanceof yl?r.data_:r);return new yl(Zg.apply(null,t))}{const t=e.map(c=>x3(c)?function T2(n,e){switch(n){case yi.RAW:return new Dh(Mh(e));case yi.BASE64:case yi.BASE64URL:return new Dh(gf(n,e));case yi.DATA_URL:return new Dh(function Qy(n){const e=new vf(n);return e.base64?gf(yi.BASE64,e.rest):function Zy(n){let e;try{e=decodeURIComponent(n)}catch{throw U1(yi.DATA_URL,"Malformed data URL.")}return Mh(e)}(e.rest)}(e),function Jy(n){return new vf(n).contentType}(e))}throw D3()}(yi.RAW,c).data:c.data_);let r=0;t.forEach(c=>{r+=c.byteLength});const i=new Uint8Array(r);let o=0;return t.forEach(c=>{for(let h=0;h<c.length;h++)i[o++]=c[h]}),new yl(i,!0)}}uploadData(){return this.data_}}function Jg(n){let e;try{e=JSON.parse(n)}catch{return null}return function Ky(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function Xg(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function t_(n,e){return e}class Io{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||t_}}let z3=null;function xh(){if(z3)return z3;const n=[];n.push(new Io("bucket")),n.push(new Io("generation")),n.push(new Io("metageneration")),n.push(new Io("name","fullPath",!0));const t=new Io("name");t.xform=function e(o,c){return function n_(n){return!x3(n)||n.length<2?n:Xg(n)}(c)},n.push(t);const i=new Io("size");return i.xform=function r(o,c){return void 0!==c?Number(c):c},n.push(i),n.push(new Io("timeCreated")),n.push(new Io("updated")),n.push(new Io("md5Hash",null,!0)),n.push(new Io("cacheControl",null,!0)),n.push(new Io("contentDisposition",null,!0)),n.push(new Io("contentEncoding",null,!0)),n.push(new Io("contentLanguage",null,!0)),n.push(new Io("contentType",null,!0)),n.push(new Io("metadata","customMetadata",!0)),z3=n,z3}function P3(n,e,t){const r=Jg(e);return null===r?null:function r_(n,e,t){const r={type:"file"},i=t.length;for(let o=0;o<i;o++){const c=t[o];r[c.local]=c.xform(r,e[c.server])}return function yf(n,e){Object.defineProperty(n,"ref",{get:function t(){const o=new xo(n.bucket,n.fullPath);return e._makeStorageReference(o)}})}(r,n),r}(n,r,t)}class lc{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Aa(n){if(!n)throw D3()}function $1(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function Vy(){return new mr(ur.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function jg(){return new mr(ur.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function Ug(n){return new mr(ur.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function Hy(n){return new mr(ur.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}}function O3(n){const e=$1(n);return function t(r,i){let o=e(r,i);return 404===r.getStatus()&&(o=function Ly(n){return new mr(ur.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),o.serverResponse=i.serverResponse,o}}function Du(n,e,t,r,i){const o=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"},g=function h(){let ft="";for(let gt=0;gt<2;gt++)ft+=Math.random().toString().slice(2);return ft}();c["Content-Type"]="multipart/related; boundary="+g;const _=function Gi(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function I2(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}(e,r,i),E=function _f(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(t[o.server]=n[o.local])}return JSON.stringify(t)}(_,t),ne=yl.getBlob("--"+g+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+E+"\r\n--"+g+"\r\nContent-Type: "+_.contentType+"\r\n\r\n",r,"\r\n--"+g+"--");if(null===ne)throw function lf(){return new mr(ur.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}();const ue={name:_.fullPath},De=vl(o,n.host,n._protocol),tt=n.maxUploadRetryTime,pt=new lc(De,"POST",function M2(n,e){return function t(r,i){const o=P3(n,i,e);return Aa(null!==o),o}}(n,t),tt);return pt.urlParams=ue,pt.headers=c,pt.body=ne.uploadData(),pt.errorHandler=$1(e),pt}let W1=null;class Cf{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Tu.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Tu.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Tu.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw E2("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw E2("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw E2("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw E2("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw E2("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class r5 extends Cf{initXhr(){this.xhr_.responseType="text"}}function $s(){return W1?W1():new r5}class s5 extends Cf{initXhr(){this.xhr_.responseType="blob"}}function a5(){return new s5}class xu{constructor(e,t){this._service=e,this._location=t instanceof xo?t:xo.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new xu(e,t)}get root(){const e=new xo(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Xg(this._location.path)}get storage(){return this._service}get parent(){const e=function Xy(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new xo(this._location.bucket,e);return new xu(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function $y(n){return new mr(ur.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function f_(n){n._throwIfRoot("getDownloadURL");const e=function wf(n,e,t){const i=vl(e.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,h=new lc(i,"GET",function lT(n,e){return function t(r,i){const o=P3(n,i,e);return Aa(null!==o),function i_(n,e,t,r){const i=Jg(e);if(null===i||!x3(i.downloadTokens))return null;const o=i.downloadTokens;if(0===o.length)return null;const c=encodeURIComponent;return o.split(",").map(_=>{const x=n.fullPath;return vl("/b/"+c(n.bucket)+"/o/"+c(x),t,r)+I3({alt:"media",token:_})})[0]}(o,i,n.host,n._protocol)}}(n,t),c);return h.errorHandler=O3(e),h}(n.storage,n._location,xh());return n.storage.makeRequestWithTokens(e,$s).then(t=>{if(null===t)throw function Uy(){return new mr(ur.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function L3(n,e){if(n instanceof P2){const t=n;if(null==t._bucket)throw function cf(){return new mr(ur.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+T3+"' property when initializing the app?")}();const r=new xu(t,t._bucket);return null!=e?L3(r,e):r}return void 0!==e?function z2(n,e){const t=function e_(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new xo(n._location.bucket,t);return new xu(n.storage,r)}(n,e):n}function Mf(n,e){const t=e?.[T3];return null==t?null:xo.makeFromBucketSpec(t,n)}class P2{constructor(e,t,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=nf,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?xo.makeFromBucketSpec(i,this._host):Mf(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?xo.makeFromBucketSpec(this._url,e):Mf(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){ff("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){ff("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,Ue.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,Ue.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new xu(this,e)}_makeRequest(e,t,r,i,o=!0){if(this._deleted)return new Gy(Gg());{const c=function Wg(n,e,t,r,i,o,c=!0){const h=I3(n.urlParams),g=n.url+h,_=Object.assign({},n.headers);return function pf(n,e){e&&(n["X-Firebase-GMPID"]=e)}(_,e),function k3(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(_,t),function aT(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(_,o),function cT(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(_,r),new A3(g,n.method,_,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,c)}(e,this._appId,r,i,t,this._firebaseVersion,o);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}makeRequestWithTokens(e,t){var r=this;return(0,Ue.Z)(function*(){const[i,o]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,o).getPromise()})()}}const f5="@firebase/storage",Af="storage";function p5(n,e,t){return function Sf(n,e,t){n._throwIfRoot("uploadBytes");const r=Du(n.storage,n._location,xh(),new yl(e,!0),t);return n.storage.makeRequestWithTokens(r,$s).then(i=>({metadata:i,ref:n}))}(n=(0,wn.m9)(n),e,t)}function kf(n){return f_(n=(0,wn.m9)(n))}function zf(n){return function F3(n){n._throwIfRoot("deleteObject");const e=function uc(n,e){const r=vl(e.fullServerUrl(),n.host,n._protocol),h=new lc(r,"DELETE",function c(g,_){},n.maxOperationRetryTime);return h.successCodes=[200,204],h.errorHandler=O3(e),h}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,$s)}(n=(0,wn.m9)(n))}function K1(n,e){return function h5(n,e){if(e&&function u5(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof P2)return function d5(n,e){return new xu(n,e)}(n,e);throw M3("To use ref(service, url), the first argument must be a Storage instance.")}return L3(n,e)}(n=(0,wn.m9)(n),e)}function Pf(n=(0,$i.getApp)(),e){n=(0,wn.m9)(n);const r=(0,$i._getProvider)(n,Af).getImmediate({identifier:e}),i=(0,wn.P0)("storage");return i&&function g5(n,e,t,r={}){!function xf(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:(0,wn.Sg)(i,n.app.options.projectId))}(n,e,t,r)}(r,...i),r}function v5(n,e){return function d_(n,e){n._throwIfRoot("getBlob");const t=function n5(n,e,t){const i=vl(e.fullServerUrl(),n.host,n._protocol)+"?alt=media",h=new lc(i,"GET",(g,_)=>_,n.maxOperationRetryTime);return h.errorHandler=O3(e),void 0!==t&&(h.headers.Range=`bytes=0-${t}`,h.successCodes=[200,206]),h}(n.storage,n._location,e);return n.storage.makeRequestWithTokens(t,a5).then(r=>void 0!==e?r.slice(0,e):r)}(n=(0,wn.m9)(n),e)}function Iu(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new P2(t,r,i,e,$i.SDK_VERSION)}!function w_(){(0,$i._registerComponent)(new Eu.wA(Af,Iu,"PUBLIC").setMultipleInstances(!0)),(0,$i.registerVersion)(f5,"0.11.2",""),(0,$i.registerVersion)(f5,"0.11.2","esm2017")}();var zh=B(4986),Oi=B(4976);function _l(){return(0,zr.e)((n,e)=>{let t,r=!1;n.subscribe((0,pr.x)(e,i=>{const o=t;t=i,r&&e.next([o,i]),r=!0}))})}function Z1(n,e=Fs.y){return n=n??b_,(0,zr.e)((t,r)=>{let i,o=!0;t.subscribe((0,pr.x)(r,c=>{const h=e(c);(o||!n(i,h))&&(o=!1,i=h,r.next(c))}))})}function b_(n,e){return n===e}var Mt,bs=B(2011),dT=(B(2644),B(3942)),Au=B(1877),C_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Gs={},ti=ti||{},vn=C_||self;function V3(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function O2(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Rf="closure_uid_"+(1e9*Math.random()>>>0),_5=0;function w5(n,e,t){return n.call.apply(n.bind,arguments)}function Ph(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function co(n,e,t){return(co=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?w5:Ph).apply(null,arguments)}function H3(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function wi(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,o){for(var c=Array(arguments.length-2),h=2;h<arguments.length;h++)c[h-2]=arguments[h];return e.prototype[i].apply(r,c)}}function ku(){this.s=this.s,this.o=this.o}ku.prototype.s=!1,ku.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function y5(n){Object.prototype.hasOwnProperty.call(n,Rf)&&n[Rf]||(n[Rf]=++_5)}(this)},ku.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const S_=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function R2(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function B3(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(V3(r)){const i=n.length||0,o=r.length||0;n.length=i+o;for(let c=0;c<o;c++)n[i+c]=r[c]}else n.push(r)}}function gr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}gr.prototype.h=function(){this.defaultPrevented=!0};var E_=function(){if(!vn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{vn.addEventListener("test",()=>{},e),vn.removeEventListener("test",()=>{},e)}catch{}return n}();function Oh(n){return/^[\s\xa0]*$/.test(n)}function Cs(){var n=vn.navigator;return n&&(n=n.userAgent)?n:""}function ui(n){return-1!=Cs().indexOf(n)}function Ss(n){return Ss[" "](n),n}Ss[" "]=function(){};var Lf,n,S5=ui("Opera"),Rh=ui("Trident")||ui("MSIE"),E5=ui("Edge"),Nf=E5||Rh,T5=ui("Gecko")&&!(-1!=Cs().toLowerCase().indexOf("webkit")&&!ui("Edge"))&&!(ui("Trident")||ui("MSIE"))&&!ui("Edge"),Ff=-1!=Cs().toLowerCase().indexOf("webkit")&&!ui("Edge");function Nh(){var n=vn.document;return n?n.documentMode:void 0}e:{var Y3="",Vf=(n=Cs(),T5?/rv:([^\);]+)(\)|;)/.exec(n):E5?/Edge\/([\d\.]+)/.exec(n):Rh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Ff?/WebKit\/(\S+)/.exec(n):S5?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Vf&&(Y3=Vf?Vf[1]:""),Rh){var Hf=Nh();if(null!=Hf&&Hf>parseFloat(Y3)){Lf=String(Hf);break e}}Lf=Y3}var j3=vn.document&&Rh&&(Nh()||parseInt(Lf,10))||void 0;function N2(n,e){if(gr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(T5){e:{try{Ss(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:D5[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&N2.$.h.call(this)}}wi(N2,gr);var D5={2:"touch",3:"pen",4:"mouse"};N2.prototype.h=function(){N2.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Fh="closure_listenable_"+(1e6*Math.random()|0),Yf=0;function $3(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++Yf,this.fa=this.ia=!1}function F2(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function G3(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Uf(n){const e={};for(const t in n)e[t]=n[t];return e}const jf="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $f(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let o=0;o<jf.length;o++)t=jf[o],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function L2(n){this.src=n,this.g={},this.h=0}function q3(n,e){var t=e.type;if(t in n.g){var o,r=n.g[t],i=S_(r,e);(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(F2(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Gf(n,e,t,r){for(var i=0;i<n.length;++i){var o=n[i];if(!o.fa&&o.listener==e&&o.capture==!!t&&o.la==r)return i}return-1}L2.prototype.add=function(n,e,t,r,i){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var c=Gf(n,e,r,i);return-1<c?(e=n[c],t||(e.ia=!1)):((e=new $3(e,this.src,o,!!r,i)).ia=t,n.push(e)),e};var qf="closure_lm_"+(1e6*Math.random()|0),Wf={};function x5(n,e,t,r,i){if(r&&r.once)return A5(n,e,t,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)x5(n,e[o],t,r,i);return null}return t=Jf(t),n&&n[Fh]?n.O(e,t,O2(r)?!!r.capture:!!r,i):I5(n,e,t,!1,r,i)}function I5(n,e,t,r,i,o){if(!e)throw Error("Invalid event type");var c=O2(i)?!!i.capture:!!i,h=Zf(n);if(h||(n[qf]=h=new L2(n)),(t=h.add(e,t,r,c,o)).proxy)return t;if(r=function T_(){const e=D_;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)E_||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(z5(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function A5(n,e,t,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)A5(n,e[o],t,r,i);return null}return t=Jf(t),n&&n[Fh]?n.P(e,t,O2(r)?!!r.capture:!!r,i):I5(n,e,t,!0,r,i)}function k5(n,e,t,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)k5(n,e[o],t,r,i);else r=O2(r)?!!r.capture:!!r,t=Jf(t),n&&n[Fh]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Gf(o=n.g[e],t,r,i))&&(F2(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete n.g[e],n.h--))):n&&(n=Zf(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Gf(e,t,r,i)),(t=-1<n?e[n]:null)&&Kf(t))}function Kf(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Fh])q3(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(z5(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Zf(e))?(q3(t,n),0==t.h&&(t.src=null,e[qf]=null)):F2(n)}}}function z5(n){return n in Wf?Wf[n]:Wf[n]="on"+n}function D_(n,e){if(n.fa)n=!0;else{e=new N2(e,this);var t=n.listener,r=n.la||n.src;n.ia&&Kf(n),n=t.call(r,e)}return n}function Zf(n){return(n=n[qf])instanceof L2?n:null}var Qf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jf(n){return"function"==typeof n?n:(n[Qf]||(n[Qf]=function(e){return n.handleEvent(e)}),n[Qf])}function Ri(){ku.call(this),this.i=new L2(this),this.S=this,this.J=null}function qi(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new gr(e,n);else if(e instanceof gr)e.target=e.target||n;else{var i=e;$f(e=new gr(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var c=e.g=t[o];i=W3(c,r,!0,e)&&i}if(i=W3(c=e.g=n,r,!0,e)&&i,i=W3(c,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=W3(c=e.g=t[o],r,!1,e)&&i}function W3(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var c=e[o];if(c&&!c.fa&&c.capture==t){var h=c.listener,g=c.la||c.src;c.ia&&q3(n.i,c),i=!1!==h.call(g,r)&&i}}return i&&!r.defaultPrevented}wi(Ri,ku),Ri.prototype[Fh]=!0,Ri.prototype.removeEventListener=function(n,e,t,r){k5(this,n,e,t,r)},Ri.prototype.N=function(){if(Ri.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)F2(t[r]);delete n.g[e],n.h--}}this.J=null},Ri.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Ri.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Xf=vn.JSON.stringify;function O5(){var n=K3;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var ep=new class P5{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new N5,n=>n.reset());class N5{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function F5(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function L5(n){vn.setTimeout(()=>{throw n},0)}let Lh,Vh=!1,K3=new class R5{constructor(){this.h=this.g=null}add(e,t){const r=ep.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},Z3=()=>{const n=vn.Promise.resolve(void 0);Lh=()=>{n.then(Q1)}};var Q1=()=>{for(var n;n=O5();){try{n.h.call(n.g)}catch(t){L5(t)}var e=ep;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Vh=!1};function Q3(n,e){Ri.call(this),this.h=n||1,this.g=e||vn,this.j=co(this.qb,this),this.l=Date.now()}function tp(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function zu(n,e,t){if("function"==typeof n)t&&(n=co(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=co(n.handleEvent,n)}return 2147483647<Number(e)?-1:vn.setTimeout(n,e||0)}function V5(n){n.g=zu(()=>{n.g=null,n.i&&(n.i=!1,V5(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}wi(Q3,Ri),(Mt=Q3.prototype).ga=!1,Mt.T=null,Mt.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),qi(this,"tick"),this.ga&&(tp(this),this.start()))}},Mt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Mt.N=function(){Q3.$.N.call(this),tp(this),delete this.g};class np extends ku{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:V5(this)}N(){super.N(),this.g&&(vn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function J3(n){ku.call(this),this.h=n,this.g={}}wi(J3,ku);var rp=[];function ip(n,e,t,r){Array.isArray(t)||(t&&(rp[0]=t.toString()),t=rp);for(var i=0;i<t.length;i++){var o=x5(e,t[i],r||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function M_(n){G3(n.g,function(e,t){this.g.hasOwnProperty(t)&&Kf(e)},n),n.g={}}function Jt(){this.g=!0}function Hh(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function A_(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var c=1;c<i.length;c++)i[c]=""}}}return Xf(t)}catch{return e}}(n,t)+(r?" "+r:"")})}J3.prototype.N=function(){J3.$.N.call(this),M_(this)},J3.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Jt.prototype.Ea=function(){this.g=!1},Jt.prototype.info=function(){};var dc={},V2=null;function vr(){return V2=V2||new Ri}function k_(n){gr.call(this,dc.Ta,n)}function Yh(n){const e=vr();qi(e,new k_(e))}function op(n,e){gr.call(this,dc.STAT_EVENT,n),this.stat=e}function Ao(n){const e=vr();qi(e,new op(e,n))}function sp(n,e){gr.call(this,dc.Ua,n),this.size=e}function Uh(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return vn.setTimeout(function(){n()},e)}dc.Ta="serverreachability",wi(k_,gr),dc.STAT_EVENT="statevent",wi(op,gr),dc.Ua="timingevent",wi(sp,gr);var H2={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ap={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function cp(){}function B5(){}cp.prototype.h=null;var dp,wl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function lp(){gr.call(this,"d")}function up(){gr.call(this,"c")}function J1(){}function jh(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new J3(this),this.P=Y5,this.V=new Q3(n=Nf?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new hp}function hp(){this.i=null,this.g="",this.h=!1}wi(lp,gr),wi(up,gr),wi(J1,cp),J1.prototype.g=function(){return new XMLHttpRequest},J1.prototype.i=function(){return{}},dp=new J1;var Y5=45e3,fp={},Pu={};function X1(n,e,t){n.L=1,n.v=t8(bl(e)),n.s=t,n.S=!0,U5(n,null)}function U5(n,e){n.G=Date.now(),$h(n),n.A=bl(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),Q5(t.i,"t",r),n.C=0,t=n.l.J,n.h=new hp,n.g=Ip(n.l,t?e:null,!n.s),0<n.O&&(n.M=new np(co(n.Pa,n,n.g),n.O)),ip(n.U,n.g,"readystatechange",n.nb),e=n.I?Uf(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Yh(),function x_(n,e,t,r,i,o){n.info(function(){if(n.g)if(o)for(var c="",h=o.split("&"),g=0;g<h.length;g++){var _=h[g].split("=");if(1<_.length){var E=_[0];_=_[1];var x=E.split("_");c=2<=x.length&&"type"==x[1]?c+(E+"=")+_+"&":c+(E+"=redacted&")}}else c=null;else c=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.W,n.s)}function j5(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function $5(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=G5(n,t),i==Pu){4==e&&(n.o=4,Ao(14),r=!1),Hh(n.j,n.m,null,"[Incomplete Response]");break}if(i==fp){n.o=4,Ao(15),Hh(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Hh(n.j,n.m,i,null),mp(n,i)}j5(n)&&i!=Pu&&i!=fp&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ao(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),h8(e),e.M=!0,Ao(11))):(Hh(n.j,n.m,t,"[Invalid Chunked Response]"),ed(n),Gh(n))}function G5(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Pu:(t=Number(e.substring(t,r)),isNaN(t)?fp:(r+=1)+t>e.length?Pu:(e=e.slice(r,r+t),n.C=r+t,e))}function $h(n){n.Y=Date.now()+n.P,pp(n,n.P)}function pp(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Uh(co(n.lb,n),e)}function X3(n){n.B&&(vn.clearTimeout(n.B),n.B=null)}function Gh(n){0==n.l.H||n.J||c7(n.l,n)}function ed(n){X3(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,tp(n.V),M_(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function mp(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||_p(t.i,n)))if(!n.K&&_p(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;f8(t),q2(t)}d8(t),Ao(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=Uh(co(t.ib,t),6e3));if(1>=e7(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else nd(t,11)}else if((n.K||t.g==n)&&f8(t),!Oh(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let _=i[e];if(t.V=_[0],_=_[1],2==t.H)if("c"==_[0]){t.K=_[1],t.pa=_[2];const E=_[3];null!=E&&(t.ra=E,t.l.info("VER="+t.ra));const x=_[4];null!=x&&(t.Ga=x,t.l.info("SVER="+t.Ga));const K=_[5];null!=K&&"number"==typeof K&&0<K&&(t.L=r=1.5*K,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const ne=n.g;if(ne){const ue=ne.g?ne.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ue){var o=r.i;o.g||-1==ue.indexOf("spdy")&&-1==ue.indexOf("quic")&&-1==ue.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(wp(o,o.h),o.h=null))}if(r.F){const De=ne.g?ne.g.getResponseHeader("X-HTTP-Session-Id"):null;De&&(r.Da=De,yr(r.I,r.F,De))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var c=n;if((r=t).wa=$_(r,r.J?r.pa:null,r.Y),c.K){n8(r.i,c);var h=c,g=r.L;g&&h.setTimeout(g),h.B&&(X3(h),$h(h)),r.g=c}else Dp(r);0<t.j.length&&l8(t)}else"stop"!=_[0]&&"close"!=_[0]||nd(t,7);else 3==t.H&&("stop"==_[0]||"close"==_[0]?"stop"==_[0]?nd(t,7):s7(t):"noop"!=_[0]&&t.h&&t.h.Aa(_),t.A=0)}Yh()}catch{}}function z_(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(V3(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function fT(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(V3(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function hT(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(V3(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],t&&t[o],n)}(Mt=jh.prototype).setTimeout=function(n){this.P=n},Mt.nb=function(n){n=n.target;const e=this.M;e&&3==fc(n)?e.l():this.Pa(n)},Mt.Pa=function(n){try{if(n==this.g)e:{const E=fc(this.g);var e=this.g.Ia();if(this.g.da(),!(3>E)&&(3!=E||Nf||this.g&&(this.h.h||this.g.ja()||a8(this.g)))){this.J||4!=E||7==e||Yh(),X3(this);var t=this.g.da();this.ca=t;t:if(j5(this)){var r=a8(this.g);n="";var i=r.length,o=4==fc(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ed(this),Gh(this);var c="";break t}this.h.i=new vn.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ja();if(this.i=200==t,function I_(n,e,t,r,i,o,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+o+" "+c})}(this.j,this.u,this.A,this.m,this.W,E,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var h,g=this.g;if((h=g.g?g.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Oh(h)){var _=h;break t}}_=null}if(!(t=_)){this.i=!1,this.o=3,Ao(12),ed(this),Gh(this);break e}Hh(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,mp(this,t)}this.S?($5(this,E,c),Nf&&this.i&&3==E&&(ip(this.U,this.V,"tick",this.mb),this.V.start())):(Hh(this.j,this.m,c,null),mp(this,c)),4==E&&ed(this),this.i&&!this.J&&(4==E?c7(this.l,this):(this.i=!1,$h(this)))}else(function j_(n){const e={};n=(n.g&&2<=fc(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(Oh(n[r]))continue;var t=F5(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const o=e[i]||[];e[i]=o,o.push(t)}!function M5(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<c.indexOf("Unknown SID")?(this.o=3,Ao(12)):(this.o=0,Ao(13)),ed(this),Gh(this)}}}catch{}},Mt.mb=function(){if(this.g){var n=fc(this.g),e=this.g.ja();this.C<e.length&&(X3(this),$5(this,n,e),this.i&&4!=n&&$h(this))}},Mt.cancel=function(){this.J=!0,ed(this)},Mt.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Bh(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Yh(),Ao(17)),ed(this),this.o=2,Gh(this)):pp(this,this.Y-n)};var P_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hc(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof hc){this.h=n.h,e8(this,n.j),this.s=n.s,this.g=n.g,B2(this,n.m),this.l=n.l;var e=n.i,t=new $2;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),qh(this,t),this.o=n.o}else n&&(e=String(n).match(P_))?(this.h=!1,e8(this,e[1]||"",!0),this.s=Y2(e[2]||""),this.g=Y2(e[3]||"",!0),B2(this,e[4]),this.l=Y2(e[5]||"",!0),qh(this,e[6]||"",!0),this.o=Y2(e[7]||"")):(this.h=!1,this.i=new $2(null,this.h))}function bl(n){return new hc(n)}function e8(n,e,t){n.j=t?Y2(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function B2(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function qh(n,e,t){e instanceof $2?(n.i=e,function N_(n,e){e&&!n.j&&(Cl(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(Z5(this,r),Q5(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=U2(e,R_)),n.i=new $2(e,n.h))}function yr(n,e,t){n.i.set(e,t)}function t8(n){return yr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Y2(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function U2(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,pT),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function pT(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}hc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(U2(e,W5,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(U2(e,W5,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(U2(t,"/"==t.charAt(0)?O_:K5,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",U2(t,j2)),n.join("")};var W5=/[#\/\?@]/g,K5=/[#\?:]/g,O_=/[#\?]/g,R_=/[#\?@]/g,j2=/#/g;function $2(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Cl(n){n.g||(n.g=new Map,n.h=0,n.i&&function q5(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var o=n[t].substring(0,r);i=n[t].substring(r+1)}else o=n[t];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Z5(n,e){Cl(n),e=td(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function gp(n,e){return Cl(n),e=td(n,e),n.g.has(e)}function Q5(n,e,t){Z5(n,e),0<t.length&&(n.i=null,n.g.set(td(n,e),R2(t)),n.h+=t.length)}function td(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function J5(n){this.l=n||X5,n=vn.PerformanceNavigationTiming?0<(n=vn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(vn.g&&vn.g.Ka&&vn.g.Ka()&&vn.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Mt=$2.prototype).add=function(n,e){Cl(this),this.i=null,n=td(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Mt.forEach=function(n,e){Cl(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},Mt.ta=function(){Cl(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let o=0;o<i.length;o++)t.push(e[r])}return t},Mt.Z=function(n){Cl(this);let e=[];if("string"==typeof n)gp(this,n)&&(e=e.concat(this.g.get(td(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Mt.set=function(n,e){return Cl(this),this.i=null,gp(this,n=td(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Mt.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},Mt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const o=encodeURIComponent(String(r)),c=this.Z(r);for(r=0;r<c.length;r++){var i=o;""!==c[r]&&(i+="="+encodeURIComponent(String(c[r]))),n.push(i)}}return this.i=n.join("&")};var X5=10;function yp(n){return!!n.h||!!n.g&&n.g.size>=n.j}function e7(n){return n.h?1:n.g?n.g.size:0}function _p(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function wp(n,e){n.g?n.g.add(e):n.h=e}function n8(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function t7(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return R2(n.i)}J5.prototype.cancel=function(){if(this.i=t7(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var n7=class{stringify(n){return vn.JSON.stringify(n,void 0)}parse(n){return vn.JSON.parse(n,void 0)}};function F_(){this.g=new n7}function L_(n,e,t){const r=t||"";try{z_(n,function(i,o){let c=i;O2(i)&&(c=Xf(i)),e.push(r+o+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function r8(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function G2(n){this.l=n.fc||null,this.j=n.ob||!1}function i8(n,e){Ri.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=bp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}wi(G2,cp),G2.prototype.g=function(){return new i8(this.l,this.j)},G2.prototype.i=function(n){return function(){return n}}({}),wi(i8,Ri);var bp=0;function r7(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Wh(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Kh(n)}function Kh(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Mt=i8.prototype).open=function(n,e){if(this.readyState!=bp)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Kh(this)},Mt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||vn).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Mt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Wh(this)),this.readyState=bp},Mt.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Kh(this)),this.g&&(this.readyState=3,Kh(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof vn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;r7(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Mt.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Wh(this):Kh(this),3==this.readyState&&r7(this)}},Mt.Za=function(n){this.g&&(this.response=this.responseText=n,Wh(this))},Mt.Ya=function(n){this.g&&(this.response=n,Wh(this))},Mt.ka=function(){this.g&&Wh(this)},Mt.setRequestHeader=function(n,e){this.v.append(n,e)},Mt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Mt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(i8.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var H_=vn.JSON.parse;function Gr(n){Ri.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Cp,this.L=this.M=!1}wi(Gr,Ri);var Cp="",B_=/^https?$/i,Y_=["POST","PUT"];function o8(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,s8(n),Zh(n)}function s8(n){n.F||(n.F=!0,qi(n,"complete"),qi(n,"error"))}function Sp(n){if(n.h&&typeof ti<"u"&&(!n.C[1]||4!=fc(n)||2!=n.da()))if(n.v&&4==fc(n))zu(n.La,0,n);else if(qi(n,"readystatechange"),4==fc(n)){n.h=!1;try{const c=n.da();e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===c){var i=String(n.I).match(P_)[1]||null;!i&&vn.self&&vn.self.location&&(i=vn.self.location.protocol.slice(0,-1)),r=!B_.test(i?i.toLowerCase():"")}t=r}if(t)qi(n,"complete"),qi(n,"success");else{n.m=6;try{var o=2<fc(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.da()+"]",s8(n)}}finally{Zh(n)}}}function Zh(n,e){if(n.g){i7(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||qi(n,"ready");try{t.onreadystatechange=r}catch{}}}function i7(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(vn.clearTimeout(n.A),n.A=null)}function fc(n){return n.g?n.g.readyState:0}function a8(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case Cp:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Ep(n){let e="";return G3(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function Ou(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=Ep(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):yr(n,e,t))}function Qh(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function o7(n){this.Ga=0,this.j=[],this.l=new Jt,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Qh("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Qh("baseRetryDelayMs",5e3,n),this.hb=Qh("retryDelaySeedMs",1e4,n),this.eb=Qh("forwardChannelMaxRetries",2,n),this.xa=Qh("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new J5(n&&n.concurrentRequestLimit),this.Ja=new F_,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function s7(n){if(c8(n),3==n.H){var e=n.W++,t=bl(n.I);if(yr(t,"SID",n.K),yr(t,"RID",e),yr(t,"TYPE","terminate"),Jh(n,t),(e=new jh(n,n.l,e)).L=2,e.v=t8(bl(t)),t=!1,vn.navigator&&vn.navigator.sendBeacon)try{t=vn.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&vn.Image&&((new Image).src=e.v,t=!0),t||(e.g=Ip(e.l,null),e.g.ha(e.v)),e.G=Date.now(),$h(e)}xp(n)}function q2(n){n.g&&(h8(n),n.g.cancel(),n.g=null)}function c8(n){q2(n),n.u&&(vn.clearTimeout(n.u),n.u=null),f8(n),n.i.cancel(),n.m&&("number"==typeof n.m&&vn.clearTimeout(n.m),n.m=null)}function l8(n){if(!yp(n.i)&&!n.m){n.m=!0;var e=n.Na;Lh||Z3(),Vh||(Lh(),Vh=!0),K3.add(e,n),n.C=0}}function a7(n,e){var t;t=e?e.m:n.W++;const r=bl(n.I);yr(r,"SID",n.K),yr(r,"RID",t),yr(r,"AID",n.V),Jh(n,r),n.o&&n.s&&Ou(r,n.o,n.s),t=new jh(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=u8(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),wp(n.i,t),X1(t,r,e)}function Jh(n,e){n.na&&G3(n.na,function(t,r){yr(e,r,t)}),n.h&&z_({},function(t,r){yr(e,r,t)})}function u8(n,e,t){t=Math.min(n.j.length,t);var r=n.h?co(n.h.Va,n.h,n):null;e:{var i=n.j;let o=-1;for(;;){const c=["count="+t];-1==o?0<t?(o=i[0].g,c.push("ofs="+o)):o=0:c.push("ofs="+o);let h=!0;for(let g=0;g<t;g++){let _=i[g].g;const E=i[g].map;if(_-=o,0>_)o=Math.max(0,i[g].g-100),h=!1;else try{L_(E,c,"req"+_+"_")}catch{r&&r(E)}}if(h){r=c.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function Dp(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Lh||Z3(),Vh||(Lh(),Vh=!0),K3.add(e,n),n.A=0}}function d8(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Uh(co(n.Ma,n),l7(n,n.A)),n.A++,0))}function h8(n){null!=n.B&&(vn.clearTimeout(n.B),n.B=null)}function Mp(n){n.g=new jh(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=bl(n.wa);yr(e,"RID","rpc"),yr(e,"SID",n.K),yr(e,"AID",n.V),yr(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&yr(e,"TO",n.qa),yr(e,"TYPE","xmlhttp"),Jh(n,e),n.o&&n.s&&Ou(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=t8(bl(e)),t.s=null,t.S=!0,U5(t,n)}function f8(n){null!=n.v&&(vn.clearTimeout(n.v),n.v=null)}function c7(n,e){var t=null;if(n.g==e){f8(n),h8(n),n.g=null;var r=2}else{if(!_p(n.i,e))return;t=e.F,n8(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;qi(r=vr(),new sp(r,t)),l8(n)}else Dp(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function Tp(n,e){return!(e7(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Uh(co(n.Na,n,e),l7(n,n.C)),n.C++,0)))}(n,e)||2==r&&d8(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:nd(n,5);break;case 4:nd(n,10);break;case 3:nd(n,6);break;default:nd(n,2)}}function l7(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function nd(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=co(n.pb,n);t||(t=new hc("//www.google.com/images/cleardot.gif"),vn.location&&"http"==vn.location.protocol||e8(t,"https"),t8(t)),function V_(n,e){const t=new Jt;if(vn.Image){const r=new Image;r.onload=H3(r8,t,r,"TestLoadImage: loaded",!0,e),r.onerror=H3(r8,t,r,"TestLoadImage: error",!1,e),r.onabort=H3(r8,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=H3(r8,t,r,"TestLoadImage: timeout",!1,e),vn.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Ao(2);n.H=0,n.h&&n.h.za(e),xp(n),c8(n)}function xp(n){if(n.H=0,n.ma=[],n.h){const e=t7(n.i);(0!=e.length||0!=n.j.length)&&(B3(n.ma,e),B3(n.ma,n.j),n.i.i.length=0,R2(n.j),n.j.length=0),n.h.ya()}}function $_(n,e,t){var r=t instanceof hc?bl(t):new hc(t);if(""!=r.g)e&&(r.g=e+"."+r.g),B2(r,r.m);else{var i=vn.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new hc(null);r&&e8(o,r),e&&(o.g=e),i&&B2(o,i),t&&(o.l=t),r=o}return e=n.Da,(t=n.F)&&e&&yr(r,t,e),yr(r,"VER",n.ra),Jh(n,r),r}function Ip(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Gr(t&&n.Ha&&!n.va?new G2({ob:!0}):n.va)).Oa(n.J),e}function u7(){}function p8(){if(Rh&&!(10<=Number(j3)))throw Error("Environmental error: no available transport.")}function qs(n,e){Ri.call(this),this.g=new o7(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Oh(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Oh(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Xh(this)}function d7(n){lp.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function h7(){up.call(this),this.status=1}function Xh(n){this.g=n}function Ws(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Ap(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var o=n.g[3],c=(e=n.g[0])+(o^(t=n.g[1])&((i=n.g[2])^o))+r[0]+3614090360&4294967295;c=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=t+(c<<7&4294967295|c>>>25))+((c=o+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^o&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(o^e))+r[3]+3250441966&4294967295)<<22&4294967295|c>>>10))+((c=e+(o^t&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|c>>>25))+((c=o+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^o&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(o^e))+r[7]+4249261313&4294967295)<<22&4294967295|c>>>10))+((c=e+(o^t&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|c>>>25))+((c=o+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^o&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(o^e))+r[11]+2304563134&4294967295)<<22&4294967295|c>>>10))+((c=e+(o^t&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|c>>>25))+((c=o+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^o&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(o^e))+r[15]+1236535329&4294967295)<<22&4294967295|c>>>10))+((c=e+(i^o&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|c>>>27))+((c=o+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(o^e))+r[11]+643717713&4294967295)<<14&4294967295|c>>>18))+((c=t+(o^e&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^o&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|c>>>27))+((c=o+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(o^e))+r[15]+3634488961&4294967295)<<14&4294967295|c>>>18))+((c=t+(o^e&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^o&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|c>>>27))+((c=o+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(o^e))+r[3]+4107603335&4294967295)<<14&4294967295|c>>>18))+((c=t+(o^e&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^o&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|c>>>27))+((c=o+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(o^e))+r[7]+1735328473&4294967295)<<14&4294967295|c>>>18))+((c=t+(o^e&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|c>>>12))+((c=e+(t^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|c>>>28))+((c=o+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|c>>>21))+((c=i+(o^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^o^e)+r[14]+4259657740&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|c>>>28))+((c=o+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|c>>>21))+((c=i+(o^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^o^e)+r[10]+3200236656&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^o)+r[13]+681279174&4294967295)<<4&4294967295|c>>>28))+((c=o+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|c>>>21))+((c=i+(o^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^o^e)+r[6]+76029189&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|c>>>28))+((c=o+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|c>>>21))+((c=i+(o^e^t)+r[15]+530742520&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^o^e)+r[2]+3299628645&4294967295)<<23&4294967295|c>>>9))+((c=e+(i^(t|~o))+r[0]+4096336452&4294967295)<<6&4294967295|c>>>26))+((c=o+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(o|~t))+r[14]+2878612391&4294967295)<<15&4294967295|c>>>17))+((c=t+(o^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|c>>>11))+((c=e+(i^(t|~o))+r[12]+1700485571&4294967295)<<6&4294967295|c>>>26))+((c=o+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(o|~t))+r[10]+4293915773&4294967295)<<15&4294967295|c>>>17))+((c=t+(o^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|c>>>11))+((c=e+(i^(t|~o))+r[8]+1873313359&4294967295)<<6&4294967295|c>>>26))+((c=o+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(o|~t))+r[6]+2734768916&4294967295)<<15&4294967295|c>>>17))+((c=t+(o^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|c>>>11))+((o=(e=t+((c=e+(i^(t|~o))+r[4]+4149444226&4294967295)<<6&4294967295|c>>>26))+((c=o+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|c>>>22))^((i=o+((c=i+(e^(o|~t))+r[2]+718787259&4294967295)<<15&4294967295|c>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(c<<21&4294967295|c>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+o&4294967295}function Wn(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var o=0|n[i];r&&o==e||(t[i]=o,r=!1)}this.g=t}(Mt=Gr.prototype).Oa=function(n){this.M=n},Mt.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():dp.g(),this.C=function H5(n){return n.h||(n.h=n.i())}(this.u?this.u:dp),this.g.onreadystatechange=co(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(o){return void o8(this,o)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const o of r.keys())t.set(o,r.get(o))}r=Array.from(t.keys()).find(o=>"content-type"==o.toLowerCase()),i=vn.FormData&&n instanceof vn.FormData,!(0<=S_(Y_,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,c]of t)this.g.setRequestHeader(o,c);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{i7(this),0<this.B&&((this.L=function U_(n){return Rh&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=co(this.ua,this)):this.A=zu(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){o8(this,o)}},Mt.ua=function(){typeof ti<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,qi(this,"timeout"),this.abort(8))},Mt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,qi(this,"complete"),qi(this,"abort"),Zh(this))},Mt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Zh(this,!0)),Gr.$.N.call(this)},Mt.La=function(){this.s||(this.G||this.v||this.l?Sp(this):this.kb())},Mt.kb=function(){Sp(this)},Mt.isActive=function(){return!!this.g},Mt.da=function(){try{return 2<fc(this)?this.g.status:-1}catch{return-1}},Mt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Mt.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),H_(e)}},Mt.Ia=function(){return this.m},Mt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Mt=o7.prototype).ra=8,Mt.H=1,Mt.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new jh(this,this.l,n);let o=this.s;if(this.U&&(o?(o=Uf(o),$f(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=u8(this,i,e),yr(t=bl(this.I),"RID",n),yr(t,"CVER",22),this.F&&yr(t,"X-HTTP-Session-Id",this.F),Jh(this,t),o&&(this.O?e="headers="+encodeURIComponent(String(Ep(o)))+"&"+e:this.o&&Ou(t,this.o,o)),wp(this.i,i),this.bb&&yr(t,"TYPE","init"),this.P?(yr(t,"$req",e),yr(t,"SID","null"),i.aa=!0,X1(i,t,null)):X1(i,t,e),this.H=2}}else 3==this.H&&(n?a7(this,n):0==this.j.length||yp(this.i)||a7(this))},Mt.Ma=function(){if(this.u=null,Mp(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Uh(co(this.jb,this),n)}},Mt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ao(10),q2(this),Mp(this))},Mt.ib=function(){null!=this.v&&(this.v=null,q2(this),d8(this),Ao(19))},Mt.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Ao(2)):(this.l.info("Failed to ping google.com"),Ao(1))},Mt.isActive=function(){return!!this.h&&this.h.isActive(this)},(Mt=u7.prototype).Ba=function(){},Mt.Aa=function(){},Mt.za=function(){},Mt.ya=function(){},Mt.isActive=function(){return!0},Mt.Va=function(){},p8.prototype.g=function(n,e){return new qs(n,e)},wi(qs,Ri),qs.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Ao(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=$_(n,null,n.Y),l8(n)},qs.prototype.close=function(){s7(this.g)},qs.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Xf(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&l8(e)},qs.prototype.N=function(){this.g.h=null,delete this.j,s7(this.g),delete this.g,qs.$.N.call(this)},wi(d7,lp),wi(h7,up),wi(Xh,u7),Xh.prototype.Ba=function(){qi(this.g,"a")},Xh.prototype.Aa=function(n){qi(this.g,new d7(n))},Xh.prototype.za=function(n){qi(this.g,new h7)},Xh.prototype.ya=function(){qi(this.g,"b")},wi(Ws,function G_(){this.blockSize=-1}),Ws.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ws.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(0==i)for(;o<=t;)Ap(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<e;)if(r[i++]=n.charCodeAt(o++),i==this.blockSize){Ap(this,r),i=0;break}}else for(;o<e;)if(r[i++]=n[o++],i==this.blockSize){Ap(this,r),i=0;break}}this.h=i,this.i+=e},Ws.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var q_={};function kp(n){return-128<=n&&128>n?function C5(n,e){var t=q_;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Wn([0|e],0>e?-1:0)}):new Wn([0|n],0>n?-1:0)}function pc(n){if(isNaN(n)||!isFinite(n))return mc;if(0>n)return Ni(pc(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=zp;return new Wn(e,0)}var zp=4294967296,mc=kp(0),m8=kp(1),Pp=kp(16777216);function gc(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Es(n){return-1==n.h}function Ni(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Wn(t,~n.h).add(m8)}function W2(n,e){return n.add(Ni(e))}function g8(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function v8(n,e){this.g=n,this.h=e}function K2(n,e){if(gc(e))throw Error("division by zero");if(gc(n))return new v8(mc,mc);if(Es(n))return e=K2(Ni(n),e),new v8(Ni(e.g),Ni(e.h));if(Es(e))return e=K2(n,Ni(e)),new v8(Ni(e.g),e.h);if(30<n.g.length){if(Es(n)||Es(e))throw Error("slowDivide_ only works with positive integers.");for(var t=m8,r=e;0>=r.X(n);)t=p7(t),r=p7(r);var i=e4(t,1),o=e4(r,1);for(r=e4(r,2),t=e4(t,2);!gc(r);){var c=o.add(r);0>=c.X(n)&&(i=i.add(t),o=c),r=e4(r,1),t=e4(t,1)}return e=W2(n,i.R(e)),new v8(i,e)}for(i=mc;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),c=(o=pc(t)).R(e);Es(c)||0<c.X(n);)c=(o=pc(t-=r)).R(e);gc(o)&&(o=m8),i=i.add(o),n=W2(n,c)}return new v8(i,n)}function p7(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Wn(t,n.h)}function e4(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],o=0;o<r;o++)i[o]=0<e?n.D(o+t)>>>e|n.D(o+t+1)<<32-e:n.D(o+t);return new Wn(i,n.h)}(Mt=Wn.prototype).ea=function(){if(Es(this))return-Ni(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:zp+r)*e,e*=zp}return n},Mt.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(gc(this))return"0";if(Es(this))return"-"+Ni(this).toString(n);for(var e=pc(Math.pow(n,6)),t=this,r="";;){var i=K2(t,e).g,o=((0<(t=W2(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(gc(t=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},Mt.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Mt.X=function(n){return Es(n=W2(this,n))?-1:gc(n)?0:1},Mt.abs=function(){return Es(this)?Ni(this):this},Mt.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var o=r+(65535&this.D(i))+(65535&n.D(i)),c=(o>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=c>>>16,t[i]=(c&=65535)<<16|(o&=65535)}return new Wn(t,-2147483648&t[t.length-1]?-1:0)},Mt.R=function(n){if(gc(this)||gc(n))return mc;if(Es(this))return Es(n)?Ni(this).R(Ni(n)):Ni(Ni(this).R(n));if(Es(n))return Ni(this.R(Ni(n)));if(0>this.X(Pp)&&0>n.X(Pp))return pc(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var o=this.D(r)>>>16,c=65535&this.D(r),h=n.D(i)>>>16,g=65535&n.D(i);t[2*r+2*i]+=c*g,g8(t,2*r+2*i),t[2*r+2*i+1]+=o*g,g8(t,2*r+2*i+1),t[2*r+2*i+1]+=c*h,g8(t,2*r+2*i+1),t[2*r+2*i+2]+=o*h,g8(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Wn(t,0)},Mt.gb=function(n){return K2(this,n).h},Mt.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Wn(t,this.h&n.h)},Mt.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Wn(t,this.h|n.h)},Mt.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Wn(t,this.h^n.h)},p8.prototype.createWebChannel=p8.prototype.g,qs.prototype.send=qs.prototype.u,qs.prototype.open=qs.prototype.m,qs.prototype.close=qs.prototype.close,H2.NO_ERROR=0,H2.TIMEOUT=8,H2.HTTP_ERROR=6,ap.COMPLETE="complete",B5.EventType=wl,wl.OPEN="a",wl.CLOSE="b",wl.ERROR="c",wl.MESSAGE="d",Ri.prototype.listen=Ri.prototype.O,Gr.prototype.listenOnce=Gr.prototype.P,Gr.prototype.getLastError=Gr.prototype.Sa,Gr.prototype.getLastErrorCode=Gr.prototype.Ia,Gr.prototype.getStatus=Gr.prototype.da,Gr.prototype.getResponseJson=Gr.prototype.Wa,Gr.prototype.getResponseText=Gr.prototype.ja,Gr.prototype.send=Gr.prototype.ha,Gr.prototype.setWithCredentials=Gr.prototype.Oa,Ws.prototype.digest=Ws.prototype.l,Ws.prototype.reset=Ws.prototype.reset,Ws.prototype.update=Ws.prototype.j,Wn.prototype.add=Wn.prototype.add,Wn.prototype.multiply=Wn.prototype.R,Wn.prototype.modulo=Wn.prototype.gb,Wn.prototype.compare=Wn.prototype.X,Wn.prototype.toNumber=Wn.prototype.ea,Wn.prototype.toString=Wn.prototype.toString,Wn.prototype.getBits=Wn.prototype.D,Wn.fromNumber=pc,Wn.fromString=function f7(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Ni(f7(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=pc(Math.pow(e,8)),r=mc,i=0;i<n.length;i+=8){var o=Math.min(8,n.length-i),c=parseInt(n.substring(i,i+o),e);8>o?(o=pc(Math.pow(e,o)),r=r.R(o).add(pc(c))):r=(r=r.R(t)).add(pc(c))}return r};var W_=Gs.createWebChannelTransport=function(){return new p8},K_=Gs.getStatEventTarget=function(){return vr()},rd=Gs.ErrorCode=H2,Z_=Gs.EventType=ap,Op=Gs.Event=dc,za=Gs.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Q_=Gs.FetchXmlHttpFactory=G2,t4=Gs.WebChannel=B5,Z2=Gs.XhrIo=Gr,J_=Gs.Md5=Ws,n4=Gs.Integer=Wn;const m7="@firebase/firestore";class ni{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ni.UNAUTHENTICATED=new ni(null),ni.GOOGLE_CREDENTIALS=new ni("google-credentials-uid"),ni.FIRST_PARTY=new ni("first-party-uid"),ni.MOCK_USER=new ni("mock-user");let Sl="9.23.0";const Ru=new Au.Yd("@firebase/firestore");function Rp(){return Ru.logLevel}function dt(n,...e){if(Ru.logLevel<=Au.in.DEBUG){const t=e.map(Q2);Ru.debug(`Firestore (${Sl}): ${n}`,...t)}}function Or(n,...e){if(Ru.logLevel<=Au.in.ERROR){const t=e.map(Q2);Ru.error(`Firestore (${Sl}): ${n}`,...t)}}function Ts(n,...e){if(Ru.logLevel<=Au.in.WARN){const t=e.map(Q2);Ru.warn(`Firestore (${Sl}): ${n}`,...t)}}function Q2(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Rt(n="Unexpected state"){const e=`FIRESTORE (${Sl}) INTERNAL ASSERTION FAILED: `+n;throw Or(e),new Error(e)}function Gt(n,e){n||Rt()}function Et(n,e){return n}const Ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class nt extends wn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class bi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class v7{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class y7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ni.UNAUTHENTICATED))}shutdown(){}}class Fp{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class _7{constructor(e){this.t=e,this.currentUser=ni.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const o=_=>this.i!==i?(i=this.i,t(_)):Promise.resolve();let c=new bi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new bi,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const _=c;e.enqueueRetryable((0,Ue.Z)(function*(){yield _.promise,yield o(r.currentUser)}))},g=_=>{dt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(_=>g(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(dt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new bi)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(dt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Gt("string"==typeof r.accessToken),new v7(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Gt(null===e||"string"==typeof e),new ni(e)}}class w7{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=ni.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class b7{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new w7(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ni.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Lp{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class X_{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=o=>{null!=o.error&&dt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.T;return this.T=o.token,dt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{dt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?i(o):dt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Gt("string"==typeof t.token),this.T=t.token,new Lp(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function C7(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class S7{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=C7(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}}function mn(n,e){return n<e?-1:n>e?1:0}function id(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function lo(n){return n+"\0"}class Kn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new nt(Ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new nt(Ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new nt(Ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new nt(Ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Kn.fromMillis(Date.now())}static fromDate(e){return Kn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Kn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?mn(this.nanoseconds,e.nanoseconds):mn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Wt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Wt(e)}static min(){return new Wt(new Kn(0,0))}static max(){return new Wt(new Kn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class J2{constructor(e,t,r){void 0===t?t=0:t>e.length&&Rt(),void 0===r?r=e.length-t:r>e.length-t&&Rt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===J2.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof J2?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=e.get(i),c=t.get(i);if(o<c)return-1;if(o>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Bn extends J2{construct(e,t,r){return new Bn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new nt(Ye.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Bn(t)}static emptyPath(){return new Bn([])}}const mT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rr extends J2{construct(e,t,r){return new Rr(e,t,r)}static isValidIdentifier(e){return mT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Rr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(0===r.length)throw new nt(Ye.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const h=e[i];if("\\"===h){if(i+1===e.length)throw new nt(Ye.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[i+1];if("\\"!==g&&"."!==g&&"`"!==g)throw new nt(Ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,i+=2}else"`"===h?(c=!c,i++):"."!==h||c?(r+=h,i++):(o(),i++)}if(o(),c)throw new nt(Ye.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rr(t)}static emptyPath(){return new Rr([])}}class St{constructor(e){this.path=e}static fromPath(e){return new St(Bn.fromString(e))}static fromName(e){return new St(Bn.fromString(e).popFirst(5))}static empty(){return new St(Bn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Bn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Bn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new St(new Bn(e.slice()))}}class Nu{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function Vp(n){return n.fields.find(e=>2===e.kind)}function El(n){return n.fields.filter(e=>2!==e.kind)}Nu.UNKNOWN_ID=-1;class X2{constructor(e,t){this.fieldPath=e,this.kind=t}}class e0{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new e0(0,Zo.min())}}function E7(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Wt.fromTimestamp(1e9===r?new Kn(t+1,0):new Kn(t,r));return new Zo(i,St.empty(),e)}function y8(n){return new Zo(n.readTime,n.key,-1)}class Zo{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Zo(Wt.min(),St.empty(),-1)}static max(){return new Zo(Wt.max(),St.empty(),-1)}}function _8(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=St.comparator(n.documentKey,e.documentKey),0!==t?t:mn(n.largestBatchId,e.largestBatchId))}const t0="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class w8{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function od(n){return b8.apply(this,arguments)}function b8(){return b8=(0,Ue.Z)(function*(n){if(n.code!==Ye.FAILED_PRECONDITION||n.message!==t0)throw n;dt("LocalStore","Unexpectedly lost primary lease")}),b8.apply(this,arguments)}class Fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Rt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Fe((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Fe?t:Fe.resolve(t)}catch(t){return Fe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Fe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Fe.reject(t)}static resolve(e){return new Fe((t,r)=>{t(e)})}static reject(e){return new Fe((t,r)=>{r(e)})}static waitFor(e){return new Fe((t,r)=>{let i=0,o=0,c=!1;e.forEach(h=>{++i,h.next(()=>{++o,c&&o===i&&t()},g=>r(g))}),c=!0,o===i&&t()})}static or(e){let t=Fe.resolve(!1);for(const r of e)t=t.next(i=>i?Fe.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new Fe((r,i)=>{const o=e.length,c=new Array(o);let h=0;for(let g=0;g<o;g++){const _=g;t(e[_]).next(E=>{c[_]=E,++h,h===o&&r(c)},E=>i(E))}})}static doWhile(e,t){return new Fe((r,i)=>{const o=()=>{!0===e()?t().next(()=>{o()},i):r()};o()})}}class n0{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new bi,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new r4(e,t.error)):this.v.resolve()},this.transaction.onerror=r=>{const i=Hp(r.target.error);this.v.reject(new r4(e,i))}}static open(e,t,r,i){try{return new n0(t,e.transaction(i,r))}catch(o){throw new r4(t,o)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(dt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new gT(t)}}class uo{constructor(e,t,r){this.name=e,this.version=t,this.V=r,12.2===uo.S((0,wn.z$)())&&Or("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return dt("SimpleDb","Removing database:",e),sd(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,wn.hl)())return!1;if(uo.C())return!0;const e=(0,wn.z$)(),t=uo.S(e),r=0<t&&t<10,i=uo.N(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}$(e){var t=this;return(0,Ue.Z)(function*(){return t.db||(dt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const o=indexedDB.open(t.name,t.version);o.onsuccess=c=>{r(c.target.result)},o.onblocked=()=>{i(new r4(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=c=>{const h=c.target.error;i("VersionError"===h.name?new nt(Ye.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new nt(Ye.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new r4(e,h))},o.onupgradeneeded=c=>{dt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.V.O(c.target.result,o.transaction,c.oldVersion,t.version).next(()=>{dt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=r=>t.F(r)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var o=this;return(0,Ue.Z)(function*(){const c="readonly"===t;let h=0;for(;;){++h;try{o.db=yield o.$(e);const g=n0.open(o.db,e,c?"readonly":"readwrite",r),_=i(g).next(E=>(g.P(),E)).catch(E=>(g.abort(E),Fe.reject(E))).toPromise();return _.catch(()=>{}),yield g.R,_}catch(g){const _=g,E="FirebaseError"!==_.name&&h<3;if(dt("SimpleDb","Transaction failed with error:",_.message,"Retrying:",E),o.close(),!E)return Promise.reject(_)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class rw{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return sd(this.L.delete())}}class r4 extends nt{constructor(e,t){super(Ye.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function vc(n){return"IndexedDbTransactionError"===n.name}class gT{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(dt("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(dt("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),sd(r)}add(e){return dt("SimpleDb","ADD",this.store.name,e,e),sd(this.store.add(e))}get(e){return sd(this.store.get(e)).next(t=>(void 0===t&&(t=null),dt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return dt("SimpleDb","DELETE",this.store.name,e),sd(this.store.delete(e))}count(){return dt("SimpleDb","COUNT",this.store.name),sd(this.store.count())}j(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),o=[];return this.W(i,(c,h)=>{o.push(h)}).next(()=>o)}{const i=this.store.getAll(r.range);return new Fe((o,c)=>{i.onerror=h=>{c(h.target.error)},i.onsuccess=h=>{o(h.target.result)}})}}H(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new Fe((i,o)=>{r.onerror=c=>{o(c.target.error)},r.onsuccess=c=>{i(c.target.result)}})}J(e,t){dt("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const i=this.cursor(r);return this.W(i,(o,c,h)=>h.delete())}X(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.W(i,t)}Z(e){const t=this.cursor({});return new Fe((r,i)=>{t.onerror=o=>{const c=Hp(o.target.error);i(c)},t.onsuccess=o=>{const c=o.target.result;c?e(c.primaryKey,c.value).next(h=>{h?c.continue():r()}):r()}})}W(e,t){const r=[];return new Fe((i,o)=>{e.onerror=c=>{o(c.target.error)},e.onsuccess=c=>{const h=c.target.result;if(!h)return void i();const g=new rw(h),_=t(h.primaryKey,h.value,g);if(_ instanceof Fe){const E=_.catch(x=>(g.done(),Fe.reject(x)));r.push(E)}g.isDone?i():null===g.K?h.continue():h.continue(g.K)}}).next(()=>Fe.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function sd(n){return new Fe((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=Hp(r.target.error);t(i)}})}let iw=!1;function Hp(n){const e=uo.S((0,wn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new nt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return iw||(iw=!0,setTimeout(()=>{throw r},0)),r}}return n}class ow{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;dt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Ue.Z)(function*(){t.task=null;try{dt("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(r){vc(r)?dt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield od(r)}yield t.et(6e4)}))}}class sw{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,Ue.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.st(r,e))})()}st(e,t){const r=new Set;let i=t,o=!0;return Fe.doWhile(()=>!0===o&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(null!==c&&!r.has(c))return dt("IndexBackiller",`Processing collection: ${c}`),this.it(e,c,i).next(h=>{i-=h,r.add(c)});o=!1})).next(()=>t-i)}it(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(o=>{const c=o.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.rt(i,o)).next(h=>(dt("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h))).next(()=>c.size)}))}rt(e,t){let r=e;return t.changes.forEach((i,o)=>{const c=y8(o);_8(c,r)>0&&(r=c)}),new Zo(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Qo=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function o4(n){return null==n}function r0(n){return 0===n&&1/n==-1/0}function Bp(n){return"number"==typeof n&&Number.isInteger(n)&&!r0(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Wi(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=T7(e)),e=aw(n.get(t),e);return T7(e)}function aw(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const o=n.charAt(i);switch(o){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=o}}return t}function T7(n){return n+"\x01\x01"}function Pa(n){const e=n.length;if(Gt(e>=2),2===e)return Gt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Bn.emptyPath();const t=e-2,r=[];let i="";for(let o=0;o<e;){const c=n.indexOf("\x01",o);switch((c<0||c>t)&&Rt(),n.charAt(c+1)){case"\x01":const h=n.substring(o,c);let g;0===i.length?g=h:(i+=h,g=i,i=""),r.push(g);break;case"\x10":i+=n.substring(o,c),i+="\0";break;case"\x11":i+=n.substring(o,c+1);break;default:Rt()}o=c+2}return new Bn(r)}const D7=["userId","batchId"];function o0(n,e){return[n,Wi(e)]}function Yp(n,e,t){return[n,Wi(e),t]}const M7={},x7=["prefixPath","collectionGroup","readTime","documentId"],cw=["prefixPath","collectionGroup","documentId"],lw=["collectionGroup","readTime","prefixPath","documentId"],vT=["canonicalId","targetId"],I7=["targetId","path"],yT=["path","targetId"],_T=["collectionId","parent"],wT=["indexId","uid"],bT=["uid","sequenceNumber"],CT=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ST=["indexId","uid","orderedDocumentKey"],ET=["userId","collectionPath","documentId"],TT=["userId","collectionPath","largestBatchId"],C8=["userId","collectionGroup","largestBatchId"],uw=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],A7=[...uw,"documentOverlays"],s0=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Up=s0,k7=[...Up,"indexConfiguration","indexState","indexEntries"];class z7 extends w8{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function di(n,e){const t=Et(n);return uo.M(t.ht,e)}function jp(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Fu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function dw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class dr{constructor(e,t){this.comparator=e,this.root=t||Ki.EMPTY}insert(e,t){return new dr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ki.BLACK,null,null))}remove(e){return new dr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ki.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new S8(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new S8(this.root,e,this.comparator,!1)}getReverseIterator(){return new S8(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new S8(this.root,e,this.comparator,!0)}}class S8{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ki{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??Ki.RED,this.left=i??Ki.EMPTY,this.right=o??Ki.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new Ki(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===o?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ki.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Ki.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ki.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ki.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Rt();const e=this.left.check();if(e!==this.right.check())throw Rt();return e+(this.isRed()?0:1)}}Ki.EMPTY=null,Ki.RED=!0,Ki.BLACK=!1,Ki.EMPTY=new class{constructor(){this.size=0}get key(){throw Rt()}get value(){throw Rt()}get color(){throw Rt()}get left(){throw Rt()}get right(){throw Rt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Ki(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Xn{constructor(e){this.comparator=e,this.data=new dr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new P7(this.data.getIterator())}getIteratorFrom(e){return new P7(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Xn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Xn(this.comparator);return t.data=e,t}}class P7{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function a0(n){return n.hasNext()?n.getNext():void 0}class Ds{constructor(e){this.fields=e,e.sort(Rr.comparator)}static empty(){return new Ds([])}unionWith(e){let t=new Xn(Rr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Ds(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return id(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class hw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ci{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new hw("Invalid base64 string: "+i):i}}(e);return new Ci(t)}static fromUint8Array(e){const t=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(e);return new Ci(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return mn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ci.EMPTY_BYTE_STRING=new Ci("");const pw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ad(n){if(Gt(!!n),"string"==typeof n){let e=0;const t=pw.exec(n);if(Gt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:qr(n.seconds),nanos:qr(n.nanos)}}function qr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function yc(n){return"string"==typeof n?Ci.fromBase64String(n):Ci.fromUint8Array(n)}function c0(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function $p(n){const e=n.mapValue.fields.__previous_value__;return c0(e)?$p(e):e}function ko(n){const e=ad(n.mapValue.fields.__local_write_time__.timestampValue);return new Kn(e.seconds,e.nanos)}class mw{constructor(e,t,r,i,o,c,h,g,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=g,this.useFetchStreams=_}}class _c{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new _c("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof _c&&e.projectId===this.projectId&&e.database===this.database}}const Lu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Gp={nullValue:"NULL_VALUE"};function Si(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?c0(n)?4:bc(n)?9007199254740991:10:Rt()}function wc(n,e){if(n===e)return!0;const t=Si(n);if(t!==Si(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ko(n).isEqual(ko(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=ad(r.timestampValue),c=ad(i.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,yc(n.bytesValue).isEqual(yc(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return qr(r.geoPointValue.latitude)===qr(i.geoPointValue.latitude)&&qr(r.geoPointValue.longitude)===qr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return qr(r.integerValue)===qr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=qr(r.doubleValue),c=qr(i.doubleValue);return o===c?r0(o)===r0(c):isNaN(o)&&isNaN(c)}return!1}(n,e);case 9:return id(n.arrayValue.values||[],e.arrayValue.values||[],wc);case 10:return function(r,i){const o=r.mapValue.fields||{},c=i.mapValue.fields||{};if(jp(o)!==jp(c))return!1;for(const h in o)if(o.hasOwnProperty(h)&&(void 0===c[h]||!wc(o[h],c[h])))return!1;return!0}(n,e);default:return Rt()}var i}function cd(n,e){return void 0!==(n.values||[]).find(t=>wc(t,e))}function Vu(n,e){if(n===e)return 0;const t=Si(n),r=Si(e);if(t!==r)return mn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return mn(n.booleanValue,e.booleanValue);case 2:return function(i,o){const c=qr(i.integerValue||i.doubleValue),h=qr(o.integerValue||o.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(n,e);case 3:return O7(n.timestampValue,e.timestampValue);case 4:return O7(ko(n),ko(e));case 5:return mn(n.stringValue,e.stringValue);case 6:return function(i,o){const c=yc(i),h=yc(o);return c.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(i,o){const c=i.split("/"),h=o.split("/");for(let g=0;g<c.length&&g<h.length;g++){const _=mn(c[g],h[g]);if(0!==_)return _}return mn(c.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,o){const c=mn(qr(i.latitude),qr(o.latitude));return 0!==c?c:mn(qr(i.longitude),qr(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,o){const c=i.values||[],h=o.values||[];for(let g=0;g<c.length&&g<h.length;++g){const _=Vu(c[g],h[g]);if(_)return _}return mn(c.length,h.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===Lu.mapValue&&o===Lu.mapValue)return 0;if(i===Lu.mapValue)return 1;if(o===Lu.mapValue)return-1;const c=i.fields||{},h=Object.keys(c),g=o.fields||{},_=Object.keys(g);h.sort(),_.sort();for(let E=0;E<h.length&&E<_.length;++E){const x=mn(h[E],_[E]);if(0!==x)return x;const K=Vu(c[h[E]],g[_[E]]);if(0!==K)return K}return mn(h.length,_.length)}(n.mapValue,e.mapValue);default:throw Rt()}}function O7(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return mn(n,e);const t=ad(n),r=ad(e),i=mn(t.seconds,r.seconds);return 0!==i?i:mn(t.nanos,r.nanos)}function Hu(n){return E8(n)}function E8(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=ad(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?yc(n.bytesValue).toBase64():"referenceValue"in n?St.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",o=!0;for(const c of r.values||[])o?o=!1:i+=",",i+=E8(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let o="{",c=!0;for(const h of i)c?c=!1:o+=",",o+=`${h}:${E8(r.fields[h])}`;return o+"}"}(n.mapValue):Rt();var e}function ld(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function T8(n){return!!n&&"integerValue"in n}function s4(n){return!!n&&"arrayValue"in n}function R7(n){return!!n&&"nullValue"in n}function qp(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function D8(n){return!!n&&"mapValue"in n}function ud(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Fu(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=ud(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ud(n.arrayValue.values[t]);return e}return Object.assign({},n)}function bc(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Bu(n){return"nullValue"in n?Gp:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?ld(_c.empty(),St.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Rt()}function N7(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?ld(_c.empty(),St.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Lu:Rt()}function M8(n,e){const t=Vu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function Wp(n,e){const t=Vu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Zi{constructor(e){this.value=e}static empty(){return new Zi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!D8(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ud(t)}setAll(e){let t=Rr.emptyPath(),r={},i=[];e.forEach((c,h)=>{if(!t.isImmediateParentOf(h)){const g=this.getFieldsMap(t);this.applyChanges(g,r,i),r={},i=[],t=h.popLast()}c?r[h.lastSegment()]=ud(c):i.push(h.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());D8(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return wc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];D8(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Fu(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Zi(ud(this.value))}}function gw(n){const e=[];return Fu(n.fields,(t,r)=>{const i=new Rr([t]);if(D8(r)){const o=gw(r.mapValue).fields;if(0===o.length)e.push(i);else for(const c of o)e.push(i.child(c))}else e.push(i)}),new Ds(e)}class _r{constructor(e,t,r,i,o,c,h){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(e){return new _r(e,0,Wt.min(),Wt.min(),Wt.min(),Zi.empty(),0)}static newFoundDocument(e,t,r,i){return new _r(e,1,t,Wt.min(),r,i,0)}static newNoDocument(e,t){return new _r(e,2,t,Wt.min(),Wt.min(),Zi.empty(),0)}static newUnknownDocument(e,t){return new _r(e,3,t,Wt.min(),Wt.min(),Zi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Wt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Wt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof _r&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _r(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Yu{constructor(e,t){this.position=e,this.inclusive=t}}function F7(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],c=n.position[i];if(r=o.field.isKeyField()?St.comparator(St.fromName(c.referenceValue),t.key):Vu(c,t.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function L7(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!wc(n.position[t],e.position[t]))return!1;return!0}class dd{constructor(e,t="asc"){this.field=e,this.dir=t}}function DT(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Kp{}class Rn extends Kp{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new A8(e,t,r):"array-contains"===t?new MT(e,r):"in"===t?new yw(e,r):"not-in"===t?new xT(e,r):"array-contains-any"===t?new B7(e,r):new Rn(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new V7(e,r):new vw(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Vu(t,this.value)):null!==t&&Si(this.value)===Si(t)&&this.matchesComparison(Vu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Rt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class qn extends Kp{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new qn(e,t)}matches(e){return u0(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function u0(n){return"and"===n.op}function d0(n){return"or"===n.op}function x8(n){return Zp(n)&&u0(n)}function Zp(n){for(const e of n.filters)if(e instanceof qn)return!1;return!0}function I8(n){if(n instanceof Rn)return n.field.canonicalString()+n.op.toString()+Hu(n.value);if(x8(n))return n.filters.map(e=>I8(e)).join(",");{const e=n.filters.map(t=>I8(t)).join(",");return`${n.op}(${e})`}}function Qp(n,e){return n instanceof Rn?(t=n,(r=e)instanceof Rn&&t.op===r.op&&t.field.isEqual(r.field)&&wc(t.value,r.value)):n instanceof qn?function(t,r){return r instanceof qn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,o,c)=>i&&Qp(o,r.filters[c]),!0)}(n,e):void Rt();var t,r}function Jp(n,e){const t=n.filters.concat(e);return qn.create(t,n.op)}function h0(n){return n instanceof Rn?`${(e=n).field.canonicalString()} ${e.op} ${Hu(e.value)}`:n instanceof qn?function(e){return e.op.toString()+" {"+e.getFilters().map(h0).join(" ,")+"}"}(n):"Filter";var e}class A8 extends Rn{constructor(e,t,r){super(e,t,r),this.key=St.fromName(r.referenceValue)}matches(e){const t=St.comparator(e.key,this.key);return this.matchesComparison(t)}}class V7 extends Rn{constructor(e,t){super(e,"in",t),this.keys=H7(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class vw extends Rn{constructor(e,t){super(e,"not-in",t),this.keys=H7(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function H7(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>St.fromName(r.referenceValue))}class MT extends Rn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return s4(t)&&cd(t.arrayValue,this.value)}}class yw extends Rn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&cd(this.value.arrayValue,t)}}class xT extends Rn{constructor(e,t){super(e,"not-in",t)}matches(e){if(cd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!cd(this.value.arrayValue,t)}}class B7 extends Rn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!s4(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>cd(this.value.arrayValue,r))}}class _w{constructor(e,t=null,r=[],i=[],o=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=c,this.endAt=h,this.dt=null}}function Xp(n,e=null,t=[],r=[],i=null,o=null,c=null){return new _w(n,e,t,r,i,o,c)}function hd(n){const e=Et(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>I8(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),o4(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Hu(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Hu(r)).join(",")),e.dt=t}return e.dt}function k8(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!DT(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Qp(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!L7(n.startAt,e.startAt)&&L7(n.endAt,e.endAt)}function em(n){return St.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function tm(n,e){return n.filters.filter(t=>t instanceof Rn&&t.field.isEqual(e))}function ww(n,e,t){let r=Gp,i=!0;for(const o of tm(n,e)){let c=Gp,h=!0;switch(o.op){case"<":case"<=":c=Bu(o.value);break;case"==":case"in":case">=":c=o.value;break;case">":c=o.value,h=!1;break;case"!=":case"not-in":c=Gp}M8({value:r,inclusive:i},{value:c,inclusive:h})<0&&(r=c,i=h)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const c=t.position[o];M8({value:r,inclusive:i},{value:c,inclusive:t.inclusive})<0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}function bw(n,e,t){let r=Lu,i=!0;for(const o of tm(n,e)){let c=Lu,h=!0;switch(o.op){case">=":case">":c=N7(o.value),h=!1;break;case"==":case"in":case"<=":c=o.value;break;case"<":c=o.value,h=!1;break;case"!=":case"not-in":c=Lu}Wp({value:r,inclusive:i},{value:c,inclusive:h})>0&&(r=c,i=h)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const c=t.position[o];Wp({value:r,inclusive:i},{value:c,inclusive:t.inclusive})>0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}class Tl{constructor(e,t=null,r=[],i=[],o=null,c="F",h=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=g,this.wt=null,this._t=null}}function f0(n,e,t,r,i,o,c,h){return new Tl(n,e,t,r,i,o,c,h)}function a4(n){return new Tl(n)}function Y7(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function z8(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Cc(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function P8(n){return null!==n.collectionGroup}function Dl(n){const e=Et(n);if(null===e.wt){e.wt=[];const t=Cc(e),r=z8(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new dd(t)),e.wt.push(new dd(Rr.keyField(),"asc"));else{let i=!1;for(const o of e.explicitOrderBy)e.wt.push(o),o.field.isKeyField()&&(i=!0);if(!i){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new dd(Rr.keyField(),o))}}}return e.wt}function Qi(n){const e=Et(n);if(!e._t)if("F"===e.limitType)e._t=Xp(e.path,e.collectionGroup,Dl(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const o of Dl(e))t.push(new dd(o.field,"desc"===o.dir?"asc":"desc"));const r=e.endAt?new Yu(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Yu(e.startAt.position,e.startAt.inclusive):null;e._t=Xp(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function nm(n,e){e.getFirstInequalityField(),Cc(n);const t=n.filters.concat([e]);return new Tl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function c4(n,e,t){return new Tl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function fd(n,e){return k8(Qi(n),Qi(e))&&n.limitType===e.limitType}function p0(n){return`${hd(Qi(n))}|lt:${n.limitType}`}function U7(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>h0(r)).join(", ")}]`),o4(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Hu(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Hu(r)).join(",")),`Target(${t})`}(Qi(n))}; limitType=${n.limitType})`}function O8(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):St.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of Dl(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,o,c){const h=F7(i,o,c);return i.inclusive?h<=0:h<0}(t.startAt,Dl(t),r)||t.endAt&&!function(i,o,c){const h=F7(i,o,c);return i.inclusive?h>=0:h>0}(t.endAt,Dl(t),r)));var t,r}function Cw(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Sw(n){return(e,t)=>{let r=!1;for(const i of Dl(n)){const o=j7(i,e,t);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function j7(n,e,t){const r=n.field.isKeyField()?St.comparator(e.key,t.key):function(i,o,c){const h=o.data.field(i),g=c.data.field(i);return null!==h&&null!==g?Vu(h,g):Rt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Rt()}}class Ml{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Fu(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return dw(this.inner)}size(){return this.innerSize}}const Ew=new dr(St.comparator);function Jo(){return Ew}const $7=new dr(St.comparator);function l4(...n){let e=$7;for(const t of n)e=e.insert(t.key,t);return e}function rm(n){let e=$7;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Oa(){return m0()}function G7(){return m0()}function m0(){return new Ml(n=>n.toString(),(n,e)=>n.isEqual(e))}const q7=new dr(St.comparator),im=new Xn(St.comparator);function Dn(...n){let e=im;for(const t of n)e=e.add(t);return e}const W7=new Xn(mn);function g0(){return W7}function K7(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:r0(e)?"-0":e}}function Z7(n){return{integerValue:""+n}}function Tw(n,e){return Bp(e)?Z7(e):K7(n,e)}class om{constructor(){this._=void 0}}function Dw(n,e,t){return n instanceof v0?function(r,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&c0(i)&&(i=$p(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(t,e):n instanceof u4?xw(n,e):n instanceof d4?J7(n,e):function(r,i){const o=Q7(r,i),c=Iw(o)+Iw(r.gt);return T8(o)&&T8(r.gt)?Z7(c):K7(r.serializer,c)}(n,e)}function Mw(n,e,t){return n instanceof u4?xw(n,e):n instanceof d4?J7(n,e):t}function Q7(n,e){return n instanceof y0?T8(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class v0 extends om{}class u4 extends om{constructor(e){super(),this.elements=e}}function xw(n,e){const t=Aw(e);for(const r of n.elements)t.some(i=>wc(i,r))||t.push(r);return{arrayValue:{values:t}}}class d4 extends om{constructor(e){super(),this.elements=e}}function J7(n,e){let t=Aw(e);for(const r of n.elements)t=t.filter(i=>!wc(i,r));return{arrayValue:{values:t}}}class y0 extends om{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Iw(n){return qr(n.integerValue||n.doubleValue)}function Aw(n){return s4(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class R8{constructor(e,t){this.field=e,this.transform=t}}class AT{constructor(e,t){this.version=e,this.transformResults=t}}class s{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new s}static exists(e){return new s(void 0,e)}static updateTime(e){return new s(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function a(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class u{}function d(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Pe(n.key,s.none()):new D(n.key,n.data,s.none());{const t=n.data,r=Zi.empty();let i=new Xn(Rr.comparator);for(let o of e.fields)if(!i.has(o)){let c=t.field(o);null===c&&o.length>1&&(o=o.popLast(),c=t.field(o)),null===c?r.delete(o):r.set(o,c),i=i.add(o)}return new O(n.key,r,new Ds(i.toArray()),s.none())}}function f(n,e,t){n instanceof D?function(r,i,o){const c=r.value.clone(),h=oe(r.fieldTransforms,i,o.transformResults);c.setAll(h),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,e,t):n instanceof O?function(r,i,o){if(!a(r.precondition,i))return void i.convertToUnknownDocument(o.version);const c=oe(r.fieldTransforms,i,o.transformResults),h=i.data;h.setAll($(r)),h.setAll(c),i.convertToFoundDocument(o.version,h).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function v(n,e,t,r){return n instanceof D?function(i,o,c,h){if(!a(i.precondition,o))return c;const g=i.value.clone(),_=be(i.fieldTransforms,h,o);return g.setAll(_),o.convertToFoundDocument(o.version,g).setHasLocalMutations(),null}(n,e,t,r):n instanceof O?function(i,o,c,h){if(!a(i.precondition,o))return c;const g=be(i.fieldTransforms,h,o),_=o.data;return _.setAll($(i)),_.setAll(g),o.convertToFoundDocument(o.version,_).setHasLocalMutations(),null===c?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(E=>E.field))}(n,e,t,r):(c=t,a(n.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c);var o,c}function w(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=Q7(r.transform,i||null);null!=o&&(null===t&&(t=Zi.empty()),t.set(r.field,o))}return t||null}function S(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&id(t,r,(i,o)=>function IT(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof u4&&r instanceof u4||t instanceof d4&&r instanceof d4?id(t.elements,r.elements,wc):t instanceof y0&&r instanceof y0?wc(t.gt,r.gt):t instanceof v0&&r instanceof v0);var t,r}(i,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class D extends u{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class O extends u{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function $(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function oe(n,e,t){const r=new Map;Gt(n.length===t.length);for(let i=0;i<t.length;i++){const o=n[i],c=o.transform,h=e.data.field(o.field);r.set(o.field,Mw(c,h,t[i]))}return r}function be(n,e,t){const r=new Map;for(const i of n){const o=i.transform,c=t.data.field(i.field);r.set(i.field,Dw(o,c,e))}return r}class Pe extends u{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Qe extends u{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class mt{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&f(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=v(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=v(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=G7();return this.mutations.forEach(i=>{const o=e.get(i.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=t.has(i.key)?null:h;const g=d(c,h);null!==g&&r.set(i.key,g),c.isValidDocument()||c.convertToNoDocument(Wt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Dn())}isEqual(e){return this.batchId===e.batchId&&id(this.mutations,e.mutations,(t,r)=>S(t,r))&&id(this.baseMutations,e.baseMutations,(t,r)=>S(t,r))}}class Tt{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Gt(e.mutations.length===r.length);let i=q7;const o=e.mutations;for(let c=0;c<o.length;c++)i=i.insert(o[c].key,r[c].version);return new Tt(e,t,r,i)}}class Lt{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class at{constructor(e,t){this.count=e,this.unchangedNames=t}}var Bt,Zt;function Wr(n){switch(n){default:return Rt();case Ye.CANCELLED:case Ye.UNKNOWN:case Ye.DEADLINE_EXCEEDED:case Ye.RESOURCE_EXHAUSTED:case Ye.INTERNAL:case Ye.UNAVAILABLE:case Ye.UNAUTHENTICATED:return!1;case Ye.INVALID_ARGUMENT:case Ye.NOT_FOUND:case Ye.ALREADY_EXISTS:case Ye.PERMISSION_DENIED:case Ye.FAILED_PRECONDITION:case Ye.ABORTED:case Ye.OUT_OF_RANGE:case Ye.UNIMPLEMENTED:case Ye.DATA_LOSS:return!0}}function kw(n){if(void 0===n)return Or("GRPC error has no .code"),Ye.UNKNOWN;switch(n){case Bt.OK:return Ye.OK;case Bt.CANCELLED:return Ye.CANCELLED;case Bt.UNKNOWN:return Ye.UNKNOWN;case Bt.DEADLINE_EXCEEDED:return Ye.DEADLINE_EXCEEDED;case Bt.RESOURCE_EXHAUSTED:return Ye.RESOURCE_EXHAUSTED;case Bt.INTERNAL:return Ye.INTERNAL;case Bt.UNAVAILABLE:return Ye.UNAVAILABLE;case Bt.UNAUTHENTICATED:return Ye.UNAUTHENTICATED;case Bt.INVALID_ARGUMENT:return Ye.INVALID_ARGUMENT;case Bt.NOT_FOUND:return Ye.NOT_FOUND;case Bt.ALREADY_EXISTS:return Ye.ALREADY_EXISTS;case Bt.PERMISSION_DENIED:return Ye.PERMISSION_DENIED;case Bt.FAILED_PRECONDITION:return Ye.FAILED_PRECONDITION;case Bt.ABORTED:return Ye.ABORTED;case Bt.OUT_OF_RANGE:return Ye.OUT_OF_RANGE;case Bt.UNIMPLEMENTED:return Ye.UNIMPLEMENTED;case Bt.DATA_LOSS:return Ye.DATA_LOSS;default:return Rt()}}(Zt=Bt||(Bt={}))[Zt.OK=0]="OK",Zt[Zt.CANCELLED=1]="CANCELLED",Zt[Zt.UNKNOWN=2]="UNKNOWN",Zt[Zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Zt[Zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Zt[Zt.NOT_FOUND=5]="NOT_FOUND",Zt[Zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Zt[Zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Zt[Zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Zt[Zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Zt[Zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Zt[Zt.ABORTED=10]="ABORTED",Zt[Zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Zt[Zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Zt[Zt.INTERNAL=13]="INTERNAL",Zt[Zt.UNAVAILABLE=14]="UNAVAILABLE",Zt[Zt.DATA_LOSS=15]="DATA_LOSS";class zw{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return X7}static getOrCreateInstance(){return null===X7&&(X7=new zw),X7}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let X7=null;function kT(){return new TextEncoder}const yP=new n4([4294967295,4294967295],0);function zT(n){const e=kT().encode(n),t=new J_;return t.update(e),new Uint8Array(t.digest())}function PT(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new n4([t,r],0),new n4([i,o],0)]}class Pw{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new sm(`Invalid padding: ${t}`);if(r<0)throw new sm(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new sm(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new sm(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=n4.fromNumber(this.It)}Et(e,t,r){let i=e.add(t.multiply(n4.fromNumber(r)));return 1===i.compare(yP)&&(i=new n4([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=zT(e),[r,i]=PT(t);for(let o=0;o<this.hashCount;o++){const c=this.Et(r,i,o);if(!this.At(c))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new Pw(o,i,t);return r.forEach(h=>c.insert(h)),c}insert(e){if(0===this.It)return;const t=zT(e),[r,i]=PT(t);for(let o=0;o<this.hashCount;o++){const c=this.Et(r,i,o);this.Rt(c)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class sm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class am{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,cm.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new am(Wt.min(),i,new dr(mn),Jo(),Dn())}}class cm{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new cm(r,t,Dn(),Dn(),Dn())}}class ev{constructor(e,t,r,i){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=i}}class OT{constructor(e,t){this.targetId=e,this.Vt=t}}class RT{constructor(e,t,r=Ci.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class NT{constructor(){this.St=0,this.Dt=LT(),this.Ct=Ci.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Dn(),t=Dn(),r=Dn();return this.Dt.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Rt()}}),new cm(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=LT()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class _P{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Jo(),this.zt=FT(),this.Wt=new dr(mn)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:Rt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,i)=>{this.te(i)&&t(i)})}ne(e){var t;const r=e.targetId,i=e.Vt.count,o=this.se(r);if(o){const c=o.target;if(em(c))if(0===i){const h=new St(c.path);this.Yt(r,h,_r.newNoDocument(h,Wt.min()))}else Gt(1===i);else{const h=this.ie(r);if(h!==i){const g=this.re(e,h);0!==g&&(this.ee(r),this.Wt=this.Wt.insert(r,2===g?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=zw.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(_,E,x){var K,ne,ue,De,Ie,tt;const pt={localCacheCount:E,existenceFilterCount:x.count},ft=x.unchangedNames;return ft&&(pt.bloomFilter={applied:0===_,hashCount:null!==(K=ft?.hashCount)&&void 0!==K?K:0,bitmapLength:null!==(De=null===(ue=null===(ne=ft?.bits)||void 0===ne?void 0:ne.bitmap)||void 0===ue?void 0:ue.length)&&void 0!==De?De:0,padding:null!==(tt=null===(Ie=ft?.bits)||void 0===Ie?void 0:Ie.padding)&&void 0!==tt?tt:0}),pt}(g,h,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:o="",padding:c=0},hashCount:h=0}=r;let g,_;try{g=yc(o).toUint8Array()}catch(E){if(E instanceof hw)return Ts("Decoding the base64 bloom filter in existence filter failed ("+E.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw E}try{_=new Pw(g,c,h)}catch(E){return Ts(E instanceof sm?"BloomFilter error: ":"Applying bloom filter failed: ",E),1}return 0===_.It?1:i!==t-this.oe(e.targetId,_)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(o=>{const c=this.Gt.ue(),h=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;t.vt(h)||(this.Yt(e,o,null),i++)}),i}ce(e){const t=new Map;this.Qt.forEach((o,c)=>{const h=this.se(c);if(h){if(o.current&&em(h.target)){const g=new St(h.target.path);null!==this.jt.get(g)||this.ae(c,g)||this.Yt(c,g,_r.newNoDocument(g,e))}o.Mt&&(t.set(c,o.Ot()),o.Ft())}});let r=Dn();this.zt.forEach((o,c)=>{let h=!0;c.forEachWhile(g=>{const _=this.se(g);return!_||"TargetPurposeLimboResolution"===_.purpose||(h=!1,!1)}),h&&(r=r.add(o))}),this.jt.forEach((o,c)=>c.setReadTime(e));const i=new am(e,t,this.Wt,this.jt,r);return this.jt=Jo(),this.zt=FT(),this.Wt=new dr(mn),i}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new NT,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Xn(mn),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||dt("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new NT),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function FT(){return new dr(St.comparator)}function LT(){return new dr(St.comparator)}const wP={asc:"ASCENDING",desc:"DESCENDING"},bP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},CP={and:"AND",or:"OR"};class SP{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ow(n,e){return n.useProto3Json||o4(e)?e:{value:e}}function N8(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function VT(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function EP(n,e){return N8(n,e.toTimestamp())}function Ei(n){return Gt(!!n),Wt.fromTimestamp(function(e){const t=ad(e);return new Kn(t.seconds,t.nanos)}(n))}function Rw(n,e){return(t=n,new Bn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function HT(n){const e=Bn.fromString(n);return Gt(KT(e)),e}function lm(n,e){return Rw(n.databaseId,e.path)}function Uu(n,e){const t=HT(e);if(t.get(1)!==n.databaseId.projectId)throw new nt(Ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new nt(Ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new St(YT(t))}function Nw(n,e){return Rw(n.databaseId,e)}function BT(n){const e=HT(n);return 4===e.length?Bn.emptyPath():YT(e)}function um(n){return new Bn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function YT(n){return Gt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function UT(n,e,t){return{name:lm(n,e),fields:t.value.mapValue.fields}}function jT(n,e,t){const r=Uu(n,e.name),i=Ei(e.updateTime),o=e.createTime?Ei(e.createTime):Wt.min(),c=new Zi({mapValue:{fields:e.fields}}),h=_r.newFoundDocument(r,i,o,c);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function dm(n,e){let t;if(e instanceof D)t={update:UT(n,e.key,e.value)};else if(e instanceof Pe)t={delete:lm(n,e.key)};else if(e instanceof O)t={update:UT(n,e.key,e.data),updateMask:zP(e.fieldMask)};else{if(!(e instanceof Qe))return Rt();t={verify:lm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const c=o.transform;if(c instanceof v0)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof u4)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof d4)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof y0)return{fieldPath:o.field.canonicalString(),increment:c.gt};throw Rt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:EP(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:Rt()),t;var i}function Fw(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?s.updateTime(Ei(i.updateTime)):void 0!==i.exists?s.exists(i.exists):s.none():s.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,c){let h=null;"setToServerValue"in c?(Gt("REQUEST_TIME"===c.setToServerValue),h=new v0):"appendMissingElements"in c?h=new u4(c.appendMissingElements.values||[]):"removeAllFromArray"in c?h=new d4(c.removeAllFromArray.values||[]):"increment"in c?h=new y0(o,c.increment):Rt();const g=Rr.fromServerFormat(c.fieldPath);return new R8(g,h)}(n,i)):[];var i;if(e.update){const i=Uu(n,e.update.name),o=new Zi({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new Ds((e.updateMask.fieldPaths||[]).map(_=>Rr.fromServerFormat(_)));return new O(i,o,c,t,r)}return new D(i,o,t,r)}if(e.delete){const i=Uu(n,e.delete);return new Pe(i,t)}if(e.verify){const i=Uu(n,e.verify);return new Qe(i,t)}return Rt()}function $T(n,e){return{documents:[Nw(n,e.path)]}}function Lw(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Nw(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Nw(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(g){if(0!==g.length)return WT(qn.create(g,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const o=function(g){if(0!==g.length)return g.map(_=>{return{field:h4((E=_).field),direction:IP(E.dir)};var E})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const c=Ow(n,e.limit);var h,g;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(h=e.startAt).inclusive,values:h.position}),e.endAt&&(t.structuredQuery.endAt={before:!(g=e.endAt).inclusive,values:g.position}),t}function GT(n){let e=BT(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Gt(1===r);const E=t.from[0];E.allDescendants?i=E.collectionId:e=e.child(E.collectionId)}let o=[];t.where&&(o=function(E){const x=qT(E);return x instanceof qn&&x8(x)?x.getFilters():[x]}(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(E=>{return new dd(F8((x=E).field),function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction));var x}));let h=null;t.limit&&(h=function(E){let x;return x="object"==typeof E?E.value:E,o4(x)?null:x}(t.limit));let g=null;var E;t.startAt&&(g=new Yu((E=t.startAt).values||[],!!E.before));let _=null;return t.endAt&&(_=function(E){return new Yu(E.values||[],!E.before)}(t.endAt)),f0(e,i,c,o,h,"F",g,_)}function qT(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=F8(e.unaryFilter.field);return Rn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=F8(e.unaryFilter.field);return Rn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=F8(e.unaryFilter.field);return Rn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=F8(e.unaryFilter.field);return Rn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Rt()}}(n):void 0!==n.fieldFilter?Rn.create(F8((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Rt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return qn.create(e.compositeFilter.filters.map(t=>qT(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Rt()}}(e.compositeFilter.op))}(n):Rt();var e}function IP(n){return wP[n]}function AP(n){return bP[n]}function kP(n){return CP[n]}function h4(n){return{fieldPath:n.canonicalString()}}function F8(n){return Rr.fromServerFormat(n.fieldPath)}function WT(n){return n instanceof Rn?function(e){if("=="===e.op){if(qp(e.value))return{unaryFilter:{field:h4(e.field),op:"IS_NAN"}};if(R7(e.value))return{unaryFilter:{field:h4(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(qp(e.value))return{unaryFilter:{field:h4(e.field),op:"IS_NOT_NAN"}};if(R7(e.value))return{unaryFilter:{field:h4(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:h4(e.field),op:AP(e.op),value:e.value}}}(n):n instanceof qn?function(e){const t=e.getFilters().map(r=>WT(r));return 1===t.length?t[0]:{compositeFilter:{op:kP(e.op),filters:t}}}(n):Rt()}function zP(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function KT(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class pd{constructor(e,t,r,i,o=Wt.min(),c=Wt.min(),h=Ci.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=g}withSequenceNumber(e){return new pd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new pd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new pd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new pd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class ZT{constructor(e){this.fe=e}}function QT(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:tv(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:lm(i=n.fe,(o=e).key),fields:o.data.value.mapValue.fields,updateTime:N8(i,o.version.toTimestamp()),createTime:N8(i,o.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:_0(e.version)};else{if(!e.isUnknownDocument())return Rt();r.unknownDocument={path:t.path.toArray(),version:_0(e.version)}}var i,o;return r}function tv(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function _0(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function w0(n){const e=new Kn(n.seconds,n.nanoseconds);return Wt.fromTimestamp(e)}function b0(n,e){const t=(e.baseMutations||[]).map(o=>Fw(n.fe,o));for(let o=0;o<e.mutations.length-1;++o)o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(e.mutations[o].updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o);const r=e.mutations.map(o=>Fw(n.fe,o)),i=Kn.fromMillis(e.localWriteTimeMs);return new mt(e.batchId,i,t,r)}function hm(n){const e=w0(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?w0(n.lastLimboFreeSnapshotVersion):Wt.min();let r;var i;return void 0!==n.query.documents?(Gt(1===(i=n.query).documents.length),r=Qi(a4(BT(i.documents[0])))):r=Qi(GT(n.query)),new pd(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Ci.fromBase64String(n.resumeToken))}function JT(n,e){const t=_0(e.snapshotVersion),r=_0(e.lastLimboFreeSnapshotVersion);let i;i=em(e.target)?$T(n.fe,e.target):Lw(n.fe,e.target);const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:hd(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Vw(n){const e=GT({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?c4(e,e.limit,"L"):e}function Hw(n,e){return new Lt(e.largestBatchId,Fw(n.fe,e.overlayMutation))}function XT(n,e){const t=e.path.lastSegment();return[n,Wi(e.path.popLast()),t]}function eD(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:_0(r.readTime),documentKey:Wi(r.documentKey.path),largestBatchId:r.largestBatchId}}class OP{getBundleMetadata(e,t){return tD(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:w0(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return tD(e).put({bundleId:(r=t).id,createTime:_0(Ei(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return nD(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:Vw(i.bundledQuery),readTime:w0(i.readTime)};var i})}saveNamedQuery(e,t){return nD(e).put({name:(r=t).name,readTime:_0(Ei(r.readTime)),bundledQuery:r.bundledQuery});var r}}function tD(n){return di(n,"bundles")}function nD(n){return di(n,"namedQueries")}class nv{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new nv(e,t.uid||"")}getOverlay(e,t){return fm(e).get(XT(this.userId,t)).next(r=>r?Hw(this.serializer,r):null)}getOverlays(e,t){const r=Oa();return Fe.forEach(t,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((o,c)=>{const h=new Lt(t,c);i.push(this.we(e,h))}),Fe.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(c=>i.add(Wi(c.getCollectionPath())));const o=[];return i.forEach(c=>{const h=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);o.push(fm(e).J("collectionPathOverlayIndex",h))}),Fe.waitFor(o)}getOverlaysForCollection(e,t,r){const i=Oa(),o=Wi(t),c=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return fm(e).j("collectionPathOverlayIndex",c).next(h=>{for(const g of h){const _=Hw(this.serializer,g);i.set(_.getKey(),_)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const o=Oa();let c;const h=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return fm(e).X({index:"collectionGroupOverlayIndex",range:h},(g,_,E)=>{const x=Hw(this.serializer,_);o.size()<i||x.largestBatchId===c?(o.set(x.getKey(),x),c=x.largestBatchId):E.done()}).next(()=>o)}we(e,t){return fm(e).put(function(r,i,o){const[c,h,g]=XT(i,o.mutation.key);return{userId:i,collectionPath:h,documentId:g,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:dm(r.fe,o.mutation)}}(this.serializer,this.userId,t))}}function fm(n){return di(n,"documentOverlays")}class C0{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(qr(e.integerValue));else if("doubleValue"in e){const r=qr(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),r0(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(yc(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?bc(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Rt()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),St.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function RP(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function rD(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const o=RP(255&t[i]);if(r+=o,8!==o)break}return r}(n);return Math.ceil(e/8)}C0.Ve=new C0;class NP{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.De(r.value),r=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ne(r.value),r=t.next();this.ke()}Me(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const i=t.codePointAt(0);this.De(240|i>>>18),this.De(128|63&i>>>12),this.De(128|63&i>>>6),this.De(128|63&i)}}this.Ce()}$e(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const i=t.codePointAt(0);this.Ne(240|i>>>18),this.Ne(128|63&i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i)}}this.ke()}Oe(e){const t=this.Fe(e),r=rD(t);this.Be(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Le(e){const t=this.Fe(e),r=rD(t);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(i){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,i,!1),new Uint8Array(o.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class FP{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class LP{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class pm{constructor(){this.je=new NP,this.ze=new FP(this.je),this.We=new LP(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class S0{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new S0(this.indexId,this.documentKey,this.arrayValue,r)}}function f4(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=iD(n.arrayValue,e.arrayValue),0!==t?t:(t=iD(n.directionalValue,e.directionalValue),0!==t?t:St.comparator(n.documentKey,e.documentKey)))}function iD(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class VP{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const r=t;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(e){Gt(e.collectionGroup===this.collectionId);const t=Vp(e);if(void 0!==t&&!this.en(t))return!1;const r=El(e);let i=new Set,o=0,c=0;for(;o<r.length&&this.en(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(void 0!==this.Ze){if(!i.has(this.Ze.field.canonicalString())){const h=r[o];if(!this.nn(this.Ze,h)||!this.sn(this.Ye[c++],h))return!1}++o}for(;o<r.length;++o)if(c>=this.Ye.length||!this.sn(this.Ye[c++],r[o]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function oD(n){var e,t;if(Gt(n instanceof Rn||n instanceof qn),n instanceof Rn){if(n instanceof yw){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(o=>Rn.create(n.field,"==",o)))||[];return qn.create(i,"or")}return n}const r=n.filters.map(i=>oD(i));return qn.create(r,n.op)}function HP(n){if(0===n.getFilters().length)return[];const e=Uw(oD(n));return Gt(sD(e)),Bw(e)||Yw(e)?[e]:e.getFilters()}function Bw(n){return n instanceof Rn}function Yw(n){return n instanceof qn&&x8(n)}function sD(n){return Bw(n)||Yw(n)||function(e){if(e instanceof qn&&d0(e)){for(const t of e.getFilters())if(!Bw(t)&&!Yw(t))return!1;return!0}return!1}(n)}function Uw(n){if(Gt(n instanceof Rn||n instanceof qn),n instanceof Rn)return n;if(1===n.filters.length)return Uw(n.filters[0]);const e=n.filters.map(r=>Uw(r));let t=qn.create(e,n.op);return t=rv(t),sD(t)?t:(Gt(t instanceof qn),Gt(u0(t)),Gt(t.filters.length>1),t.filters.reduce((r,i)=>jw(r,i)))}function jw(n,e){let t;return Gt(n instanceof Rn||n instanceof qn),Gt(e instanceof Rn||e instanceof qn),t=n instanceof Rn?e instanceof Rn?qn.create([n,e],"and"):aD(n,e):e instanceof Rn?aD(e,n):function(r,i){if(Gt(r.filters.length>0&&i.filters.length>0),u0(r)&&u0(i))return Jp(r,i.getFilters());const o=d0(r)?r:i,c=d0(r)?i:r,h=o.filters.map(g=>jw(g,c));return qn.create(h,"or")}(n,e),rv(t)}function aD(n,e){if(u0(e))return Jp(e,n.getFilters());{const t=e.filters.map(r=>jw(n,r));return qn.create(t,"or")}}function rv(n){if(Gt(n instanceof Rn||n instanceof qn),n instanceof Rn)return n;const e=n.getFilters();if(1===e.length)return rv(e[0]);if(Zp(n))return n;const t=e.map(i=>rv(i)),r=[];return t.forEach(i=>{i instanceof Rn?r.push(i):i instanceof qn&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:qn.create(r,n.op)}class BP{constructor(){this.rn=new $w}addToCollectionParentIndex(e,t){return this.rn.add(t),Fe.resolve()}getCollectionParents(e,t){return Fe.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Fe.resolve()}deleteFieldIndex(e,t){return Fe.resolve()}getDocumentsMatchingTarget(e,t){return Fe.resolve(null)}getIndexType(e,t){return Fe.resolve(0)}getFieldIndexes(e,t){return Fe.resolve([])}getNextCollectionGroupToUpdate(e){return Fe.resolve(null)}getMinOffset(e,t){return Fe.resolve(Zo.min())}getMinOffsetFromCollectionGroup(e,t){return Fe.resolve(Zo.min())}updateCollectionGroup(e,t,r){return Fe.resolve()}updateIndexEntries(e,t){return Fe.resolve()}}class $w{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Xn(Bn.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Xn(Bn.comparator)).toArray()}}const iv=new Uint8Array(0);class YP{constructor(e,t){this.user=e,this.databaseId=t,this.on=new $w,this.un=new Ml(r=>hd(r),(r,i)=>k8(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const o={collectionId:r,parent:Wi(i)};return cD(e).put(o)}return Fe.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[lo(t),""],!1,!0);return cD(e).j(i).next(o=>{for(const c of o){if(c.collectionId!==t)break;r.push(Pa(c.parent))}return r})}addFieldIndex(e,t){const r=ov(e),i={indexId:(c=t).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var c;delete i.indexId;const o=r.add(i);if(t.indexState){const c=gm(e);return o.next(h=>{c.put(eD(h,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const r=ov(e),i=gm(e),o=mm(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=mm(e);let i=!0;const o=new Map;return Fe.forEach(this.cn(t),c=>this.an(e,c).next(h=>{i&&(i=!!h),o.set(c,h)})).next(()=>{if(i){let c=Dn();const h=[];return Fe.forEach(o,(g,_)=>{var E;dt("IndexedDbIndexManager",`Using index ${E=g,`id=${E.indexId}|cg=${E.collectionGroup}|f=${E.fields.map(ft=>`${ft.fieldPath}:${ft.kind}`).join(",")}`} to execute ${hd(t)}`);const x=function(ft,gt){const qt=Vp(gt);if(void 0===qt)return null;for(const Xt of tm(ft,qt.fieldPath))switch(Xt.op){case"array-contains-any":return Xt.value.arrayValue.values||[];case"array-contains":return[Xt.value]}return null}(_,g),K=function(ft,gt){const qt=new Map;for(const Xt of El(gt))for(const In of tm(ft,Xt.fieldPath))switch(In.op){case"==":case"in":qt.set(Xt.fieldPath.canonicalString(),In.value);break;case"not-in":case"!=":return qt.set(Xt.fieldPath.canonicalString(),In.value),Array.from(qt.values())}return null}(_,g),ne=function(ft,gt){const qt=[];let Xt=!0;for(const In of El(gt)){const br=0===In.kind?ww(ft,In.fieldPath,ft.startAt):bw(ft,In.fieldPath,ft.startAt);qt.push(br.value),Xt&&(Xt=br.inclusive)}return new Yu(qt,Xt)}(_,g),ue=function(ft,gt){const qt=[];let Xt=!0;for(const In of El(gt)){const br=0===In.kind?bw(ft,In.fieldPath,ft.endAt):ww(ft,In.fieldPath,ft.endAt);qt.push(br.value),Xt&&(Xt=br.inclusive)}return new Yu(qt,Xt)}(_,g),De=this.hn(g,_,ne),Ie=this.hn(g,_,ue),tt=this.ln(g,_,K),pt=this.fn(g.indexId,x,De,ne.inclusive,Ie,ue.inclusive,tt);return Fe.forEach(pt,ft=>r.H(ft,t.limit).next(gt=>{gt.forEach(qt=>{const Xt=St.fromSegments(qt.documentKey);c.has(Xt)||(c=c.add(Xt),h.push(Xt))})}))}).next(()=>h)}return Fe.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:HP(qn.create(e.filters,"and")).map(r=>Xp(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,r,i,o,c,h){const g=(null!=t?t.length:1)*Math.max(r.length,o.length),_=g/(null!=t?t.length:1),E=[];for(let x=0;x<g;++x){const K=t?this.dn(t[x/_]):iv,ne=this.wn(e,K,r[x%_],i),ue=this._n(e,K,o[x%_],c),De=h.map(Ie=>this.wn(e,K,Ie,!0));E.push(...this.createRange(ne,ue,De))}return E}wn(e,t,r,i){const o=new S0(e,St.empty(),t,r);return i?o:o.Je()}_n(e,t,r,i){const o=new S0(e,St.empty(),t,r);return i?o.Je():o}an(e,t){const r=new VP(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let c=null;for(const h of o)r.tn(h)&&(!c||h.fields.length>c.fields.length)&&(c=h);return c})}getIndexType(e,t){let r=2;const i=this.cn(t);return Fe.forEach(i,o=>this.an(e,o).next(c=>{c?0!==r&&c.fields.length<function(h){let g=new Xn(Rr.comparator),_=!1;for(const E of h.filters)for(const x of E.getFlattenedFilters())x.field.isKeyField()||("array-contains"===x.op||"array-contains-any"===x.op?_=!0:g=g.add(x.field));for(const E of h.orderBy)E.field.isKeyField()||(g=g.add(E.field));return g.size+(_?1:0)}(o)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}mn(e,t){const r=new pm;for(const i of El(e)){const o=t.data.field(i.fieldPath);if(null==o)return null;const c=r.He(i.kind);C0.Ve._e(o,c)}return r.Qe()}dn(e){const t=new pm;return C0.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const r=new pm;return C0.Ve._e(ld(this.databaseId,t),r.He(function(i){const o=El(i);return 0===o.length?0:o[o.length-1].kind}(e))),r.Qe()}ln(e,t,r){if(null===r)return[];let i=[];i.push(new pm);let o=0;for(const c of El(e)){const h=r[o++];for(const g of i)if(this.yn(t,c.fieldPath)&&s4(h))i=this.pn(i,c,h);else{const _=g.He(c.kind);C0.Ve._e(h,_)}}return this.In(i)}hn(e,t,r){return this.ln(e,t,r.position)}In(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Qe();return t}pn(e,t,r){const i=[...e],o=[];for(const c of r.arrayValue.values||[])for(const h of i){const g=new pm;g.seed(h.Qe()),C0.Ve._e(c,g.He(t.kind)),o.push(g)}return o}yn(e,t){return!!e.filters.find(r=>r instanceof Rn&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=ov(e),i=gm(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next(o=>{const c=[];return Fe.forEach(o,h=>i.get([h.indexId,this.uid]).next(g=>{c.push(function(_,E){const x=E?new e0(E.sequenceNumber,new Zo(w0(E.readTime),new St(Pa(E.documentKey)),E.largestBatchId)):e0.empty(),K=_.fields.map(([ne,ue])=>new X2(Rr.fromServerFormat(ne),ue));return new Nu(_.indexId,_.collectionGroup,K,x)}(h,g))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==o?o:mn(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=ov(e),o=gm(e);return this.Tn(e).next(c=>i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(h=>Fe.forEach(h,g=>o.put(eD(g.indexId,this.user,c,r)))))}updateIndexEntries(e,t){const r=new Map;return Fe.forEach(t,(i,o)=>{const c=r.get(i.collectionGroup);return(c?Fe.resolve(c):this.getFieldIndexes(e,i.collectionGroup)).next(h=>(r.set(i.collectionGroup,h),Fe.forEach(h,g=>this.En(e,i,g).next(_=>{const E=this.An(o,g);return _.isEqual(E)?Fe.resolve():this.vn(e,o,g,_,E)}))))})}Rn(e,t,r,i){return mm(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.gn(r,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,r,i){return mm(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.gn(r,t.key),t.key.path.toArray()])}En(e,t,r){const i=mm(e);let o=new Xn(f4);return i.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,t)])},(c,h)=>{o=o.add(new S0(r.indexId,t,h.arrayValue,h.directionalValue))}).next(()=>o)}An(e,t){let r=new Xn(f4);const i=this.mn(t,e);if(null==i)return r;const o=Vp(t);if(null!=o){const c=e.data.field(o.fieldPath);if(s4(c))for(const h of c.arrayValue.values||[])r=r.add(new S0(t.indexId,e.key,this.dn(h),i))}else r=r.add(new S0(t.indexId,e.key,iv,i));return r}vn(e,t,r,i,o){dt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(h,g,_,E,x){const K=h.getIterator(),ne=g.getIterator();let ue=a0(K),De=a0(ne);for(;ue||De;){let Ie=!1,tt=!1;if(ue&&De){const pt=_(ue,De);pt<0?tt=!0:pt>0&&(Ie=!0)}else null!=ue?tt=!0:Ie=!0;Ie?(E(De),De=a0(ne)):tt?(x(ue),ue=a0(K)):(ue=a0(K),De=a0(ne))}}(i,o,f4,h=>{c.push(this.Rn(e,t,r,h))},h=>{c.push(this.Pn(e,t,r,h))}),Fe.waitFor(c)}Tn(e){let t=1;return gm(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((c,h)=>f4(c,h)).filter((c,h,g)=>!h||0!==f4(c,g[h-1]));const i=[];i.push(e);for(const c of r){const h=f4(c,e),g=f4(c,t);if(0===h)i[0]=e.Je();else if(h>0&&g<0)i.push(c),i.push(c.Je());else if(g>0)break}i.push(t);const o=[];for(let c=0;c<i.length;c+=2){if(this.bn(i[c],i[c+1]))return[];o.push(IDBKeyRange.bound([i[c].indexId,this.uid,i[c].arrayValue,i[c].directionalValue,iv,[]],[i[c+1].indexId,this.uid,i[c+1].arrayValue,i[c+1].directionalValue,iv,[]]))}return o}bn(e,t){return f4(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(lD)}getMinOffset(e,t){return Fe.mapArray(this.cn(t),r=>this.an(e,r).next(i=>i||Rt())).next(lD)}}function cD(n){return di(n,"collectionParents")}function mm(n){return di(n,"indexEntries")}function ov(n){return di(n,"indexConfiguration")}function gm(n){return di(n,"indexState")}function lD(n){Gt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;_8(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Zo(e.readTime,e.documentKey,t)}const uD={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Xo{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Xo(e,Xo.DEFAULT_COLLECTION_PERCENTILE,Xo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function dD(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),o=[],c=IDBKeyRange.only(t.batchId);let h=0;const g=r.X({range:c},(E,x,K)=>(h++,K.delete()));o.push(g.next(()=>{Gt(1===h)}));const _=[];for(const E of t.mutations){const x=Yp(e,E.key.path,t.batchId);o.push(i.delete(x)),_.push(E.key)}return Fe.waitFor(o).next(()=>_)}function sv(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Rt();e=n.noDocument}return JSON.stringify(e).length}Xo.DEFAULT_COLLECTION_PERCENTILE=10,Xo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xo.DEFAULT=new Xo(41943040,Xo.DEFAULT_COLLECTION_PERCENTILE,Xo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xo.DISABLED=new Xo(-1,0,0);class av{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Vn={}}static de(e,t,r,i){Gt(""!==e.uid);const o=e.isAuthenticated()?e.uid:"";return new av(o,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return p4(e).X({index:"userMutationsIndex",range:r},(i,o,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const o=L8(e),c=p4(e);return c.add({}).next(h=>{Gt("number"==typeof h);const g=new mt(h,t,r,i),_=function(K,ne,ue){const De=ue.baseMutations.map(tt=>dm(K.fe,tt)),Ie=ue.mutations.map(tt=>dm(K.fe,tt));return{userId:ne,batchId:ue.batchId,localWriteTimeMs:ue.localWriteTime.toMillis(),baseMutations:De,mutations:Ie}}(this.serializer,this.userId,g),E=[];let x=new Xn((K,ne)=>mn(K.canonicalString(),ne.canonicalString()));for(const K of i){const ne=Yp(this.userId,K.key.path,h);x=x.add(K.key.path.popLast()),E.push(c.put(_)),E.push(o.put(ne,M7))}return x.forEach(K=>{E.push(this.indexManager.addToCollectionParentIndex(e,K))}),e.addOnCommittedListener(()=>{this.Vn[h]=g.keys()}),Fe.waitFor(E).next(()=>g)})}lookupMutationBatch(e,t){return p4(e).get(t).next(r=>r?(Gt(r.userId===this.userId),b0(this.serializer,r)):null)}Sn(e,t){return this.Vn[t]?Fe.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Vn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return p4(e).X({index:"userMutationsIndex",range:i},(c,h,g)=>{h.userId===this.userId&&(Gt(h.batchId>=r),o=b0(this.serializer,h)),g.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return p4(e).X({index:"userMutationsIndex",range:t,reverse:!0},(i,o,c)=>{r=o.batchId,c.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return p4(e).j("userMutationsIndex",t).next(r=>r.map(i=>b0(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=o0(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return L8(e).X({range:i},(c,h,g)=>{const[_,E,x]=c,K=Pa(E);if(_===this.userId&&t.path.isEqual(K))return p4(e).get(x).next(ne=>{if(!ne)throw Rt();Gt(ne.userId===this.userId),o.push(b0(this.serializer,ne))});g.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Xn(mn);const i=[];return t.forEach(o=>{const c=o0(this.userId,o.path),h=IDBKeyRange.lowerBound(c),g=L8(e).X({range:h},(_,E,x)=>{const[K,ne,ue]=_,De=Pa(ne);K===this.userId&&o.path.isEqual(De)?r=r.add(ue):x.done()});i.push(g)}),Fe.waitFor(i).next(()=>this.Dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,o=o0(this.userId,r),c=IDBKeyRange.lowerBound(o);let h=new Xn(mn);return L8(e).X({range:c},(g,_,E)=>{const[x,K,ne]=g,ue=Pa(K);x===this.userId&&r.isPrefixOf(ue)?ue.length===i&&(h=h.add(ne)):E.done()}).next(()=>this.Dn(e,h))}Dn(e,t){const r=[],i=[];return t.forEach(o=>{i.push(p4(e).get(o).next(c=>{if(null===c)throw Rt();Gt(c.userId===this.userId),r.push(b0(this.serializer,c))}))}),Fe.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return dD(e.ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),Fe.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Fe.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return L8(e).X({range:r},(o,c,h)=>{if(o[0]===this.userId){const g=Pa(o[1]);i.push(g)}else h.done()}).next(()=>{Gt(0===i.length)})})}containsKey(e,t){return hD(e,this.userId,t)}xn(e){return fD(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function hD(n,e,t){const r=o0(e,t.path),i=r[1],o=IDBKeyRange.lowerBound(r);let c=!1;return L8(n).X({range:o,Y:!0},(h,g,_)=>{const[E,x,K]=h;E===e&&x===i&&(c=!0),_.done()}).next(()=>c)}function p4(n){return di(n,"mutations")}function L8(n){return di(n,"documentMutations")}function fD(n){return di(n,"mutationQueues")}class E0{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new E0(0)}static Mn(){return new E0(-1)}}class UP{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const r=new E0(t.highestTargetId);return t.highestTargetId=r.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>Wt.fromTimestamp(new Kn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.$n(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.On(e,i)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(r=>(r.targetCount+=1,this.Bn(t,r),this.On(e,r))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>V8(e).delete(t.targetId)).next(()=>this.$n(e)).next(r=>(Gt(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,t,r){let i=0;const o=[];return V8(e).X((c,h)=>{const g=hm(h);g.sequenceNumber<=t&&null===r.get(g.targetId)&&(i++,o.push(this.removeTargetData(e,g)))}).next(()=>Fe.waitFor(o)).next(()=>i)}forEachTarget(e,t){return V8(e).X((r,i)=>{const o=hm(i);t(o)})}$n(e){return pD(e).get("targetGlobalKey").next(t=>(Gt(null!==t),t))}On(e,t){return pD(e).put("targetGlobalKey",t)}Fn(e,t){return V8(e).put(JT(this.serializer,t))}Bn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const r=hd(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return V8(e).X({range:i,index:"queryTargetsIndex"},(c,h,g)=>{const _=hm(h);k8(t,_.target)&&(o=_,g.done())}).next(()=>o)}addMatchingKeys(e,t,r){const i=[],o=m4(e);return t.forEach(c=>{const h=Wi(c.path);i.push(o.put({targetId:r,path:h})),i.push(this.referenceDelegate.addReference(e,r,c))}),Fe.waitFor(i)}removeMatchingKeys(e,t,r){const i=m4(e);return Fe.forEach(t,o=>{const c=Wi(o.path);return Fe.waitFor([i.delete([r,c]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,t){const r=m4(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=m4(e);let o=Dn();return i.X({range:r,Y:!0},(c,h,g)=>{const _=Pa(c[1]),E=new St(_);o=o.add(E)}).next(()=>o)}containsKey(e,t){const r=Wi(t.path),i=IDBKeyRange.bound([r],[lo(r)],!1,!0);let o=0;return m4(e).X({index:"documentTargetsIndex",Y:!0,range:i},([c,h],g,_)=>{0!==c&&(o++,_.done())}).next(()=>o>0)}le(e,t){return V8(e).get(t).next(r=>r?hm(r):null)}}function V8(n){return di(n,"targets")}function pD(n){return di(n,"targetGlobal")}function m4(n){return di(n,"targetDocuments")}function mD([n,e],[t,r]){const i=mn(n,t);return 0===i?mn(e,r):i}class jP{constructor(e){this.Ln=e,this.buffer=new Xn(mD),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();mD(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class gD{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;dt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Ue.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){vc(r)?dt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield od(r)}yield t.Qn(3e5)}))}}class $P{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Fe.resolve(Qo.ct);const r=new jP(t);return this.jn.forEachTarget(e,i=>r.Kn(i.sequenceNumber)).next(()=>this.jn.Wn(e,i=>r.Kn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(dt("LruGarbageCollector","Garbage collection skipped; disabled"),Fe.resolve(uD)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(dt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),uD):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let r,i,o,c,h,g,_;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(dt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),i=this.params.maximumSequenceNumbersToCollect):i=x,c=Date.now(),this.nthSequenceNumber(e,i))).next(x=>(r=x,h=Date.now(),this.removeTargets(e,r,t))).next(x=>(o=x,g=Date.now(),this.removeOrphanedDocuments(e,r))).next(x=>(_=Date.now(),Rp()<=Au.in.DEBUG&&dt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-E}ms\n\tDetermined least recently used ${i} in `+(h-c)+`ms\n\tRemoved ${o} targets in `+(g-h)+`ms\n\tRemoved ${x} documents in `+(_-g)+`ms\nTotal Duration: ${_-E}ms`),Fe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:x})))}}class GP{constructor(e,t){this.db=e,this.garbageCollector=function vD(n,e){return new $P(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Jn(e){let t=0;return this.Wn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(r,i)=>t(i))}addReference(e,t,r){return cv(e,r)}removeReference(e,t,r){return cv(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return cv(e,t)}Xn(e,t){return function(r,i){let o=!1;return fD(r).Z(c=>hD(r,c,i).next(h=>(h&&(o=!0),Fe.resolve(!h)))).next(()=>o)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.Yn(e,(c,h)=>{if(h<=t){const g=this.Xn(e,c).next(_=>{if(!_)return o++,r.getEntry(e,c).next(()=>(r.removeEntry(c,Wt.min()),m4(e).delete([0,Wi(c.path)])))});i.push(g)}}).next(()=>Fe.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return cv(e,t)}Yn(e,t){const r=m4(e);let i,o=Qo.ct;return r.X({index:"documentTargetsIndex"},([c,h],{path:g,sequenceNumber:_})=>{0===c?(o!==Qo.ct&&t(new St(Pa(i)),o),o=_,i=g):o=Qo.ct}).next(()=>{o!==Qo.ct&&t(new St(Pa(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function cv(n,e){return m4(n).put((r=n.currentSequenceNumber,{targetId:0,path:Wi(e.path),sequenceNumber:r}));var r}class yD{constructor(){this.changes=new Ml(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,_r.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Fe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class qP{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return T0(e).put(r)}removeEntry(e,t,r){return T0(e).delete(function(i,o){const c=i.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],tv(o),c[c.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Zn(e,r)))}getEntry(e,t){let r=_r.newInvalidDocument(t);return T0(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(vm(t))},(i,o)=>{r=this.ts(t,o)}).next(()=>r)}es(e,t){let r={size:0,document:_r.newInvalidDocument(t)};return T0(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(vm(t))},(i,o)=>{r={document:this.ts(t,o),size:sv(o)}}).next(()=>r)}getEntries(e,t){let r=Jo();return this.ns(e,t,(i,o)=>{const c=this.ts(i,o);r=r.insert(i,c)}).next(()=>r)}ss(e,t){let r=Jo(),i=new dr(St.comparator);return this.ns(e,t,(o,c)=>{const h=this.ts(o,c);r=r.insert(o,h),i=i.insert(o,sv(c))}).next(()=>({documents:r,rs:i}))}ns(e,t,r){if(t.isEmpty())return Fe.resolve();let i=new Xn(CD);t.forEach(g=>i=i.add(g));const o=IDBKeyRange.bound(vm(i.first()),vm(i.last())),c=i.getIterator();let h=c.getNext();return T0(e).X({index:"documentKeyIndex",range:o},(g,_,E)=>{const x=St.fromSegments([..._.prefixPath,_.collectionGroup,_.documentId]);for(;h&&CD(h,x)<0;)r(h,null),h=c.getNext();h&&h.isEqual(x)&&(r(h,_),h=c.hasNext()?c.getNext():null),h?E.G(vm(h)):E.done()}).next(()=>{for(;h;)r(h,null),h=c.hasNext()?c.getNext():null})}getDocumentsMatchingQuery(e,t,r,i){const o=t.path,c=[o.popLast().toArray(),o.lastSegment(),tv(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],h=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return T0(e).j(IDBKeyRange.bound(c,h,!0)).next(g=>{let _=Jo();for(const E of g){const x=this.ts(St.fromSegments(E.prefixPath.concat(E.collectionGroup,E.documentId)),E);x.isFoundDocument()&&(O8(t,x)||i.has(x.key))&&(_=_.insert(x.key,x))}return _})}getAllFromCollectionGroup(e,t,r,i){let o=Jo();const c=bD(t,r),h=bD(t,Zo.max());return T0(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,h,!0)},(g,_,E)=>{const x=this.ts(St.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);o=o.insert(x.key,x),o.size===i&&E.done()}).next(()=>o)}newChangeBuffer(e){return new WP(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return wD(e).get("remoteDocumentGlobalKey").next(t=>(Gt(!!t),t))}Zn(e,t){return wD(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const r=function PP(n,e){let t;if(e.document)t=jT(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=St.fromSegments(e.noDocument.path),i=w0(e.noDocument.readTime);t=_r.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Rt();{const r=St.fromSegments(e.unknownDocument.path),i=w0(e.unknownDocument.version);t=_r.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Kn(r[0],r[1]);return Wt.fromTimestamp(i)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(Wt.min()))return r}return _r.newInvalidDocument(e)}}function _D(n){return new qP(n)}class WP extends yD{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new Ml(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Xn((o,c)=>mn(o.canonicalString(),c.canonicalString()));return this.changes.forEach((o,c)=>{const h=this.us.get(o);if(t.push(this.os.removeEntry(e,o,h.readTime)),c.isValidDocument()){const g=QT(this.os.serializer,c);i=i.add(o.path.popLast());const _=sv(g);r+=_-h.size,t.push(this.os.addEntry(e,o,g))}else if(r-=h.size,this.trackRemovals){const g=QT(this.os.serializer,c.convertToNoDocument(Wt.min()));t.push(this.os.addEntry(e,o,g))}}),i.forEach(o=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.os.updateMetadata(e,r)),Fe.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(r=>(this.us.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:r,rs:i})=>(i.forEach((o,c)=>{this.us.set(o,{size:c,readTime:r.get(o).readTime})}),r))}}function wD(n){return di(n,"remoteDocumentGlobal")}function T0(n){return di(n,"remoteDocumentsV14")}function vm(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function bD(n,e){const t=e.documentKey.path.toArray();return[n,tv(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function CD(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<t.length-2&&o<r.length-2;++o)if(i=mn(t[o],r[o]),i)return i;return i=mn(t.length,r.length),i||(i=mn(t[t.length-2],r[r.length-2]),i||mn(t[t.length-1],r[r.length-1]))}class KP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class SD{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&v(r.mutation,i,Ds.empty(),Kn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Dn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Dn()){const i=Oa();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let c=l4();return o.forEach((h,g)=>{c=c.insert(h,g.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=Oa();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Dn()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((c,h)=>{t.set(c,h)})})}computeViews(e,t,r,i){let o=Jo();const c=m0(),h=m0();return t.forEach((g,_)=>{const E=r.get(_.key);i.has(_.key)&&(void 0===E||E.mutation instanceof O)?o=o.insert(_.key,_):void 0!==E?(c.set(_.key,E.mutation.getFieldMask()),v(E.mutation,_,E.mutation.getFieldMask(),Kn.now())):c.set(_.key,Ds.empty())}),this.recalculateAndSaveOverlays(e,o).next(g=>(g.forEach((_,E)=>c.set(_,E)),t.forEach((_,E)=>{var x;return h.set(_,new KP(E,null!==(x=c.get(_))&&void 0!==x?x:null))}),h))}recalculateAndSaveOverlays(e,t){const r=m0();let i=new dr((c,h)=>c-h),o=Dn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const h of c)h.keys().forEach(g=>{const _=t.get(g);if(null===_)return;let E=r.get(g)||Ds.empty();E=h.applyToLocalView(_,E),r.set(g,E);const x=(i.get(h.batchId)||Dn()).add(g);i=i.insert(h.batchId,x)})}).next(()=>{const c=[],h=i.getReverseIterator();for(;h.hasNext();){const g=h.getNext(),_=g.key,E=g.value,x=G7();E.forEach(K=>{if(!o.has(K)){const ne=d(t.get(K),r.get(K));null!==ne&&x.set(K,ne),o=o.add(K)}}),c.push(this.documentOverlayCache.saveOverlays(e,_,x))}return Fe.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return St.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):P8(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const c=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):Fe.resolve(Oa());let h=-1,g=o;return c.next(_=>Fe.forEach(_,(E,x)=>(h<x.largestBatchId&&(h=x.largestBatchId),o.get(E)?Fe.resolve():this.remoteDocumentCache.getEntry(e,E).next(K=>{g=g.insert(E,K)}))).next(()=>this.populateOverlays(e,_,o)).next(()=>this.computeViews(e,g,_,Dn())).next(E=>({batchId:h,changes:rm(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new St(t)).next(r=>{let i=l4();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let o=l4();return this.indexManager.getCollectionParents(e,i).next(c=>Fe.forEach(c,h=>{const g=(_=t,E=h.child(i),new Tl(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt));var _,E;return this.getDocumentsMatchingCollectionQuery(e,g,r).next(_=>{_.forEach((E,x)=>{o=o.insert(E,x)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(o=>{i.forEach((h,g)=>{const _=g.getKey();null===o.get(_)&&(o=o.insert(_,_r.newInvalidDocument(_)))});let c=l4();return o.forEach((h,g)=>{const _=i.get(h);void 0!==_&&v(_.mutation,g,Ds.empty(),Kn.now()),O8(t,g)&&(c=c.insert(h,g))}),c})}}class ZP{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Fe.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:Ei(r.createTime)}),Fe.resolve()}getNamedQuery(e,t){return Fe.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:Vw(r.bundledQuery),readTime:Ei(r.readTime)}),Fe.resolve();var r}}class QP{constructor(){this.overlays=new dr(St.comparator),this.ls=new Map}getOverlay(e,t){return Fe.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Oa();return Fe.forEach(t,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.we(e,t,o)}),Fe.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.ls.delete(r)),Fe.resolve()}getOverlaysForCollection(e,t,r){const i=Oa(),o=t.length+1,c=new St(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const g=h.getNext().value,_=g.getKey();if(!t.isPrefixOf(_.path))break;_.path.length===o&&g.largestBatchId>r&&i.set(g.getKey(),g)}return Fe.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new dr((_,E)=>_-E);const c=this.overlays.getIterator();for(;c.hasNext();){const _=c.getNext().value;if(_.getKey().getCollectionGroup()===t&&_.largestBatchId>r){let E=o.get(_.largestBatchId);null===E&&(E=Oa(),o=o.insert(_.largestBatchId,E)),E.set(_.getKey(),_)}}const h=Oa(),g=o.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((_,E)=>h.set(_,E)),!(h.size()>=i)););return Fe.resolve(h)}we(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const c=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new Lt(t,r));let o=this.ls.get(t);void 0===o&&(o=Dn(),this.ls.set(t,o)),this.ls.set(t,o.add(r.key))}}class Gw{constructor(){this.fs=new Xn(ho.ds),this.ws=new Xn(ho._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new ho(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new ho(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new St(new Bn([])),r=new ho(t,e),i=new ho(t,e+1),o=[];return this.ws.forEachInRange([r,i],c=>{this.ys(c),o.push(c.key)}),o}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new St(new Bn([])),r=new ho(t,e),i=new ho(t,e+1);let o=Dn();return this.ws.forEachInRange([r,i],c=>{o=o.add(c.key)}),o}containsKey(e){const t=new ho(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class ho{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return St.comparator(e.key,t.key)||mn(e.As,t.As)}static _s(e,t){return mn(e.As,t.As)||St.comparator(e.key,t.key)}}class JP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Xn(ho.ds)}checkEmpty(e){return Fe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const o=this.vs;this.vs++;const c=new mt(o,t,r,i);this.mutationQueue.push(c);for(const h of i)this.Rs=this.Rs.add(new ho(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return Fe.resolve(c)}lookupMutationBatch(e,t){return Fe.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.bs(t+1),o=i<0?0:i;return Fe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Fe.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ho(t,0),i=new ho(t,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([r,i],c=>{const h=this.Ps(c.As);o.push(h)}),Fe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Xn(mn);return t.forEach(i=>{const o=new ho(i,0),c=new ho(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,c],h=>{r=r.add(h.As)})}),Fe.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;St.isDocumentKey(o)||(o=o.child(""));const c=new ho(new St(o),0);let h=new Xn(mn);return this.Rs.forEachWhile(g=>{const _=g.key.path;return!!r.isPrefixOf(_)&&(_.length===i&&(h=h.add(g.As)),!0)},c),Fe.resolve(this.Vs(h))}Vs(e){const t=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Gt(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return Fe.forEach(t.mutations,i=>{const o=new ho(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new ho(t,0),i=this.Rs.firstAfterOrEqual(r);return Fe.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return Fe.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class XP{constructor(e){this.Ds=e,this.docs=new dr(St.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,c=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Fe.resolve(r?r.document.mutableCopy():_r.newInvalidDocument(t))}getEntries(e,t){let r=Jo();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():_r.newInvalidDocument(i))}),Fe.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Jo();const c=t.path,h=new St(c.child("")),g=this.docs.getIteratorFrom(h);for(;g.hasNext();){const{key:_,value:{document:E}}=g.getNext();if(!c.isPrefixOf(_.path))break;_.path.length>c.length+1||_8(y8(E),r)<=0||(i.has(E.key)||O8(t,E))&&(o=o.insert(E.key,E.mutableCopy()))}return Fe.resolve(o)}getAllFromCollectionGroup(e,t,r,i){Rt()}Cs(e,t){return Fe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new eO(this)}getSize(e){return Fe.resolve(this.size)}}class eO extends yD{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),Fe.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class tO{constructor(e){this.persistence=e,this.xs=new Ml(t=>hd(t),k8),this.lastRemoteSnapshotVersion=Wt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Gw,this.targetCount=0,this.Ms=E0.kn()}forEachTarget(e,t){return this.xs.forEach((r,i)=>t(i)),Fe.resolve()}getLastRemoteSnapshotVersion(e){return Fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Fe.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Fe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),Fe.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new E0(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Fe.resolve()}updateTargetData(e,t){return this.Fn(t),Fe.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Fe.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.xs.forEach((c,h)=>{h.sequenceNumber<=t&&null===r.get(h.targetId)&&(this.xs.delete(c),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)}),Fe.waitFor(o).next(()=>i)}getTargetCount(e){return Fe.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return Fe.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),Fe.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(c=>{o.push(i.markPotentiallyOrphaned(e,c))}),Fe.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Fe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return Fe.resolve(r)}containsKey(e,t){return Fe.resolve(this.ks.containsKey(t))}}class qw{constructor(e,t){this.$s={},this.overlays={},this.Os=new Qo(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new tO(this),this.indexManager=new BP,this.remoteDocumentCache=new XP(r=>this.referenceDelegate.Ls(r)),this.serializer=new ZT(t),this.qs=new ZP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new QP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new JP(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){dt("MemoryPersistence","Starting transaction:",e);const i=new nO(this.Os.next());return this.referenceDelegate.Us(),r(i).next(o=>this.referenceDelegate.Ks(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gs(e,t){return Fe.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class nO extends w8{constructor(e){super(),this.currentSequenceNumber=e}}class lv{constructor(e){this.persistence=e,this.Qs=new Gw,this.js=null}static zs(e){return new lv(e)}get Ws(){if(this.js)return this.js;throw Rt()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),Fe.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),Fe.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Fe.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Ws.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Fe.forEach(this.Ws,r=>{const i=St.fromPath(r);return this.Hs(e,i).next(o=>{o||t.removeEntry(i,Wt.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return Fe.or([()=>Fe.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class rO{constructor(e){this.serializer=e}O(e,t,r,i){const o=new n0("createOrUpgrade",t);var h;r<1&&i>=1&&(e.createObjectStore("owner"),(h=e).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",D7,{unique:!0}),h.createObjectStore("documentMutations"),ED(e),function(h){h.createObjectStore("remoteDocuments")}(e));let c=Fe.resolve();return r<3&&i>=3&&(0!==r&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(e),ED(e)),c=c.next(()=>function(h){const g=h.store("targetGlobal"),_={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Wt.min().toTimestamp(),targetCount:0};return g.put("targetGlobalKey",_)}(o))),r<4&&i>=4&&(0!==r&&(c=c.next(()=>function(h,g){return g.store("mutations").j().next(_=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",D7,{unique:!0});const E=g.store("mutations"),x=_.map(K=>E.put(K));return Fe.waitFor(x)})}(e,o))),c=c.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(c=c.next(()=>this.Ys(o))),r<6&&i>=6&&(c=c.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(o)))),r<7&&i>=7&&(c=c.next(()=>this.Zs(o))),r<8&&i>=8&&(c=c.next(()=>this.ti(e,o))),r<9&&i>=9&&(c=c.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(c=c.next(()=>this.ei(o))),r<11&&i>=11&&(c=c.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(c=c.next(()=>{!function(h){const g=h.createObjectStore("documentOverlays",{keyPath:ET});g.createIndex("collectionPathOverlayIndex",TT,{unique:!1}),g.createIndex("collectionGroupOverlayIndex",C8,{unique:!1})}(e)})),r<13&&i>=13&&(c=c.next(()=>function(h){const g=h.createObjectStore("remoteDocumentsV14",{keyPath:x7});g.createIndex("documentKeyIndex",cw),g.createIndex("collectionGroupIndex",lw)}(e)).next(()=>this.ni(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(c=c.next(()=>this.si(e,o))),r<15&&i>=15&&(c=c.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:wT}).createIndex("sequenceNumberIndex",bT,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:CT}).createIndex("documentKeyIndex",ST,{unique:!1})}(e))),c}Xs(e){let t=0;return e.store("remoteDocuments").X((r,i)=>{t+=sv(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.j().next(i=>Fe.forEach(i,o=>{const c=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",c).next(h=>Fe.forEach(h,g=>{Gt(g.userId===o.userId);const _=b0(this.serializer,g);return dD(e,o.userId,_).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const o=[];return r.X((c,h)=>{const g=new Bn(c),_=[0,Wi(g)];o.push(t.get(_).next(E=>E?Fe.resolve():t.put({targetId:0,path:Wi(g),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>Fe.waitFor(o))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:_T});const r=t.store("collectionParents"),i=new $w,o=c=>{if(i.add(c)){const h=c.lastSegment(),g=c.popLast();return r.put({collectionId:h,parent:Wi(g)})}};return t.store("remoteDocuments").X({Y:!0},(c,h)=>{const g=new Bn(c);return o(g.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([c,h,g],_)=>{const E=Pa(h);return o(E.popLast())}))}ei(e){const t=e.store("targets");return t.X((r,i)=>{const o=hm(i),c=JT(this.serializer,o);return t.put(c)})}ni(e,t){const r=t.store("remoteDocuments"),i=[];return r.X((o,c)=>{const h=t.store("remoteDocumentsV14"),g=(_=c,_.document?new St(Bn.fromString(_.document.name).popFirst(5)):_.noDocument?St.fromSegments(_.noDocument.path):_.unknownDocument?St.fromSegments(_.unknownDocument.path):Rt()).path.toArray();var _;const E={prefixPath:g.slice(0,g.length-2),collectionGroup:g[g.length-2],documentId:g[g.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};i.push(h.put(E))}).next(()=>Fe.waitFor(i))}si(e,t){const r=t.store("mutations"),i=_D(this.serializer),o=new qw(lv.zs,this.serializer.fe);return r.j().next(c=>{const h=new Map;return c.forEach(g=>{var _;let E=null!==(_=h.get(g.userId))&&void 0!==_?_:Dn();b0(this.serializer,g).keys().forEach(x=>E=E.add(x)),h.set(g.userId,E)}),Fe.forEach(h,(g,_)=>{const E=new ni(_),x=nv.de(this.serializer,E),K=o.getIndexManager(E),ne=av.de(E,this.serializer,K,o.referenceDelegate);return new SD(i,ne,x,K).recalculateAndSaveOverlaysForDocumentKeys(new z7(t,Qo.ct),g).next()})})}}function ED(n){n.createObjectStore("targetDocuments",{keyPath:I7}).createIndex("documentTargetsIndex",yT,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",vT,{unique:!0}),n.createObjectStore("targetGlobal")}const Ww="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Kw{constructor(e,t,r,i,o,c,h,g,_,E,x=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.ii=o,this.window=c,this.document=h,this.ri=_,this.oi=E,this.ui=x,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=K=>Promise.resolve(),!Kw.D())throw new nt(Ye.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new GP(this,i),this.di=t+"main",this.serializer=new ZT(g),this.wi=new uo(this.di,this.ui,new rO(this.serializer)),this.Bs=new UP(this.referenceDelegate,this.serializer),this.remoteDocumentCache=_D(this.serializer),this.qs=new OP,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===E&&Or("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new nt(Ye.FAILED_PRECONDITION,Ww);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Qo(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var r=(0,Ue.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,Ue.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,Ue.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>dv(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(vc(e))return dt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return dt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return ym(e).get("owner").next(t=>Fe.resolve(this.Ri(t)))}Pi(e){return dv(e).delete(this.clientId)}bi(){var e=this;return(0,Ue.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=di(r,"clientMetadata");return i.j().next(o=>{const c=e.Si(o,18e5),h=o.filter(g=>-1===c.indexOf(g));return Fe.forEach(h,g=>i.delete(g.clientId)).next(()=>h)})}).catch(()=>[]);if(e._i)for(const r of t)e._i.removeItem(e.Di(r.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?Fe.resolve(!0):ym(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new nt(Ye.FAILED_PRECONDITION,Ww);return!1}}return!(!this.networkEnabled||!this.inForeground)||dv(e).j().next(r=>void 0===this.Si(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(t=>(this.isPrimary!==t&&dt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ue.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new z7(t,Qo.ct);return e.Ai(r).next(()=>e.Pi(r))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(r=>this.Vi(r.updateTimeMs,t)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>dv(e).j().next(t=>this.Si(t,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return av.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new YP(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return nv.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,r){dt("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",o=15===(c=this.ui)?k7:14===c?Up:13===c?s0:12===c?A7:11===c?uw:void Rt();var c;let h;return this.wi.runTransaction(e,i,o,g=>(h=new z7(g,this.Os?this.Os.next():Qo.ct),"readwrite-primary"===t?this.Ti(h).next(_=>!!_||this.Ei(h)).next(_=>{if(!_)throw Or(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new nt(Ye.FAILED_PRECONDITION,t0);return r(h)}).next(_=>this.vi(h).next(()=>_)):this.Oi(h).next(()=>r(h)))).then(g=>(h.raiseOnCommittedEvent(),g))}Oi(e){return ym(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new nt(Ye.FAILED_PRECONDITION,Ww)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ym(e).put("owner",t)}static D(){return uo.D()}Ai(e){const t=ym(e);return t.get("owner").next(r=>this.Ri(r)?(dt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Fe.resolve())}Vi(e,t){const r=Date.now();return!(e<r-t||e>r&&(Or(`Detected an update time that is in the future: ${e} > ${r}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,wn.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const r=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return dt("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Or("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Or("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function ym(n){return di(n,"owner")}function dv(n){return di(n,"clientMetadata")}function Zw(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Qw{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=i}static Li(e,t){let r=Dn(),i=Dn();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Qw(e,t.fromCache,r,i)}}class TD{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ki(e,t).next(o=>o||this.Gi(e,t,i,r)).next(o=>o||this.Qi(e,t))}Ki(e,t){if(Y7(t))return Fe.resolve(null);let r=Qi(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=c4(t,null,"F"),r=Qi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const c=Dn(...o);return this.Ui.getDocuments(e,c).next(h=>this.indexManager.getMinOffset(e,r).next(g=>{const _=this.ji(t,h);return this.zi(t,_,c,g.readTime)?this.Ki(e,c4(t,null,"F")):this.Wi(e,_,t,g)}))})))}Gi(e,t,r,i){return Y7(t)||i.isEqual(Wt.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(o=>{const c=this.ji(t,o);return this.zi(t,c,r,i)?this.Qi(e,t):(Rp()<=Au.in.DEBUG&&dt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),U7(t)),this.Wi(e,c,t,E7(i,-1)))})}ji(e,t){let r=new Xn(Sw(e));return t.forEach((i,o)=>{O8(e,o)&&(r=r.add(o))}),r}zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Qi(e,t){return Rp()<=Au.in.DEBUG&&dt("QueryEngine","Using full collection scan to execute query:",U7(t)),this.Ui.getDocumentsMatchingQuery(e,t,Zo.min())}Wi(e,t,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(c=>{o=o.insert(c.key,c)}),o))}}class iO{constructor(e,t,r,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new dr(mn),this.Yi=new Ml(o=>hd(o),k8),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new SD(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function DD(n,e,t,r){return new iO(n,e,t,r)}function MD(n,e){return Jw.apply(this,arguments)}function Jw(){return Jw=(0,Ue.Z)(function*(n,e){const t=Et(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const c=[],h=[];let g=Dn();for(const _ of i){c.push(_.batchId);for(const E of _.mutations)g=g.add(E.key)}for(const _ of o){h.push(_.batchId);for(const E of _.mutations)g=g.add(E.key)}return t.localDocuments.getDocuments(r,g).next(_=>({er:_,removedBatchIds:c,addedBatchIds:h}))})})}),Jw.apply(this,arguments)}function xD(n){const e=Et(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function ID(n,e,t){let r=Dn(),i=Dn();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let c=Jo();return t.forEach((h,g)=>{const _=o.get(h);g.isFoundDocument()!==_.isFoundDocument()&&(i=i.add(h)),g.isNoDocument()&&g.version.isEqual(Wt.min())?(e.removeEntry(h,g.readTime),c=c.insert(h,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||0===g.version.compareTo(_.version)&&_.hasPendingWrites?(e.addEntry(g),c=c.insert(h,g)):dt("LocalStore","Ignoring outdated watch update for ",h,". Current version:",_.version," Watch version:",g.version)}),{nr:c,sr:i}})}function aO(n,e){const t=Et(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function H8(n,e){const t=Et(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Bs.getTargetData(r,e).next(o=>o?(i=o,Fe.resolve(i)):t.Bs.allocateTargetId(r).next(c=>(i=new pd(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}function B8(n,e,t){return Xw.apply(this,arguments)}function Xw(){return Xw=(0,Ue.Z)(function*(n,e,t){const r=Et(n),i=r.Ji.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!vc(c))throw c;dt("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),Xw.apply(this,arguments)}function hv(n,e,t){const r=Et(n);let i=Wt.min(),o=Dn();return r.persistence.runTransaction("Execute query","readonly",c=>function(h,g,_){const E=Et(h),x=E.Yi.get(_);return void 0!==x?Fe.resolve(E.Ji.get(x)):E.Bs.getTargetData(g,_)}(r,c,Qi(e)).next(h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(c,h.targetId).next(g=>{o=g})}).next(()=>r.Hi.getDocumentsMatchingQuery(c,e,t?i:Wt.min(),t?o:Dn())).next(h=>(zD(r,Cw(e),h),{documents:h,ir:o})))}function AD(n,e){const t=Et(n),r=Et(t.Bs),i=t.Ji.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",o=>r.le(o,e).next(c=>c?c.target:null))}function kD(n,e){const t=Et(n),r=t.Xi.get(e)||Wt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Zi.getAllFromCollectionGroup(i,e,E7(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(zD(t,e,i),i))}function zD(n,e,t){let r=n.Xi.get(e)||Wt.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Xi.set(e,r)}function eb(){return eb=(0,Ue.Z)(function*(n,e,t,r){const i=Et(n);let o=Dn(),c=Jo();for(const _ of t){const E=e.rr(_.metadata.name);_.document&&(o=o.add(E));const x=e.ur(_);x.setReadTime(e.cr(_.metadata.readTime)),c=c.insert(E,x)}const h=i.Zi.newChangeBuffer({trackRemovals:!0}),g=yield H8(i,(_=r,Qi(a4(Bn.fromString(`__bundle__/docs/${_}`)))));var _;return i.persistence.runTransaction("Apply bundle documents","readwrite",_=>ID(_,h,c).next(E=>(h.apply(_),E)).next(E=>i.Bs.removeMatchingKeysForTargetId(_,g.targetId).next(()=>i.Bs.addMatchingKeys(_,o,g.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(_,E.nr,E.sr)).next(()=>E.nr)))}),eb.apply(this,arguments)}function lO(n,e){return tb.apply(this,arguments)}function tb(){return tb=(0,Ue.Z)(function*(n,e,t=Dn()){const r=yield H8(n,Qi(Vw(e.bundledQuery))),i=Et(n);return i.persistence.runTransaction("Save named query","readwrite",o=>{const c=Ei(e.readTime);if(r.snapshotVersion.compareTo(c)>=0)return i.qs.saveNamedQuery(o,e);const h=r.withResumeToken(Ci.EMPTY_BYTE_STRING,c);return i.Ji=i.Ji.insert(h.targetId,h),i.Bs.updateTargetData(o,h).next(()=>i.Bs.removeMatchingKeysForTargetId(o,r.targetId)).next(()=>i.Bs.addMatchingKeys(o,t,r.targetId)).next(()=>i.qs.saveNamedQuery(o,e))})}),tb.apply(this,arguments)}function PD(n,e){return`firestore_clients_${n}_${e}`}function OD(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function nb(n,e){return`firestore_targets_${n}_${e}`}class fv{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static ar(e,t,r){const i=JSON.parse(r);let o,c="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return c&&i.error&&(c="string"==typeof i.error.message&&"string"==typeof i.error.code,c&&(o=new nt(i.error.code,i.error.message))),c?new fv(e,t,i.state,o):(Or("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class _m{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static ar(e,t){const r=JSON.parse(t);let i,o="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new nt(r.error.code,r.error.message))),o?new _m(e,r.state,i):(Or("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class pv{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,o=g0();for(let c=0;i&&c<r.activeTargetIds.length;++c)i=Bp(r.activeTargetIds[c]),o=o.add(r.activeTargetIds[c]);return i?new pv(e,o):(Or("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class rb{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new rb(t.clientId,t.onlineState):(Or("SharedClientState",`Failed to parse online state: ${e}`),null)}}class ib{constructor(){this.activeTargetIds=g0()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ob{constructor(e,t,r,i,o){this.window=e,this.ii=t,this.persistenceKey=r,this.wr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new dr(mn),this.started=!1,this.yr=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.pr=PD(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new ib),this.Tr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ue.Z)(function*(){const t=yield e.syncEngine.$i();for(const i of t){if(i===e.wr)continue;const o=e.getItem(PD(e.persistenceKey,i));if(o){const c=pv.ar(i,o);c&&(e.gr=e.gr.insert(c.clientId,c))}}e.Pr();const r=e.storage.getItem(e.vr);if(r){const i=e.br(r);i&&e.Vr(i)}for(const i of e.yr)e.mr(i);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,r){this.Dr(e,t,r),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(nb(this.persistenceKey,e));if(r){const i=_m.ar(e,r);i&&(t=i.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(nb(this.persistenceKey,e))}updateQueryState(e,t,r){this.kr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Cr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return dt("SharedClientState","READ",e,t),t}setItem(e,t){dt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){dt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(dt("SharedClientState","EVENT",r.key,r.newValue),r.key===this.pr)return void Or("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,Ue.Z)(function*(){if(t.started){if(null!==r.key)if(t.Tr.test(r.key)){if(null==r.newValue){const i=t.Or(r.key);return t.Fr(i,null)}{const i=t.Br(r.key,r.newValue);if(i)return t.Fr(i.clientId,i)}}else if(t.Er.test(r.key)){if(null!==r.newValue){const i=t.Lr(r.key,r.newValue);if(i)return t.qr(i)}}else if(t.Ar.test(r.key)){if(null!==r.newValue){const i=t.Ur(r.key,r.newValue);if(i)return t.Kr(i)}}else if(r.key===t.vr){if(null!==r.newValue){const i=t.br(r.newValue);if(i)return t.Vr(i)}}else if(r.key===t.Ir){const i=function(o){let c=Qo.ct;if(null!=o)try{const h=JSON.parse(o);Gt("number"==typeof h),c=h}catch(h){Or("SharedClientState","Failed to read sequence number from WebStorage",h)}return c}(r.newValue);i!==Qo.ct&&t.sequenceNumberHandler(i)}else if(r.key===t.Rr){const i=t.Gr(r.newValue);yield Promise.all(i.map(o=>t.syncEngine.Qr(o)))}}else t.yr.push(r)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,r){const i=new fv(this.currentUser,e,t,r),o=OD(this.persistenceKey,this.currentUser,e);this.setItem(o,i.hr())}Cr(e){const t=OD(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,r){const i=nb(this.persistenceKey,e),o=new _m(e,t,r);this.setItem(i,o.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const r=this.Or(e);return pv.ar(r,t)}Lr(e,t){const r=this.Er.exec(e),i=Number(r[1]);return fv.ar(new ni(void 0!==r[2]?r[2]:null),i,t)}Ur(e,t){const r=this.Ar.exec(e),i=Number(r[1]);return _m.ar(i,t)}br(e){return rb.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,Ue.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);dt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const r=t?this.gr.insert(e,t):this.gr.remove(e),i=this.Sr(this.gr),o=this.Sr(r),c=[],h=[];return o.forEach(g=>{i.has(g)||c.push(g)}),i.forEach(g=>{o.has(g)||h.push(g)}),this.syncEngine.Wr(c,h).then(()=>{this.gr=r})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=g0();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class RD{constructor(){this.Hr=new ib,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new ib,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class uO{Yr(e){}shutdown(){}}class ND{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){dt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){dt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let mv=null;function sb(){return null===mv?mv=268435456+Math.round(2147483648*Math.random()):mv++,"0x"+mv.toString(16)}const dO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class hO{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const es="WebChannelConnection";class fO extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,i,o){const c=sb(),h=this.To(e,t);dt("RestConnection",`Sending RPC '${e}' ${c}:`,h,r);const g={};return this.Eo(g,i,o),this.Ao(e,h,g,r).then(_=>(dt("RestConnection",`Received RPC '${e}' ${c}: `,_),_),_=>{throw Ts("RestConnection",`RPC '${e}' ${c} failed with error: `,_,"url: ",h,"request:",r),_})}vo(e,t,r,i,o,c){return this.Io(e,t,r,i,o)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Sl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}To(e,t){return`${this.mo}/v1/${t}:${dO[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,i){const o=sb();return new Promise((c,h)=>{const g=new Z2;g.setWithCredentials(!0),g.listenOnce(Z_.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case rd.NO_ERROR:const E=g.getResponseJson();dt(es,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(E)),c(E);break;case rd.TIMEOUT:dt(es,`RPC '${e}' ${o} timed out`),h(new nt(Ye.DEADLINE_EXCEEDED,"Request time out"));break;case rd.HTTP_ERROR:const x=g.getStatus();if(dt(es,`RPC '${e}' ${o} failed with status:`,x,"response text:",g.getResponseText()),x>0){let K=g.getResponseJson();Array.isArray(K)&&(K=K[0]);const ne=K?.error;if(ne&&ne.status&&ne.message){const ue=function(De){const Ie=De.toLowerCase().replace(/_/g,"-");return Object.values(Ye).indexOf(Ie)>=0?Ie:Ye.UNKNOWN}(ne.status);h(new nt(ue,ne.message))}else h(new nt(Ye.UNKNOWN,"Server responded with status "+g.getStatus()))}else h(new nt(Ye.UNAVAILABLE,"Connection failed."));break;default:Rt()}}finally{dt(es,`RPC '${e}' ${o} completed.`)}});const _=JSON.stringify(i);dt(es,`RPC '${e}' ${o} sending request:`,i),g.send(t,"POST",_,r,15)})}Ro(e,t,r){const i=sb(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=W_(),h=K_(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;void 0!==_&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.xmlHttpFactory=new Q_({})),this.Eo(g.initMessageHeaders,t,r),g.encodeInitMessageHeaders=!0;const E=o.join("");dt(es,`Creating RPC '${e}' stream ${i}: ${E}`,g);const x=c.createWebChannel(E,g);let K=!1,ne=!1;const ue=new hO({ro:Ie=>{ne?dt(es,`Not sending because RPC '${e}' stream ${i} is closed:`,Ie):(K||(dt(es,`Opening RPC '${e}' stream ${i} transport.`),x.open(),K=!0),dt(es,`RPC '${e}' stream ${i} sending:`,Ie),x.send(Ie))},oo:()=>x.close()}),De=(Ie,tt,pt)=>{Ie.listen(tt,ft=>{try{pt(ft)}catch(gt){setTimeout(()=>{throw gt},0)}})};return De(x,t4.EventType.OPEN,()=>{ne||dt(es,`RPC '${e}' stream ${i} transport opened.`)}),De(x,t4.EventType.CLOSE,()=>{ne||(ne=!0,dt(es,`RPC '${e}' stream ${i} transport closed`),ue.wo())}),De(x,t4.EventType.ERROR,Ie=>{ne||(ne=!0,Ts(es,`RPC '${e}' stream ${i} transport errored:`,Ie),ue.wo(new nt(Ye.UNAVAILABLE,"The operation could not be completed")))}),De(x,t4.EventType.MESSAGE,Ie=>{var tt;if(!ne){const pt=Ie.data[0];Gt(!!pt);const gt=pt.error||(null===(tt=pt[0])||void 0===tt?void 0:tt.error);if(gt){dt(es,`RPC '${e}' stream ${i} received error:`,gt);const qt=gt.status;let Xt=function(br){const An=Bt[br];if(void 0!==An)return kw(An)}(qt),In=gt.message;void 0===Xt&&(Xt=Ye.INTERNAL,In="Unknown error status: "+qt+" with message "+gt.message),ne=!0,ue.wo(new nt(Xt,In)),x.close()}else dt(es,`RPC '${e}' stream ${i} received:`,pt),ue._o(pt)}}),De(h,Op.STAT_EVENT,Ie=>{Ie.stat===za.PROXY?dt(es,`RPC '${e}' stream ${i} detected buffering proxy`):Ie.stat===za.NOPROXY&&dt(es,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{ue.fo()},0),ue}}function FD(){return typeof window<"u"?window:null}function gv(){return typeof document<"u"?document:null}function wm(n){return new SP(n,!0)}class ab{constructor(e,t,r=1e3,i=1.5,o=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=o,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&dt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class LD{constructor(e,t,r,i,o,c,h,g){this.ii=e,this.$o=r,this.Oo=i,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=g,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new ab(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,Ue.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,Ue.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,Ue.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===Ye.RESOURCE_EXHAUSTED?(Or(t.toString()),Or("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===Ye.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===t&&this.Zo(r,i)},r=>{e(()=>{const i=new nt(Ye.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No((0,Ue.Z)(function*(){e.state=0,e.start()}))}tu(e){return dt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(dt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class pO extends LD{constructor(e,t,r,i,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.serializer=o}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function DP(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(g=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===g?1:"REMOVE"===g?2:"CURRENT"===g?3:"RESET"===g?4:Rt(),i=e.targetChange.targetIds||[],o=function(g,_){return g.useProto3Json?(Gt(void 0===_||"string"==typeof _),Ci.fromBase64String(_||"")):(Gt(void 0===_||_ instanceof Uint8Array),Ci.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&function(g){const _=void 0===g.code?Ye.UNKNOWN:kw(g.code);return new nt(_,g.message||"")}(c);t=new RT(r,i,o,h||null)}else if("documentChange"in e){const r=e.documentChange,i=Uu(n,r.document.name),o=Ei(r.document.updateTime),c=r.document.createTime?Ei(r.document.createTime):Wt.min(),h=new Zi({mapValue:{fields:r.document.fields}}),g=_r.newFoundDocument(i,o,c,h);t=new ev(r.targetIds||[],r.removedTargetIds||[],g.key,g)}else if("documentDelete"in e){const r=e.documentDelete,i=Uu(n,r.document),o=r.readTime?Ei(r.readTime):Wt.min(),c=_r.newNoDocument(i,o);t=new ev([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=Uu(n,r.document);t=new ev([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Rt();{const r=e.filter,{count:i=0,unchangedNames:o}=r,c=new at(i,o);t=new OT(r.targetId,c)}}var g;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return Wt.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Wt.min():o.readTime?Ei(o.readTime):Wt.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=um(this.serializer),t.addTarget=function(i,o){let c;const h=o.target;if(c=em(h)?{documents:$T(i,h)}:{query:Lw(i,h)},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=VT(i,o.resumeToken);const g=Ow(i,o.expectedCount);null!==g&&(c.expectedCount=g)}else if(o.snapshotVersion.compareTo(Wt.min())>0){c.readTime=N8(i,o.snapshotVersion.toTimestamp());const g=Ow(i,o.expectedCount);null!==g&&(c.expectedCount=g)}return c}(this.serializer,e);const r=function xP(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Rt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=um(this.serializer),t.removeTarget=e,this.Wo(t)}}class mO extends LD{constructor(e,t,r,i,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.serializer=o,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Gt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function MP(n,e){return n&&n.length>0?(Gt(void 0!==e),n.map(t=>function(r,i){let o=Ei(r.updateTime?r.updateTime:i);return o.isEqual(Wt.min())&&(o=Ei(i)),new AT(o,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Ei(e.commitTime);return this.listener.cu(r,t)}return Gt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=um(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>dm(this.serializer,r))};this.Wo(t)}}class gO extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new nt(Ye.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Io(e,t,r,i,o)).catch(i=>{throw"FirebaseError"===i.name?(i.code===Ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new nt(Ye.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.vo(e,t,r,o,c,i)).catch(o=>{throw"FirebaseError"===o.name?(o.code===Ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new nt(Ye.UNKNOWN,o.toString())})}terminate(){this.lu=!0}}class yO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Or(t),this.mu=!1):dt("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class _O{constructor(e,t,r,i,o){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=o,this.Pu.Yr(h=>{r.enqueueAndForget((0,Ue.Z)(function*(){var g;g4(c)&&(dt("RemoteStore","Restarting streams for network reachability change."),yield(g=(0,Ue.Z)(function*(_){const E=Et(_);E.vu.add(4),yield Y8(E),E.bu.set("Unknown"),E.vu.delete(4),yield bm(E)}),function(_){return g.apply(this,arguments)})(c))}))}),this.bu=new yO(r,i)}}function bm(n){return lb.apply(this,arguments)}function lb(){return lb=(0,Ue.Z)(function*(n){if(g4(n))for(const e of n.Ru)yield e(!0)}),lb.apply(this,arguments)}function Y8(n){return ub.apply(this,arguments)}function ub(){return ub=(0,Ue.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),ub.apply(this,arguments)}function vv(n,e){const t=Et(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),fb(t)?hb(t):j8(t).Ko()&&db(t,e))}function Cm(n,e){const t=Et(n),r=j8(t);t.Au.delete(e),r.Ko()&&VD(t,e),0===t.Au.size&&(r.Ko()?r.jo():g4(t)&&t.bu.set("Unknown"))}function db(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Wt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}j8(n).su(e)}function VD(n,e){n.Vu.qt(e),j8(n).iu(e)}function hb(n){n.Vu=new _P({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),j8(n).start(),n.bu.gu()}function fb(n){return g4(n)&&!j8(n).Uo()&&n.Au.size>0}function g4(n){return 0===Et(n).vu.size}function HD(n){n.Vu=void 0}function wO(n){return pb.apply(this,arguments)}function pb(){return pb=(0,Ue.Z)(function*(n){n.Au.forEach((e,t)=>{db(n,e)})}),pb.apply(this,arguments)}function bO(n,e){return mb.apply(this,arguments)}function mb(){return mb=(0,Ue.Z)(function*(n,e){HD(n),fb(n)?(n.bu.Iu(e),hb(n)):n.bu.set("Unknown")}),mb.apply(this,arguments)}function CO(n,e,t){return gb.apply(this,arguments)}function gb(){return gb=(0,Ue.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof RT&&2===e.state&&e.cause)try{yield(r=(0,Ue.Z)(function*(i,o){const c=o.cause;for(const h of o.targetIds)i.Au.has(h)&&(yield i.remoteSyncer.rejectListen(h,c),i.Au.delete(h),i.Vu.removeTarget(h))}),function(i,o){return r.apply(this,arguments)})(n,e)}catch(r){dt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield yv(n,r)}else if(e instanceof ev?n.Vu.Ht(e):e instanceof OT?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(Wt.min()))try{const r=yield xD(n.localStore);t.compareTo(r)>=0&&(yield function(i,o){const c=i.Vu.ce(o);return c.targetChanges.forEach((h,g)=>{if(h.resumeToken.approximateByteSize()>0){const _=i.Au.get(g);_&&i.Au.set(g,_.withResumeToken(h.resumeToken,o))}}),c.targetMismatches.forEach((h,g)=>{const _=i.Au.get(h);if(!_)return;i.Au.set(h,_.withResumeToken(Ci.EMPTY_BYTE_STRING,_.snapshotVersion)),VD(i,h);const E=new pd(_.target,h,g,_.sequenceNumber);db(i,E)}),i.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){dt("RemoteStore","Failed to raise snapshot:",r),yield yv(n,r)}var r}),gb.apply(this,arguments)}function yv(n,e,t){return vb.apply(this,arguments)}function vb(){return vb=(0,Ue.Z)(function*(n,e,t){if(!vc(e))throw e;n.vu.add(1),yield Y8(n),n.bu.set("Offline"),t||(t=()=>xD(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ue.Z)(function*(){dt("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield bm(n)}))}),vb.apply(this,arguments)}function BD(n,e){return e().catch(t=>yv(n,t,e))}function U8(n){return yb.apply(this,arguments)}function yb(){return yb=(0,Ue.Z)(function*(n){const e=Et(n),t=v4(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;SO(e);)try{const i=yield aO(e.localStore,r);if(null===i){0===e.Eu.length&&t.jo();break}r=i.batchId,EO(e,i)}catch(i){yield yv(e,i)}YD(e)&&UD(e)}),yb.apply(this,arguments)}function SO(n){return g4(n)&&n.Eu.length<10}function EO(n,e){n.Eu.push(e);const t=v4(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function YD(n){return g4(n)&&!v4(n).Uo()&&n.Eu.length>0}function UD(n){v4(n).start()}function TO(n){return _b.apply(this,arguments)}function _b(){return _b=(0,Ue.Z)(function*(n){v4(n).hu()}),_b.apply(this,arguments)}function DO(n){return wb.apply(this,arguments)}function wb(){return wb=(0,Ue.Z)(function*(n){const e=v4(n);for(const t of n.Eu)e.uu(t.mutations)}),wb.apply(this,arguments)}function MO(n,e,t){return bb.apply(this,arguments)}function bb(){return bb=(0,Ue.Z)(function*(n,e,t){const r=n.Eu.shift(),i=Tt.from(r,e,t);yield BD(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield U8(n)}),bb.apply(this,arguments)}function xO(n,e){return Cb.apply(this,arguments)}function Cb(){return Cb=(0,Ue.Z)(function*(n,e){var t;e&&v4(n).ou&&(yield(t=(0,Ue.Z)(function*(r,i){if(Wr(o=i.code)&&o!==Ye.ABORTED){const c=r.Eu.shift();v4(r).Qo(),yield BD(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield U8(r)}var o}),function(r,i){return t.apply(this,arguments)})(n,e)),YD(n)&&UD(n)}),Cb.apply(this,arguments)}function jD(n,e){return Sb.apply(this,arguments)}function Sb(){return Sb=(0,Ue.Z)(function*(n,e){const t=Et(n);t.asyncQueue.verifyOperationInProgress(),dt("RemoteStore","RemoteStore received new credentials");const r=g4(t);t.vu.add(3),yield Y8(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield bm(t)}),Sb.apply(this,arguments)}function Eb(n,e){return Tb.apply(this,arguments)}function Tb(){return Tb=(0,Ue.Z)(function*(n,e){const t=Et(n);e?(t.vu.delete(2),yield bm(t)):e||(t.vu.add(2),yield Y8(t),t.bu.set("Unknown"))}),Tb.apply(this,arguments)}function j8(n){return n.Su||(n.Su=function(e,t,r){const i=Et(e);return i.fu(),new pO(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:wO.bind(null,n),ao:bO.bind(null,n),nu:CO.bind(null,n)}),n.Ru.push(function(){var e=(0,Ue.Z)(function*(t){t?(n.Su.Qo(),fb(n)?hb(n):n.bu.set("Unknown")):(yield n.Su.stop(),HD(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function v4(n){return n.Du||(n.Du=function(e,t,r){const i=Et(e);return i.fu(),new mO(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:TO.bind(null,n),ao:xO.bind(null,n),au:DO.bind(null,n),cu:MO.bind(null,n)}),n.Ru.push(function(){var e=(0,Ue.Z)(function*(t){t?(n.Du.Qo(),yield U8(n)):(yield n.Du.stop(),n.Eu.length>0&&(dt("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class Db{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new bi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,o){const c=Date.now()+r,h=new Db(e,t,c,i,o);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new nt(Ye.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $8(n,e){if(Or("AsyncQueue",`${e}: ${n}`),vc(n))return new nt(Ye.UNAVAILABLE,`${e}: ${n}`);throw n}class G8{constructor(e){this.comparator=e?(t,r)=>e(t,r)||St.comparator(t.key,r.key):(t,r)=>St.comparator(t.key,r.key),this.keyedMap=l4(),this.sortedSet=new dr(this.comparator)}static emptySet(e){return new G8(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof G8)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new G8;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class $D{constructor(){this.Cu=new dr(St.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Rt():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class q8{constructor(e,t,r,i,o,c,h,g,_){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(e,t,r,i,o){const c=[];return t.forEach(h=>{c.push({type:0,doc:h})}),new q8(e,t,G8.emptySet(t),c,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class IO{constructor(){this.Nu=void 0,this.listeners=[]}}class AO{constructor(){this.queries=new Ml(e=>p0(e),fd),this.onlineState="Unknown",this.ku=new Set}}function Mb(n,e){return xb.apply(this,arguments)}function xb(){return xb=(0,Ue.Z)(function*(n,e){const t=Et(n),r=e.query;let i=!1,o=t.queries.get(r);if(o||(i=!0,o=new IO),i)try{o.Nu=yield t.onListen(r)}catch(c){const h=$8(c,`Initialization of query '${U7(e.query)}' failed`);return void e.onError(h)}t.queries.set(r,o),o.listeners.push(e),e.Mu(t.onlineState),o.Nu&&e.$u(o.Nu)&&kb(t)}),xb.apply(this,arguments)}function Ib(n,e){return Ab.apply(this,arguments)}function Ab(){return Ab=(0,Ue.Z)(function*(n,e){const t=Et(n),r=e.query;let i=!1;const o=t.queries.get(r);if(o){const c=o.listeners.indexOf(e);c>=0&&(o.listeners.splice(c,1),i=0===o.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),Ab.apply(this,arguments)}function kO(n,e){const t=Et(n);let r=!1;for(const i of e){const c=t.queries.get(i.query);if(c){for(const h of c.listeners)h.$u(i)&&(r=!0);c.Nu=i}}r&&kb(t)}function zO(n,e,t){const r=Et(n),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(t);r.queries.delete(e)}function kb(n){n.ku.forEach(e=>{e.next()})}class zb{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new q8(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=q8.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class PO{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class GD{constructor(e){this.serializer=e}rr(e){return Uu(this.serializer,e)}ur(e){return e.metadata.exists?jT(this.serializer,e.document,!1):_r.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Ei(e)}}class OO{constructor(e,t,r){this.ju=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=qD(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const r=Bn.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,r=new GD(this.serializer);for(const i of e)if(i.metadata.queries){const o=r.rr(i.metadata.name);for(const c of i.metadata.queries){const h=(t.get(c)||Dn()).add(o);t.set(c,h)}}return t}complete(){var e=this;return(0,Ue.Z)(function*(){const t=yield function cO(n,e,t,r){return eb.apply(this,arguments)}(e.localStore,new GD(e.serializer),e.documents,e.ju.id),r=e.Wu(e.documents);for(const i of e.queries)yield lO(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function qD(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class WD{constructor(e){this.key=e}}class KD{constructor(e){this.key=e}}class ZD{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Dn(),this.mutatedKeys=Dn(),this.tc=Sw(e),this.ec=new G8(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new $D,i=t?t.ec:this.ec;let o=t?t.mutatedKeys:this.mutatedKeys,c=i,h=!1;const g="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,_="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((E,x)=>{const K=i.get(E),ne=O8(this.query,x)?x:null,ue=!!K&&this.mutatedKeys.has(K.key),De=!!ne&&(ne.hasLocalMutations||this.mutatedKeys.has(ne.key)&&ne.hasCommittedMutations);let Ie=!1;K&&ne?K.data.isEqual(ne.data)?ue!==De&&(r.track({type:3,doc:ne}),Ie=!0):this.rc(K,ne)||(r.track({type:2,doc:ne}),Ie=!0,(g&&this.tc(ne,g)>0||_&&this.tc(ne,_)<0)&&(h=!0)):!K&&ne?(r.track({type:0,doc:ne}),Ie=!0):K&&!ne&&(r.track({type:1,doc:K}),Ie=!0,(g||_)&&(h=!0)),Ie&&(ne?(c=c.add(ne),o=De?o.add(E):o.delete(E)):(c=c.delete(E),o=o.delete(E)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const E="F"===this.query.limitType?c.last():c.first();c=c.delete(E.key),o=o.delete(E.key),r.track({type:1,doc:E})}return{ec:c,ic:r,zi:h,mutatedKeys:o}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const o=e.ic.xu();o.sort((_,E)=>function(x,K){const ne=ue=>{switch(ue){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Rt()}};return ne(x)-ne(K)}(_.type,E.type)||this.tc(_.doc,E.doc)),this.oc(r);const c=t?this.uc():[],h=0===this.Zu.size&&this.current?1:0,g=h!==this.Xu;return this.Xu=h,0!==o.length||g?{snapshot:new q8(this.query,e.ec,i,o,e.mutatedKeys,0===h,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:c}:{cc:c}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new $D,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Dn(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new KD(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new WD(r))}),t}hc(e){this.Yu=e.ir,this.Zu=Dn();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return q8.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class RO{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class NO{constructor(e){this.key=e,this.fc=!1}}class FO{constructor(e,t,r,i,o,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.dc={},this.wc=new Ml(h=>p0(h),fd),this._c=new Map,this.mc=new Set,this.gc=new dr(St.comparator),this.yc=new Map,this.Ic=new Gw,this.Tc={},this.Ec=new Map,this.Ac=E0.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function LO(n,e){return Pb.apply(this,arguments)}function Pb(){return Pb=(0,Ue.Z)(function*(n,e){const t=nC(n);let r,i;const o=t.wc.get(e);if(o)r=o.targetId,t.sharedClientState.addLocalQueryTarget(r),i=o.view.lc();else{const c=yield H8(t.localStore,Qi(e)),h=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield Ob(t,e,r,"current"===h,c.resumeToken),t.isPrimaryClient&&vv(t.remoteStore,c)}return i}),Pb.apply(this,arguments)}function Ob(n,e,t,r,i){return Rb.apply(this,arguments)}function Rb(){return Rb=(0,Ue.Z)(function*(n,e,t,r,i){n.Rc=(x,K,ne)=>{return(ue=(0,Ue.Z)(function*(De,Ie,tt,pt){let ft=Ie.view.sc(tt);ft.zi&&(ft=yield hv(De.localStore,Ie.query,!1).then(({documents:Xt})=>Ie.view.sc(Xt,ft)));const gt=pt&&pt.targetChanges.get(Ie.targetId),qt=Ie.view.applyChanges(ft,De.isPrimaryClient,gt);return $b(De,Ie.targetId,qt.cc),qt.snapshot}),function(De,Ie,tt,pt){return ue.apply(this,arguments)})(n,x,K,ne);var ue};const o=yield hv(n.localStore,e,!0),c=new ZD(e,o.ir),h=c.sc(o.documents),g=cm.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),_=c.applyChanges(h,n.isPrimaryClient,g);$b(n,t,_.cc);const E=new RO(e,t,c);return n.wc.set(e,E),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),_.snapshot}),Rb.apply(this,arguments)}function VO(n,e){return Nb.apply(this,arguments)}function Nb(){return Nb=(0,Ue.Z)(function*(n,e){const t=Et(n),r=t.wc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(o=>!fd(o,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield B8(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Cm(t.remoteStore,r.targetId),W8(t,r.targetId)}).catch(od))):(W8(t,r.targetId),yield B8(t.localStore,r.targetId,!0))}),Nb.apply(this,arguments)}function Fb(){return Fb=(0,Ue.Z)(function*(n,e,t){const r=rC(n);try{const i=yield function(o,c){const h=Et(o),g=Kn.now(),_=c.reduce((K,ne)=>K.add(ne.key),Dn());let E,x;return h.persistence.runTransaction("Locally write mutations","readwrite",K=>{let ne=Jo(),ue=Dn();return h.Zi.getEntries(K,_).next(De=>{ne=De,ne.forEach((Ie,tt)=>{tt.isValidDocument()||(ue=ue.add(Ie))})}).next(()=>h.localDocuments.getOverlayedDocuments(K,ne)).next(De=>{E=De;const Ie=[];for(const tt of c){const pt=w(tt,E.get(tt.key).overlayedDocument);null!=pt&&Ie.push(new O(tt.key,pt,gw(pt.value.mapValue),s.exists(!0)))}return h.mutationQueue.addMutationBatch(K,g,Ie,c)}).next(De=>{x=De;const Ie=De.applyToLocalDocumentSet(E,ue);return h.documentOverlayCache.saveOverlays(K,De.batchId,Ie)})}).then(()=>({batchId:x.batchId,changes:rm(E)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,c,h){let g=o.Tc[o.currentUser.toKey()];g||(g=new dr(mn)),g=g.insert(c,h),o.Tc[o.currentUser.toKey()]=g}(r,i.batchId,t),yield md(r,i.changes),yield U8(r.remoteStore)}catch(i){const o=$8(i,"Failed to persist write");t.reject(o)}}),Fb.apply(this,arguments)}function QD(n,e){return Lb.apply(this,arguments)}function Lb(){return Lb=(0,Ue.Z)(function*(n,e){const t=Et(n);try{const r=yield function sO(n,e){const t=Et(n),r=e.snapshotVersion;let i=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const c=t.Zi.newChangeBuffer({trackRemovals:!0});i=t.Ji;const h=[];e.targetChanges.forEach((E,x)=>{const K=i.get(x);if(!K)return;h.push(t.Bs.removeMatchingKeys(o,E.removedDocuments,x).next(()=>t.Bs.addMatchingKeys(o,E.addedDocuments,x)));let ne=K.withSequenceNumber(o.currentSequenceNumber);var ue,De,Ie;null!==e.targetMismatches.get(x)?ne=ne.withResumeToken(Ci.EMPTY_BYTE_STRING,Wt.min()).withLastLimboFreeSnapshotVersion(Wt.min()):E.resumeToken.approximateByteSize()>0&&(ne=ne.withResumeToken(E.resumeToken,r)),i=i.insert(x,ne),De=ne,Ie=E,(0===(ue=K).resumeToken.approximateByteSize()||De.snapshotVersion.toMicroseconds()-ue.snapshotVersion.toMicroseconds()>=3e8||Ie.addedDocuments.size+Ie.modifiedDocuments.size+Ie.removedDocuments.size>0)&&h.push(t.Bs.updateTargetData(o,ne))});let g=Jo(),_=Dn();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,E))}),h.push(ID(o,c,e.documentUpdates).next(E=>{g=E.nr,_=E.sr})),!r.isEqual(Wt.min())){const E=t.Bs.getLastRemoteSnapshotVersion(o).next(x=>t.Bs.setTargetsMetadata(o,o.currentSequenceNumber,r));h.push(E)}return Fe.waitFor(h).next(()=>c.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,g,_)).next(()=>g)}).then(o=>(t.Ji=i,o))}(t.localStore,e);e.targetChanges.forEach((i,o)=>{const c=t.yc.get(o);c&&(Gt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.fc=!0:i.modifiedDocuments.size>0?Gt(c.fc):i.removedDocuments.size>0&&(Gt(c.fc),c.fc=!1))}),yield md(t,r,e)}catch(r){yield od(r)}}),Lb.apply(this,arguments)}function JD(n,e,t){const r=Et(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wc.forEach((o,c)=>{const h=c.view.Mu(e);h.snapshot&&i.push(h.snapshot)}),function(o,c){const h=Et(o);h.onlineState=c;let g=!1;h.queries.forEach((_,E)=>{for(const x of E.listeners)x.Mu(c)&&(g=!0)}),g&&kb(h)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function BO(n,e,t){return Vb.apply(this,arguments)}function Vb(){return Vb=(0,Ue.Z)(function*(n,e,t){const r=Et(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.yc.get(e),o=i&&i.key;if(o){let c=new dr(St.comparator);c=c.insert(o,_r.newNoDocument(o,Wt.min()));const h=Dn().add(o),g=new am(Wt.min(),new Map,new dr(mn),c,h);yield QD(r,g),r.gc=r.gc.remove(o),r.yc.delete(e),Gb(r)}else yield B8(r.localStore,e,!1).then(()=>W8(r,e,t)).catch(od)}),Vb.apply(this,arguments)}function YO(n,e){return Hb.apply(this,arguments)}function Hb(){return Hb=(0,Ue.Z)(function*(n,e){const t=Et(n),r=e.batch.batchId;try{const i=yield function oO(n,e){const t=Et(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.Zi.newChangeBuffer({trackRemovals:!0});return function(c,h,g,_){const E=g.batch,x=E.keys();let K=Fe.resolve();return x.forEach(ne=>{K=K.next(()=>_.getEntry(h,ne)).next(ue=>{const De=g.docVersions.get(ne);Gt(null!==De),ue.version.compareTo(De)<0&&(E.applyToRemoteDocument(ue,g),ue.isValidDocument()&&(ue.setReadTime(g.commitVersion),_.addEntry(ue)))})}),K.next(()=>c.mutationQueue.removeMutationBatch(h,E))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let h=Dn();for(let g=0;g<c.mutationResults.length;++g)c.mutationResults[g].transformResults.length>0&&(h=h.add(c.batch.mutations[g].key));return h}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);jb(t,r,null),Ub(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield md(t,i)}catch(i){yield od(i)}}),Hb.apply(this,arguments)}function UO(n,e,t){return Bb.apply(this,arguments)}function Bb(){return Bb=(0,Ue.Z)(function*(n,e,t){const r=Et(n);try{const i=yield function(o,c){const h=Et(o);return h.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return h.mutationQueue.lookupMutationBatch(g,c).next(E=>(Gt(null!==E),_=E.keys(),h.mutationQueue.removeMutationBatch(g,E))).next(()=>h.mutationQueue.performConsistencyCheck(g)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(g,_,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>h.localDocuments.getDocuments(g,_))})}(r.localStore,e);jb(r,e,t),Ub(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield md(r,i)}catch(i){yield od(i)}}),Bb.apply(this,arguments)}function Yb(){return Yb=(0,Ue.Z)(function*(n,e){const t=Et(n);g4(t.remoteStore)||dt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(o){const c=Et(o);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>c.mutationQueue.getHighestUnacknowledgedBatchId(h))}(t.localStore);if(-1===r)return void e.resolve();const i=t.Ec.get(r)||[];i.push(e),t.Ec.set(r,i)}catch(r){const i=$8(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),Yb.apply(this,arguments)}function Ub(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function jb(n,e,t){const r=Et(n);let i=r.Tc[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function W8(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||XD(n,r)})}function XD(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(Cm(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),Gb(n))}function $b(n,e,t){for(const r of t)r instanceof WD?(n.Ic.addReference(r.key,e),$O(n,r)):r instanceof KD?(dt("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||XD(n,r.key)):Rt()}function $O(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(dt("SyncEngine","New document in limbo: "+t),n.mc.add(r),Gb(n))}function Gb(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new St(Bn.fromString(e)),r=n.Ac.next();n.yc.set(r,new NO(t)),n.gc=n.gc.insert(t,r),vv(n.remoteStore,new pd(Qi(a4(t.path)),r,"TargetPurposeLimboResolution",Qo.ct))}}function md(n,e,t){return qb.apply(this,arguments)}function qb(){return qb=(0,Ue.Z)(function*(n,e,t){const r=Et(n),i=[],o=[],c=[];var h;r.wc.isEmpty()||(r.wc.forEach((h,g)=>{c.push(r.Rc(g,e,t).then(_=>{if((_||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(g.targetId,_?.fromCache?"not-current":"current"),_){i.push(_);const E=Qw.Li(g.targetId,_);o.push(E)}}))}),yield Promise.all(c),r.dc.nu(i),yield(h=(0,Ue.Z)(function*(g,_){const E=Et(g);try{yield E.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>Fe.forEach(_,K=>Fe.forEach(K.Fi,ne=>E.persistence.referenceDelegate.addReference(x,K.targetId,ne)).next(()=>Fe.forEach(K.Bi,ne=>E.persistence.referenceDelegate.removeReference(x,K.targetId,ne)))))}catch(x){if(!vc(x))throw x;dt("LocalStore","Failed to update sequence numbers: "+x)}for(const x of _){const K=x.targetId;if(!x.fromCache){const ne=E.Ji.get(K),De=ne.withLastLimboFreeSnapshotVersion(ne.snapshotVersion);E.Ji=E.Ji.insert(K,De)}}}),function(g,_){return h.apply(this,arguments)})(r.localStore,o))}),qb.apply(this,arguments)}function GO(n,e){return Wb.apply(this,arguments)}function Wb(){return Wb=(0,Ue.Z)(function*(n,e){const t=Et(n);if(!t.currentUser.isEqual(e)){dt("SyncEngine","User change. New user:",e.toKey());const r=yield MD(t.localStore,e);t.currentUser=e,(i=t).Ec.forEach(c=>{c.forEach(h=>{h.reject(new nt(Ye.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield md(t,r.er)}var i}),Wb.apply(this,arguments)}function qO(n,e){const t=Et(n),r=t.yc.get(e);if(r&&r.fc)return Dn().add(r.key);{let i=Dn();const o=t._c.get(e);if(!o)return i;for(const c of o){const h=t.wc.get(c);i=i.unionWith(h.view.nc)}return i}}function WO(n,e){return Kb.apply(this,arguments)}function Kb(){return Kb=(0,Ue.Z)(function*(n,e){const t=Et(n),r=yield hv(t.localStore,e.query,!0),i=e.view.hc(r);return t.isPrimaryClient&&$b(t,e.targetId,i.cc),i}),Kb.apply(this,arguments)}function KO(n,e){return Zb.apply(this,arguments)}function Zb(){return Zb=(0,Ue.Z)(function*(n,e){const t=Et(n);return kD(t.localStore,e).then(r=>md(t,r))}),Zb.apply(this,arguments)}function ZO(n,e,t,r){return Qb.apply(this,arguments)}function Qb(){return Qb=(0,Ue.Z)(function*(n,e,t,r){const i=Et(n),o=yield function(c,h){const g=Et(c),_=Et(g.mutationQueue);return g.persistence.runTransaction("Lookup mutation documents","readonly",E=>_.Sn(E,h).next(x=>x?g.localDocuments.getDocuments(E,x):Fe.resolve(null)))}(i.localStore,e);var h;null!==o?("pending"===t?yield U8(i.remoteStore):"acknowledged"===t||"rejected"===t?(jb(i,e,r||null),Ub(i,e),h=e,Et(Et(i.localStore).mutationQueue).Cn(h)):Rt(),yield md(i,o)):dt("SyncEngine","Cannot apply mutation batch with id: "+e)}),Qb.apply(this,arguments)}function Jb(){return Jb=(0,Ue.Z)(function*(n,e){const t=Et(n);if(nC(t),rC(t),!0===e&&!0!==t.vc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield eM(t,r.toArray());t.vc=!0,yield Eb(t.remoteStore,!0);for(const o of i)vv(t.remoteStore,o)}else if(!1===e&&!1!==t.vc){const r=[];let i=Promise.resolve();t._c.forEach((o,c)=>{t.sharedClientState.isLocalQueryTarget(c)?r.push(c):i=i.then(()=>(W8(t,c),B8(t.localStore,c,!0))),Cm(t.remoteStore,c)}),yield i,yield eM(t,r),function(o){const c=Et(o);c.yc.forEach((h,g)=>{Cm(c.remoteStore,g)}),c.Ic.Ts(),c.yc=new Map,c.gc=new dr(St.comparator)}(t),t.vc=!1,yield Eb(t.remoteStore,!1)}}),Jb.apply(this,arguments)}function eM(n,e,t){return Xb.apply(this,arguments)}function Xb(){return Xb=(0,Ue.Z)(function*(n,e,t){const r=Et(n),i=[],o=[];for(const c of e){let h;const g=r._c.get(c);if(g&&0!==g.length){h=yield H8(r.localStore,Qi(g[0]));for(const _ of g){const E=r.wc.get(_),x=yield WO(r,E);x.snapshot&&o.push(x.snapshot)}}else{const _=yield AD(r.localStore,c);h=yield H8(r.localStore,_),yield Ob(r,tM(_),c,!1,h.resumeToken)}i.push(h)}return r.dc.nu(o),i}),Xb.apply(this,arguments)}function tM(n){return f0(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function JO(n){const e=Et(n);return Et(Et(e.localStore).persistence).$i()}function XO(n,e,t,r){return eC.apply(this,arguments)}function eC(){return eC=(0,Ue.Z)(function*(n,e,t,r){const i=Et(n);if(i.vc)return void dt("SyncEngine","Ignoring unexpected query state notification.");const o=i._c.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const c=yield kD(i.localStore,Cw(o[0])),h=am.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Ci.EMPTY_BYTE_STRING);yield md(i,c,h);break}case"rejected":yield B8(i.localStore,e,!0),W8(i,e,r);break;default:Rt()}}),eC.apply(this,arguments)}function eR(n,e,t){return tC.apply(this,arguments)}function tC(){return tC=(0,Ue.Z)(function*(n,e,t){const r=nC(n);if(r.vc){for(const i of e){if(r._c.has(i)){dt("SyncEngine","Adding an already active target "+i);continue}const o=yield AD(r.localStore,i),c=yield H8(r.localStore,o);yield Ob(r,tM(o),c.targetId,!1,c.resumeToken),vv(r.remoteStore,c)}for(const i of t)r._c.has(i)&&(yield B8(r.localStore,i,!1).then(()=>{Cm(r.remoteStore,i),W8(r,i)}).catch(od))}}),tC.apply(this,arguments)}function nC(n){const e=Et(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=QD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=BO.bind(null,e),e.dc.nu=kO.bind(null,e.eventManager),e.dc.Pc=zO.bind(null,e.eventManager),e}function rC(n){const e=Et(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=YO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=UO.bind(null,e),e}class Sm{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ue.Z)(function*(){t.serializer=wm(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return DD(this.persistence,new TD,e.initialUser,this.serializer)}createPersistence(e){return new qw(lv.zs,this.serializer)}createSharedClientState(e){return new RD}terminate(){var e=this;return(0,Ue.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class iC extends Sm{constructor(e,t,r){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Ue.Z)(function*(){yield t().call(r,e),yield r.Vc.initialize(r,e),yield rC(r.Vc.syncEngine),yield U8(r.Vc.remoteStore),yield r.persistence.Ii(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return DD(this.persistence,new TD,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new gD(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new sw(t,this.persistence);return new ow(e.asyncQueue,r)}createPersistence(e){const t=Zw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Xo.withCacheSize(this.cacheSizeBytes):Xo.DEFAULT;return new Kw(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,FD(),gv(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new RD}}class nM extends iC{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Ue.Z)(function*(){yield t().call(r,e);const i=r.Vc.syncEngine;r.sharedClientState instanceof ob&&(r.sharedClientState.syncEngine={jr:ZO.bind(null,i),zr:XO.bind(null,i),Wr:eR.bind(null,i),$i:JO.bind(null,i),Qr:KO.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Ii(function(){var o=(0,Ue.Z)(function*(c){yield function QO(n,e){return Jb.apply(this,arguments)}(r.Vc.syncEngine,c),r.gcScheduler&&(c&&!r.gcScheduler.started?r.gcScheduler.start():c||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(c&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():c||r.indexBackfillerScheduler.stop())});return function(c){return o.apply(this,arguments)}}())})()}createSharedClientState(e){const t=FD();if(!ob.D(t))throw new nt(Ye.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Zw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ob(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class K8{initialize(e,t){var r=this;return(0,Ue.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>JD(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=GO.bind(null,r.syncEngine),yield Eb(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new AO}createDatastore(e){const t=wm(e.databaseInfo.databaseId),r=new fO(e.databaseInfo);return new gO(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,o=h=>JD(this.syncEngine,h,0),c=ND.D()?new ND:new uO,new _O(t,r,i,o,c);var t,r,i,o,c}createSyncEngine(e,t){return function(r,i,o,c,h,g,_){const E=new FO(r,i,o,c,h,g);return _&&(E.vc=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ue.Z)(function*(t){const r=Et(t);dt("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Y8(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function rM(n,e=10240){let t=0;return{read:()=>(0,Ue.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Ue.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class _v{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Or("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class rR{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new bi,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,Ue.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,Ue.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,Ue.Z)(function*(){const t=yield e.kc();if(null===t)return null;const r=e.xc.decode(t),i=Number(r);isNaN(i)&&e.Mc(`length string (${r}) is not valid number`);const o=yield e.$c(i);return new PO(JSON.parse(o),t.length+i)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,Ue.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}$c(e){var t=this;return(0,Ue.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const r=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,Ue.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class iR{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ue.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new nt(Ye.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,Ue.Z)(function*(o,c){const h=Et(o),g=um(h.serializer)+"/documents",_={documents:c.map(ne=>lm(h.serializer,ne))},E=yield h.vo("BatchGetDocuments",g,_,c.length),x=new Map;E.forEach(ne=>{const ue=function TP(n,e){return"found"in e?function(t,r){Gt(!!r.found);const i=Uu(t,r.found.name),o=Ei(r.found.updateTime),c=r.found.createTime?Ei(r.found.createTime):Wt.min(),h=new Zi({mapValue:{fields:r.found.fields}});return _r.newFoundDocument(i,o,c,h)}(n,e):"missing"in e?function(t,r){Gt(!!r.missing),Gt(!!r.readTime);const i=Uu(t,r.missing),o=Ei(r.readTime);return _r.newNoDocument(i,o)}(n,e):Rt()}(h.serializer,ne);x.set(ue.key.toString(),ue)});const K=[];return c.forEach(ne=>{const ue=x.get(ne.toString());Gt(!!ue),K.push(ue)}),K}),function(o,c){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Pe(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ue.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const o=St.fromPath(i);e.mutations.push(new Qe(o,e.precondition(o)))}),yield(r=(0,Ue.Z)(function*(i,o){const c=Et(i),h=um(c.serializer)+"/documents",g={writes:o.map(_=>dm(c.serializer,_))};yield c.Io("Commit",h,g)}),function(i,o){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Rt();t=Wt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new nt(Ye.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Wt.min())?s.exists(!1):s.updateTime(t):s.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Wt.min()))throw new nt(Ye.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return s.updateTime(t)}return s.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class oR{constructor(e,t,r,i,o){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=o,this.Bc=r.maxAttempts,this.qo=new ab(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,Ue.Z)(function*(){const t=new iR(e.datastore),r=e.qc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(o=>{e.Uc(o)}))}).catch(i=>{e.Uc(i)})}))}qc(e){try{const t=this.updateFunction(e);return!o4(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Wr(t)}return!1}}class sR{constructor(e,t,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=ni.UNAUTHENTICATED,this.clientId=S7.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,Ue.Z)(function*(h){dt("FirestoreClient","Received user=",h.uid),yield o.authCredentialListener(h),o.user=h});return function(h){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(dt("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,Ue.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new nt(Ye.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new bi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ue.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=$8(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function wv(n,e){return oC.apply(this,arguments)}function oC(){return oC=(0,Ue.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),dt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,Ue.Z)(function*(o){r.isEqual(o)||(yield MD(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),oC.apply(this,arguments)}function sC(n,e){return aC.apply(this,arguments)}function aC(){return aC=(0,Ue.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield cC(n);dt("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>jD(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>jD(e.remoteStore,o)),n._onlineComponents=e}),aC.apply(this,arguments)}function iM(n){return"FirebaseError"===n.name?n.code===Ye.FAILED_PRECONDITION||n.code===Ye.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function cC(n){return lC.apply(this,arguments)}function lC(){return lC=(0,Ue.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){dt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield wv(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!iM(t))throw t;Ts("Error using user provided cache. Falling back to memory cache: "+t),yield wv(n,new Sm)}}else dt("FirestoreClient","Using default OfflineComponentProvider"),yield wv(n,new Sm);return n._offlineComponents}),lC.apply(this,arguments)}function bv(n){return uC.apply(this,arguments)}function uC(){return uC=(0,Ue.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(dt("FirestoreClient","Using user provided OnlineComponentProvider"),yield sC(n,n._uninitializedComponentsProvider._online)):(dt("FirestoreClient","Using default OnlineComponentProvider"),yield sC(n,new K8))),n._onlineComponents}),uC.apply(this,arguments)}function oM(n){return cC(n).then(e=>e.persistence)}function Cv(n){return cC(n).then(e=>e.localStore)}function sM(n){return bv(n).then(e=>e.remoteStore)}function dC(n){return bv(n).then(e=>e.syncEngine)}function Z8(n){return hC.apply(this,arguments)}function hC(){return hC=(0,Ue.Z)(function*(n){const e=yield bv(n),t=e.eventManager;return t.onListen=LO.bind(null,e.syncEngine),t.onUnlisten=VO.bind(null,e.syncEngine),t}),hC.apply(this,arguments)}function cM(n,e,t={}){const r=new bi;return n.asyncQueue.enqueueAndForget((0,Ue.Z)(function*(){return function(i,o,c,h,g){const _=new _v({next:x=>{o.enqueueAndForget(()=>Ib(i,E));const K=x.docs.has(c);!K&&x.fromCache?g.reject(new nt(Ye.UNAVAILABLE,"Failed to get document because the client is offline.")):K&&x.fromCache&&h&&"server"===h.source?g.reject(new nt(Ye.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(x)},error:x=>g.reject(x)}),E=new zb(a4(c.path),_,{includeMetadataChanges:!0,Ku:!0});return Mb(i,E)}(yield Z8(n),n.asyncQueue,e,t,r)})),r.promise}function lM(n,e,t={}){const r=new bi;return n.asyncQueue.enqueueAndForget((0,Ue.Z)(function*(){return function(i,o,c,h,g){const _=new _v({next:x=>{o.enqueueAndForget(()=>Ib(i,E)),x.fromCache&&"server"===h.source?g.reject(new nt(Ye.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(x)},error:x=>g.reject(x)}),E=new zb(c,_,{includeMetadataChanges:!0,Ku:!0});return Mb(i,E)}(yield Z8(n),n.asyncQueue,e,t,r)})),r.promise}function uM(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const dM=new Map;function fC(n,e,t){if(!t)throw new nt(Ye.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function hM(n,e,t,r){if(!0===e&&!0===r)throw new nt(Ye.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function fM(n){if(!St.isDocumentKey(n))throw new nt(Ye.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function pM(n){if(St.isDocumentKey(n))throw new nt(Ye.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Sv(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Rt()}function Fn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new nt(Ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Sv(n);throw new nt(Ye.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function mM(n,e){if(e<=0)throw new nt(Ye.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class gM{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new nt(Ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new nt(Ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=uM(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new nt(Ye.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new nt(Ye.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new nt(Ye.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Em{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gM({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new nt(Ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new nt(Ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gM(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new y7;switch(t.type){case"firstParty":return new b7(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new nt(Ye.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=dM.get(e);t&&(dt("ComponentProvider","Removing Datastore"),dM.delete(e),t.terminate())}(this),Promise.resolve()}}class Nr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ju(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nr(this.firestore,e,this._key)}}class zo{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new zo(this.firestore,e,this._query)}}class ju extends zo{constructor(e,t,r){super(e,t,a4(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nr(this.firestore,null,new St(e))}withConverter(e){return new ju(this.firestore,e,this._path)}}function yM(n,e,...t){if(n=(0,wn.m9)(n),fC("collection","path",e),n instanceof Em){const r=Bn.fromString(e,...t);return pM(r),new ju(n,null,r)}{if(!(n instanceof Nr||n instanceof ju))throw new nt(Ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Bn.fromString(e,...t));return pM(r),new ju(n.firestore,null,r)}}function Ev(n,e,...t){if(n=(0,wn.m9)(n),1===arguments.length&&(e=S7.A()),fC("doc","path",e),n instanceof Em){const r=Bn.fromString(e,...t);return fM(r),new Nr(n,null,new St(r))}{if(!(n instanceof Nr||n instanceof ju))throw new nt(Ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Bn.fromString(e,...t));return fM(r),new Nr(n.firestore,n instanceof ju?n.converter:null,new St(r))}}function _M(n,e){return n=(0,wn.m9)(n),e=(0,wn.m9)(e),(n instanceof Nr||n instanceof ju)&&(e instanceof Nr||e instanceof ju)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function pC(n,e){return n=(0,wn.m9)(n),e=(0,wn.m9)(e),n instanceof zo&&e instanceof zo&&n.firestore===e.firestore&&fd(n._query,e._query)&&n.converter===e.converter}class gR{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new ab(this,"async_queue_retry"),this.Xc=()=>{const t=gv();t&&dt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=gv();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=gv();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new bi;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,Ue.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!vc(t))throw t;dt("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,Or("INTERNAL UNHANDLED ERROR: ",function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),c}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=Db.createAndSchedule(this,e,t,r,o=>this.na(o));return this.zc.push(i),i}Zc(){this.Wc&&Rt()}verifyOperationInProgress(){}sa(){var e=this;return(0,Ue.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function mC(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class vR{constructor(){this._progressObserver={},this._taskCompletionResolver=new bi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Fr extends Em{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new gR,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||wM(this),this._firestoreClient.terminate()}}function Ti(n){return n._firestoreClient||wM(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function wM(n){var e,t,r;const i=n._freezeSettings(),o=(h=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new mw(n._databaseId,h,n._persistenceKey,(_=i).host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,uM(_.experimentalLongPollingOptions),_.useFetchStreams));var h,_;n._firestoreClient=new sR(n._authCredentials,n._appCheckCredentials,n._queue,o),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function bM(n,e,t){const r=new bi;return n.asyncQueue.enqueue((0,Ue.Z)(function*(){try{yield wv(n,t),yield sC(n,e),r.resolve()}catch(i){const o=i;if(!iM(o))throw o;Ts("Error enabling indexeddb cache. Falling back to memory cache: "+o),r.reject(o)}})).then(()=>r.promise)}function CM(n){if(n._initialized||n._terminated)throw new nt(Ye.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class $u{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $u(Ci.fromBase64String(e))}catch(t){throw new nt(Ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new $u(Ci.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class gd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new nt(Ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class D0{constructor(e){this._methodName=e}}class Tv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new nt(Ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new nt(Ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return mn(this._lat,e._lat)||mn(this._long,e._long)}}const xR=/^__.*__$/;class IR{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new O(e,this.data,this.fieldMask,t,this.fieldTransforms):new D(e,this.data,t,this.fieldTransforms)}}class SM{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new O(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function EM(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Rt()}}class Dv{constructor(e,t,r,i,o,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.ua(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Dv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Iv(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(EM(this.ca)&&xR.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class AR{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||wm(e)}ya(e,t,r,i=!1){return new Dv({ca:e,methodName:t,ga:r,path:Rr.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function M0(n){const e=n._freezeSettings(),t=wm(n._databaseId);return new AR(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Mv(n,e,t,r,i,o={}){const c=n.ya(o.merge||o.mergeFields?2:0,e,t,i);_C("Data must be an object, but it was:",c,r);const h=MM(r,c);let g,_;if(o.merge)g=new Ds(c.fieldMask),_=c.fieldTransforms;else if(o.mergeFields){const E=[];for(const x of o.mergeFields){const K=Mm(e,x,t);if(!c.contains(K))throw new nt(Ye.INVALID_ARGUMENT,`Field '${K}' is specified in your field mask but missing from your input data.`);IM(E,K)||E.push(K)}g=new Ds(E),_=c.fieldTransforms.filter(x=>g.covers(x.field))}else g=null,_=c.fieldTransforms;return new IR(new Zi(h),g,_)}class Dm extends D0{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Dm}}function TM(n,e,t){return new Dv({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class gC extends D0{_toFieldTransform(e){return new R8(e.path,new v0)}isEqual(e){return e instanceof gC}}class kR extends D0{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=TM(this,e,!0),r=this.pa.map(o=>x0(o,t)),i=new u4(r);return new R8(e.path,i)}isEqual(e){return this===e}}class zR extends D0{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=TM(this,e,!0),r=this.pa.map(o=>x0(o,t)),i=new d4(r);return new R8(e.path,i)}isEqual(e){return this===e}}class PR extends D0{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new y0(e.serializer,Tw(e.serializer,this.Ia));return new R8(e.path,t)}isEqual(e){return this===e}}function vC(n,e,t,r){const i=n.ya(1,e,t);_C("Data must be an object, but it was:",i,r);const o=[],c=Zi.empty();Fu(r,(g,_)=>{const E=xv(e,g,t);_=(0,wn.m9)(_);const x=i.da(E);if(_ instanceof Dm)o.push(E);else{const K=x0(_,x);null!=K&&(o.push(E),c.set(E,K))}});const h=new Ds(o);return new SM(c,h,i.fieldTransforms)}function yC(n,e,t,r,i,o){const c=n.ya(1,e,t),h=[Mm(e,r,t)],g=[i];if(o.length%2!=0)throw new nt(Ye.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let K=0;K<o.length;K+=2)h.push(Mm(e,o[K])),g.push(o[K+1]);const _=[],E=Zi.empty();for(let K=h.length-1;K>=0;--K)if(!IM(_,h[K])){const ne=h[K];let ue=g[K];ue=(0,wn.m9)(ue);const De=c.da(ne);if(ue instanceof Dm)_.push(ne);else{const Ie=x0(ue,De);null!=Ie&&(_.push(ne),E.set(ne,Ie))}}const x=new Ds(_);return new SM(E,x,c.fieldTransforms)}function DM(n,e,t,r=!1){return x0(t,n.ya(r?4:3,e))}function x0(n,e){if(xM(n=(0,wn.m9)(n)))return _C("Unsupported field value:",e,n),MM(n,e);if(n instanceof D0)return function(t,r){if(!EM(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let o=0;for(const c of t){let h=x0(c,r.wa(o));null==h&&(h={nullValue:"NULL_VALUE"}),i.push(h),o++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,wn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Tw(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Kn.fromDate(t);return{timestampValue:N8(r.serializer,i)}}if(t instanceof Kn){const i=new Kn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:N8(r.serializer,i)}}if(t instanceof Tv)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof $u)return{bytesValue:VT(r.serializer,t._byteString)};if(t instanceof Nr){const i=r.databaseId,o=t.firestore._databaseId;if(!o.isEqual(i))throw r._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Rw(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${Sv(t)}`)}(n,e)}function MM(n,e){const t={};return dw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fu(n,(r,i)=>{const o=x0(i,e.ha(r));null!=o&&(t[r]=o)}),{mapValue:{fields:t}}}function xM(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Kn||n instanceof Tv||n instanceof $u||n instanceof Nr||n instanceof D0)}function _C(n,e,t){if(!xM(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Sv(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function Mm(n,e,t){if((e=(0,wn.m9)(e))instanceof gd)return e._internalPath;if("string"==typeof e)return xv(n,e);throw Iv("Field path arguments must be of type string or ",n,!1,void 0,t)}const OR=new RegExp("[~\\*/\\[\\]]");function xv(n,e,t){if(e.search(OR)>=0)throw Iv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new gd(...e.split("."))._internalPath}catch{throw Iv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Iv(n,e,t,r,i){const o=r&&!r.isEmpty(),c=void 0!==i;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let g="";return(o||c)&&(g+=" (found",o&&(g+=` in field ${r}`),c&&(g+=` in document ${i}`),g+=")"),new nt(Ye.INVALID_ARGUMENT,h+n+g)}function IM(n,e){return n.some(t=>t.isEqual(e))}class xm{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Nr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new RR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Av("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class RR extends xm{data(){return super.data()}}function Av(n,e){return"string"==typeof e?xv(n,e):e instanceof gd?e._internalPath:e._delegate._internalPath}function AM(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new nt(Ye.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wC{}class Im extends wC{}function y4(n,e,...t){let r=[];e instanceof wC&&r.push(e),r=r.concat(t),function(i){const o=i.filter(h=>h instanceof Q8).length,c=i.filter(h=>h instanceof Am).length;if(o>1||o>0&&c>0)throw new nt(Ye.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class Am extends Im{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Am(e,t,r)}_apply(e){const t=this._parse(e);return OM(e._query,t),new zo(e.firestore,e.converter,nm(e._query,t))}_parse(e){const t=M0(e.firestore);return function(i,o,c,h,g,_,E){let x;if(g.isKeyField()){if("array-contains"===_||"array-contains-any"===_)throw new nt(Ye.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if("in"===_||"not-in"===_){PM(E,_);const K=[];for(const ne of E)K.push(zM(h,i,ne));x={arrayValue:{values:K}}}else x=zM(h,i,E)}else"in"!==_&&"not-in"!==_&&"array-contains-any"!==_||PM(E,_),x=DM(c,"where",E,"in"===_||"not-in"===_);return Rn.create(g,_,x)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Q8 extends wC{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Q8(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:qn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let o=r;const c=i.getFlattenedFilters();for(const h of c)OM(o,h),o=nm(o,h)}(e._query,t),new zo(e.firestore,e.converter,nm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class bC extends Im{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new bC(e,t)}_apply(e){const t=function(r,i,o){if(null!==r.startAt)throw new nt(Ye.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new nt(Ye.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new dd(i,o);return function(h,g){if(null===z8(h)){const _=Cc(h);null!==_&&RM(0,_,g.field)}}(r,c),c}(e._query,this._field,this._direction);return new zo(e.firestore,e.converter,function(r,i){const o=r.explicitOrderBy.concat([i]);return new Tl(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class kv extends Im{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new kv(e,t,r)}_apply(e){return new zo(e.firestore,e.converter,c4(e._query,this._limit,this._limitType))}}class zv extends Im{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new zv(e,t,r)}_apply(e){const t=kM(e,this.type,this._docOrFields,this._inclusive);return new zo(e.firestore,e.converter,(i=t,new Tl((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class Pv extends Im{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Pv(e,t,r)}_apply(e){const t=kM(e,this.type,this._docOrFields,this._inclusive);return new zo(e.firestore,e.converter,(i=t,new Tl((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function kM(n,e,t,r){if(t[0]=(0,wn.m9)(t[0]),t[0]instanceof xm)return function(i,o,c,h,g){if(!h)throw new nt(Ye.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const _=[];for(const E of Dl(i))if(E.field.isKeyField())_.push(ld(o,h.key));else{const x=h.data.field(E.field);if(c0(x))throw new nt(Ye.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+E.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===x){const K=E.field.canonicalString();throw new nt(Ye.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${K}' (used as the orderBy) does not exist.`)}_.push(x)}return new Yu(_,g)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=M0(n.firestore);return function(o,c,h,g,_,E){const x=o.explicitOrderBy;if(_.length>x.length)throw new nt(Ye.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const K=[];for(let ne=0;ne<_.length;ne++){const ue=_[ne];if(x[ne].field.isKeyField()){if("string"!=typeof ue)throw new nt(Ye.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof ue}`);if(!P8(o)&&-1!==ue.indexOf("/"))throw new nt(Ye.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${ue}' contains a slash.`);const De=o.path.child(Bn.fromString(ue));if(!St.isDocumentKey(De))throw new nt(Ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${De}' is not because it contains an odd number of segments.`);const Ie=new St(De);K.push(ld(c,Ie))}else{const De=DM(h,g,ue);K.push(De)}}return new Yu(K,E)}(n._query,n.firestore._databaseId,i,e,t,r)}}function zM(n,e,t){if("string"==typeof(t=(0,wn.m9)(t))){if(""===t)throw new nt(Ye.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!P8(e)&&-1!==t.indexOf("/"))throw new nt(Ye.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Bn.fromString(t));if(!St.isDocumentKey(r))throw new nt(Ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ld(n,new St(r))}if(t instanceof Nr)return ld(n,t._key);throw new nt(Ye.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sv(t)}.`)}function PM(n,e){if(!Array.isArray(n)||0===n.length)throw new nt(Ye.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function OM(n,e){if(e.isInequality()){const r=Cc(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new nt(Ye.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const o=z8(n);null!==o&&RM(0,i,o)}const t=function(r,i){for(const o of r)for(const c of o.getFlattenedFilters())if(i.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new nt(Ye.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function RM(n,e,t){if(!t.isEqual(e))throw new nt(Ye.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class CC{convertValue(e,t="none"){switch(Si(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(yc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Rt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Fu(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertGeoPoint(e){return new Tv(qr(e.latitude),qr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=$p(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(ko(e));default:return null}}convertTimestamp(e){const t=ad(e);return new Kn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Bn.fromString(e);Gt(KT(r));const i=new _c(r.get(1),r.get(3)),o=new St(r.popFirst(5));return i.isEqual(t)||Or(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}function Ov(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class jR extends CC{constructor(e){super(),this.firestore=e}convertBytes(e){return new $u(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Nr(this.firestore,null,t)}}class I0{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vd extends xm{constructor(e,t,r,i,o,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new km(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Av("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class km extends vd{data(e={}){return super.data(e)}}class _4{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new I0(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new km(this._firestore,this._userDataWriter,r.key,r,new I0(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new nt(Ye.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new km(r._firestore,r._userDataWriter,c.doc.key,c.doc,new I0(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}))}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const h=new km(r._firestore,r._userDataWriter,c.doc.key,c.doc,new I0(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let g=-1,_=-1;return 0!==c.type&&(g=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),1!==c.type&&(o=o.add(c.doc),_=o.indexOf(c.doc.key)),{type:GR(c.type),doc:h,oldIndex:g,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function GR(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Rt()}}function FM(n,e){return n instanceof vd&&e instanceof vd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof _4&&e instanceof _4&&n._firestore===e._firestore&&pC(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class w4 extends CC{constructor(e){super(),this.firestore=e}convertBytes(e){return new $u(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Nr(this.firestore,null,t)}}function LM(n,e,t){n=Fn(n,Nr);const r=Fn(n.firestore,Fr),i=Ov(n.converter,e,t);return J8(r,[Mv(M0(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,s.none())])}function VM(n,e,t,...r){n=Fn(n,Nr);const i=Fn(n.firestore,Fr),o=M0(i);let c;return c="string"==typeof(e=(0,wn.m9)(e))||e instanceof gd?yC(o,"updateDoc",n._key,e,t,r):vC(o,"updateDoc",n._key,e),J8(i,[c.toMutation(n._key,s.exists(!0))])}function HM(n,...e){var t,r,i;n=(0,wn.m9)(n);let o={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||mC(e[c])||(o=e[c],c++);const h={includeMetadataChanges:o.includeMetadataChanges};if(mC(e[c])){const x=e[c];e[c]=null===(t=x.next)||void 0===t?void 0:t.bind(x),e[c+1]=null===(r=x.error)||void 0===r?void 0:r.bind(x),e[c+2]=null===(i=x.complete)||void 0===i?void 0:i.bind(x)}let g,_,E;if(n instanceof Nr)_=Fn(n.firestore,Fr),E=a4(n._key.path),g={next:x=>{e[c]&&e[c](SC(_,n,x))},error:e[c+1],complete:e[c+2]};else{const x=Fn(n,zo);_=Fn(x.firestore,Fr),E=x._query;const K=new w4(_);g={next:ne=>{e[c]&&e[c](new _4(_,K,x,ne))},error:e[c+1],complete:e[c+2]},AM(n._query)}return function(x,K,ne,ue){const De=new _v(ue),Ie=new zb(K,De,ne);return x.asyncQueue.enqueueAndForget((0,Ue.Z)(function*(){return Mb(yield Z8(x),Ie)})),()=>{De.Dc(),x.asyncQueue.enqueueAndForget((0,Ue.Z)(function*(){return Ib(yield Z8(x),Ie)}))}}(Ti(_),E,h,g)}function J8(n,e){return function(t,r){const i=new bi;return t.asyncQueue.enqueueAndForget((0,Ue.Z)(function*(){return function HO(n,e,t){return Fb.apply(this,arguments)}(yield dC(t),r,i)})),i.promise}(Ti(n),e)}function SC(n,e,t){const r=t.docs.get(e._key),i=new w4(n);return new vd(n,i,e._key,r,new I0(t.hasPendingWrites,t.fromCache),e.converter)}const uN={maxAttempts:5};class BM{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=M0(e)}set(e,t,r){this._verifyNotCommitted();const i=b4(e,this._firestore),o=Ov(i.converter,t,r),c=Mv(this._dataReader,"WriteBatch.set",i._key,o,null!==i.converter,r);return this._mutations.push(c.toMutation(i._key,s.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const o=b4(e,this._firestore);let c;return c="string"==typeof(t=(0,wn.m9)(t))||t instanceof gd?yC(this._dataReader,"WriteBatch.update",o._key,t,r,i):vC(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(c.toMutation(o._key,s.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=b4(e,this._firestore);return this._mutations=this._mutations.concat(new Pe(t._key,s.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new nt(Ye.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function b4(n,e){if((n=(0,wn.m9)(n)).firestore!==e)throw new nt(Ye.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class dN extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=M0(e)}get(e){const t=b4(e,this._firestore),r=new jR(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return Rt();const o=i[0];if(o.isFoundDocument())return new xm(this._firestore,r,o.key,o,t.converter);if(o.isNoDocument())return new xm(this._firestore,r,t._key,null,t.converter);throw Rt()})}set(e,t,r){const i=b4(e,this._firestore),o=Ov(i.converter,t,r),c=Mv(this._dataReader,"Transaction.set",i._key,o,null!==i.converter,r);return this._transaction.set(i._key,c),this}update(e,t,r,...i){const o=b4(e,this._firestore);let c;return c="string"==typeof(t=(0,wn.m9)(t))||t instanceof gd?yC(this._dataReader,"Transaction.update",o._key,t,r,i):vC(this._dataReader,"Transaction.update",o._key,t),this._transaction.update(o._key,c),this}delete(e){const t=b4(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=b4(e,this._firestore),r=new w4(this._firestore);return super.get(e).then(i=>new vd(this._firestore,r,t._key,i._document,new I0(!1,!1),t.converter))}}!function(n,e=!0){Sl=$i.SDK_VERSION,(0,$i._registerComponent)(new Eu.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const o=t.getProvider("app").getImmediate(),c=new Fr(new _7(t.getProvider("auth-internal")),new X_(t.getProvider("app-check-internal")),function(h,g){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new nt(Ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _c(h.options.projectId,g)}(o,r),o);return i=Object.assign({useFetchStreams:e},i),c._setSettings(i),c},"PUBLIC").setMultipleInstances(!0)),(0,$i.registerVersion)(m7,"3.13.0",n),(0,$i.registerVersion)(m7,"3.13.0","esm2017")}();function EC(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new nt("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function UM(){if(typeof Uint8Array>"u")throw new nt("unimplemented","Uint8Arrays are not available in this environment.")}function jM(){if(!function fw(){return typeof atob<"u"}())throw new nt("unimplemented","Blobs are unavailable in Firestore in this environment.")}class zm{constructor(e){this._delegate=e}static fromBase64String(e){return jM(),new zm($u.fromBase64String(e))}static fromUint8Array(e){return UM(),new zm($u.fromUint8Array(e))}toBase64(){return jM(),this._delegate.toBase64()}toUint8Array(){return UM(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function TC(n){return function wN(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class bN{enableIndexedDbPersistence(e,t){return function _R(n,e){CM(n=Fn(n,Fr));const t=Ti(n);if(t._uninitializedComponentsProvider)throw new nt(Ye.FAILED_PRECONDITION,"SDK cache is already specified.");Ts("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),i=new K8;return bM(t,i,new iC(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function wR(n){CM(n=Fn(n,Fr));const e=Ti(n);if(e._uninitializedComponentsProvider)throw new nt(Ye.FAILED_PRECONDITION,"SDK cache is already specified.");Ts("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new K8;return bM(e,r,new nM(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function bR(n){if(n._initialized&&!n._terminated)throw new nt(Ye.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new bi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ue.Z)(function*(){try{yield(t=(0,Ue.Z)(function*(r){if(!uo.D())return Promise.resolve();const i=r+"main";yield uo.delete(i)}),function(r){return t.apply(this,arguments)})(Zw(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class $M{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof _c||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ts("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function vM(n,e,t,r={}){var i;const o=(n=Fn(n,Em))._getSettings(),c=`${e}:${t}`;if("firestore.googleapis.com"!==o.host&&o.host!==c&&Ts("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:c,ssl:!1})),r.mockUserToken){let h,g;if("string"==typeof r.mockUserToken)h=r.mockUserToken,g=ni.MOCK_USER;else{h=(0,wn.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new nt(Ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new ni(_)}n._authCredentials=new Fp(new v7(h,g))}}(this._delegate,e,t,r)}enableNetwork(){return function SR(n){return function aR(n){return n.asyncQueue.enqueue((0,Ue.Z)(function*(){const e=yield oM(n),t=yield sM(n);return e.setNetworkEnabled(!0),function(r){const i=Et(r);return i.vu.delete(0),bm(i)}(t)}))}(Ti(n=Fn(n,Fr)))}(this._delegate)}disableNetwork(){return function ER(n){return function cR(n){return n.asyncQueue.enqueue((0,Ue.Z)(function*(){const e=yield oM(n),t=yield sM(n);return e.setNetworkEnabled(!1),(r=(0,Ue.Z)(function*(i){const o=Et(i);o.vu.add(0),yield Y8(o),o.bu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Ti(n=Fn(n,Fr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,hM("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function CR(n){return function(e){const t=new bi;return e.asyncQueue.enqueueAndForget((0,Ue.Z)(function*(){return function jO(n,e){return Yb.apply(this,arguments)}(yield dC(e),t)})),t.promise}(Ti(n=Fn(n,Fr)))}(this._delegate)}onSnapshotsInSync(e){return function tN(n,e){return function dR(n,e){const t=new _v(e);return n.asyncQueue.enqueueAndForget((0,Ue.Z)(function*(){return r=yield Z8(n),i=t,Et(r).ku.add(i),void i.next();var r,i})),()=>{t.Dc(),n.asyncQueue.enqueueAndForget((0,Ue.Z)(function*(){return r=yield Z8(n),i=t,void Et(r).ku.delete(i);var r,i}))}}(Ti(n=Fn(n,Fr)),mC(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new nt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new X8(this,yM(this._delegate,e))}catch(t){throw Ms(t,"collection()","Firestore.collection()")}}doc(e){try{return new Sc(this,Ev(this._delegate,e))}catch(t){throw Ms(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new xs(this,function mR(n,e){if(n=Fn(n,Em),fC("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new nt(Ye.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new zo(n,null,(t=e,new Tl(Bn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ms(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function hN(n,e,t){n=Fn(n,Fr);const r=Object.assign(Object.assign({},uN),t);return function(i){if(i.maxAttempts<1)throw new nt(Ye.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,o,c){const h=new bi;return i.asyncQueue.enqueueAndForget((0,Ue.Z)(function*(){const g=yield function aM(n){return bv(n).then(e=>e.datastore)}(i);new oR(i.asyncQueue,g,c,o,h).run()})),h.promise}(Ti(n),i=>e(new dN(n,i)),r)}(this._delegate,t=>e(new GM(this,t)))}batch(){return Ti(this._delegate),new qM(new BM(this._delegate,e=>J8(this._delegate,e)))}loadBundle(e){return function TR(n,e){const t=Ti(n=Fn(n,Fr)),r=new vR;return function hR(n,e,t,r){const i=function(o,c){let h;return h="string"==typeof o?kT().encode(o):o,g=function(g,_){if(g instanceof Uint8Array)return rM(g,_);if(g instanceof ArrayBuffer)return rM(new Uint8Array(g),_);if(g instanceof ReadableStream)return g.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new rR(g,c);var g}(t,wm(e));n.asyncQueue.enqueueAndForget((0,Ue.Z)(function*(){!function tR(n,e,t){const r=Et(n);var i;(i=(0,Ue.Z)(function*(o,c,h){try{const g=yield c.getMetadata();if(yield function(K,ne){const ue=Et(K),De=Ei(ne.createTime);return ue.persistence.runTransaction("hasNewerBundle","readonly",Ie=>ue.qs.getBundleMetadata(Ie,ne.id)).then(Ie=>!!Ie&&Ie.createTime.compareTo(De)>=0)}(o.localStore,g))return yield c.close(),h._completeWith({taskState:"Success",documentsLoaded:(K=g).totalDocuments,bytesLoaded:K.totalBytes,totalDocuments:K.totalDocuments,totalBytes:K.totalBytes}),Promise.resolve(new Set);h._updateProgress(qD(g));const _=new OO(g,o.localStore,c.serializer);let E=yield c.bc();for(;E;){const K=yield _.zu(E);K&&h._updateProgress(K),E=yield c.bc()}const x=yield _.complete();return yield md(o,x.Ju,void 0),yield function(K,ne){const ue=Et(K);return ue.persistence.runTransaction("Save bundle","readwrite",De=>ue.qs.saveBundleMetadata(De,ne))}(o.localStore,g),h._completeWith(x.progress),Promise.resolve(x.Hu)}catch(g){return Ts("SyncEngine",`Loading bundle failed with ${g}`),h._failWith(g),Promise.resolve(new Set)}var K}),function(o,c,h){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield dC(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function DR(n,e){return function fR(n,e){return n.asyncQueue.enqueue((0,Ue.Z)(function*(){return function(t,r){const i=Et(t);return i.persistence.runTransaction("Get named query","readonly",o=>i.qs.getNamedQuery(o,r))}(yield Cv(n),e)}))}(Ti(n=Fn(n,Fr)),e).then(t=>t?new zo(n,null,t.query):null)}(this._delegate,e).then(t=>t?new xs(this,t):null)}}class Rv extends CC{constructor(e){super(),this.firestore=e}convertBytes(e){return new zm(new $u(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Sc.forKey(t,this.firestore,null)}}class GM{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Rv(e)}get(e){const t=k0(e);return this._delegate.get(t).then(r=>new Pm(this._firestore,new vd(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=k0(e);return r?(EC("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const o=k0(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){const t=k0(e);return this._delegate.delete(t),this}}class qM{constructor(e){this._delegate=e}set(e,t,r){const i=k0(e);return r?(EC("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const o=k0(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){const t=k0(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class A0{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new km(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Om(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=A0.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let o=i.get(t);return o||(o=new A0(e,new Rv(e),t),i.set(t,o)),o}}A0.INSTANCES=new WeakMap;class Sc{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Rv(e)}static forPath(e,t,r){if(e.length%2!=0)throw new nt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Sc(t,new Nr(t._delegate,r,new St(e)))}static forKey(e,t,r){return new Sc(t,new Nr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new X8(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new X8(this.firestore,yM(this._delegate,e))}catch(t){throw Ms(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,wn.m9)(e))instanceof Nr&&_M(this._delegate,e)}set(e,t){t=EC("DocumentReference.set",t);try{return t?LM(this._delegate,e,t):LM(this._delegate,e)}catch(r){throw Ms(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?VM(this._delegate,e):VM(this._delegate,e,t,...r)}catch(i){throw Ms(i,"updateDoc()","DocumentReference.update()")}}delete(){return function XR(n){return J8(Fn(n.firestore,Fr),[new Pe(n._key,s.none())])}(this._delegate)}onSnapshot(...e){const t=WM(e),r=KM(e,i=>new Pm(this.firestore,new vd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return HM(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function WR(n){n=Fn(n,Nr);const e=Fn(n.firestore,Fr),t=Ti(e),r=new w4(e);return function lR(n,e){const t=new bi;return n.asyncQueue.enqueueAndForget((0,Ue.Z)(function*(){return(r=(0,Ue.Z)(function*(i,o,c){try{const h=yield function(g,_){const E=Et(g);return E.persistence.runTransaction("read document","readonly",x=>E.localDocuments.getDocument(x,_))}(i,o);h.isFoundDocument()?c.resolve(h):h.isNoDocument()?c.resolve(null):c.reject(new nt(Ye.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const g=$8(h,`Failed to get document '${o} from cache`);c.reject(g)}}),function(i,o,c){return r.apply(this,arguments)})(yield Cv(n),e,t);var r})),t.promise}(t,n._key).then(i=>new vd(e,r,n._key,i,new I0(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function KR(n){n=Fn(n,Nr);const e=Fn(n.firestore,Fr);return cM(Ti(e),n._key,{source:"server"}).then(t=>SC(e,n,t))}(this._delegate):function qR(n){n=Fn(n,Nr);const e=Fn(n.firestore,Fr);return cM(Ti(e),n._key).then(t=>SC(e,n,t))}(this._delegate),t.then(r=>new Pm(this.firestore,new vd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Sc(this.firestore,this._delegate.withConverter(e?A0.getInstance(this.firestore,e):null))}}function Ms(n,e,t){return n.message=n.message.replace(e,t),n}function WM(n){for(const e of n)if("object"==typeof e&&!TC(e))return e;return{}}function KM(n,e){var t,r;let i;return i=TC(n[0])?n[0]:TC(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{i.next&&i.next(e(o))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Pm{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Sc(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return FM(this._delegate,e._delegate)}}class Om extends Pm{data(e){const t=this._delegate.data(e);return function Np(n,e){n||Rt()}(void 0!==t),t}}class xs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Rv(e)}where(e,t,r){try{return new xs(this.firestore,y4(this._delegate,function NR(n,e,t){const r=e,i=Av("where",n);return Am._create(i,r,t)}(e,t,r)))}catch(i){throw Ms(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new xs(this.firestore,y4(this._delegate,function FR(n,e="asc"){const t=e,r=Av("orderBy",n);return bC._create(r,t)}(e,t)))}catch(r){throw Ms(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new xs(this.firestore,y4(this._delegate,function LR(n){return mM("limit",n),kv._create("limit",n,"F")}(e)))}catch(t){throw Ms(t,"limit()","Query.limit()")}}limitToLast(e){try{return new xs(this.firestore,y4(this._delegate,function VR(n){return mM("limitToLast",n),kv._create("limitToLast",n,"L")}(e)))}catch(t){throw Ms(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new xs(this.firestore,y4(this._delegate,function HR(...n){return zv._create("startAt",n,!0)}(...e)))}catch(t){throw Ms(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new xs(this.firestore,y4(this._delegate,function BR(...n){return zv._create("startAfter",n,!1)}(...e)))}catch(t){throw Ms(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new xs(this.firestore,y4(this._delegate,function YR(...n){return Pv._create("endBefore",n,!1)}(...e)))}catch(t){throw Ms(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new xs(this.firestore,y4(this._delegate,function UR(...n){return Pv._create("endAt",n,!0)}(...e)))}catch(t){throw Ms(t,"endAt()","Query.endAt()")}}isEqual(e){return pC(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function QR(n){n=Fn(n,zo);const e=Fn(n.firestore,Fr),t=Ti(e),r=new w4(e);return function uR(n,e){const t=new bi;return n.asyncQueue.enqueueAndForget((0,Ue.Z)(function*(){return(r=(0,Ue.Z)(function*(i,o,c){try{const h=yield hv(i,o,!0),g=new ZD(o,h.ir),_=g.sc(h.documents),E=g.applyChanges(_,!1);c.resolve(E.snapshot)}catch(h){const g=$8(h,`Failed to execute query '${o} against cache`);c.reject(g)}}),function(i,o,c){return r.apply(this,arguments)})(yield Cv(n),e,t);var r})),t.promise}(t,n._query).then(i=>new _4(e,r,n,i))}(this._delegate):"server"===e?.source?function JR(n){n=Fn(n,zo);const e=Fn(n.firestore,Fr),t=Ti(e),r=new w4(e);return lM(t,n._query,{source:"server"}).then(i=>new _4(e,r,n,i))}(this._delegate):function ZR(n){n=Fn(n,zo);const e=Fn(n.firestore,Fr),t=Ti(e),r=new w4(e);return AM(n._query),lM(t,n._query).then(i=>new _4(e,r,n,i))}(this._delegate),t.then(r=>new DC(this.firestore,new _4(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=WM(e),r=KM(e,i=>new DC(this.firestore,new _4(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return HM(this._delegate,t,r)}withConverter(e){return new xs(this.firestore,this._delegate.withConverter(e?A0.getInstance(this.firestore,e):null))}}class SN{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Om(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class DC{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new xs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Om(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new SN(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Om(this._firestore,r))})}isEqual(e){return FM(this._delegate,e._delegate)}}class X8 extends xs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Sc(this.firestore,e):null}doc(e){try{return new Sc(this.firestore,void 0===e?Ev(this._delegate):Ev(this._delegate,e))}catch(t){throw Ms(t,"doc()","CollectionReference.doc()")}}add(e){return function eN(n,e){const t=Fn(n.firestore,Fr),r=Ev(n),i=Ov(n.converter,e);return J8(t,[Mv(M0(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,s.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Sc(this.firestore,t))}isEqual(e){return _M(this._delegate,e._delegate)}withConverter(e){return new X8(this.firestore,this._delegate.withConverter(e?A0.getInstance(this.firestore,e):null))}}function k0(n){return Fn(n,Nr)}class MC{constructor(...e){this._delegate=new gd(...e)}static documentId(){return new MC(Rr.keyField().canonicalString())}isEqual(e){return(e=(0,wn.m9)(e))instanceof gd&&this._delegate._internalPath.isEqual(e._internalPath)}}class z0{constructor(e){this._delegate=e}static serverTimestamp(){const e=function pN(){return new gC("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new z0(e)}static delete(){const e=function fN(){return new Dm("deleteField")}();return e._methodName="FieldValue.delete",new z0(e)}static arrayUnion(...e){const t=function mN(...n){return new kR("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new z0(t)}static arrayRemove(...e){const t=function gN(...n){return new zR("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new z0(t)}static increment(e){const t=function vN(n){return new PR("increment",n)}(e);return t._methodName="FieldValue.increment",new z0(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const EN={Firestore:$M,GeoPoint:Tv,Timestamp:Kn,Blob:zm,Transaction:GM,WriteBatch:qM,DocumentReference:Sc,DocumentSnapshot:Pm,Query:xs,QueryDocumentSnapshot:Om,QuerySnapshot:DC,CollectionReference:X8,FieldPath:MC,FieldValue:z0,setLogLevel:function CN(n){!function g7(n){Ru.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function DN(n){(function TN(n,e){n.INTERNAL.registerComponent(new Eu.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},EN)))})(n,(e,t)=>new $M(e,t,new bN)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(dT.Z);var Rm=B(6451),Nv=B(5363),MN=B(6063);class xC extends Ct.x{constructor(e=1/0,t=1/0,r=MN.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:c}=this;t||(r.push(e),!i&&r.push(o.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let c=0;c<o.length&&!e.closed;c+=r?1:2)e.next(o[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){const c=t.now();let h=0;for(let g=1;g<r.length&&r[g]<=c;g+=2)h=g;h&&r.splice(0,h+1)}}}var ZM=B(3099);function QM(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,ZM.B)({connector:()=>new xC(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function JM(n,e){return(0,Pi.m)(e)?Tr(()=>n,e):Tr(()=>n)}var IC=B(9468);B(259);const kC=new Map,ex={activated:!1,tokenObservers:[]},zN={initialized:!1,enabled:!1};function hi(n){return kC.get(n)||Object.assign({},ex)}function Lv(){return zN}const zC="https://content-firebaseappcheck.googleapis.com/v1",NN="exchangeDebugToken",tx={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class LN{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Ue.Z)(function*(){t.stop();try{t.pending=new wn.BH,yield function VN(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new wn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Po=new wn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function PC(n){if(!hi(n).activated)throw Po.create("use-before-activation",{appName:n.name})}function Bv(n,e){return RC.apply(this,arguments)}function RC(){return RC=(0,Ue.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const x=yield i.getHeartbeatsHeader();x&&(r["X-Firebase-Client"]=x)}const o={method:"POST",body:JSON.stringify(e),headers:r};let c,h;try{c=yield fetch(n,o)}catch(x){throw Po.create("fetch-network-error",{originalErrorMessage:x?.message})}if(200!==c.status)throw Po.create("fetch-status-error",{httpStatus:c.status});try{h=yield c.json()}catch(x){throw Po.create("fetch-parse-error",{originalErrorMessage:x?.message})}const g=h.ttl.match(/^([\d.]+)(s)$/);if(!g||!g[2]||isNaN(Number(g[1])))throw Po.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const _=1e3*Number(g[1]),E=Date.now();return{token:h.token,expireTimeMillis:E+_,issuedAtTimeMillis:E}}),RC.apply(this,arguments)}function nx(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${zC}/projects/${t}/apps/${r}:${NN}?key=${i}`,body:{debug_token:e}}}const UN="firebase-app-check-database",jN=1,Nm="firebase-app-check-store";let Yv=null;function NC(){return NC=(0,Ue.Z)(function*(n,e){const r=(yield function ix(){return Yv||(Yv=new Promise((n,e)=>{try{const t=indexedDB.open(UN,jN);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Po.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Nm,{keyPath:"compositeKey"})}}catch(t){e(Po.create("storage-open",{originalErrorMessage:t?.message}))}}),Yv)}()).transaction(Nm,"readwrite"),o=r.objectStore(Nm).put({compositeKey:n,value:e});return new Promise((c,h)=>{o.onsuccess=g=>{c()},r.onerror=g=>{var _;h(Po.create("storage-set",{originalErrorMessage:null===(_=g.target.error)||void 0===_?void 0:_.message}))}})}),NC.apply(this,arguments)}const Fm=new Au.Yd("@firebase/app-check");function VC(n,e){return(0,wn.hl)()?function GN(n,e){return function ox(n,e){return NC.apply(this,arguments)}(function ax(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Fm.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function BC(){return Lv().enabled}function YC(){return UC.apply(this,arguments)}function UC(){return UC=(0,Ue.Z)(function*(){const n=Lv();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),UC.apply(this,arguments)}const JN={error:"UNKNOWN_ERROR"};function XN(n){return wn.US.encodeString(JSON.stringify(n),!1)}function Uv(n){return jC.apply(this,arguments)}function jC(){return jC=(0,Ue.Z)(function*(n,e=!1){const t=n.app;PC(t);const r=hi(t);let o,i=r.token;if(i&&!e6(i)&&(r.token=void 0,i=void 0),!i){const g=yield r.cachedTokenPromise;g&&(e6(g)?i=g:yield VC(t,void 0))}if(!e&&i&&e6(i))return{token:i.token};let h,c=!1;if(BC()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Bv(nx(t,yield YC()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),c=!0);const g=yield r.exchangeTokenPromise;return yield VC(t,g),r.token=g,{token:g.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),c=!0),i=yield hi(t).exchangeTokenPromise}catch(g){"appCheck/throttled"===g.code?Fm.warn(g.message):Fm.error(g),o=g}return i?o?h=e6(i)?{token:i.token,internalError:o}:dx(o):(h={token:i.token},r.token=i,yield VC(t,i)):h=dx(o),c&&function ux(n,e){const t=hi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,h),h}),jC.apply(this,arguments)}function $C(){return $C=(0,Ue.Z)(function*(n){const e=n.app;PC(e);const{provider:t}=hi(e);if(BC()){const r=yield YC(),{token:i}=yield Bv(nx(e,r),n.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield t.getToken();return{token:r}}}),$C.apply(this,arguments)}function qC(n,e){const t=hi(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function lx(n){const{app:e}=n,t=hi(e);let r=t.tokenRefresher;r||(r=function eF(n){const{app:e}=n;return new LN((0,Ue.Z)(function*(){let r;if(r=hi(e).token?yield Uv(n,!0):yield Uv(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=hi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},tx.RETRIAL_MIN_WAIT,tx.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function e6(n){return n.expireTimeMillis-Date.now()>0}function dx(n){return{token:XN(JN),error:n}}class tF{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=hi(this.app);for(const t of e)qC(this.app,t.next);return Promise.resolve()}}const _x="app-check-internal";!function mF(){(0,$i._registerComponent)(new Eu.wA("app-check",n=>function nF(n,e){return new tF(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(_x).initialize()})),(0,$i._registerComponent)(new Eu.wA(_x,n=>function rF(n){return{getToken:e=>Uv(n,e),getLimitedUseToken:()=>function cx(n){return $C.apply(this,arguments)}(n),addTokenListener:e=>function GC(n,e,t,r){const{app:i}=n,o=hi(i);if(o.tokenObservers=[...o.tokenObservers,{next:t,error:r,type:e}],o.token&&e6(o.token)){const h=o.token;Promise.resolve().then(()=>{t({token:h.token}),lx(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>lx(n))}(n,"INTERNAL",e),removeTokenListener:e=>qC(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,$i.registerVersion)("@firebase/app-check","0.8.0")}();class QC{constructor(){return(0,Oi.vb)("app-check")}}typeof window<"u"&&window,B(9260);const bx=new l.OlP("angularfire2.auth.use-emulator"),Cx=new l.OlP("angularfire2.auth.settings"),Sx=new l.OlP("angularfire2.auth.tenant-id"),Ex=new l.OlP("angularfire2.auth.langugage-code"),Tx=new l.OlP("angularfire2.auth.use-device-language"),Dx=new l.OlP("angularfire.auth.persistence"),Mx=(n,e,t,r,i,o,c,h)=>(0,bs.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const g=e.runOutsideAngular(()=>n.auth());if(t&&g.useEmulator(...t),r&&(g.tenantId=r),g.languageCode=i,o&&g.useDeviceLanguage(),c)for(const[_,E]of Object.entries(c))g.settings[_]=E;return h&&g.setPersistence(h),g},[t,r,i,o,c,h]);let xx=(()=>{class n{constructor(t,r,i,o,c,h,g,_,E,x,K,ne){const ue=new Ct.x,De=kt(void 0).pipe((0,Nv.Q)(c.outsideAngular),Tr(()=>o.runOutsideAngular(()=>Promise.resolve().then(B.bind(B,2644)))),(0,Nt.U)(()=>(0,bs.on)(t,o,r)),(0,Nt.U)(Ie=>Mx(Ie,o,h,_,E,x,g,K)),QM({bufferSize:1,refCount:!1}));if(ls(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=kt(null);else{De.pipe(oo()).subscribe();const tt=De.pipe(Tr(gt=>gt.getRedirectResult().then(qt=>qt,()=>null)),Oi.iC,QM({bufferSize:1,refCount:!1})),pt=De.pipe(Tr(gt=>new rr.y(qt=>({unsubscribe:o.runOutsideAngular(()=>gt.onAuthStateChanged(Xt=>qt.next(Xt),Xt=>qt.error(Xt),()=>qt.complete()))})))),ft=De.pipe(Tr(gt=>new rr.y(qt=>({unsubscribe:o.runOutsideAngular(()=>gt.onIdTokenChanged(Xt=>qt.next(Xt),Xt=>qt.error(Xt),()=>qt.complete()))}))));this.authState=tt.pipe(JM(pt),(0,IC.R)(c.outsideAngular),(0,Nv.Q)(c.insideAngular)),this.user=tt.pipe(JM(ft),(0,IC.R)(c.outsideAngular),(0,Nv.Q)(c.insideAngular)),this.idToken=this.user.pipe(Tr(gt=>gt?(0,Nn.D)(gt.getIdToken()):kt(null))),this.idTokenResult=this.user.pipe(Tr(gt=>gt?(0,Nn.D)(gt.getIdTokenResult()):kt(null))),this.credential=(0,Rm.T)(tt,ue,this.authState.pipe(Hn(gt=>!gt))).pipe((0,Nt.U)(gt=>gt?.user?gt:null),(0,IC.R)(c.outsideAngular),(0,Nv.Q)(c.insideAngular))}return(0,bs.pX)(this,De,o,{spy:{apply:(Ie,tt,pt)=>{(Ie.startsWith("signIn")||Ie.startsWith("createUser"))&&pt.then(ft=>ue.next(ft))}}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(bs.Dh),l.LFG(bs.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Oi.HU),l.LFG(bx,8),l.LFG(Cx,8),l.LFG(Sx,8),l.LFG(Ex,8),l.LFG(Tx,8),l.LFG(Dx,8),l.LFG(QC,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function Ix(n,e){return function bF(n,e=zh.z){return new rr.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function XC(n,e){return Ix(n,e).pipe((0,Nt.U)(t=>({payload:t,type:"query"})))}function $v(n,e){return XC(n,e).pipe(ci(void 0),_l(),(0,Nt.U)(([t,r])=>{const i=r.payload.docChanges(),o=i.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,h)=>{const g=i.find(E=>E.doc.ref.isEqual(c.ref)),_=t?.payload.docs.find(E=>E.ref.isEqual(c.ref));g&&JSON.stringify(g.doc.metadata)===JSON.stringify(c.metadata)||!g&&_&&JSON.stringify(_.metadata)===JSON.stringify(c.metadata)||o.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:c}})}),o}))}function Ax(n,e,t){return $v(n,t).pipe(hu((r,i)=>function SF(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function EF(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return eS(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return eS(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return eS(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(o=>o.payload),e),[]),Z1(),(0,Nt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function eS(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function kx(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class zx{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=$v(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Nt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(ci(void 0),_l(),Hn(([r,i])=>i.length>0||!r),(0,Nt.U)(([r,i])=>i),Oi.iC)}auditTrail(e){return this.stateChanges(e).pipe(hu((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=kx(e);return Ax(this.query,t,this.afs.schedulers.outsideAngular).pipe(Oi.iC)}valueChanges(e={}){return XC(this.query,this.afs.schedulers.outsideAngular).pipe((0,Nt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Oi.iC)}get(e){return(0,Nn.D)(this.query.get(e)).pipe(Oi.iC)}add(e){return this.ref.add(e)}doc(e){return new Px(this.ref.doc(e),this.afs)}}class Px{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:o}=Ox(r,t);return new zx(i,o,this.afs)}snapshotChanges(){return function CF(n,e){return Ix(n,e).pipe(ci(void 0),_l(),(0,Nt.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Oi.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Nt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Nn.D)(this.ref.get(e)).pipe(Oi.iC)}}class TF{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?$v(this.query,this.afs.schedulers.outsideAngular).pipe((0,Nt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Hn(t=>t.length>0),Oi.iC):$v(this.query,this.afs.schedulers.outsideAngular).pipe(Oi.iC)}auditTrail(e){return this.stateChanges(e).pipe(hu((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=kx(e);return Ax(this.query,t,this.afs.schedulers.outsideAngular).pipe(Oi.iC)}valueChanges(e={}){return XC(this.query,this.afs.schedulers.outsideAngular).pipe((0,Nt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Oi.iC)}get(e){return(0,Nn.D)(this.query.get(e)).pipe(Oi.iC)}}const DF=new l.OlP("angularfire2.enableFirestorePersistence"),MF=new l.OlP("angularfire2.firestore.persistenceSettings"),xF=new l.OlP("angularfire2.firestore.settings"),IF=new l.OlP("angularfire2.firestore.use-emulator");function Ox(n,e=(t=>t)){return{query:e(n),ref:n}}let AF=(()=>{class n{constructor(t,r,i,o,c,h,g,_,E,x,K,ne,ue,De,Ie,tt,pt){this.schedulers=g;const ft=(0,bs.on)(t,h,r),gt=E;x&&Mx(ft,h,K,ue,De,Ie,ne,tt),[this.firestore,this.persistenceEnabled$]=(0,bs.cc)(`${ft.name}.firestore`,"AngularFirestore",ft.name,()=>{const qt=h.runOutsideAngular(()=>ft.firestore());if(o&&qt.settings(o),gt&&qt.useEmulator(...gt),i&&!ls(c)){const Xt=()=>{try{return(0,Nn.D)(qt.enablePersistence(_||void 0).then(()=>!0,()=>!1))}catch(In){return typeof console<"u"&&console.warn(In),kt(!1)}};return[qt,h.runOutsideAngular(Xt)]}return[qt,kt(!1)]},[o,gt,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:o,query:c}=Ox(i,r),h=this.schedulers.ngZone.run(()=>o);return new zx(h,c,this)}collectionGroup(t,r){const i=r||(c=>c),o=this.firestore.collectionGroup(t);return new TF(i(o),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new Px(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(bs.Dh),l.LFG(bs.xv,8),l.LFG(DF,8),l.LFG(xF,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Oi.HU),l.LFG(MF,8),l.LFG(IF,8),l.LFG(xx,8),l.LFG(bx,8),l.LFG(Cx,8),l.LFG(Sx,8),l.LFG(Ex,8),l.LFG(Tx,8),l.LFG(Dx,8),l.LFG(QC,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Rx=(()=>{const e=class{constructor(r){this.firestore=r}getDataChange(r){return this.firestore.collection(r).snapshotChanges().pipe((0,Nt.U)(i=>i.map(o=>{const c=o.payload.doc.data();return{id:o.payload.doc.id,...c}})))}addData(r,i){return this.firestore.collection(r).add(i)}addNewData(r,i,o){return this.firestore.doc(r+`/${i}`).set(o)}deleteAllData(r){this.firestore.doc(r).delete()}deleteData(r,i){this.firestore.doc(r+`/${i}`).delete()}getAllData(r){return new Promise(i=>{this.firestore.collection(r).valueChanges({idField:"id"}).subscribe(o=>i(o))})}getDataByDID(r,i){var o=this;return(0,Ue.Z)(function*(){return o.firestore.doc(`${r}/${i}`).get()})()}updateData(r,i,o){return this.firestore.doc(r+`/${i}`).update(o)}getImages(){return this.images||(this.images=this.getDataChange("images")),this.images}};let n=e;return e.\u0275fac=function(i){return new(i||e)(l.LFG(AF))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),n})(),Nx=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),P0=(()=>{class n extends Nx{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const Gu=new l.OlP("NgValueAccessor"),PF={provide:Gu,useExisting:(0,l.Gpc)(()=>Gv),multi:!0},RF=new l.OlP("CompositionEventMode");let Gv=(()=>{class n extends Nx{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function OF(){const n=M()?M().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(RF,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&l.NdJ("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[l._Bn([PF]),l.qOj]}),n})();const NF=!1,ts=new l.OlP("NgValidators"),S4=new l.OlP("NgAsyncValidators");function qx(n){return null!=n}function Wx(n){const e=(0,l.QGY)(n)?(0,Nn.D)(n):n;if(NF&&!(0,l.CqO)(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new l.vHH(-1101,t)}return e}function Kx(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function Zx(n,e){return e.map(t=>t(n))}function Qx(n){return n.map(e=>function LF(n){return!n.validate}(e)?e:t=>e.validate(t))}function tS(n){return null!=n?function Jx(n){if(!n)return null;const e=n.filter(qx);return 0==e.length?null:function(t){return Kx(Zx(t,e))}}(Qx(n)):null}function nS(n){return null!=n?function Xx(n){if(!n)return null;const e=n.filter(qx);return 0==e.length?null:function(t){return function kF(...n){const e=(0,Ui.jO)(n),{args:t,keys:r}=tc(n),i=new rr.y(o=>{const{length:c}=t;if(!c)return void o.complete();const h=new Array(c);let g=c,_=c;for(let E=0;E<c;E++){let x=!1;(0,jo.Xf)(t[E]).subscribe((0,pr.x)(o,K=>{x||(x=!0,_--),h[E]=K},()=>g--,void 0,()=>{(!g||!x)&&(_||o.next(r?Ls(r,h):h),o.complete())}))}});return e?i.pipe(vs(e)):i}(Zx(t,e).map(Wx)).pipe((0,Nt.U)(Kx))}}(Qx(n)):null}function eI(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function rS(n){return n?Array.isArray(n)?n:[n]:[]}function Wv(n,e){return Array.isArray(n)?n.includes(e):n===e}function rI(n,e){const t=rS(e);return rS(n).forEach(i=>{Wv(t,i)||t.push(i)}),t}function iI(n,e){return rS(e).filter(t=>!Wv(n,t))}class oI{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=tS(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=nS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Is extends oI{get formDirective(){return null}get path(){return null}}class yd extends oI{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class sI{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let aI=(()=>{class n extends sI{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(yd,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&l.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[l.qOj]}),n})();const Lm="VALID",Zv="INVALID",t6="PENDING",Vm="DISABLED";function Qv(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class dI{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Lm}get invalid(){return this.status===Zv}get pending(){return this.status==t6}get disabled(){return this.status===Vm}get enabled(){return this.status!==Vm}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(rI(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(rI(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(iI(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(iI(e,this._rawAsyncValidators))}hasValidator(e){return Wv(this._rawValidators,e)}hasAsyncValidator(e){return Wv(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=t6,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Vm,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Lm,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Lm||this.status===t6)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Vm:Lm}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=t6,this._hasOwnPendingAsyncValidator=!0;const t=Wx(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?Vm:this.errors?Zv:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(t6)?t6:this._anyControlsHaveStatus(Zv)?Zv:Lm}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Qv(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function GF(n){return Array.isArray(n)?tS(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function qF(n){return Array.isArray(n)?nS(n):n||null}(this._rawAsyncValidators)}}const n6=new l.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Jv}),Jv="always";function Hm(n,e,t=Jv){(function uS(n,e){const t=function tI(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(eI(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function nI(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(eI(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();t9(e._rawValidators,i),t9(e._rawAsyncValidators,i)})(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function ZF(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&hI(n,e)})}(n,e),function JF(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function QF(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&hI(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function KF(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function t9(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function hI(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function mI(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function gI(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const vI=class extends dI{constructor(e=null,t,r){super(function aS(n){return(Qv(n)?n.validators:n)||null}(t),function cS(n,e){return(Qv(e)?e.asyncValidators:n)||null}(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Qv(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=gI(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){mI(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){mI(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){gI(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},sL={provide:yd,useExisting:(0,l.Gpc)(()=>mS)},wI=(()=>Promise.resolve())();let mS=(()=>{class n extends yd{constructor(t,r,i,o,c,h){super(),this._changeDetectorRef=c,this.callSetDisabledState=h,this.control=new vI,this._registered=!1,this.update=new l.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function fS(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===Gv?t=o:function tL(n){return Object.getPrototypeOf(n.constructor)===P0}(o)?r=o:i=o}),i||r||t||null}(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function hS(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Hm(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){wI.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&(0,l.D6c)(r);wI.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function Xv(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Is,9),l.Y36(ts,10),l.Y36(S4,10),l.Y36(Gu,10),l.Y36(l.sBO,8),l.Y36(n6,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([sL]),l.qOj,l.TTD]}),n})(),CI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),kL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[CI]}),n})(),PL=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:n6,useValue:t.callSetDisabledState??Jv}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[kL]}),n})();var Di=B(7582),HI=B(5032);function bn(n){return(0,zr.e)((e,t)=>{(0,jo.Xf)(n).subscribe((0,pr.x)(t,()=>t.complete(),HI.Z)),!t.closed&&e.subscribe(t)})}let CS;try{CS=typeof Intl<"u"&&Intl.v8BreakIterator}catch{CS=!1}let Um,r9,R0,SS,Ec=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function zd(n){return n===P4}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!CS)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.Lbi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ym=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function jm(n){return function OL(){if(null==Um&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Um=!0}))}finally{Um=Um||!1}return Um}()?n:!!n.capture}function YI(){if(null==R0){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return R0=!1,R0;if("scrollBehavior"in document.documentElement.style)R0=!0;else{const n=Element.prototype.scrollTo;R0=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return R0}function $m(){if("object"!=typeof document||!document)return 0;if(null==r9){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),r=t.style;r.width="2px",r.height="1px",n.appendChild(t),document.body.appendChild(n),r9=0,0===n.scrollLeft&&(n.scrollLeft=1,r9=0===n.scrollLeft?1:2),n.remove()}return r9}function UI(n){if(function RL(){if(null==SS){const n=typeof document<"u"?document.head:null;SS=!(!n||!n.createShadowRoot&&!n.attachShadow)}return SS}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function i6(n){return n.composedPath?n.composedPath()[0]:n.target}function jI(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Oo(n,e){(function FL(n){return"string"==typeof n&&-1!==n.indexOf(".")&&1===parseFloat(n)})(n)&&(n="100%");var t=function LL(n){return"string"==typeof n&&-1!==n.indexOf("%")}(n);return n=360===e?n:Math.min(e,Math.max(0,parseFloat(n))),t&&(n=parseInt(String(n*e),10)/100),Math.abs(n-e)<1e-6?1:n=360===e?(n<0?n%e+e:n%e)/parseFloat(String(e)):n%e/parseFloat(String(e))}function i9(n){return Math.min(1,Math.max(0,n))}function $I(n){return n=parseFloat(n),(isNaN(n)||n<0||n>1)&&(n=1),n}function o9(n){return n<=1?"".concat(100*Number(n),"%"):n}function N0(n){return 1===n.length?"0"+n:String(n)}function GI(n,e,t){n=Oo(n,255),e=Oo(e,255),t=Oo(t,255);var r=Math.max(n,e,t),i=Math.min(n,e,t),o=0,c=0,h=(r+i)/2;if(r===i)c=0,o=0;else{var g=r-i;switch(c=h>.5?g/(2-r-i):g/(r+i),r){case n:o=(e-t)/g+(e<t?6:0);break;case e:o=(t-n)/g+2;break;case t:o=(n-e)/g+4}o/=6}return{h:o,s:c,l:h}}function ES(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+6*t*(e-n):t<.5?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function TS(n,e,t){n=Oo(n,255),e=Oo(e,255),t=Oo(t,255);var r=Math.max(n,e,t),i=Math.min(n,e,t),o=0,c=r,h=r-i,g=0===r?0:h/r;if(r===i)o=0;else{switch(r){case n:o=(e-t)/h+(e<t?6:0);break;case e:o=(t-n)/h+2;break;case t:o=(n-e)/h+4}o/=6}return{h:o,s:g,v:c}}function DS(n,e,t,r){var i=[N0(Math.round(n).toString(16)),N0(Math.round(e).toString(16)),N0(Math.round(t).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function qI(n){return Math.round(255*parseFloat(n)).toString(16)}function WI(n){return Ra(n)/255}function Ra(n){return parseInt(n,16)}var MS={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function o6(n){var e={r:0,g:0,b:0},t=1,r=null,i=null,o=null,c=!1,h=!1;return"string"==typeof n&&(n=function GL(n){if(0===(n=n.trim().toLowerCase()).length)return!1;var e=!1;if(MS[n])n=MS[n],e=!0;else if("transparent"===n)return{r:0,g:0,b:0,a:0,format:"name"};var t=xl.rgb.exec(n);return t?{r:t[1],g:t[2],b:t[3]}:(t=xl.rgba.exec(n))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=xl.hsl.exec(n))?{h:t[1],s:t[2],l:t[3]}:(t=xl.hsla.exec(n))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=xl.hsv.exec(n))?{h:t[1],s:t[2],v:t[3]}:(t=xl.hsva.exec(n))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=xl.hex8.exec(n))?{r:Ra(t[1]),g:Ra(t[2]),b:Ra(t[3]),a:WI(t[4]),format:e?"name":"hex8"}:(t=xl.hex6.exec(n))?{r:Ra(t[1]),g:Ra(t[2]),b:Ra(t[3]),format:e?"name":"hex"}:(t=xl.hex4.exec(n))?{r:Ra(t[1]+t[1]),g:Ra(t[2]+t[2]),b:Ra(t[3]+t[3]),a:WI(t[4]+t[4]),format:e?"name":"hex8"}:!!(t=xl.hex3.exec(n))&&{r:Ra(t[1]+t[1]),g:Ra(t[2]+t[2]),b:Ra(t[3]+t[3]),format:e?"name":"hex"}}(n)),"object"==typeof n&&(_d(n.r)&&_d(n.g)&&_d(n.b)?(e=function VL(n,e,t){return{r:255*Oo(n,255),g:255*Oo(e,255),b:255*Oo(t,255)}}(n.r,n.g,n.b),c=!0,h="%"===String(n.r).substr(-1)?"prgb":"rgb"):_d(n.h)&&_d(n.s)&&_d(n.v)?(r=o9(n.s),i=o9(n.v),e=function BL(n,e,t){n=6*Oo(n,360),e=Oo(e,100),t=Oo(t,100);var r=Math.floor(n),i=n-r,o=t*(1-e),c=t*(1-i*e),h=t*(1-(1-i)*e),g=r%6;return{r:255*[t,c,o,o,h,t][g],g:255*[h,t,t,c,o,o][g],b:255*[o,o,h,t,t,c][g]}}(n.h,r,i),c=!0,h="hsv"):_d(n.h)&&_d(n.s)&&_d(n.l)&&(r=o9(n.s),o=o9(n.l),e=function HL(n,e,t){var r,i,o;if(n=Oo(n,360),e=Oo(e,100),t=Oo(t,100),0===e)i=t,o=t,r=t;else{var c=t<.5?t*(1+e):t+e-t*e,h=2*t-c;r=ES(h,c,n+1/3),i=ES(h,c,n),o=ES(h,c,n-1/3)}return{r:255*r,g:255*i,b:255*o}}(n.h,r,o),c=!0,h="hsl"),Object.prototype.hasOwnProperty.call(n,"a")&&(t=n.a)),t=$I(t),{ok:c,format:n.format||h,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:t}}var E4="(?:".concat("[-\\+]?\\d*\\.\\d+%?",")|(?:").concat("[-\\+]?\\d+%?",")"),xS="[\\s|\\(]+(".concat(E4,")[,|\\s]+(").concat(E4,")[,|\\s]+(").concat(E4,")\\s*\\)?"),IS="[\\s|\\(]+(".concat(E4,")[,|\\s]+(").concat(E4,")[,|\\s]+(").concat(E4,")[,|\\s]+(").concat(E4,")\\s*\\)?"),xl={CSS_UNIT:new RegExp(E4),rgb:new RegExp("rgb"+xS),rgba:new RegExp("rgba"+IS),hsl:new RegExp("hsl"+xS),hsla:new RegExp("hsla"+IS),hsv:new RegExp("hsv"+xS),hsva:new RegExp("hsva"+IS),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function _d(n){return Boolean(xl.CSS_UNIT.exec(String(n)))}var T4=function(){function n(e,t){var r;if(void 0===e&&(e=""),void 0===t&&(t={}),e instanceof n)return e;"number"==typeof e&&(e=function UL(n){return{r:n>>16,g:(65280&n)>>8,b:255&n}}(e)),this.originalInput=e;var i=o6(e);this.originalInput=e,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(r=t.format)&&void 0!==r?r:i.format,this.gradientType=t.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return n.prototype.isDark=function(){return this.getBrightness()<128},n.prototype.isLight=function(){return!this.isDark()},n.prototype.getBrightness=function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},n.prototype.getLuminance=function(){var e=this.toRgb(),o=e.r/255,c=e.g/255,h=e.b/255;return.2126*(o<=.03928?o/12.92:Math.pow((o+.055)/1.055,2.4))+.7152*(c<=.03928?c/12.92:Math.pow((c+.055)/1.055,2.4))+.0722*(h<=.03928?h/12.92:Math.pow((h+.055)/1.055,2.4))},n.prototype.getAlpha=function(){return this.a},n.prototype.setAlpha=function(e){return this.a=$I(e),this.roundA=Math.round(100*this.a)/100,this},n.prototype.isMonochrome=function(){return 0===this.toHsl().s},n.prototype.toHsv=function(){var e=TS(this.r,this.g,this.b);return{h:360*e.h,s:e.s,v:e.v,a:this.a}},n.prototype.toHsvString=function(){var e=TS(this.r,this.g,this.b),t=Math.round(360*e.h),r=Math.round(100*e.s),i=Math.round(100*e.v);return 1===this.a?"hsv(".concat(t,", ").concat(r,"%, ").concat(i,"%)"):"hsva(".concat(t,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},n.prototype.toHsl=function(){var e=GI(this.r,this.g,this.b);return{h:360*e.h,s:e.s,l:e.l,a:this.a}},n.prototype.toHslString=function(){var e=GI(this.r,this.g,this.b),t=Math.round(360*e.h),r=Math.round(100*e.s),i=Math.round(100*e.l);return 1===this.a?"hsl(".concat(t,", ").concat(r,"%, ").concat(i,"%)"):"hsla(".concat(t,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},n.prototype.toHex=function(e){return void 0===e&&(e=!1),DS(this.r,this.g,this.b,e)},n.prototype.toHexString=function(e){return void 0===e&&(e=!1),"#"+this.toHex(e)},n.prototype.toHex8=function(e){return void 0===e&&(e=!1),function YL(n,e,t,r,i){var o=[N0(Math.round(n).toString(16)),N0(Math.round(e).toString(16)),N0(Math.round(t).toString(16)),N0(qI(r))];return i&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))&&o[3].startsWith(o[3].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}(this.r,this.g,this.b,this.a,e)},n.prototype.toHex8String=function(e){return void 0===e&&(e=!1),"#"+this.toHex8(e)},n.prototype.toHexShortString=function(e){return void 0===e&&(e=!1),1===this.a?this.toHexString(e):this.toHex8String(e)},n.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},n.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),r=Math.round(this.b);return 1===this.a?"rgb(".concat(e,", ").concat(t,", ").concat(r,")"):"rgba(".concat(e,", ").concat(t,", ").concat(r,", ").concat(this.roundA,")")},n.prototype.toPercentageRgb=function(){var e=function(t){return"".concat(Math.round(100*Oo(t,255)),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},n.prototype.toPercentageRgbString=function(){var e=function(t){return Math.round(100*Oo(t,255))};return 1===this.a?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},n.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var e="#"+DS(this.r,this.g,this.b,!1),t=0,r=Object.entries(MS);t<r.length;t++){var i=r[t];if(e===i[1])return i[0]}return!1},n.prototype.toString=function(e){var t=Boolean(e);e=e??this.format;var r=!1;return!t&&this.a<1&&this.a>=0&&(e.startsWith("hex")||"name"===e)?"name"===e&&0===this.a?this.toName():this.toRgbString():("rgb"===e&&(r=this.toRgbString()),"prgb"===e&&(r=this.toPercentageRgbString()),("hex"===e||"hex6"===e)&&(r=this.toHexString()),"hex3"===e&&(r=this.toHexString(!0)),"hex4"===e&&(r=this.toHex8String(!0)),"hex8"===e&&(r=this.toHex8String()),"name"===e&&(r=this.toName()),"hsl"===e&&(r=this.toHslString()),"hsv"===e&&(r=this.toHsvString()),r||this.toHexString())},n.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},n.prototype.clone=function(){return new n(this.toString())},n.prototype.lighten=function(e){void 0===e&&(e=10);var t=this.toHsl();return t.l+=e/100,t.l=i9(t.l),new n(t)},n.prototype.brighten=function(e){void 0===e&&(e=10);var t=this.toRgb();return t.r=Math.max(0,Math.min(255,t.r-Math.round(-e/100*255))),t.g=Math.max(0,Math.min(255,t.g-Math.round(-e/100*255))),t.b=Math.max(0,Math.min(255,t.b-Math.round(-e/100*255))),new n(t)},n.prototype.darken=function(e){void 0===e&&(e=10);var t=this.toHsl();return t.l-=e/100,t.l=i9(t.l),new n(t)},n.prototype.tint=function(e){return void 0===e&&(e=10),this.mix("white",e)},n.prototype.shade=function(e){return void 0===e&&(e=10),this.mix("black",e)},n.prototype.desaturate=function(e){void 0===e&&(e=10);var t=this.toHsl();return t.s-=e/100,t.s=i9(t.s),new n(t)},n.prototype.saturate=function(e){void 0===e&&(e=10);var t=this.toHsl();return t.s+=e/100,t.s=i9(t.s),new n(t)},n.prototype.greyscale=function(){return this.desaturate(100)},n.prototype.spin=function(e){var t=this.toHsl(),r=(t.h+e)%360;return t.h=r<0?360+r:r,new n(t)},n.prototype.mix=function(e,t){void 0===t&&(t=50);var r=this.toRgb(),i=new n(e).toRgb(),o=t/100;return new n({r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a})},n.prototype.analogous=function(e,t){void 0===e&&(e=6),void 0===t&&(t=30);var r=this.toHsl(),i=360/t,o=[this];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,o.push(new n(r));return o},n.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new n(e)},n.prototype.monochromatic=function(e){void 0===e&&(e=6);for(var t=this.toHsv(),r=t.h,i=t.s,o=t.v,c=[],h=1/e;e--;)c.push(new n({h:r,s:i,v:o})),o=(o+h)%1;return c},n.prototype.splitcomplement=function(){var e=this.toHsl(),t=e.h;return[this,new n({h:(t+72)%360,s:e.s,l:e.l}),new n({h:(t+216)%360,s:e.s,l:e.l})]},n.prototype.onBackground=function(e){var t=this.toRgb(),r=new n(e).toRgb(),i=t.a+r.a*(1-t.a);return new n({r:(t.r*t.a+r.r*r.a*(1-t.a))/i,g:(t.g*t.a+r.g*r.a*(1-t.a))/i,b:(t.b*t.a+r.b*r.a*(1-t.a))/i,a:i})},n.prototype.triad=function(){return this.polyad(3)},n.prototype.tetrad=function(){return this.polyad(4)},n.prototype.polyad=function(e){for(var t=this.toHsl(),r=t.h,i=[this],o=360/e,c=1;c<e;c++)i.push(new n({h:(r+c*o)%360,s:t.s,l:t.l}));return i},n.prototype.equals=function(e){return this.toRgbString()===new n(e).toRgbString()},n}(),s9=2,KI=.16,qL=.05,WL=.05,KL=.15,ZI=5,QI=4,ZL=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function JI(n,e,t){var r;return(r=Math.round(n.h)>=60&&Math.round(n.h)<=240?t?Math.round(n.h)-s9*e:Math.round(n.h)+s9*e:t?Math.round(n.h)+s9*e:Math.round(n.h)-s9*e)<0?r+=360:r>=360&&(r-=360),r}function XI(n,e,t){return 0===n.h&&0===n.s?n.s:((r=t?n.s-KI*e:e===QI?n.s+KI:n.s+qL*e)>1&&(r=1),t&&e===ZI&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2)));var r}function eA(n,e,t){var r;return(r=t?n.v+WL*e:n.v-KL*e)>1&&(r=1),Number(r.toFixed(2))}function AS(n){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=[],r=new T4(n),i=ZI;i>0;i-=1){var o=r.toHsv(),c=new T4({h:JI(o,i,!0),s:XI(o,i,!0),v:eA(o,i,!0)}).toHexString();t.push(c)}t.push(r.toHexString());for(var h=1;h<=QI;h+=1){var g=r.toHsv(),_=new T4({h:JI(g,h),s:XI(g,h),v:eA(g,h)}).toHexString();t.push(_)}return"dark"===e.theme?ZL.map(function(E){var x=E.index,K=E.opacity;return new T4(e.backgroundColor||"#141414").mix(t[x],100*K).toHexString()}):t}var kS={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},ns={},zS={};Object.keys(kS).forEach(function(n){ns[n]=AS(kS[n]),ns[n].primary=ns[n][5],zS[n]=AS(kS[n],{theme:"dark",backgroundColor:"#141414"}),zS[n].primary=zS[n][5]});class a9{}class Gm{}class wd{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),o=i.toLowerCase(),c=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(c):this.headers.set(o,[c])}})}:()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{let i;if(i="string"==typeof r?[r]:"number"==typeof r?[r.toString()]:r.map(o=>o.toString()),i.length>0){const o=t.toLowerCase();this.headers.set(o,i),this.maybeSetNormalizedName(t,o)}})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof wd?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new wd;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof wd?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const o=e.value;if(o){let c=this.headers.get(t);if(!c)return;c=c.filter(h=>-1===o.indexOf(h)),0===c.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,c)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class QL{encodeKey(e){return tA(e)}encodeValue(e){return tA(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const XL=/%(\d[a-f0-9])/gi,eV={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function tA(n){return encodeURIComponent(n).replace(XL,(e,t)=>eV[t]??e)}function c9(n){return`${n}`}class D4{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new QL,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function JL(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[c,h]=-1==o?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],g=t.get(c)||[];g.push(h),t.set(c,g)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(c9):[c9(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new D4({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(c9(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(c9(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class tV{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function nA(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function rA(n){return typeof Blob<"u"&&n instanceof Blob}function iA(n){return typeof FormData<"u"&&n instanceof FormData}class qm{constructor(e,t,r,i){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function nV(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new wd),this.context||(this.context=new tV),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=t;else{const h=t.indexOf("?");this.urlWithParams=t+(-1===h?"?":h<t.length-1?"&":"")+c}}else this.params=new D4,this.urlWithParams=t}serializeBody(){return null===this.body?null:nA(this.body)||rA(this.body)||iA(this.body)||function rV(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof D4?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||iA(this.body)?null:rA(this.body)?this.body.type||null:nA(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof D4?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,c=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,h=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let g=e.headers||this.headers,_=e.params||this.params;const E=e.context??this.context;return void 0!==e.setHeaders&&(g=Object.keys(e.setHeaders).reduce((x,K)=>x.set(K,e.setHeaders[K]),g)),e.setParams&&(_=Object.keys(e.setParams).reduce((x,K)=>x.set(K,e.setParams[K]),_)),new qm(t,r,o,{params:_,headers:g,context:E,reportProgress:h,responseType:i,withCredentials:c})}}var Fi=(()=>((Fi=Fi||{})[Fi.Sent=0]="Sent",Fi[Fi.UploadProgress=1]="UploadProgress",Fi[Fi.ResponseHeader=2]="ResponseHeader",Fi[Fi.DownloadProgress=3]="DownloadProgress",Fi[Fi.Response=4]="Response",Fi[Fi.User=5]="User",Fi))();class PS{constructor(e,t=200,r="OK"){this.headers=e.headers||new wd,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class OS extends PS{constructor(e={}){super(e),this.type=Fi.ResponseHeader}clone(e={}){return new OS({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class l9 extends PS{constructor(e={}){super(e),this.type=Fi.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new l9({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class oA extends PS{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function RS(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let sA=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof qm)o=t;else{let g,_;g=i.headers instanceof wd?i.headers:new wd(i.headers),i.params&&(_=i.params instanceof D4?i.params:new D4({fromObject:i.params})),o=new qm(t,r,void 0!==i.body?i.body:null,{headers:g,context:i.context,params:_,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const c=kt(o).pipe($o(g=>this.handler.handle(g)));if(t instanceof qm||"events"===i.observe)return c;const h=c.pipe(Hn(g=>g instanceof l9));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return h.pipe((0,Nt.U)(g=>{if(null!==g.body&&!(g.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return g.body}));case"blob":return h.pipe((0,Nt.U)(g=>{if(null!==g.body&&!(g.body instanceof Blob))throw new Error("Response is not a Blob.");return g.body}));case"text":return h.pipe((0,Nt.U)(g=>{if(null!==g.body&&"string"!=typeof g.body)throw new Error("Response is not a string.");return g.body}));default:return h.pipe((0,Nt.U)(g=>g.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new D4).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,RS(i,r))}post(t,r,i={}){return this.request("POST",t,RS(i,r))}put(t,r,i={}){return this.request("PUT",t,RS(i,r))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(a9))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function aA(n,e){return e(n)}function iV(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const sV=new l.OlP("HTTP_INTERCEPTORS"),Wm=new l.OlP("HTTP_INTERCEPTOR_FNS");function aV(){let n=null;return(e,t)=>(null===n&&(n=((0,l.f3M)(sV,{optional:!0})??[]).reduceRight(iV,aA)),n(e,t))}let cA=(()=>{class n extends a9{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=Array.from(new Set(this.injector.get(Wm)));this.chain=r.reduceRight((i,o)=>function oV(n,e,t){return(r,i)=>t.runInContext(()=>e(r,o=>n(o,i)))}(i,o,this.injector),aA)}return this.chain(t,r=>this.backend.handle(r))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Gm),l.LFG(l.lqb))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const dV=/^\)\]\}',?\n/;let uA=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new rr.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((ne,ue)=>i.setRequestHeader(ne,ue.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const ne=t.detectContentTypeHeader();null!==ne&&i.setRequestHeader("Content-Type",ne)}if(t.responseType){const ne=t.responseType.toLowerCase();i.responseType="json"!==ne?ne:"text"}const o=t.serializeBody();let c=null;const h=()=>{if(null!==c)return c;const ne=i.statusText||"OK",ue=new wd(i.getAllResponseHeaders()),De=function hV(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return c=new OS({headers:ue,status:i.status,statusText:ne,url:De}),c},g=()=>{let{headers:ne,status:ue,statusText:De,url:Ie}=h(),tt=null;204!==ue&&(tt=typeof i.response>"u"?i.responseText:i.response),0===ue&&(ue=tt?200:0);let pt=ue>=200&&ue<300;if("json"===t.responseType&&"string"==typeof tt){const ft=tt;tt=tt.replace(dV,"");try{tt=""!==tt?JSON.parse(tt):null}catch(gt){tt=ft,pt&&(pt=!1,tt={error:gt,text:tt})}}pt?(r.next(new l9({body:tt,headers:ne,status:ue,statusText:De,url:Ie||void 0})),r.complete()):r.error(new oA({error:tt,headers:ne,status:ue,statusText:De,url:Ie||void 0}))},_=ne=>{const{url:ue}=h(),De=new oA({error:ne,status:i.status||0,statusText:i.statusText||"Unknown Error",url:ue||void 0});r.error(De)};let E=!1;const x=ne=>{E||(r.next(h()),E=!0);let ue={type:Fi.DownloadProgress,loaded:ne.loaded};ne.lengthComputable&&(ue.total=ne.total),"text"===t.responseType&&i.responseText&&(ue.partialText=i.responseText),r.next(ue)},K=ne=>{let ue={type:Fi.UploadProgress,loaded:ne.loaded};ne.lengthComputable&&(ue.total=ne.total),r.next(ue)};return i.addEventListener("load",g),i.addEventListener("error",_),i.addEventListener("timeout",_),i.addEventListener("abort",_),t.reportProgress&&(i.addEventListener("progress",x),null!==o&&i.upload&&i.upload.addEventListener("progress",K)),i.send(o),r.next({type:Fi.Sent}),()=>{i.removeEventListener("error",_),i.removeEventListener("abort",_),i.removeEventListener("load",g),i.removeEventListener("timeout",_),t.reportProgress&&(i.removeEventListener("progress",x),null!==o&&i.upload&&i.upload.removeEventListener("progress",K)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Nc))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const NS=new l.OlP("XSRF_ENABLED"),dA=new l.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),hA=new l.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class fA{}let mV=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Js(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(j),l.LFG(l.Lbi),l.LFG(dA))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function gV(n,e){const t=n.url.toLowerCase();if(!(0,l.f3M)(NS)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=(0,l.f3M)(fA).getToken(),i=(0,l.f3M)(hA);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var Mi=(()=>((Mi=Mi||{})[Mi.Interceptors=0]="Interceptors",Mi[Mi.LegacyInterceptors=1]="LegacyInterceptors",Mi[Mi.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Mi[Mi.NoXsrfProtection=3]="NoXsrfProtection",Mi[Mi.JsonpSupport=4]="JsonpSupport",Mi[Mi.RequestsMadeViaParent=5]="RequestsMadeViaParent",Mi))();function s6(n,e){return{\u0275kind:n,\u0275providers:e}}function vV(...n){const e=[sA,uA,cA,{provide:a9,useExisting:cA},{provide:Gm,useExisting:uA},{provide:Wm,useValue:gV,multi:!0},{provide:NS,useValue:!0},{provide:fA,useClass:mV}];for(const t of n)e.push(...t.\u0275providers);return(0,l.MR2)(e)}const pA=new l.OlP("LEGACY_INTERCEPTOR_FN");let _V=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[vV(s6(Mi.LegacyInterceptors,[{provide:pA,useFactory:aV},{provide:Wm,useExisting:pA,multi:!0}]))]}),n})();const bd="[@ant-design/icons-angular]:";function mA(n){(0,l.X6Q)()&&console.warn(`${bd} ${n}.`)}function gA(n){return AS(n)[0]}function u9(n,e){switch(e){case"fill":return`${n}-fill`;case"outline":return`${n}-o`;case"twotone":return`${n}-twotone`;case void 0:return n;default:throw new Error(`${bd}Theme "${e}" is not a recognized theme!`)}}function vA(n){return"object"==typeof n&&"string"==typeof n.name&&("string"==typeof n.theme||void 0===n.theme)&&"string"==typeof n.icon}function d9(n){const e=n.split(":");switch(e.length){case 1:return[n,""];case 2:return[e[1],e[0]];default:throw new Error(`${bd}The icon type ${n} is not valid!`)}}function yA(n){return new Error(`${bd}the icon ${n} does not exist or is not registered.`)}function kV(){return new Error(`${bd}<svg> tag not found.`)}const OV=new l.OlP("ant_icons");let _A=(()=>{class n{constructor(t,r,i,o,c){this._rendererFactory=t,this._handler=r,this._document=i,this.sanitizer=o,this._antIcons=c,this.defaultTheme="outline",this._svgDefinitions=new Map,this._svgRenderedDefinitions=new Map,this._inProgressFetches=new Map,this._assetsUrlRoot="",this._twoToneColorPalette={primaryColor:"#333333",secondaryColor:"#E6E6E6"},this._enableJsonpLoading=!1,this._jsonpIconLoad$=new Ct.x,this._renderer=this._rendererFactory.createRenderer(null,null),this._handler&&(this._http=new sA(this._handler)),this._antIcons&&this.addIcon(...this._antIcons)}set twoToneColor({primaryColor:t,secondaryColor:r}){this._twoToneColorPalette.primaryColor=t,this._twoToneColorPalette.secondaryColor=r||gA(t)}get twoToneColor(){return{...this._twoToneColorPalette}}get _disableDynamicLoading(){return!1}useJsonpLoading(){this._enableJsonpLoading?mA("You are already using jsonp loading."):(this._enableJsonpLoading=!0,window.__ant_icon_load=t=>{this._jsonpIconLoad$.next(t)})}changeAssetsSource(t){this._assetsUrlRoot=t.endsWith("/")?t:t+"/"}addIcon(...t){t.forEach(r=>{this._svgDefinitions.set(u9(r.name,r.theme),r)})}addIconLiteral(t,r){const[i,o]=d9(t);if(!o)throw function xV(){return new Error(`${bd}Type should have a namespace. Try "namespace:${name}".`)}();this.addIcon({name:t,icon:r})}clear(){this._svgDefinitions.clear(),this._svgRenderedDefinitions.clear()}getRenderedContent(t,r){const i=vA(t)?t:this._svgDefinitions.get(t)||null;if(!i&&this._disableDynamicLoading)throw yA(t);return(i?kt(i):this._loadIconDynamically(t)).pipe((0,Nt.U)(c=>{if(!c)throw yA(t);return this._loadSVGFromCacheOrCreateNew(c,r)}))}getCachedIcons(){return this._svgDefinitions}_loadIconDynamically(t){if(!this._http&&!this._enableJsonpLoading)return kt(function IV(){return function wV(n){console.error(`${bd} ${n}.`)}('you need to import "HttpClientModule" to use dynamic importing.'),null}());let r=this._inProgressFetches.get(t);if(!r){const[i,o]=d9(t),c=o?{name:t,icon:""}:function EV(n){const e=n.split("-"),t=function CV(n){return"o"===n?"outline":n}(e.splice(e.length-1,1)[0]);return{name:e.join("-"),theme:t,icon:""}}(i),g=(o?`${this._assetsUrlRoot}assets/${o}/${i}`:`${this._assetsUrlRoot}assets/${c.theme}/${c.name}`)+(this._enableJsonpLoading?".js":".svg"),_=this.sanitizer.sanitize(l.q3G.URL,g);if(!_)throw function AV(n){return new Error(`${bd}The url "${n}" is unsafe.`)}(g);r=(this._enableJsonpLoading?this._loadIconDynamicallyWithJsonp(c,_):this._http.get(_,{responseType:"text"}).pipe((0,Nt.U)(x=>({...c,icon:x})))).pipe((0,Pr.b)(x=>this.addIcon(x)),Ea(()=>this._inProgressFetches.delete(t)),Vs(()=>kt(null)),(0,ZM.B)()),this._inProgressFetches.set(t,r)}return r}_loadIconDynamicallyWithJsonp(t,r){return new rr.y(i=>{const o=this._document.createElement("script"),c=setTimeout(()=>{h(),i.error(function zV(){return new Error(`${bd}Importing timeout error.`)}())},6e3);function h(){o.parentNode.removeChild(o),clearTimeout(c)}o.src=r,this._document.body.appendChild(o),this._jsonpIconLoad$.pipe(Hn(g=>g.name===t.name&&g.theme===t.theme),cr(1)).subscribe(g=>{i.next(g),h()})})}_loadSVGFromCacheOrCreateNew(t,r){let i;const o=r||this._twoToneColorPalette.primaryColor,c=gA(o)||this._twoToneColorPalette.secondaryColor,h="twotone"===t.theme?function bV(n,e,t,r){return`${u9(n,e)}-${t}-${r}`}(t.name,t.theme,o,c):void 0===t.theme?t.name:u9(t.name,t.theme),g=this._svgRenderedDefinitions.get(h);return g?i=g.icon:(i=this._setSVGAttribute(this._colorizeSVGIcon(this._createSVGElementFromString(function MV(n){return""!==d9(n)[1]}(t.name)?t.icon:function DV(n){return n.replace(/['"]#333['"]/g,'"primaryColor"').replace(/['"]#E6E6E6['"]/g,'"secondaryColor"').replace(/['"]#D9D9D9['"]/g,'"secondaryColor"').replace(/['"]#D8D8D8['"]/g,'"secondaryColor"')}(t.icon)),"twotone"===t.theme,o,c)),this._svgRenderedDefinitions.set(h,{...t,icon:i})),function TV(n){return n.cloneNode(!0)}(i)}_createSVGElementFromString(t){const r=this._document.createElement("div");r.innerHTML=t;const i=r.querySelector("svg");if(!i)throw kV;return i}_setSVGAttribute(t){return this._renderer.setAttribute(t,"width","1em"),this._renderer.setAttribute(t,"height","1em"),t}_colorizeSVGIcon(t,r,i,o){if(r){const c=t.childNodes,h=c.length;for(let g=0;g<h;g++){const _=c[g];"secondaryColor"===_.getAttribute("fill")?this._renderer.setAttribute(_,"fill",o):this._renderer.setAttribute(_,"fill",i)}}return this._renderer.setAttribute(t,"fill","currentColor"),t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(Gm,8),l.LFG(j,8),l.LFG(Xa),l.LFG(OV,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),NV=(()=>{class n{constructor(t,r,i){this._iconService=t,this._elementRef=r,this._renderer=i}ngOnChanges(t){(t.type||t.theme||t.twoToneColor)&&this._changeIcon()}_changeIcon(){return new Promise(t=>{if(!this.type)return this._clearSVGElement(),void t(null);const r=this._getSelfRenderMeta();this._iconService.getRenderedContent(this._parseIconType(this.type,this.theme),this.twoToneColor).subscribe(i=>{const o=this._getSelfRenderMeta();!function RV(n,e){return n.type===e.type&&n.theme===e.theme&&n.twoToneColor===e.twoToneColor}(r,o)?t(null):(this._setSVGElement(i),t(i))})})}_getSelfRenderMeta(){return{type:this.type,theme:this.theme,twoToneColor:this.twoToneColor}}_parseIconType(t,r){if(vA(t))return t;{const[i,o]=d9(t);return o?t:function SV(n){return n.endsWith("-fill")||n.endsWith("-o")||n.endsWith("-twotone")}(i)?(r&&mA(`'type' ${i} already gets a theme inside so 'theme' ${r} would be ignored`),i):u9(i,r||this._iconService.defaultTheme)}}_setSVGElement(t){this._clearSVGElement(),this._renderer.appendChild(this._elementRef.nativeElement,t)}_clearSVGElement(){const t=this._elementRef.nativeElement,r=t.childNodes;for(let o=r.length-1;o>=0;o--){const c=r[o];"svg"===c.tagName?.toLowerCase()&&this._renderer.removeChild(t,c)}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(_A),l.Y36(l.SBq),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","antIcon",""]],inputs:{type:"type",theme:"theme",twoToneColor:"twoToneColor"},features:[l.TTD]}),n})();const FV={isTestMode:!1},wA={};const a6=(...n)=>function bA(n,...e){(FV.isTestMode||(0,l.X6Q)()&&function LV(...n){const e=n.reduce((t,r)=>t+r.toString(),"");return!wA[e]&&(wA[e]=!0,!0)}(...e))&&n(...e)}((...e)=>console.warn("[NG-ZORRO]:",...e),...n);function Ro(n){return null!=n&&"false"!=`${n}`}function Km(n){return Array.isArray(n)?n:[n]}function Li(n){return null==n?"":"string"==typeof n?n:`${n}px`}function As(n){return n instanceof l.SBq?n.nativeElement:n}function Tc(n){return typeof n<"u"&&null!==n}function SA(n){return Ro(n)}function rs(){return function LS(n,e){return function t(r,i,o){const c=`$$__zorroPropDecorator__${i}`;return Object.prototype.hasOwnProperty.call(r,c)&&a6(`The prop "${c}" is already exist, it will be overrided by ${n} decorator.`),Object.defineProperty(r,c,{configurable:!0,writable:!0}),{get(){return o&&o.get?o.get.bind(this)():this[c]},set(h){o&&o.set&&o.set.bind(this)(e(h)),this[c]=e(h)}}}}("InputBoolean",SA)}function VS(n){return!!n&&"function"==typeof n.then&&"function"==typeof n.catch}function TA(n){return"number"==typeof n&&isFinite(n)}function DA(n,e){return Math.round(n*Math.pow(10,e))/Math.pow(10,e)}function AA(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}typeof window<"u"&&window;const tH="rc-util-key";function kA({mark:n}={}){return n?n.startsWith("data-")?n:`data-${n}`:tH}function $S(n){return n.attachTo?n.attachTo:document.querySelector("head")||document.body}function zA(n,e={}){if(!AA())return null;const t=document.createElement("style");e.csp?.nonce&&(t.nonce=e.csp?.nonce),t.innerHTML=n;const r=$S(e),{firstChild:i}=r;return e.prepend&&r.prepend?r.prepend(t):e.prepend&&i?r.insertBefore(t,i):r.appendChild(t),t}const GS=new Map;const OA={name:"star",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z" /></svg>'},qH=["pink","red","yellow","orange","cyan","green","blue","purple","geekblue","magenta","volcano","gold","lime"],f9=2,RA=.16,KH=.05,ZH=.05,QH=.15,NA=5,FA=4,JH=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function LA({r:n,g:e,b:t}){const r=TS(n,e,t);return{h:360*r.h,s:r.s,v:r.v}}function p9({r:n,g:e,b:t}){return`#${DS(n,e,t,!1)}`}function VA(n,e,t){let r;return r=Math.round(n.h)>=60&&Math.round(n.h)<=240?t?Math.round(n.h)-f9*e:Math.round(n.h)+f9*e:t?Math.round(n.h)+f9*e:Math.round(n.h)-f9*e,r<0?r+=360:r>=360&&(r-=360),r}function HA(n,e,t){if(0===n.h&&0===n.s)return n.s;let r;return r=t?n.s-RA*e:e===FA?n.s+RA:n.s+KH*e,r>1&&(r=1),t&&e===NA&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2))}function BA(n,e,t){let r;return r=t?n.v+ZH*e:n.v-QH*e,r>1&&(r=1),Number(r.toFixed(2))}function YA(n,e={}){const t=[],r=o6(n);for(let i=NA;i>0;i-=1){const o=LA(r),c=p9(o6({h:VA(o,i,!0),s:HA(o,i,!0),v:BA(o,i,!0)}));t.push(c)}t.push(p9(r));for(let i=1;i<=FA;i+=1){const o=LA(r),c=p9(o6({h:VA(o,i),s:HA(o,i),v:BA(o,i)}));t.push(c)}return"dark"===e.theme?JH.map(({index:i,opacity:o})=>p9(function XH(n,e,t){const r=t/100;return{r:(e.r-n.r)*r+n.r,g:(e.g-n.g)*r+n.g,b:(e.b-n.b)*r+n.b}}(o6(e.backgroundColor||"#141414"),o6(t[i]),100*o))):t}const eB=new l.OlP("nz-config"),tB=`-ant-${Date.now()}-${Math.random()}`;function UA(n,e){const t=function nB(n,e){const t={},r=(c,h)=>{let g=c.clone();return g=h?.(g)||g,g.toRgbString()},i=(c,h)=>{const g=new T4(c),_=YA(g.toRgbString());t[`${h}-color`]=r(g),t[`${h}-color-disabled`]=_[1],t[`${h}-color-hover`]=_[4],t[`${h}-color-active`]=_[7],t[`${h}-color-outline`]=g.clone().setAlpha(.2).toRgbString(),t[`${h}-color-deprecated-bg`]=_[1],t[`${h}-color-deprecated-border`]=_[3]};if(e.primaryColor){i(e.primaryColor,"primary");const c=new T4(e.primaryColor),h=YA(c.toRgbString());h.forEach((_,E)=>{t[`primary-${E+1}`]=_}),t["primary-color-deprecated-l-35"]=r(c,_=>_.lighten(35)),t["primary-color-deprecated-l-20"]=r(c,_=>_.lighten(20)),t["primary-color-deprecated-t-20"]=r(c,_=>_.tint(20)),t["primary-color-deprecated-t-50"]=r(c,_=>_.tint(50)),t["primary-color-deprecated-f-12"]=r(c,_=>_.setAlpha(.12*_.getAlpha()));const g=new T4(h[0]);t["primary-color-active-deprecated-f-30"]=r(g,_=>_.setAlpha(.3*_.getAlpha())),t["primary-color-active-deprecated-d-02"]=r(g,_=>_.darken(2))}return e.successColor&&i(e.successColor,"success"),e.warningColor&&i(e.warningColor,"warning"),e.errorColor&&i(e.errorColor,"error"),e.infoColor&&i(e.infoColor,"info"),`\n  :root {\n    ${Object.keys(t).map(c=>`--${n}-${c}: ${t[c]};`).join("\n")}\n  }\n  `.trim()}(n,e);AA()?function nH(n,e,t={}){const r=$S(t);if(!GS.has(r)){const c=zA("",t),{parentNode:h}=c;GS.set(r,h),h.removeChild(c)}const i=function PA(n,e={}){const t=$S(e);return Array.from(GS.get(t)?.children||[]).find(r=>"STYLE"===r.tagName&&r.getAttribute(kA(e))===n)}(e,t);if(i)return t.csp?.nonce&&i.nonce!==t.csp?.nonce&&(i.nonce=t.csp?.nonce),i.innerHTML!==n&&(i.innerHTML=n),i;const o=zA(n,t);o?.setAttribute(kA(t),e)}(t,`${tB}-dynamic-theme`):a6("NzConfigService: SSR do not support dynamic theme with css variables.")}const jA=function(n){return void 0!==n};let qu=(()=>{class n{constructor(t){this.configUpdated$=new Ct.x,this.config=t||{},this.config.theme&&UA(this.getConfig().prefixCls?.prefixCls||"ant",this.config.theme)}getConfig(){return this.config}getConfigForComponent(t){return this.config[t]}getConfigChangeEventForComponent(t){return this.configUpdated$.pipe(Hn(r=>r===t),il(void 0))}set(t,r){this.config[t]={...this.config[t],...r},"theme"===t&&this.config.theme&&UA(this.getConfig().prefixCls?.prefixCls||"ant",this.config.theme),this.configUpdated$.next(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(eB,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function c6(){return function(e,t,r){const i=`$$__zorroConfigDecorator__${t}`;return Object.defineProperty(e,i,{configurable:!0,writable:!0,enumerable:!1}),{get(){const o=r?.get?r.get.bind(this)():this[i],c=(this.propertyAssignCounter?.[t]||0)>1,h=this.nzConfigService.getConfigForComponent(this._nzModuleName)?.[t];return c&&jA(o)?o:jA(h)?h:o},set(o){this.propertyAssignCounter=this.propertyAssignCounter||{},this.propertyAssignCounter[t]=(this.propertyAssignCounter[t]||0)+1,r?.set?r.set.bind(this)(o):this[i]=o},configurable:!0,enumerable:!0}}}const rB=[{name:"bars",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z" /></svg>'},{name:"calendar",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z" /></svg>'},{name:"caret-up",theme:"fill",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z" /></svg>'},{name:"caret-up",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z" /></svg>'},{name:"caret-down",theme:"fill",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z" /></svg>'},{name:"caret-down",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z" /></svg>'},{name:"check-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z" /></svg>'},{name:"check-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z" /><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /></svg>'},{name:"check",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z" /></svg>'},{name:"clock-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z" /></svg>'},{name:"close-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z" /><path d="M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /></svg>'},{name:"close-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z" /></svg>'},{name:"close",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z" /></svg>'},{name:"copy",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z" /></svg>'},{name:"delete",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z" /></svg>'},{name:"double-left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z" /></svg>'},{name:"double-right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z" /></svg>'},{name:"down",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z" /></svg>'},{name:"edit",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z" /></svg>'},{name:"ellipsis",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z" /></svg>'},{name:"exclamation-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z" /></svg>'},{name:"exclamation-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z" /></svg>'},{name:"eye",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z" /></svg>'},{name:"file",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M854.6 288.7c6 6 9.4 14.1 9.4 22.6V928c0 17.7-14.3 32-32 32H192c-17.7 0-32-14.3-32-32V96c0-17.7 14.3-32 32-32h424.7c8.5 0 16.7 3.4 22.7 9.4l215.2 215.3zM790.2 326L602 137.8V326h188.2z" /></svg>'},{name:"file",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z" /></svg>'},{name:"filter",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z" /></svg>'},{name:"info-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z" /></svg>'},{name:"info-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z" /></svg>'},{name:"left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z" /></svg>'},{name:"loading",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z" /></svg>'},{name:"paper-clip",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z" /></svg>'},{name:"question-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z" /></svg>'},{name:"right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z" /></svg>'},{name:"rotate-right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><defs><style /></defs><path d="M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z" /><path d="M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z" /></svg>'},{name:"rotate-left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><defs><style /></defs><path d="M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z" /><path d="M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z" /></svg>'},OA,{name:"search",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z" /></svg>'},OA,{name:"upload",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z" /></svg>'},{name:"vertical-align-top",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M859.9 168H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM518.3 355a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V848c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V509.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 355z" /></svg>'},{name:"up",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z" /></svg>'},{name:"swap-right",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M873.1 596.2l-164-208A32 32 0 00684 376h-64.8c-6.7 0-10.4 7.7-6.3 13l144.3 183H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h695.9c26.8 0 41.7-30.8 25.2-51.8z" /></svg>'},{name:"zoom-in",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z" /></svg>'},{name:"zoom-out",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z" /></svg>'}],GA=new l.OlP("nz_icons"),qA=(new l.OlP("nz_icon_default_twotone_color"),"#1890ff");let WA=(()=>{class n extends _A{constructor(t,r,i,o,c,h,g){super(t,c,h,r,[...rB,...g||[]]),this.nzConfigService=i,this.platform=o,this.configUpdated$=new Ct.x,this.iconfontCache=new Set,this.subscription=null,this.onConfigChange(),this.configDefaultTwotoneColor(),this.configDefaultTheme()}get _disableDynamicLoading(){return!this.platform.isBrowser}ngOnDestroy(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}normalizeSvgElement(t){t.getAttribute("viewBox")||this._renderer.setAttribute(t,"viewBox","0 0 1024 1024"),(!t.getAttribute("width")||!t.getAttribute("height"))&&(this._renderer.setAttribute(t,"width","1em"),this._renderer.setAttribute(t,"height","1em")),t.getAttribute("fill")||this._renderer.setAttribute(t,"fill","currentColor")}fetchFromIconfont(t){const{scriptUrl:r}=t;if(this._document&&!this.iconfontCache.has(r)){const i=this._renderer.createElement("script");this._renderer.setAttribute(i,"src",r),this._renderer.setAttribute(i,"data-namespace",r.replace(/^(https?|http):/g,"")),this._renderer.appendChild(this._document.body,i),this.iconfontCache.add(r)}}createIconfontIcon(t){return this._createSVGElementFromString(`<svg><use xlink:href="${t}"></svg>`)}onConfigChange(){this.subscription=this.nzConfigService.getConfigChangeEventForComponent("icon").subscribe(()=>{this.configDefaultTwotoneColor(),this.configDefaultTheme(),this.configUpdated$.next()})}configDefaultTheme(){const t=this.getConfig();this.defaultTheme=t.nzTheme||"outline"}configDefaultTwotoneColor(){const r=this.getConfig().nzTwotoneColor||qA;let i=qA;r&&(r.startsWith("#")?i=r:a6("Twotone color must be a hex color!")),this.twoToneColor={primaryColor:i}}getConfig(){return this.nzConfigService.getConfigForComponent("icon")||{}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(Xa),l.LFG(qu),l.LFG(Ec),l.LFG(Gm,8),l.LFG(j,8),l.LFG(GA,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const KA=new l.OlP("nz_icons_patch");let ZA=(()=>{class n{constructor(t,r){this.extraIcons=t,this.rootIconService=r,this.patched=!1}doPatch(){this.patched||(this.extraIcons.forEach(t=>this.rootIconService.addIcon(t)),this.patched=!0)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(KA,2),l.LFG(WA))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Cd=(()=>{class n extends NV{constructor(t,r,i,o,c,h){super(o,i,c),this.ngZone=t,this.changeDetectorRef=r,this.iconService=o,this.renderer=c,this.cacheClassName=null,this.nzRotate=0,this.spin=!1,this.destroy$=new Ct.x,h&&h.doPatch(),this.el=i.nativeElement}set nzSpin(t){this.spin=t}set nzType(t){this.type=t}set nzTheme(t){this.theme=t}set nzTwotoneColor(t){this.twoToneColor=t}set nzIconfont(t){this.iconfont=t}ngOnChanges(t){const{nzType:r,nzTwotoneColor:i,nzSpin:o,nzTheme:c,nzRotate:h}=t;r||i||o||c?this.changeIcon2():h?this.handleRotate(this.el.firstChild):this._setSVGElement(this.iconService.createIconfontIcon(`#${this.iconfont}`))}ngOnInit(){this.renderer.setAttribute(this.el,"class",`anticon ${this.el.className}`.trim())}ngAfterContentChecked(){if(!this.type){const t=this.el.children;let r=t.length;if(!this.type&&t.length)for(;r--;){const i=t[r];"svg"===i.tagName.toLowerCase()&&this.iconService.normalizeSvgElement(i)}}}ngOnDestroy(){this.destroy$.next()}changeIcon2(){this.setClassName(),this.ngZone.runOutsideAngular(()=>{(0,Nn.D)(this._changeIcon()).pipe(bn(this.destroy$)).subscribe({next:t=>{this.ngZone.run(()=>{this.changeDetectorRef.detectChanges(),t&&(this.setSVGData(t),this.handleSpin(t),this.handleRotate(t))})},error:a6})})}handleSpin(t){this.spin||"loading"===this.type?this.renderer.addClass(t,"anticon-spin"):this.renderer.removeClass(t,"anticon-spin")}handleRotate(t){this.nzRotate?this.renderer.setAttribute(t,"style",`transform: rotate(${this.nzRotate}deg)`):this.renderer.removeAttribute(t,"style")}setClassName(){this.cacheClassName&&this.renderer.removeClass(this.el,this.cacheClassName),this.cacheClassName=`anticon-${this.type}`,this.renderer.addClass(this.el,this.cacheClassName)}setSVGData(t){this.renderer.setAttribute(t,"data-icon",this.type),this.renderer.setAttribute(t,"aria-hidden","true")}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.R0b),l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(WA),l.Y36(l.Qsj),l.Y36(ZA,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","nz-icon",""]],hostVars:2,hostBindings:function(t,r){2&t&&l.ekj("anticon",!0)},inputs:{nzSpin:"nzSpin",nzRotate:"nzRotate",nzType:"nzType",nzTheme:"nzTheme",nzTwotoneColor:"nzTwotoneColor",nzIconfont:"nzIconfont"},exportAs:["nzIcon"],features:[l.qOj,l.TTD]}),(0,Di.gn)([rs()],n.prototype,"nzSpin",null),n})(),F0=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:GA,useValue:t}]}}static forChild(t){return{ngModule:n,providers:[ZA,{provide:KA,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Ym]}),n})();function iB(n,e){if(1&n&&l._UZ(0,"span",1),2&n){const t=l.oxw();l.Q6J("nzType",t.iconType)}}let oB=(()=>{class n{constructor(){this.formStatusChanges=new xC(1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),sB=(()=>{class n{constructor(){this.noFormStatus=new Jn(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const aB={error:"close-circle-fill",validating:"loading",success:"check-circle-fill",warning:"exclamation-circle-fill"};let cB=(()=>{class n{constructor(t){this.cdr=t,this.status="",this.iconType=null}ngOnChanges(t){this.updateIcon()}updateIcon(){this.iconType=this.status?aB[this.status]:null,this.cdr.markForCheck()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.sBO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["nz-form-item-feedback-icon"]],hostAttrs:[1,"ant-form-item-feedback-icon"],hostVars:8,hostBindings:function(t,r){2&t&&l.ekj("ant-form-item-feedback-icon-error","error"===r.status)("ant-form-item-feedback-icon-warning","warning"===r.status)("ant-form-item-feedback-icon-success","success"===r.status)("ant-form-item-feedback-icon-validating","validating"===r.status)},inputs:{status:"status"},exportAs:["nzFormFeedbackIcon"],features:[l.TTD],decls:1,vars:1,consts:[["nz-icon","",3,"nzType",4,"ngIf"],["nz-icon","",3,"nzType"]],template:function(t,r){1&t&&l.YNc(0,iB,1,1,"span",0),2&t&&l.Q6J("ngIf",r.iconType)},dependencies:[pi,Cd],encapsulation:2,changeDetection:0}),n})(),lB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[tr,F0]}),n})();const uB=new l.OlP("cdk-dir-doc",{providedIn:"root",factory:function dB(){return(0,l.f3M)(j)}}),hB=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let No=(()=>{class n{constructor(t){this.value="ltr",this.change=new l.vpe,t&&(this.value=function fB(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?hB.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(uB,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Wu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),l6=(()=>{class n{constructor(t,r){this.viewContainer=t,this.templateRef=r,this.embeddedViewRef=null,this.context=new pB,this.nzStringTemplateOutletContext=null,this.nzStringTemplateOutlet=null}static ngTemplateContextGuard(t,r){return!0}recreateView(){this.viewContainer.clear();const t=this.nzStringTemplateOutlet instanceof l.Rgc;this.embeddedViewRef=this.viewContainer.createEmbeddedView(t?this.nzStringTemplateOutlet:this.templateRef,t?this.nzStringTemplateOutletContext:this.context)}updateContext(){const r=this.nzStringTemplateOutlet instanceof l.Rgc?this.nzStringTemplateOutletContext:this.context,i=this.embeddedViewRef.context;if(r)for(const o of Object.keys(r))i[o]=r[o]}ngOnChanges(t){const{nzStringTemplateOutletContext:r,nzStringTemplateOutlet:i}=t;i&&(this.context.$implicit=i.currentValue),(()=>{let h=!1;return i&&(h=!!i.firstChange||(i.previousValue instanceof l.Rgc||i.currentValue instanceof l.Rgc)),r&&(E=>{const x=Object.keys(E.previousValue||{}),K=Object.keys(E.currentValue||{});if(x.length===K.length){for(const ne of K)if(-1===x.indexOf(ne))return!0;return!1}return!0})(r)||h})()?this.recreateView():this.updateContext()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","nzStringTemplateOutlet",""]],inputs:{nzStringTemplateOutletContext:"nzStringTemplateOutletContext",nzStringTemplateOutlet:"nzStringTemplateOutlet"},exportAs:["nzStringTemplateOutlet"],features:[l.TTD]}),n})();class pB{}let m9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[tr]}),n})(),DB=(()=>{class n{constructor(t,r,i,o,c,h,g){this.ngControl=t,this.renderer=r,this.elementRef=i,this.hostView=o,this.directionality=c,this.nzFormStatusService=h,this.nzFormNoStatusService=g,this.nzBorderless=!1,this.nzSize="default",this.nzStatus="",this._disabled=!1,this.disabled$=new Ct.x,this.dir="ltr",this.prefixCls="ant-input",this.status="",this.statusCls={},this.hasFeedback=!1,this.feedbackRef=null,this.components=[],this.destroy$=new Ct.x}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=null!=t&&"false"!=`${t}`}ngOnInit(){this.nzFormStatusService?.formStatusChanges.pipe(Z1((t,r)=>t.status===r.status&&t.hasFeedback===r.hasFeedback),bn(this.destroy$)).subscribe(({status:t,hasFeedback:r})=>{this.setStatusStyles(t,r)}),this.ngControl&&this.ngControl.statusChanges?.pipe(Hn(()=>null!==this.ngControl.disabled),bn(this.destroy$)).subscribe(()=>{this.disabled$.next(this.ngControl.disabled)}),this.dir=this.directionality.value,this.directionality.change?.pipe(bn(this.destroy$)).subscribe(t=>{this.dir=t})}ngOnChanges(t){const{disabled:r,nzStatus:i}=t;r&&this.disabled$.next(this.disabled),i&&this.setStatusStyles(this.nzStatus,this.hasFeedback)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}setStatusStyles(t,r){this.status=t,this.hasFeedback=r,this.renderFeedbackIcon(),this.statusCls=function rH(n,e,t){return{[`${n}-status-success`]:"success"===e,[`${n}-status-warning`]:"warning"===e,[`${n}-status-error`]:"error"===e,[`${n}-status-validating`]:"validating"===e,[`${n}-has-feedback`]:t}}(this.prefixCls,t,r),Object.keys(this.statusCls).forEach(i=>{this.statusCls[i]?this.renderer.addClass(this.elementRef.nativeElement,i):this.renderer.removeClass(this.elementRef.nativeElement,i)})}renderFeedbackIcon(){if(!this.status||!this.hasFeedback||this.nzFormNoStatusService)return this.hostView.clear(),void(this.feedbackRef=null);this.feedbackRef=this.feedbackRef||this.hostView.createComponent(cB),this.feedbackRef.location.nativeElement.classList.add("ant-input-suffix"),this.feedbackRef.instance.status=this.status,this.feedbackRef.instance.updateIcon()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(yd,10),l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(l.s_b),l.Y36(No,8),l.Y36(oB,8),l.Y36(sB,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","nz-input",""],["textarea","nz-input",""]],hostAttrs:[1,"ant-input"],hostVars:11,hostBindings:function(t,r){2&t&&(l.uIk("disabled",r.disabled||null),l.ekj("ant-input-disabled",r.disabled)("ant-input-borderless",r.nzBorderless)("ant-input-lg","large"===r.nzSize)("ant-input-sm","small"===r.nzSize)("ant-input-rtl","rtl"===r.dir))},inputs:{nzBorderless:"nzBorderless",nzSize:"nzSize",nzStatus:"nzStatus",disabled:"disabled"},exportAs:["nzInput"],features:[l.TTD]}),(0,Di.gn)([rs()],n.prototype,"nzBorderless",void 0),n})(),MB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Wu,tr,F0,Ym,m9,lB]}),n})();var xB=B(1144);const IB=["addListener","removeListener"],AB=["addEventListener","removeEventListener"],kB=["on","off"];function Il(n,e,t,r){if((0,Pi.m)(t)&&(r=t,t=void 0),r)return Il(n,e,t).pipe(vs(r));const[i,o]=function OB(n){return(0,Pi.m)(n.addEventListener)&&(0,Pi.m)(n.removeEventListener)}(n)?AB.map(c=>h=>n[c](e,h,t)):function zB(n){return(0,Pi.m)(n.addListener)&&(0,Pi.m)(n.removeListener)}(n)?IB.map(QA(n,e)):function PB(n){return(0,Pi.m)(n.on)&&(0,Pi.m)(n.off)}(n)?kB.map(QA(n,e)):[];if(!i&&(0,xB.z)(n))return(0,lr.z)(c=>Il(c,e,t))((0,jo.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new rr.y(c=>{const h=(...g)=>c.next(1<g.length?g:g[0]);return i(h),()=>o(h)})}function QA(n,e){return t=>r=>n[t](e,r)}let L0=(()=>{class n{constructor(t,r){this.elementRef=t,this.renderer=r,this.hidden=null,this.renderer.setAttribute(this.elementRef.nativeElement,"hidden","")}setHiddenAttribute(){this.hidden?this.renderer.setAttribute(this.elementRef.nativeElement,"hidden","string"==typeof this.hidden?this.hidden:""):this.renderer.removeAttribute(this.elementRef.nativeElement,"hidden")}ngOnChanges(){this.setHiddenAttribute()}ngAfterViewInit(){this.setHiddenAttribute()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","nz-button",""],["nz-button-group"],["","nz-icon",""],["","nz-menu-item",""],["","nz-submenu",""],["nz-select-top-control"],["nz-select-placeholder"],["nz-input-group"]],inputs:{hidden:"hidden"},features:[l.TTD]}),n})(),JA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Ym]}),n})();class RB{constructor(e,t,r,i){this.triggerElement=e,this.ngZone=t,this.insertExtraNode=r,this.platformId=i,this.waveTransitionDuration=400,this.styleForPseudo=null,this.extraNode=null,this.lastTime=0,this.onClick=o=>{!this.triggerElement||!this.triggerElement.getAttribute||this.triggerElement.getAttribute("disabled")||"INPUT"===o.target.tagName||this.triggerElement.className.indexOf("disabled")>=0||this.fadeOutWave()},this.platform=new Ec(this.platformId),this.clickHandler=this.onClick.bind(this),this.bindTriggerEvent()}get waveAttributeName(){return this.insertExtraNode?"ant-click-animating":"ant-click-animating-without-extra-node"}bindTriggerEvent(){this.platform.isBrowser&&this.ngZone.runOutsideAngular(()=>{this.removeTriggerEvent(),this.triggerElement&&this.triggerElement.addEventListener("click",this.clickHandler,!0)})}removeTriggerEvent(){this.triggerElement&&this.triggerElement.removeEventListener("click",this.clickHandler,!0)}removeStyleAndExtraNode(){this.styleForPseudo&&document.body.contains(this.styleForPseudo)&&(document.body.removeChild(this.styleForPseudo),this.styleForPseudo=null),this.insertExtraNode&&this.triggerElement.contains(this.extraNode)&&this.triggerElement.removeChild(this.extraNode)}destroy(){this.removeTriggerEvent(),this.removeStyleAndExtraNode()}fadeOutWave(){const e=this.triggerElement,t=this.getWaveColor(e);e.setAttribute(this.waveAttributeName,"true"),!(Date.now()<this.lastTime+this.waveTransitionDuration)&&(this.isValidColor(t)&&(this.styleForPseudo||(this.styleForPseudo=document.createElement("style")),this.styleForPseudo.innerHTML=`\n      [ant-click-animating-without-extra-node='true']::after, .ant-click-animating-node {\n        --antd-wave-shadow-color: ${t};\n      }`,document.body.appendChild(this.styleForPseudo)),this.insertExtraNode&&(this.extraNode||(this.extraNode=document.createElement("div")),this.extraNode.className="ant-click-animating-node",e.appendChild(this.extraNode)),this.lastTime=Date.now(),this.runTimeoutOutsideZone(()=>{e.removeAttribute(this.waveAttributeName),this.removeStyleAndExtraNode()},this.waveTransitionDuration))}isValidColor(e){return!!e&&"#ffffff"!==e&&"rgb(255, 255, 255)"!==e&&this.isNotGrey(e)&&!/rgba\(\d*, \d*, \d*, 0\)/.test(e)&&"transparent"!==e}isNotGrey(e){const t=e.match(/rgba?\((\d*), (\d*), (\d*)(, [\.\d]*)?\)/);return!(t&&t[1]&&t[2]&&t[3]&&t[1]===t[2]&&t[2]===t[3])}getWaveColor(e){const t=getComputedStyle(e);return t.getPropertyValue("border-top-color")||t.getPropertyValue("border-color")||t.getPropertyValue("background-color")}runTimeoutOutsideZone(e,t){this.ngZone.runOutsideAngular(()=>setTimeout(e,t))}}const NB={disabled:!1},FB=new l.OlP("nz-wave-global-options",{providedIn:"root",factory:function LB(){return NB}});let Zm=(()=>{class n{constructor(t,r,i,o,c){this.ngZone=t,this.elementRef=r,this.config=i,this.animationType=o,this.platformId=c,this.nzWaveExtraNode=!1,this.waveDisabled=!1,this.waveDisabled=this.isConfigDisabled()}get disabled(){return this.waveDisabled}get rendererRef(){return this.waveRenderer}isConfigDisabled(){let t=!1;return this.config&&"boolean"==typeof this.config.disabled&&(t=this.config.disabled),"NoopAnimations"===this.animationType&&(t=!0),t}ngOnDestroy(){this.waveRenderer&&this.waveRenderer.destroy()}ngOnInit(){this.renderWaveIfEnabled()}renderWaveIfEnabled(){!this.waveDisabled&&this.elementRef.nativeElement&&(this.waveRenderer=new RB(this.elementRef.nativeElement,this.ngZone,this.nzWaveExtraNode,this.platformId))}disable(){this.waveDisabled=!0,this.waveRenderer&&(this.waveRenderer.removeTriggerEvent(),this.waveRenderer.removeStyleAndExtraNode())}enable(){this.waveDisabled=this.isConfigDisabled()||!1,this.waveRenderer&&this.waveRenderer.bindTriggerEvent()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.R0b),l.Y36(l.SBq),l.Y36(FB,8),l.Y36(l.QbO,8),l.Y36(l.Lbi))},n.\u0275dir=l.lG2({type:n,selectors:[["","nz-wave",""],["button","nz-button","",3,"nzType","link",3,"nzType","text"]],inputs:{nzWaveExtraNode:"nzWaveExtraNode"},exportAs:["nzWave"]}),n})(),XA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Ym]}),n})();const VB=["nz-button",""];function HB(n,e){1&n&&l._UZ(0,"span",1)}const BB=["*"];let Qm=(()=>{class n{constructor(t,r,i,o,c,h){this.ngZone=t,this.elementRef=r,this.cdr=i,this.renderer=o,this.nzConfigService=c,this.directionality=h,this._nzModuleName="button",this.nzBlock=!1,this.nzGhost=!1,this.nzSearch=!1,this.nzLoading=!1,this.nzDanger=!1,this.disabled=!1,this.tabIndex=null,this.nzType=null,this.nzShape=null,this.nzSize="default",this.dir="ltr",this.destroy$=new Ct.x,this.loading$=new Ct.x,this.nzConfigService.getConfigChangeEventForComponent("button").pipe(bn(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}insertSpan(t,r){t.forEach(i=>{if("#text"===i.nodeName){const o=r.createElement("span"),c=r.parentNode(i);r.insertBefore(c,o,i),r.appendChild(o,i)}})}assertIconOnly(t,r){const i=Array.from(t.childNodes),o=i.filter(_=>{const E=Array.from(_.childNodes||[]);return"SPAN"===_.nodeName&&E.length>0&&E.every(x=>"svg"===x.nodeName)}).length,c=i.every(_=>"#text"!==_.nodeName);i.filter(_=>{const E=Array.from(_.childNodes||[]);return!("SPAN"===_.nodeName&&E.length>0&&E.every(x=>"svg"===x.nodeName))}).every(_=>"SPAN"!==_.nodeName)&&c&&o>=1&&r.addClass(t,"ant-btn-icon-only")}ngOnInit(){this.directionality.change?.pipe(bn(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value,this.ngZone.runOutsideAngular(()=>{Il(this.elementRef.nativeElement,"click",{capture:!0}).pipe(bn(this.destroy$)).subscribe(t=>{(this.disabled&&"A"===t.target?.tagName||this.nzLoading)&&(t.preventDefault(),t.stopImmediatePropagation())})})}ngOnChanges(t){const{nzLoading:r}=t;r&&this.loading$.next(this.nzLoading)}ngAfterViewInit(){this.assertIconOnly(this.elementRef.nativeElement,this.renderer),this.insertSpan(this.elementRef.nativeElement.childNodes,this.renderer)}ngAfterContentInit(){this.loading$.pipe(ci(this.nzLoading),Hn(()=>!!this.nzIconDirectiveElement),bn(this.destroy$)).subscribe(t=>{const r=this.nzIconDirectiveElement.nativeElement;t?this.renderer.setStyle(r,"display","none"):this.renderer.removeStyle(r,"display")})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.R0b),l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(l.Qsj),l.Y36(qu),l.Y36(No,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["button","nz-button",""],["a","nz-button",""]],contentQueries:function(t,r,i){if(1&t&&l.Suo(i,Cd,5,l.SBq),2&t){let o;l.iGM(o=l.CRH())&&(r.nzIconDirectiveElement=o.first)}},hostAttrs:[1,"ant-btn"],hostVars:30,hostBindings:function(t,r){2&t&&(l.uIk("tabindex",r.disabled?-1:null===r.tabIndex?null:r.tabIndex)("disabled",r.disabled||null),l.ekj("ant-btn-primary","primary"===r.nzType)("ant-btn-dashed","dashed"===r.nzType)("ant-btn-link","link"===r.nzType)("ant-btn-text","text"===r.nzType)("ant-btn-circle","circle"===r.nzShape)("ant-btn-round","round"===r.nzShape)("ant-btn-lg","large"===r.nzSize)("ant-btn-sm","small"===r.nzSize)("ant-btn-dangerous",r.nzDanger)("ant-btn-loading",r.nzLoading)("ant-btn-background-ghost",r.nzGhost)("ant-btn-block",r.nzBlock)("ant-input-search-button",r.nzSearch)("ant-btn-rtl","rtl"===r.dir))},inputs:{nzBlock:"nzBlock",nzGhost:"nzGhost",nzSearch:"nzSearch",nzLoading:"nzLoading",nzDanger:"nzDanger",disabled:"disabled",tabIndex:"tabIndex",nzType:"nzType",nzShape:"nzShape",nzSize:"nzSize"},exportAs:["nzButton"],features:[l.TTD],attrs:VB,ngContentSelectors:BB,decls:2,vars:1,consts:[["nz-icon","","nzType","loading",4,"ngIf"],["nz-icon","","nzType","loading"]],template:function(t,r){1&t&&(l.F$t(),l.YNc(0,HB,1,0,"span",0),l.Hsn(1)),2&t&&l.Q6J("ngIf",r.nzLoading)},dependencies:[pi,Cd,L0],encapsulation:2,changeDetection:0}),(0,Di.gn)([rs()],n.prototype,"nzBlock",void 0),(0,Di.gn)([rs()],n.prototype,"nzGhost",void 0),(0,Di.gn)([rs()],n.prototype,"nzSearch",void 0),(0,Di.gn)([rs()],n.prototype,"nzLoading",void 0),(0,Di.gn)([rs()],n.prototype,"nzDanger",void 0),(0,Di.gn)([rs()],n.prototype,"disabled",void 0),(0,Di.gn)([c6()],n.prototype,"nzSize",void 0),n})(),qS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Wu,tr,XA,F0,JA,JA,XA]}),n})();var tk=B(4408);const Jm={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=Jm;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(o=>{t=void 0,n(o)});return new jr.w0(()=>t?.(i))},requestAnimationFrame(...n){const{delegate:e}=Jm;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Jm;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var nk=B(7565);const rk=new class UB extends nk.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class YB extends tk.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Jm.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:o}=e;null!=t&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==t&&(Jm.cancelAnimationFrame(t),e._scheduled=void 0)}});let WS,jB=1;const g9={};function ik(n){return n in g9&&(delete g9[n],!0)}const $B={setImmediate(n){const e=jB++;return g9[e]=!0,WS||(WS=Promise.resolve()),WS.then(()=>ik(e)&&n()),e},clearImmediate(n){ik(n)}},{setImmediate:GB,clearImmediate:qB}=$B,v9={setImmediate(...n){const{delegate:e}=v9;return(e?.setImmediate||GB)(...n)},clearImmediate(n){const{delegate:e}=v9;return(e?.clearImmediate||qB)(n)},delegate:void 0},ok=new class KB extends nk.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class WB extends tk.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=v9.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:o}=e;null!=t&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==t&&(v9.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});var QB=B(3532);function KS(n=0,e,t=zh.P){let r=-1;return null!=e&&((0,QB.K)(e)?t=e:r=e),new rr.y(i=>{let o=function JB(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let c=0;return t.schedule(function(){i.closed||(i.next(c++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function y9(n,e=zh.z){return function ZB(n){return(0,zr.e)((e,t)=>{let r=!1,i=null,o=null,c=!1;const h=()=>{if(o?.unsubscribe(),o=null,r){r=!1;const _=i;i=null,t.next(_)}c&&t.complete()},g=()=>{o=null,c&&t.complete()};e.subscribe((0,pr.x)(t,_=>{r=!0,i=_,o||(0,jo.Xf)(n(_)).subscribe(o=(0,pr.x)(t,h,g))},()=>{c=!0,(!r||!o||o.closed)&&t.complete()}))})}(()=>KS(n,e))}const XB=["contentWrapper"],eY=["*"],tY=new l.OlP("VIRTUAL_SCROLL_STRATEGY");let Xm=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new Ct.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new rr.y(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(y9(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):kt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(Hn(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,t)&&r.push(o)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=As(r),o=t.getElementRef().nativeElement;do{if(i==o)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Il(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.R0b),l.LFG(Ec),l.LFG(j,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sk=(()=>{class n{constructor(t,r,i,o){this.elementRef=t,this.scrollDispatcher=r,this.ngZone=i,this.dir=o,this._destroyed=new Ct.x,this._elementScrolled=new rr.y(c=>this.ngZone.runOutsideAngular(()=>Il(this.elementRef.nativeElement,"scroll").pipe(bn(this._destroyed)).subscribe(c)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const r=this.elementRef.nativeElement,i=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=i?t.end:t.start),null==t.right&&(t.right=i?t.start:t.end),null!=t.bottom&&(t.top=r.scrollHeight-r.clientHeight-t.bottom),i&&0!=$m()?(null!=t.left&&(t.right=r.scrollWidth-r.clientWidth-t.left),2==$m()?t.left=t.right:1==$m()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=r.scrollWidth-r.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const r=this.elementRef.nativeElement;YI()?r.scrollTo(t):(null!=t.top&&(r.scrollTop=t.top),null!=t.left&&(r.scrollLeft=t.left))}measureScrollOffset(t){const r="left",i="right",o=this.elementRef.nativeElement;if("top"==t)return o.scrollTop;if("bottom"==t)return o.scrollHeight-o.clientHeight-o.scrollTop;const c=this.dir&&"rtl"==this.dir.value;return"start"==t?t=c?i:r:"end"==t&&(t=c?r:i),c&&2==$m()?t==r?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:c&&1==$m()?t==r?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:t==r?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(Xm),l.Y36(l.R0b),l.Y36(No,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),_9=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new Ct.x,this._changeListener=o=>{this._change.next(o)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,o=i.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-o.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(y9(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ec),l.LFG(l.R0b),l.LFG(j,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ak=new l.OlP("VIRTUAL_SCROLLABLE");let iY=(()=>{class n extends sk{constructor(t,r,i,o){super(t,r,i,o)}measureViewportSize(t){const r=this.elementRef.nativeElement;return"horizontal"===t?r.clientWidth:r.clientHeight}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(Xm),l.Y36(l.R0b),l.Y36(No,8))},n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const sY=typeof requestAnimationFrame<"u"?rk:ok;let aY=(()=>{class n extends iY{get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(t){this._appendOnly=Ro(t)}constructor(t,r,i,o,c,h,g,_){super(t,h,i,c),this.elementRef=t,this._changeDetectorRef=r,this._scrollStrategy=o,this.scrollable=_,this._platform=(0,l.f3M)(Ec),this._detachedSubject=new Ct.x,this._renderedRangeSubject=new Ct.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new rr.y(E=>this._scrollStrategy.scrolledIndexChange.subscribe(x=>Promise.resolve().then(()=>this.ngZone.run(()=>E.next(x))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=jr.w0.EMPTY,this._viewportChanges=g.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(ci(null),y9(0,sY)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(t){this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe(bn(this._detachedSubject)).subscribe(r=>{const i=r.length;i!==this._dataLength&&(this._dataLength=i,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(t){return this.getElementRef().nativeElement.getBoundingClientRect()[t]}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){(function oY(n,e){return n.start==e.start&&n.end==e.end})(this._renderedRange,t)||(this.appendOnly&&(t={start:0,end:Math.max(this._renderedRange.end,t.end)}),this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,r="to-start"){t=this.appendOnly&&"to-start"===r?0:t;const o="horizontal"==this.orientation,c=o?"X":"Y";let g=`translate${c}(${Number((o&&this.dir&&"rtl"==this.dir.value?-1:1)*t)}px)`;this._renderedContentOffset=t,"to-end"===r&&(g+=` translate${c}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=g&&(this._renderedContentTransform=g,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,r="auto"){const i={behavior:r};"horizontal"===this.orientation?i.start=t:i.top=t,this.scrollable.scrollTo(i)}scrollToIndex(t,r="auto"){this._scrollStrategy.scrollToIndex(t,r)}measureScrollOffset(t){let r;return r=this.scrollable==this?i=>super.measureScrollOffset(i):i=>this.scrollable.measureScrollOffset(i),Math.max(0,r(t??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(t){let r;const i="left",o="right",c="rtl"==this.dir?.value;r="start"==t?c?o:i:"end"==t?c?i:o:t||("horizontal"===this.orientation?"left":"top");const h=this.scrollable.measureBoundingClientRectWithScrollOffset(r);return this.elementRef.nativeElement.getBoundingClientRect()[r]-h}measureRenderedContentSize(){const t=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const r of t)r()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(l.R0b),l.Y36(tY,8),l.Y36(No,8),l.Y36(Xm),l.Y36(_9),l.Y36(ak,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(t,r){if(1&t&&l.Gf(XB,7),2&t){let i;l.iGM(i=l.CRH())&&(r._contentWrapper=i.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(t,r){2&t&&l.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===r.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==r.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[l._Bn([{provide:sk,useFactory:(e,t)=>e||t,deps:[[new l.FiY,new l.tBr(ak)],n]}]),l.qOj,l.jDz],ngContentSelectors:eY,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(t,r){1&t&&(l.F$t(),l.TgZ(0,"div",0,1),l.Hsn(2),l.qZA(),l._UZ(3,"div",2)),2&t&&(l.xp6(3),l.Udp("width",r._totalContentWidth)("height",r._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),ZS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),ck=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Wu,ZS,aY,Wu,ZS]}),n})();class QS{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class w9 extends QS{constructor(e,t,r,i,o){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=o}}class JS extends QS{constructor(e,t,r,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class cY extends QS{constructor(e){super(),this.element=e instanceof l.SBq?e.nativeElement:e}}class XS{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof w9?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof JS?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof cY?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class lY extends XS{constructor(e,t,r,i,o){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=c=>{const h=c.element,g=this._document.createComment("dom-portal");h.parentNode.insertBefore(g,h),this.outletElement.appendChild(h),this._attachedPortal=c,super.setDisposeFn(()=>{g.parentNode&&g.parentNode.replaceChild(h,g)})},this._document=o}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||l.zs3.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let b9=(()=>{class n extends XS{constructor(t,r,i){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new l.vpe,this.attachDomPortal=o=>{const c=o.element,h=this._document.createComment("dom-portal");o.setAttachedHost(this),c.parentNode.insertBefore(h,c),this._getRootNode().appendChild(c),this._attachedPortal=o,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(c,h)})},this._document=i}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const r=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,o=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),c=r.createComponent(o,r.length,t.injector||r.injector,t.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(c.hostView.rootNodes[0]),super.setDisposeFn(()=>c.destroy()),this._attachedPortal=t,this._attachedRef=c,this.attached.emit(c),c}attachTemplatePortal(t){t.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l._Vd),l.Y36(l.s_b),l.Y36(j))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[l.qOj]}),n})(),eE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function tE(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}const dk=YI();class mY{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Li(-this._previousScrollPosition.left),e.style.top=Li(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,o=r.scrollBehavior||"",c=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),dk&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),dk&&(r.scrollBehavior=o,i.scrollBehavior=c)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class gY{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(Hn(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class hk{enable(){}disable(){}attach(){}}function nE(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function fk(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class vY{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();nE(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let yY=(()=>{class n{constructor(t,r,i,o){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new hk,this.close=c=>new gY(this._scrollDispatcher,this._ngZone,this._viewportRuler,c),this.block=()=>new mY(this._viewportRuler,this._document),this.reposition=c=>new vY(this._scrollDispatcher,this._viewportRuler,this._ngZone,c),this._document=o}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Xm),l.LFG(_9),l.LFG(l.R0b),l.LFG(j))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class S9{constructor(e){if(this.scrollStrategy=new hk,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class xi{constructor(e,t,r,i,o){this.offsetX=r,this.offsetY=i,this.panelClass=o,this.originX=e.originX,this.originY=e.originY,this.overlayX=t.overlayX,this.overlayY=t.overlayY}}class _Y{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let pk=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(j))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wY=(()=>{class n extends pk{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=i=>{const o=this._attachedOverlays;for(let c=o.length-1;c>-1;c--)if(o[c]._keydownEvents.observers.length>0){const h=o[c]._keydownEvents;this._ngZone?this._ngZone.run(()=>h.next(i)):h.next(i);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(j),l.LFG(l.R0b,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bY=(()=>{class n extends pk{constructor(t,r,i){super(t),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=i6(o)},this._clickListener=o=>{const c=i6(o),h="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:c;this._pointerDownEventTarget=null;const g=this._attachedOverlays.slice();for(let _=g.length-1;_>-1;_--){const E=g[_];if(E._outsidePointerEvents.observers.length<1||!E.hasAttached())continue;if(E.overlayElement.contains(c)||E.overlayElement.contains(h))break;const x=E._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>x.next(o)):x.next(o)}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(j),l.LFG(Ec),l.LFG(l.R0b,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mk=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||jI()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<i.length;o++)i[o].remove()}const r=this._document.createElement("div");r.classList.add(t),jI()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(j),l.LFG(Ec))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class u6{constructor(e,t,r,i,o,c,h,g,_,E=!1){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=o,this._keyboardDispatcher=c,this._document=h,this._location=g,this._outsideClickDispatcher=_,this._animationsDisabled=E,this._backdropElement=null,this._backdropClick=new Ct.x,this._attachments=new Ct.x,this._detachments=new Ct.x,this._locationChanges=jr.w0.EMPTY,this._backdropClickHandler=x=>this._backdropClick.next(x),this._backdropTransitionendHandler=x=>{this._disposeBackdrop(x.target)},this._keydownEvents=new Ct.x,this._outsidePointerEvents=new Ct.x,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(cr(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Li(this._config.width),e.height=Li(this._config.height),e.minWidth=Li(this._config.minWidth),e.minHeight=Li(this._config.minHeight),e.maxWidth=Li(this._config.maxWidth),e.maxHeight=Li(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,r){const i=Km(t||[]).filter(o=>!!o);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(bn((0,Rm.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const gk="cdk-overlay-connected-position-bounding-box",CY=/([A-Za-z%]+)$/;class SY{get positions(){return this._preferredPositions}constructor(e,t,r,i,o){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ct.x,this._resizeSubscription=jr.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(gk),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,o=[];let c;for(let h of this._preferredPositions){let g=this._getOriginPoint(e,i,h),_=this._getOverlayPoint(g,t,h),E=this._getOverlayFit(_,t,r,h);if(E.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,g);this._canFitWithFlexibleDimensions(E,_,r)?o.push({position:h,origin:g,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(g,h)}):(!c||c.overlayFit.visibleArea<E.visibleArea)&&(c={overlayFit:E,overlayPoint:_,originPoint:g,position:h,overlayRect:t})}if(o.length){let h=null,g=-1;for(const _ of o){const E=_.boundingBoxRect.width*_.boundingBoxRect.height*(_.position.weight||1);E>g&&(g=E,h=_)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(c.position,c.originPoint);this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&V0(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(gk),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i,o;if("center"==r.originX)i=e.left+e.width/2;else{const c=this._isRtl()?e.right:e.left,h=this._isRtl()?e.left:e.right;i="start"==r.originX?c:h}return t.left<0&&(i-=t.left),o="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(o-=t.top),{x:i,y:o}}_getOverlayPoint(e,t,r){let i,o;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,o="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+o}}_getOverlayFit(e,t,r,i){const o=yk(t);let{x:c,y:h}=e,g=this._getOffset(i,"x"),_=this._getOffset(i,"y");g&&(c+=g),_&&(h+=_);let K=0-h,ne=h+o.height-r.height,ue=this._subtractOverflows(o.width,0-c,c+o.width-r.width),De=this._subtractOverflows(o.height,K,ne),Ie=ue*De;return{visibleArea:Ie,isCompletelyWithinViewport:o.width*o.height===Ie,fitsInViewportVertically:De===o.height,fitsInViewportHorizontally:ue==o.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,o=r.right-t.x,c=vk(this._overlayRef.getConfig().minHeight),h=vk(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=c&&c<=i)&&(e.fitsInViewportHorizontally||null!=h&&h<=o)}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=yk(t),o=this._viewportRect,c=Math.max(e.x+i.width-o.width,0),h=Math.max(e.y+i.height-o.height,0),g=Math.max(o.top-r.top-e.y,0),_=Math.max(o.left-r.left-e.x,0);let E=0,x=0;return E=i.width<=o.width?_||-c:e.x<this._viewportMargin?o.left-r.left-e.x:0,x=i.height<=o.height?g||-h:e.y<this._viewportMargin?o.top-r.top-e.y:0,this._previousPushAmount={x:E,y:x},{x:e.x+E,y:e.y+x}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new _Y(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let o,c,h,E,x,K;if("top"===t.overlayY)c=e.y,o=r.height-c+this._viewportMargin;else if("bottom"===t.overlayY)h=r.height-e.y+2*this._viewportMargin,o=r.height-h+this._viewportMargin;else{const ne=Math.min(r.bottom-e.y+r.top,e.y),ue=this._lastBoundingBoxSize.height;o=2*ne,c=e.y-ne,o>ue&&!this._isInitialRender&&!this._growAfterOpen&&(c=e.y-ue/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)K=r.width-e.x+this._viewportMargin,E=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)x=e.x,E=r.right-e.x;else{const ne=Math.min(r.right-e.x+r.left,e.x),ue=this._lastBoundingBoxSize.width;E=2*ne,x=e.x-ne,E>ue&&!this._isInitialRender&&!this._growAfterOpen&&(x=e.x-ue/2)}return{top:c,left:x,bottom:h,right:K,width:E,height:o}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,c=this._overlayRef.getConfig().maxWidth;i.height=Li(r.height),i.top=Li(r.top),i.bottom=Li(r.bottom),i.width=Li(r.width),i.left=Li(r.left),i.right=Li(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",o&&(i.maxHeight=Li(o)),c&&(i.maxWidth=Li(c))}this._lastBoundingBoxSize=r,V0(this._boundingBox.style,i)}_resetBoundingBoxStyles(){V0(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){V0(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),o=this._hasFlexibleDimensions,c=this._overlayRef.getConfig();if(i){const E=this._viewportRuler.getViewportScrollPosition();V0(r,this._getExactOverlayY(t,e,E)),V0(r,this._getExactOverlayX(t,e,E))}else r.position="static";let h="",g=this._getOffset(t,"x"),_=this._getOffset(t,"y");g&&(h+=`translateX(${g}px) `),_&&(h+=`translateY(${_}px)`),r.transform=h.trim(),c.maxHeight&&(i?r.maxHeight=Li(c.maxHeight):o&&(r.maxHeight="")),c.maxWidth&&(i?r.maxWidth=Li(c.maxWidth):o&&(r.maxWidth="")),V0(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":i.top=Li(o.y),i}_getExactOverlayX(e,t,r){let c,i={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),c=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===c?i.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":i.left=Li(o.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:fk(e,r),isOriginOutsideView:nE(e,r),isOverlayClipped:fk(t,r),isOverlayOutsideView:nE(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Km(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof l.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function V0(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function vk(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(CY);return t&&"px"!==t?null:parseFloat(e)}return n||null}function yk(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const _k="cdk-global-overlay-wrapper";class EY{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(_k),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:o,maxWidth:c,maxHeight:h}=r,g=!("100%"!==i&&"100vw"!==i||c&&"100%"!==c&&"100vw"!==c),_=!("100%"!==o&&"100vh"!==o||h&&"100%"!==h&&"100vh"!==h),E=this._xPosition,x=this._xOffset,K="rtl"===this._overlayRef.getConfig().direction;let ne="",ue="",De="";g?De="flex-start":"center"===E?(De="center",K?ue=x:ne=x):K?"left"===E||"end"===E?(De="flex-end",ne=x):("right"===E||"start"===E)&&(De="flex-start",ue=x):"left"===E||"start"===E?(De="flex-start",ne=x):("right"===E||"end"===E)&&(De="flex-end",ue=x),e.position=this._cssPosition,e.marginLeft=g?"0":ne,e.marginTop=_?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=g?"0":ue,t.justifyContent=De,t.alignItems=_?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(_k),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let TY=(()=>{class n{constructor(t,r,i,o){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=o}global(){return new EY}flexibleConnectedTo(t){return new SY(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(_9),l.LFG(j),l.LFG(Ec),l.LFG(mk))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),DY=0,eg=(()=>{class n{constructor(t,r,i,o,c,h,g,_,E,x,K,ne){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=o,this._keyboardDispatcher=c,this._injector=h,this._ngZone=g,this._document=_,this._directionality=E,this._location=x,this._outsideClickDispatcher=K,this._animationsModuleType=ne}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),o=this._createPortalOutlet(i),c=new S9(t);return c.direction=c.direction||this._directionality.value,new u6(o,r,i,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+DY++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(l.z2F)),new lY(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(yY),l.LFG(mk),l.LFG(l._Vd),l.LFG(TY),l.LFG(wY),l.LFG(l.zs3),l.LFG(l.R0b),l.LFG(j),l.LFG(No),l.LFG(ve),l.LFG(bY),l.LFG(l.QbO,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const MY=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],wk=new l.OlP("cdk-connected-overlay-scroll-strategy");let bk=(()=>{class n{constructor(t){this.elementRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0}),n})(),rE=(()=>{class n{get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=Ro(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=Ro(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=Ro(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=Ro(t)}get push(){return this._push}set push(t){this._push=Ro(t)}constructor(t,r,i,o,c){this._overlay=t,this._dir=c,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=jr.w0.EMPTY,this._attachSubscription=jr.w0.EMPTY,this._detachSubscription=jr.w0.EMPTY,this._positionSubscription=jr.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new l.vpe,this.positionChange=new l.vpe,this.attach=new l.vpe,this.detach=new l.vpe,this.overlayKeydown=new l.vpe,this.overlayOutsideClick=new l.vpe,this._templatePortal=new JS(r,i),this._scrollStrategyFactory=o,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=MY);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(r=>{this.overlayKeydown.next(r),27===r.keyCode&&!this.disableClose&&!tE(r)&&(r.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(r=>{this.overlayOutsideClick.next(r)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),r=new S9({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(r.width=this.width),(this.height||0===this.height)&&(r.height=this.height),(this.minWidth||0===this.minWidth)&&(r.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(r.minHeight=this.minHeight),this.backdropClass&&(r.backdropClass=this.backdropClass),this.panelClass&&(r.panelClass=this.panelClass),r}_updatePositionStrategy(t){const r=this.positions.map(i=>({originX:i.originX,originY:i.originY,overlayX:i.overlayX,overlayY:i.overlayY,offsetX:i.offsetX||this.offsetX,offsetY:i.offsetY||this.offsetY,panelClass:i.panelClass||void 0}));return t.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(r).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(t),t}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof bk?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(Go(()=>this.positionChange.observers.length>0)).subscribe(t=>{this.positionChange.emit(t),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(eg),l.Y36(l.Rgc),l.Y36(l.s_b),l.Y36(wk),l.Y36(No,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[l.TTD]}),n})();const IY={provide:wk,deps:[eg],useFactory:function xY(n){return()=>n.scrollStrategies.reposition()}};let E9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[eg,IY],imports:[Wu,eE,ck,ck]}),n})();class Ck{}class AY{}const Sd="*";function Dc(n,e){return{type:7,name:n,definitions:e,options:{}}}function wr(n,e=null){return{type:4,styles:e,timings:n}}function Sk(n,e=null){return{type:2,steps:n,options:e}}function gn(n){return{type:6,styles:n,offset:null}}function Ks(n,e,t){return{type:0,name:n,styles:e,options:t}}function Dr(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function Ek(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function Tk(n,e){return{type:12,timings:n,animation:e}}function Dk(n){Promise.resolve().then(n)}class tg{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Dk(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Mk{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const o=this.players.length;0==o?Dk(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==o&&this._onFinish()}),c.onDestroy(()=>{++r==o&&this._onDestroy()}),c.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((c,h)=>Math.max(c,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const iE="!";let Na=(()=>{class n{}return n.SLOW="0.3s",n.BASE="0.2s",n.FAST="0.1s",n})(),is=(()=>{class n{}return n.EASE_BASE_OUT="cubic-bezier(0.7, 0.3, 0.1, 1)",n.EASE_BASE_IN="cubic-bezier(0.9, 0, 0.3, 0.7)",n.EASE_OUT="cubic-bezier(0.215, 0.61, 0.355, 1)",n.EASE_IN="cubic-bezier(0.55, 0.055, 0.675, 0.19)",n.EASE_IN_OUT="cubic-bezier(0.645, 0.045, 0.355, 1)",n.EASE_OUT_BACK="cubic-bezier(0.12, 0.4, 0.29, 1.46)",n.EASE_IN_BACK="cubic-bezier(0.71, -0.46, 0.88, 0.6)",n.EASE_IN_OUT_BACK="cubic-bezier(0.71, -0.46, 0.29, 1.46)",n.EASE_OUT_CIRC="cubic-bezier(0.08, 0.82, 0.17, 1)",n.EASE_IN_CIRC="cubic-bezier(0.6, 0.04, 0.98, 0.34)",n.EASE_IN_OUT_CIRC="cubic-bezier(0.78, 0.14, 0.15, 0.86)",n.EASE_OUT_QUINT="cubic-bezier(0.23, 1, 0.32, 1)",n.EASE_IN_QUINT="cubic-bezier(0.755, 0.05, 0.855, 0.06)",n.EASE_IN_OUT_QUINT="cubic-bezier(0.86, 0, 0.07, 1)",n})();Dc("collapseMotion",[Ks("expanded",gn({height:"*"})),Ks("collapsed",gn({height:0,overflow:"hidden"})),Ks("hidden",gn({height:0,overflow:"hidden",borderTopWidth:"0"})),Dr("expanded => collapsed",wr(`150ms ${is.EASE_IN_OUT}`)),Dr("expanded => hidden",wr(`150ms ${is.EASE_IN_OUT}`)),Dr("collapsed => expanded",wr(`150ms ${is.EASE_IN_OUT}`)),Dr("hidden => expanded",wr(`150ms ${is.EASE_IN_OUT}`))]),Dc("treeCollapseMotion",[Dr("* => *",[Ek("nz-tree-node:leave,nz-tree-builtin-node:leave",[gn({overflow:"hidden"}),Tk(0,[wr(`150ms ${is.EASE_IN_OUT}`,gn({height:0,opacity:0,"padding-bottom":0}))])],{optional:!0}),Ek("nz-tree-node:enter,nz-tree-builtin-node:enter",[gn({overflow:"hidden",height:0,opacity:0,"padding-bottom":0}),Tk(0,[wr(`150ms ${is.EASE_IN_OUT}`,gn({overflow:"hidden",height:"*",opacity:"*","padding-bottom":"*"}))])],{optional:!0})])]);const kY=Dc("fadeMotion",[Dr(":enter",[gn({opacity:0}),wr(`${Na.BASE}`,gn({opacity:1}))]),Dr(":leave",[gn({opacity:1}),wr(`${Na.BASE}`,gn({opacity:0}))])]),zY=(Dc("helpMotion",[Dr(":enter",[gn({opacity:0,transform:"translateY(-5px)"}),wr(`${Na.SLOW} ${is.EASE_IN_OUT}`,gn({opacity:1,transform:"translateY(0)"}))]),Dr(":leave",[gn({opacity:1,transform:"translateY(0)"}),wr(`${Na.SLOW} ${is.EASE_IN_OUT}`,gn({opacity:0,transform:"translateY(-5px)"}))])]),Dc("moveUpMotion",[Dr("* => enter",[gn({transformOrigin:"0 0",transform:"translateY(-100%)",opacity:0}),wr(`${Na.BASE}`,gn({transformOrigin:"0 0",transform:"translateY(0%)",opacity:1}))]),Dr("* => leave",[gn({transformOrigin:"0 0",transform:"translateY(0%)",opacity:1}),wr(`${Na.BASE}`,gn({transformOrigin:"0 0",transform:"translateY(-100%)",opacity:0}))])]),Dc("notificationMotion",[Ks("enterRight",gn({opacity:1,transform:"translateX(0)"})),Dr("* => enterRight",[gn({opacity:0,transform:"translateX(5%)"}),wr("100ms linear")]),Ks("enterLeft",gn({opacity:1,transform:"translateX(0)"})),Dr("* => enterLeft",[gn({opacity:0,transform:"translateX(-5%)"}),wr("100ms linear")]),Ks("enterTop",gn({opacity:1,transform:"translateY(0)"})),Dr("* => enterTop",[gn({opacity:0,transform:"translateY(-5%)"}),wr("100ms linear")]),Ks("enterBottom",gn({opacity:1,transform:"translateY(0)"})),Dr("* => enterBottom",[gn({opacity:0,transform:"translateY(5%)"}),wr("100ms linear")]),Ks("leave",gn({opacity:0,transform:"scaleY(0.8)",transformOrigin:"0% 0%"})),Dr("* => leave",[gn({opacity:1,transform:"scaleY(1)",transformOrigin:"0% 0%"}),wr("100ms linear")])]),`${Na.BASE} ${is.EASE_OUT_QUINT}`),PY=`${Na.BASE} ${is.EASE_IN_QUINT}`,xk=(Dc("slideMotion",[Ks("void",gn({opacity:0,transform:"scaleY(0.8)"})),Ks("enter",gn({opacity:1,transform:"scaleY(1)"})),Dr("void => *",[wr(zY)]),Dr("* => void",[wr(PY)])]),Dc("slideAlertMotion",[Dr(":leave",[gn({opacity:1,transform:"scaleY(1)",transformOrigin:"0% 0%"}),wr(`${Na.SLOW} ${is.EASE_IN_OUT_CIRC}`,gn({opacity:0,transform:"scaleY(0)",transformOrigin:"0% 0%"}))])]),Dc("zoomBigMotion",[Dr("void => active",[gn({opacity:0,transform:"scale(0.8)"}),wr(`${Na.BASE} ${is.EASE_OUT_CIRC}`,gn({opacity:1,transform:"scale(1)"}))]),Dr("active => void",[gn({opacity:1,transform:"scale(1)"}),wr(`${Na.BASE} ${is.EASE_IN_OUT_CIRC}`,gn({opacity:0,transform:"scale(0.8)"}))])]));Dc("zoomBadgeMotion",[Dr(":enter",[gn({opacity:0,transform:"scale(0) translate(50%, -50%)"}),wr(`${Na.SLOW} ${is.EASE_OUT_BACK}`,gn({opacity:1,transform:"scale(1) translate(50%, -50%)"}))]),Dr(":leave",[gn({opacity:1,transform:"scale(1) translate(50%, -50%)"}),wr(`${Na.SLOW} ${is.EASE_IN_BACK}`,gn({opacity:0,transform:"scale(0) translate(50%, -50%)"}))])]),Dc("thumbMotion",[Ks("from",gn({transform:"translateX({{ transform }}px)",width:"{{ width }}px"}),{params:{transform:0,width:0}}),Ks("to",gn({transform:"translateX({{ transform }}px)",width:"{{ width }}px"}),{params:{transform:100,width:0}}),Dr("from => to",wr(`300ms ${is.EASE_IN_OUT}`))]);let NY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const Ik=new Set;let d6,oE=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):LY}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function FY(n){if(!Ik.has(n))try{d6||(d6=document.createElement("style"),d6.setAttribute("type","text/css"),document.head.appendChild(d6)),d6.sheet&&(d6.sheet.insertRule(`@media ${n} {body{ }}`,0),Ik.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ec))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function LY(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let VY=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new Ct.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return Ak(Km(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let o=uu(Ak(Km(t)).map(c=>this._registerQuery(c).observable));return o=nc(o.pipe(cr(1)),o.pipe(function OY(n){return Hn((e,t)=>n<=t)}(1),function RY(n,e=zh.z){return(0,zr.e)((t,r)=>{let i=null,o=null,c=null;const h=()=>{if(i){i.unsubscribe(),i=null;const _=o;o=null,r.next(_)}};function g(){const _=c+n,E=e.now();if(E<_)return i=this.schedule(void 0,_-E),void r.add(i);h()}t.subscribe((0,pr.x)(r,_=>{o=_,c=e.now(),i||(i=e.schedule(g,n),r.add(i))},()=>{h(),r.complete()},void 0,()=>{o=i=null}))})}(0))),o.pipe((0,Nt.U)(c=>{const h={matches:!1,breakpoints:{}};return c.forEach(({matches:g,query:_})=>{h.matches=h.matches||g,h.breakpoints[_]=g}),h}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),o={observable:new rr.y(c=>{const h=g=>this._zone.run(()=>c.next(g));return r.addListener(h),()=>{r.removeListener(h)}}).pipe(ci(r),(0,Nt.U)(({matches:c})=>({query:t,matches:c})),bn(this._destroySubject)),mql:r};return this._queries.set(t,o),o}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(oE),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ak(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}const sE=()=>{};let HY=(()=>{class n{constructor(t,r){this.ngZone=t,this.rendererFactory2=r,this.resizeSource$=new Ct.x,this.listeners=0,this.disposeHandle=sE,this.handler=()=>{this.ngZone.run(()=>{this.resizeSource$.next()})},this.renderer=this.rendererFactory2.createRenderer(null,null)}ngOnDestroy(){this.handler=sE}subscribe(){return this.registerListener(),this.resizeSource$.pipe(y9(16),Ea(()=>this.unregisterListener()))}unsubscribe(){this.unregisterListener()}registerListener(){0===this.listeners&&this.ngZone.runOutsideAngular(()=>{this.disposeHandle=this.renderer.listen("window","resize",this.handler)}),this.listeners+=1}unregisterListener(){this.listeners-=1,0===this.listeners&&(this.disposeHandle(),this.disposeHandle=sE)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.R0b),l.LFG(l.FYo))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var T9=(()=>(function(n){n.xxl="xxl",n.xl="xl",n.lg="lg",n.md="md",n.sm="sm",n.xs="xs"}(T9||(T9={})),T9))();const D9={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"};let BY=(()=>{class n{constructor(t,r){this.resizeService=t,this.mediaMatcher=r,this.destroy$=new Ct.x,this.resizeService.subscribe().pipe(bn(this.destroy$)).subscribe(()=>{})}ngOnDestroy(){this.destroy$.next()}subscribe(t,r){if(r){const i=()=>this.matchMedia(t,!0);return this.resizeService.subscribe().pipe((0,Nt.U)(i),ci(i()),Z1((o,c)=>o[0]===c[0]),(0,Nt.U)(o=>o[1]))}{const i=()=>this.matchMedia(t);return this.resizeService.subscribe().pipe((0,Nt.U)(i),ci(i()),Z1())}}matchMedia(t,r){let i=T9.md;const o={};return Object.keys(t).map(c=>{const h=c,g=this.mediaMatcher.matchMedia(D9[h]).matches;o[c]=g,g&&(i=h)}),r?[i,o]:i}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(HY),l.LFG(oE))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),M9=(()=>{class n extends Ct.x{ngOnDestroy(){this.next(),this.complete()}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),YY=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),UY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[YY]}),n})(),GY=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function WY(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function qY(n){try{return n.frameElement}catch{return null}}(function nU(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(r&&(-1===Ok(r)||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),o=Ok(t);return t.hasAttribute("contenteditable")?-1!==o:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function eU(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==o:"video"===i?-1!==o&&(null!==o||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function tU(n){return!function ZY(n){return function JY(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function KY(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function QY(n){return function XY(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||Pk(n))}(t)&&!this.isDisabled(t)&&(r?.ignoreVisibility||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ec))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Pk(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function Ok(n){if(!Pk(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class rU{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,r,i,o=!1){this._element=e,this._checker=t,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const r=this._getFirstTabbableElement(t);return r?.focus(e),!!r}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=0;r<t.length;r++){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=t.length-1;r>=0;r--){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(cr(1)).subscribe(e)}}let aE=(()=>{class n{constructor(t,r,i){this._checker=t,this._ngZone=r,this._document=i}create(t,r=!1){return new rU(t,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(GY),l.LFG(l.R0b),l.LFG(j))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),iU=(()=>{class n{get enabled(){return this.focusTrap.enabled}set enabled(t){this.focusTrap.enabled=Ro(t)}get autoCapture(){return this._autoCapture}set autoCapture(t){this._autoCapture=Ro(t)}constructor(t,r,i){this._elementRef=t,this._focusTrapFactory=r,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(t){const r=t.autoCapture;r&&!r.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=function NL(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}(),this.focusTrap.focusInitialElementWhenReady()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(aE),l.Y36(j))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[l.TTD]}),n})();const Rk="cdk-high-contrast-black-on-white",Nk="cdk-high-contrast-white-on-black",cE="cdk-high-contrast-active";let cU=(()=>{class n{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=(0,l.f3M)(VY).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,o=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(cE,Rk,Nk),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?t.add(cE,Rk):2===r&&t.add(cE,Nk)}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ec),l.LFG(j))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lU=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(cU))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[UY]}),n})();function lE(n,e,t){for(let r in e)if(e.hasOwnProperty(r)){const i=e[r];i?n.setProperty(r,i,t?.has(r)?"important":""):n.removeProperty(r)}return n}function h6(n,e){const t=e?"":"none";lE(n.style,{"touch-action":e?"":"none","-webkit-user-drag":e?"":"none","-webkit-tap-highlight-color":e?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function Fk(n,e,t){lE(n.style,{position:e?"":"fixed",top:e?"":"0",opacity:e?"":"0",left:e?"":"-999em"},t)}function x9(n,e){return e&&"none"!=e?n+" "+e:n}function Lk(n){const e=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*e}function uE(n,e){return n.getPropertyValue(e).split(",").map(r=>r.trim())}function dE(n){const e=n.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height,x:e.x,y:e.y}}function hE(n,e,t){const{top:r,bottom:i,left:o,right:c}=n;return t>=r&&t<=i&&e>=o&&e<=c}function ng(n,e,t){n.top+=e,n.bottom=n.top+n.height,n.left+=t,n.right=n.left+n.width}function Vk(n,e,t,r){const{top:i,right:o,bottom:c,left:h,width:g,height:_}=n,E=g*e,x=_*e;return r>i-x&&r<c+x&&t>h-E&&t<o+E}class Hk{constructor(e){this._document=e,this.positions=new Map}clear(){this.positions.clear()}cache(e){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),e.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:dE(t)})})}handleScroll(e){const t=i6(e),r=this.positions.get(t);if(!r)return null;const i=r.scrollPosition;let o,c;if(t===this._document){const _=this.getViewportScrollPosition();o=_.top,c=_.left}else o=t.scrollTop,c=t.scrollLeft;const h=i.top-o,g=i.left-c;return this.positions.forEach((_,E)=>{_.clientRect&&t!==E&&t.contains(E)&&ng(_.clientRect,h,g)}),i.top=o,i.left=c,{top:h,left:g}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function Bk(n){const e=n.cloneNode(!0),t=e.querySelectorAll("[id]"),r=n.nodeName.toLowerCase();e.removeAttribute("id");for(let i=0;i<t.length;i++)t[i].removeAttribute("id");return"canvas"===r?jk(n,e):("input"===r||"select"===r||"textarea"===r)&&Uk(n,e),Yk("canvas",n,e,jk),Yk("input, textarea, select",n,e,Uk),e}function Yk(n,e,t,r){const i=e.querySelectorAll(n);if(i.length){const o=t.querySelectorAll(n);for(let c=0;c<i.length;c++)r(i[c],o[c])}}let hU=0;function Uk(n,e){"file"!==e.type&&(e.value=n.value),"radio"===e.type&&e.name&&(e.name=`mat-clone-${e.name}-${hU++}`)}function jk(n,e){const t=e.getContext("2d");if(t)try{t.drawImage(n,0,0)}catch{}}const $k=jm({passive:!0}),I9=jm({passive:!1}),fE=new Set(["position"]);class pU{get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(e){const t=Ro(e);t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(r=>h6(r,t)))}constructor(e,t,r,i,o,c){this._config=t,this._document=r,this._ngZone=i,this._viewportRuler=o,this._dragDropRegistry=c,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new Ct.x,this._pointerMoveSubscription=jr.w0.EMPTY,this._pointerUpSubscription=jr.w0.EMPTY,this._scrollSubscription=jr.w0.EMPTY,this._resizeSubscription=jr.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new Ct.x,this.started=new Ct.x,this.released=new Ct.x,this.ended=new Ct.x,this.entered=new Ct.x,this.exited=new Ct.x,this.dropped=new Ct.x,this.moved=this._moveEvents,this._pointerDown=h=>{if(this.beforeStarted.next(),this._handles.length){const g=this._getTargetHandle(h);g&&!this._disabledHandles.has(g)&&!this.disabled&&this._initializeDragSequence(g,h)}else this.disabled||this._initializeDragSequence(this._rootElement,h)},this._pointerMove=h=>{const g=this._getPointerPositionOnPage(h);if(!this._hasStartedDragging){if(Math.abs(g.x-this._pickupPositionOnPage.x)+Math.abs(g.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const ne=Date.now()>=this._dragStartTime+this._getDragStartDelay(h),ue=this._dropContainer;if(!ne)return void this._endDragSequence(h);(!ue||!ue.isDragging()&&!ue.isReceiving())&&(h.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(h)))}return}h.preventDefault();const _=this._getConstrainedPointerPosition(g);if(this._hasMoved=!0,this._lastKnownPointerPosition=g,this._updatePointerDirectionDelta(_),this._dropContainer)this._updateActiveDropContainer(_,g);else{const E=this.constrainPosition?this._initialClientRect:this._pickupPositionOnPage,x=this._activeTransform;x.x=_.x-E.x+this._passiveTransform.x,x.y=_.y-E.y+this._passiveTransform.y,this._applyRootElementTransform(x.x,x.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:_,event:h,distance:this._getDragDistance(_),delta:this._pointerDirectionDelta})})},this._pointerUp=h=>{this._endDragSequence(h)},this._nativeDragStart=h=>{if(this._handles.length){const g=this._getTargetHandle(h);g&&!this._disabledHandles.has(g)&&!this.disabled&&h.preventDefault()}else this.disabled||h.preventDefault()},this.withRootElement(e).withParent(t.parentDragRef||null),this._parentPositions=new Hk(r),c.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(e){this._handles=e.map(r=>As(r)),this._handles.forEach(r=>h6(r,this.disabled)),this._toggleNativeDragInteractions();const t=new Set;return this._disabledHandles.forEach(r=>{this._handles.indexOf(r)>-1&&t.add(r)}),this._disabledHandles=t,this}withPreviewTemplate(e){return this._previewTemplate=e,this}withPlaceholderTemplate(e){return this._placeholderTemplate=e,this}withRootElement(e){const t=As(e);return t!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{t.addEventListener("mousedown",this._pointerDown,I9),t.addEventListener("touchstart",this._pointerDown,$k),t.addEventListener("dragstart",this._nativeDragStart,I9)}),this._initialTransform=void 0,this._rootElement=t),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(e){return this._boundaryElement=e?As(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(e){return this._parentDragRef=e,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(e){!this._disabledHandles.has(e)&&this._handles.indexOf(e)>-1&&(this._disabledHandles.add(e),h6(e,!0))}enableHandle(e){this._disabledHandles.has(e)&&(this._disabledHandles.delete(e),h6(e,this.disabled))}withDirection(e){return this._direction=e,this}_withDropContainer(e){this._dropContainer=e}getFreeDragPosition(){const e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}setFreeDragPosition(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}withPreviewContainer(e){return this._previewContainer=e,this}_sortFromLastPointerPosition(){const e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(e){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:e}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(e),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const t=this._getPointerPositionOnPage(e);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t,event:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(e){rg(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const t=this._dropContainer;if(t){const r=this._rootElement,i=r.parentNode,o=this._placeholder=this._createPlaceholderElement(),c=this._anchor=this._anchor||this._document.createComment(""),h=this._getShadowRoot();i.insertBefore(c,r),this._initialTransform=r.style.transform||"",this._preview=this._createPreviewElement(),Fk(r,!1,fE),this._document.body.appendChild(i.replaceChild(o,r)),this._getPreviewInsertionPoint(i,h).appendChild(this._preview),this.started.next({source:this,event:e}),t.start(),this._initialContainer=t,this._initialIndex=t.getItemIndex(this)}else this.started.next({source:this,event:e}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(t?t.getScrollableParents():[])}_initializeDragSequence(e,t){this._parentDragRef&&t.stopPropagation();const r=this.isDragging(),i=rg(t),o=!i&&0!==t.button,c=this._rootElement,h=i6(t),g=!i&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),_=i?function sU(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}(t):function oU(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}(t);if(h&&h.draggable&&"mousedown"===t.type&&t.preventDefault(),r||o||g||_)return;if(this._handles.length){const K=c.style;this._rootElementTapHighlight=K.webkitTapHighlightColor||"",K.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(K=>this._updateOnScroll(K)),this._boundaryElement&&(this._boundaryRect=dE(this._boundaryElement));const E=this._previewTemplate;this._pickupPositionInElement=E&&E.template&&!E.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,e,t);const x=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:x.x,y:x.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(e){Fk(this._rootElement,!0,fE),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const t=this._dropContainer,r=t.getItemIndex(this),i=this._getPointerPositionOnPage(e),o=this._getDragDistance(i),c=t._isOverContainer(i.x,i.y);this.ended.next({source:this,distance:o,dropPoint:i,event:e}),this.dropped.next({item:this,currentIndex:r,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:c,distance:o,dropPoint:i,event:e}),t.drop(this,r,this._initialIndex,this._initialContainer,c,o,i,e),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:e,y:t},{x:r,y:i}){let o=this._initialContainer._getSiblingContainerFromPosition(this,e,t);!o&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(e,t)&&(o=this._initialContainer),o&&o!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=o,this._dropContainer.enter(this,e,t,o===this._initialContainer&&o.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:o,currentIndex:o.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(r,i),this._dropContainer._sortItem(this,e,t,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(e,t):this._applyPreviewTransform(e-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_createPreviewElement(){const e=this._previewTemplate,t=this.previewClass,r=e?e.template:null;let i;if(r&&e){const o=e.matchSize?this._initialClientRect:null,c=e.viewContainer.createEmbeddedView(r,e.context);c.detectChanges(),i=qk(c,this._document),this._previewRef=c,e.matchSize?Wk(i,o):i.style.transform=A9(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else i=Bk(this._rootElement),Wk(i,this._initialClientRect),this._initialTransform&&(i.style.transform=this._initialTransform);return lE(i.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},fE),h6(i,!1),i.classList.add("cdk-drag-preview"),i.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(o=>i.classList.add(o)):i.classList.add(t)),i}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const e=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(e.left,e.top);const t=function dU(n){const e=getComputedStyle(n),t=uE(e,"transition-property"),r=t.find(h=>"transform"===h||"all"===h);if(!r)return 0;const i=t.indexOf(r),o=uE(e,"transition-duration"),c=uE(e,"transition-delay");return Lk(o[i])+Lk(c[i])}(this._preview);return 0===t?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(r=>{const i=c=>{(!c||i6(c)===this._preview&&"transform"===c.propertyName)&&(this._preview?.removeEventListener("transitionend",i),r(),clearTimeout(o))},o=setTimeout(i,1.5*t);this._preview.addEventListener("transitionend",i)}))}_createPlaceholderElement(){const e=this._placeholderTemplate,t=e?e.template:null;let r;return t?(this._placeholderRef=e.viewContainer.createEmbeddedView(t,e.context),this._placeholderRef.detectChanges(),r=qk(this._placeholderRef,this._document)):r=Bk(this._rootElement),r.style.pointerEvents="none",r.classList.add("cdk-drag-placeholder"),r}_getPointerPositionInElement(e,t,r){const i=t===this._rootElement?null:t,o=i?i.getBoundingClientRect():e,c=rg(r)?r.targetTouches[0]:r,h=this._getViewportScrollPosition();return{x:o.left-e.left+(c.pageX-o.left-h.left),y:o.top-e.top+(c.pageY-o.top-h.top)}}_getPointerPositionOnPage(e){const t=this._getViewportScrollPosition(),r=rg(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,i=r.pageX-t.left,o=r.pageY-t.top;if(this._ownerSVGElement){const c=this._ownerSVGElement.getScreenCTM();if(c){const h=this._ownerSVGElement.createSVGPoint();return h.x=i,h.y=o,h.matrixTransform(c.inverse())}}return{x:i,y:o}}_getConstrainedPointerPosition(e){const t=this._dropContainer?this._dropContainer.lockAxis:null;let{x:r,y:i}=this.constrainPosition?this.constrainPosition(e,this,this._initialClientRect,this._pickupPositionInElement):e;if("x"===this.lockAxis||"x"===t?i=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===t)&&(r=this._pickupPositionOnPage.x),this._boundaryRect){const{x:o,y:c}=this._pickupPositionInElement,h=this._boundaryRect,{width:g,height:_}=this._getPreviewRect(),E=h.top+c,x=h.bottom-(_-c);r=Gk(r,h.left+o,h.right-(g-o)),i=Gk(i,E,x)}return{x:r,y:i}}_updatePointerDirectionDelta(e){const{x:t,y:r}=e,i=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,c=Math.abs(t-o.x),h=Math.abs(r-o.y);return c>this._config.pointerDirectionChangeThreshold&&(i.x=t>o.x?1:-1,o.x=t),h>this._config.pointerDirectionChangeThreshold&&(i.y=r>o.y?1:-1,o.y=r),i}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,h6(this._rootElement,e))}_removeRootElementListeners(e){e.removeEventListener("mousedown",this._pointerDown,I9),e.removeEventListener("touchstart",this._pointerDown,$k),e.removeEventListener("dragstart",this._nativeDragStart,I9)}_applyRootElementTransform(e,t){const r=A9(e,t),i=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=i.transform&&"none"!=i.transform?i.transform:""),i.transform=x9(r,this._initialTransform)}_applyPreviewTransform(e,t){const r=this._previewTemplate?.template?void 0:this._initialTransform,i=A9(e,t);this._preview.style.transform=x9(i,r)}_getDragDistance(e){const t=this._pickupPositionOnPage;return t?{x:e.x-t.x,y:e.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:e,y:t}=this._passiveTransform;if(0===e&&0===t||this.isDragging()||!this._boundaryElement)return;const r=this._rootElement.getBoundingClientRect(),i=this._boundaryElement.getBoundingClientRect();if(0===i.width&&0===i.height||0===r.width&&0===r.height)return;const o=i.left-r.left,c=r.right-i.right,h=i.top-r.top,g=r.bottom-i.bottom;i.width>r.width?(o>0&&(e+=o),c>0&&(e-=c)):e=0,i.height>r.height?(h>0&&(t+=h),g>0&&(t-=g)):t=0,(e!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:e})}_getDragStartDelay(e){const t=this.dragStartDelay;return"number"==typeof t?t:rg(e)?t.touch:t?t.mouse:0}_updateOnScroll(e){const t=this._parentPositions.handleScroll(e);if(t){const r=i6(e);this._boundaryRect&&r!==this._boundaryElement&&r.contains(this._boundaryElement)&&ng(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=UI(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(e,t){const r=this._previewContainer||"global";if("parent"===r)return e;if("global"===r){const i=this._document;return t||i.fullscreenElement||i.webkitFullscreenElement||i.mozFullScreenElement||i.msFullscreenElement||i.body}return As(r)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect),this._previewRect}_getTargetHandle(e){return this._handles.find(t=>e.target&&(e.target===t||t.contains(e.target)))}}function A9(n,e){return`translate3d(${Math.round(n)}px, ${Math.round(e)}px, 0)`}function Gk(n,e,t){return Math.max(e,Math.min(t,n))}function rg(n){return"t"===n.type[0]}function qk(n,e){const t=n.rootNodes;if(1===t.length&&t[0].nodeType===e.ELEMENT_NODE)return t[0];const r=e.createElement("div");return t.forEach(i=>r.appendChild(i)),r}function Wk(n,e){n.style.width=`${e.width}px`,n.style.height=`${e.height}px`,n.style.transform=A9(e.left,e.top)}function ig(n,e){return Math.max(0,Math.min(e,n))}class gU{constructor(e,t){this._element=e,this._dragDropRegistry=t,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(e){this.withItems(e)}sort(e,t,r,i){const o=this._itemPositions,c=this._getItemIndexFromPointerPosition(e,t,r,i);if(-1===c&&o.length>0)return null;const h="horizontal"===this.orientation,g=o.findIndex(Ie=>Ie.drag===e),_=o[c],x=_.clientRect,K=g>c?1:-1,ne=this._getItemOffsetPx(o[g].clientRect,x,K),ue=this._getSiblingOffsetPx(g,o,K),De=o.slice();return function mU(n,e,t){const r=ig(e,n.length-1),i=ig(t,n.length-1);if(r===i)return;const o=n[r],c=i<r?-1:1;for(let h=r;h!==i;h+=c)n[h]=n[h+c];n[i]=o}(o,g,c),o.forEach((Ie,tt)=>{if(De[tt]===Ie)return;const pt=Ie.drag===e,ft=pt?ne:ue,gt=pt?e.getPlaceholderElement():Ie.drag.getRootElement();Ie.offset+=ft,h?(gt.style.transform=x9(`translate3d(${Math.round(Ie.offset)}px, 0, 0)`,Ie.initialTransform),ng(Ie.clientRect,0,ft)):(gt.style.transform=x9(`translate3d(0, ${Math.round(Ie.offset)}px, 0)`,Ie.initialTransform),ng(Ie.clientRect,ft,0))}),this._previousSwap.overlaps=hE(x,t,r),this._previousSwap.drag=_.drag,this._previousSwap.delta=h?i.x:i.y,{previousIndex:g,currentIndex:c}}enter(e,t,r,i){const o=null==i||i<0?this._getItemIndexFromPointerPosition(e,t,r):i,c=this._activeDraggables,h=c.indexOf(e),g=e.getPlaceholderElement();let _=c[o];if(_===e&&(_=c[o+1]),!_&&(null==o||-1===o||o<c.length-1)&&this._shouldEnterAsFirstChild(t,r)&&(_=c[0]),h>-1&&c.splice(h,1),_&&!this._dragDropRegistry.isDragging(_)){const E=_.getRootElement();E.parentElement.insertBefore(g,E),c.splice(o,0,e)}else As(this._element).appendChild(g),c.push(e);g.style.transform="",this._cacheItemPositions()}withItems(e){this._activeDraggables=e.slice(),this._cacheItemPositions()}withSortPredicate(e){this._sortPredicate=e}reset(){this._activeDraggables.forEach(e=>{const t=e.getRootElement();if(t){const r=this._itemPositions.find(i=>i.drag===e)?.initialTransform;t.style.transform=r||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(e){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(r=>r.drag===e)}updateOnScroll(e,t){this._itemPositions.forEach(({clientRect:r})=>{ng(r,e,t)}),this._itemPositions.forEach(({drag:r})=>{this._dragDropRegistry.isDragging(r)&&r._sortFromLastPointerPosition()})}_cacheItemPositions(){const e="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(t=>{const r=t.getVisibleElement();return{drag:t,offset:0,initialTransform:r.style.transform||"",clientRect:dE(r)}}).sort((t,r)=>e?t.clientRect.left-r.clientRect.left:t.clientRect.top-r.clientRect.top)}_getItemOffsetPx(e,t,r){const i="horizontal"===this.orientation;let o=i?t.left-e.left:t.top-e.top;return-1===r&&(o+=i?t.width-e.width:t.height-e.height),o}_getSiblingOffsetPx(e,t,r){const i="horizontal"===this.orientation,o=t[e].clientRect,c=t[e+-1*r];let h=o[i?"width":"height"]*r;if(c){const g=i?"left":"top",_=i?"right":"bottom";-1===r?h-=c.clientRect[g]-o[_]:h+=o[g]-c.clientRect[_]}return h}_shouldEnterAsFirstChild(e,t){if(!this._activeDraggables.length)return!1;const r=this._itemPositions,i="horizontal"===this.orientation;if(r[0].drag!==this._activeDraggables[0]){const c=r[r.length-1].clientRect;return i?e>=c.right:t>=c.bottom}{const c=r[0].clientRect;return i?e<=c.left:t<=c.top}}_getItemIndexFromPointerPosition(e,t,r,i){const o="horizontal"===this.orientation,c=this._itemPositions.findIndex(({drag:h,clientRect:g})=>h!==e&&((!i||h!==this._previousSwap.drag||!this._previousSwap.overlaps||(o?i.x:i.y)!==this._previousSwap.delta)&&(o?t>=Math.floor(g.left)&&t<Math.floor(g.right):r>=Math.floor(g.top)&&r<Math.floor(g.bottom))));return-1!==c&&this._sortPredicate(c,e)?c:-1}}const Zk=.05;class vU{constructor(e,t,r,i,o){this._dragDropRegistry=t,this._ngZone=i,this._viewportRuler=o,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new Ct.x,this.entered=new Ct.x,this.exited=new Ct.x,this.dropped=new Ct.x,this.sorted=new Ct.x,this.receivingStarted=new Ct.x,this.receivingStopped=new Ct.x,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=jr.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new Ct.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function uU(n=0,e=zh.z){return n<0&&(n=0),KS(n,n,e)}(0,rk).pipe(bn(this._stopScrollTimers)).subscribe(()=>{const c=this._scrollNode,h=this.autoScrollStep;1===this._verticalScrollDirection?c.scrollBy(0,-h):2===this._verticalScrollDirection&&c.scrollBy(0,h),1===this._horizontalScrollDirection?c.scrollBy(-h,0):2===this._horizontalScrollDirection&&c.scrollBy(h,0)})},this.element=As(e),this._document=r,this.withScrollableParents([this.element]),t.registerDropContainer(this),this._parentPositions=new Hk(r),this._sortStrategy=new gU(this.element,t),this._sortStrategy.withSortPredicate((c,h)=>this.sortPredicate(c,h,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(e,t,r,i){this._draggingStarted(),null==i&&this.sortingDisabled&&(i=this._draggables.indexOf(e)),this._sortStrategy.enter(e,t,r,i),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}exit(e){this._reset(),this.exited.next({item:e,container:this})}drop(e,t,r,i,o,c,h,g={}){this._reset(),this.dropped.next({item:e,currentIndex:t,previousIndex:r,container:this,previousContainer:i,isPointerOverContainer:o,distance:c,dropPoint:h,event:g})}withItems(e){const t=this._draggables;return this._draggables=e,e.forEach(r=>r._withDropContainer(this)),this.isDragging()&&(t.filter(i=>i.isDragging()).every(i=>-1===e.indexOf(i))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(e){return this._sortStrategy.direction=e,this}connectedTo(e){return this._siblings=e.slice(),this}withOrientation(e){return this._sortStrategy.orientation=e,this}withScrollableParents(e){const t=As(this.element);return this._scrollableElements=-1===e.indexOf(t)?[t,...e]:e.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(e){return this._isDragging?this._sortStrategy.getItemIndex(e):this._draggables.indexOf(e)}isReceiving(){return this._activeSiblings.size>0}_sortItem(e,t,r,i){if(this.sortingDisabled||!this._clientRect||!Vk(this._clientRect,.05,t,r))return;const o=this._sortStrategy.sort(e,t,r,i);o&&this.sorted.next({previousIndex:o.previousIndex,currentIndex:o.currentIndex,container:this,item:e})}_startScrollingIfNecessary(e,t){if(this.autoScrollDisabled)return;let r,i=0,o=0;if(this._parentPositions.positions.forEach((c,h)=>{h===this._document||!c.clientRect||r||Vk(c.clientRect,.05,e,t)&&([i,o]=function yU(n,e,t,r){const i=Qk(e,r),o=Jk(e,t);let c=0,h=0;if(i){const g=n.scrollTop;1===i?g>0&&(c=1):n.scrollHeight-g>n.clientHeight&&(c=2)}if(o){const g=n.scrollLeft;1===o?g>0&&(h=1):n.scrollWidth-g>n.clientWidth&&(h=2)}return[c,h]}(h,c.clientRect,e,t),(i||o)&&(r=h))}),!i&&!o){const{width:c,height:h}=this._viewportRuler.getViewportSize(),g={width:c,height:h,top:0,right:c,bottom:h,left:0};i=Qk(g,t),o=Jk(g,e),r=window}r&&(i!==this._verticalScrollDirection||o!==this._horizontalScrollDirection||r!==this._scrollNode)&&(this._verticalScrollDirection=i,this._horizontalScrollDirection=o,this._scrollNode=r,(i||o)&&r?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const e=As(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const e=As(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(e).clientRect}_reset(){this._isDragging=!1;const e=As(this.element).style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(t=>t._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(e,t){return null!=this._clientRect&&hE(this._clientRect,e,t)}_getSiblingContainerFromPosition(e,t,r){return this._siblings.find(i=>i._canReceive(e,t,r))}_canReceive(e,t,r){if(!this._clientRect||!hE(this._clientRect,t,r)||!this.enterPredicate(e,this))return!1;const i=this._getShadowRoot().elementFromPoint(t,r);if(!i)return!1;const o=As(this.element);return i===o||o.contains(i)}_startReceiving(e,t){const r=this._activeSiblings;!r.has(e)&&t.every(i=>this.enterPredicate(i,this)||this._draggables.indexOf(i)>-1)&&(r.add(e),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:e,receiver:this,items:t}))}_stopReceiving(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:e,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(e=>{if(this.isDragging()){const t=this._parentPositions.handleScroll(e);t&&this._sortStrategy.updateOnScroll(t.top,t.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const e=UI(As(this.element));this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const e=this._sortStrategy.getActiveItemsSnapshot().filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,e))}}function Qk(n,e){const{top:t,bottom:r,height:i}=n,o=i*Zk;return e>=t-o&&e<=t+o?1:e>=r-o&&e<=r+o?2:0}function Jk(n,e){const{left:t,right:r,width:i}=n,o=i*Zk;return e>=t-o&&e<=t+o?1:e>=r-o&&e<=r+o?2:0}const k9=jm({passive:!1,capture:!0});let _U=(()=>{class n{constructor(t,r){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=i=>i.isDragging(),this.pointerMove=new Ct.x,this.pointerUp=new Ct.x,this.scroll=new Ct.x,this._preventDefaultWhileDragging=i=>{this._activeDragInstances.length>0&&i.preventDefault()},this._persistentTouchmoveListener=i=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&i.preventDefault(),this.pointerMove.next(i))},this._document=r}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,k9)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,k9)}startDragging(t,r){if(!(this._activeDragInstances.indexOf(t)>-1)&&(this._activeDragInstances.push(t),1===this._activeDragInstances.length)){const i=r.type.startsWith("touch");this._globalListeners.set(i?"touchend":"mouseup",{handler:o=>this.pointerUp.next(o),options:!0}).set("scroll",{handler:o=>this.scroll.next(o),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:k9}),i||this._globalListeners.set("mousemove",{handler:o=>this.pointerMove.next(o),options:k9}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((o,c)=>{this._document.addEventListener(c,o.handler,o.options)})})}}stopDragging(t){const r=this._activeDragInstances.indexOf(t);r>-1&&(this._activeDragInstances.splice(r,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(t){return this._activeDragInstances.indexOf(t)>-1}scrolled(t){const r=[this.scroll];return t&&t!==this._document&&r.push(new rr.y(i=>this._ngZone.runOutsideAngular(()=>{const c=h=>{this._activeDragInstances.length&&i.next(h)};return t.addEventListener("scroll",c,!0),()=>{t.removeEventListener("scroll",c,!0)}}))),(0,Rm.T)(...r)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,r)=>{this._document.removeEventListener(r,t.handler,t.options)}),this._globalListeners.clear()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.R0b),l.LFG(j))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const wU={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let pE=(()=>{class n{constructor(t,r,i,o){this._document=t,this._ngZone=r,this._viewportRuler=i,this._dragDropRegistry=o}createDrag(t,r=wU){return new pU(t,r,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new vU(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(j),l.LFG(l.R0b),l.LFG(_9),l.LFG(_U))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const mE=new l.OlP("CDK_DRAG_PARENT"),Xk=new l.OlP("CDK_DRAG_CONFIG"),ez=new l.OlP("CdkDropList"),vE=new l.OlP("CdkDragHandle");let tz=(()=>{class n{get disabled(){return this._disabled}set disabled(t){this._disabled=Ro(t),this._stateChanges.next(this)}constructor(t,r){this.element=t,this._stateChanges=new Ct.x,this._disabled=!1,this._parentDrag=r}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(mE,12))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]},standalone:!0,features:[l._Bn([{provide:vE,useExisting:n}])]}),n})();const nz=new l.OlP("CdkDragPlaceholder"),rz=new l.OlP("CdkDragPreview");let iz=(()=>{class n{get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=Ro(t),this._dragRef.disabled=this._disabled}constructor(t,r,i,o,c,h,g,_,E,x,K){this.element=t,this.dropContainer=r,this._ngZone=o,this._viewContainerRef=c,this._dir=g,this._changeDetectorRef=E,this._selfHandle=x,this._parentDrag=K,this._destroyed=new Ct.x,this.started=new l.vpe,this.released=new l.vpe,this.ended=new l.vpe,this.entered=new l.vpe,this.exited=new l.vpe,this.dropped=new l.vpe,this.moved=new rr.y(ne=>{const ue=this._dragRef.moved.pipe((0,Nt.U)(De=>({source:this,pointerPosition:De.pointerPosition,event:De.event,delta:De.delta,distance:De.distance}))).subscribe(ne);return()=>{ue.unsubscribe()}}),this._dragRef=_.createDrag(t,{dragStartThreshold:h&&null!=h.dragStartThreshold?h.dragStartThreshold:5,pointerDirectionChangeThreshold:h&&null!=h.pointerDirectionChangeThreshold?h.pointerDirectionChangeThreshold:5,zIndex:h?.zIndex}),this._dragRef.data=this,n._dragInstances.push(this),h&&this._assignDefaults(h),r&&(this._dragRef._withDropContainer(r._dropListRef),r.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(t){this._dragRef.setFreeDragPosition(t)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(cr(1),bn(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(t){const r=t.rootElementSelector,i=t.freeDragPosition;r&&!r.firstChange&&this._updateRootElement(),i&&!i.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const t=n._dragInstances.indexOf(this);t>-1&&n._dragInstances.splice(t,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const t=this.element.nativeElement;let r=t;this.rootElementSelector&&(r=void 0!==t.closest?t.closest(this.rootElementSelector):t.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(r||t)}_getBoundaryElement(){const t=this.boundaryElement;return t?"string"==typeof t?this.element.nativeElement.closest(t):As(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){const r=this._dir,i=this.dragStartDelay,o=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,c=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.dragStartDelay="object"==typeof i&&i?i:function CA(n,e=0){return function VV(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}(i),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(o).withPreviewTemplate(c).withPreviewContainer(this.previewContainer||"global"),r&&t.withDirection(r.value)}}),t.beforeStarted.pipe(cr(1)).subscribe(()=>{if(this._parentDrag)return void t.withParent(this._parentDrag._dragRef);let r=this.element.nativeElement.parentElement;for(;r;){if(r.classList.contains("cdk-drag")){t.withParent(n._dragInstances.find(i=>i.element.nativeElement===r)?._dragRef||null);break}r=r.parentElement}})}_handleEvents(t){t.started.subscribe(r=>{this.started.emit({source:this,event:r.event}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(r=>{this.released.emit({source:this,event:r.event})}),t.ended.subscribe(r=>{this.ended.emit({source:this,distance:r.distance,dropPoint:r.dropPoint,event:r.event}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(r=>{this.entered.emit({container:r.container.data,item:this,currentIndex:r.currentIndex})}),t.exited.subscribe(r=>{this.exited.emit({container:r.container.data,item:this})}),t.dropped.subscribe(r=>{this.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,isPointerOverContainer:r.isPointerOverContainer,item:this,distance:r.distance,dropPoint:r.dropPoint,event:r.event})})}_assignDefaults(t){const{lockAxis:r,dragStartDelay:i,constrainPosition:o,previewClass:c,boundaryElement:h,draggingDisabled:g,rootElementSelector:_,previewContainer:E}=t;this.disabled=g??!1,this.dragStartDelay=i||0,r&&(this.lockAxis=r),o&&(this.constrainPosition=o),c&&(this.previewClass=c),h&&(this.boundaryElement=h),_&&(this.rootElementSelector=_),E&&(this.previewContainer=E)}_setupHandlesListener(){this._handles.changes.pipe(ci(this._handles),(0,Pr.b)(t=>{const r=t.filter(i=>i._parentDrag===this).map(i=>i.element);this._selfHandle&&this.rootElementSelector&&r.push(this.element),this._dragRef.withHandles(r)}),Tr(t=>(0,Rm.T)(...t.map(r=>r._stateChanges.pipe(ci(r))))),bn(this._destroyed)).subscribe(t=>{const r=this._dragRef,i=t.element.nativeElement;t.disabled?r.disableHandle(i):r.enableHandle(i)})}}return n._dragInstances=[],n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(ez,12),l.Y36(j),l.Y36(l.R0b),l.Y36(l.s_b),l.Y36(Xk,8),l.Y36(No,8),l.Y36(pE),l.Y36(l.sBO),l.Y36(vE,10),l.Y36(mE,12))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkDrag",""]],contentQueries:function(t,r,i){if(1&t&&(l.Suo(i,rz,5),l.Suo(i,nz,5),l.Suo(i,vE,5)),2&t){let o;l.iGM(o=l.CRH())&&(r._previewTemplate=o.first),l.iGM(o=l.CRH())&&(r._placeholderTemplate=o.first),l.iGM(o=l.CRH())&&(r._handles=o)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,r){2&t&&l.ekj("cdk-drag-disabled",r.disabled)("cdk-drag-dragging",r._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],standalone:!0,features:[l._Bn([{provide:mE,useExisting:n}]),l.TTD]}),n})(),MU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[pE],imports:[ZS]}),n})();class Fo{transform(e,t=0,r="B",i){if(!(TA(e)&&TA(t)&&t%1==0&&t>=0))return e;let o=e,c=r;for(;"B"!==c;)o*=1024,c=Fo.formats[c].prev;if(i){const g=DA(Fo.calculateResult(Fo.formats[i],o),t);return Fo.formatResult(g,i)}for(const h in Fo.formats)if(Fo.formats.hasOwnProperty(h)){const g=Fo.formats[h];if(o<g.max){const _=DA(Fo.calculateResult(g,o),t);return Fo.formatResult(_,h)}}}static formatResult(e,t){return`${e} ${t}`}static calculateResult(e,t){const r=e.prev?Fo.formats[e.prev]:void 0;return r?t/r.max:t}}Fo.formats={B:{max:1024},kB:{max:Math.pow(1024,2),prev:"B"},KB:{max:Math.pow(1024,2),prev:"B"},MB:{max:Math.pow(1024,3),prev:"kB"},GB:{max:Math.pow(1024,4),prev:"MB"},TB:{max:Number.MAX_SAFE_INTEGER,prev:"GB"}},Fo.\u0275fac=function(e){return new(e||Fo)},Fo.\u0275pipe=l.Yjl({name:"nzBytes",type:Fo,pure:!0});let yE=(()=>{class n{transform(t,r="px"){let g="px";return["cm","mm","Q","in","pc","pt","px","em","ex","ch","rem","1h","vw","vh","vmin","vmax","%"].some(_=>_===r)&&(g=r),"number"==typeof t?`${t}${g}`:`${t}`}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=l.Yjl({name:"nzToCssUnit",type:n,pure:!0}),n})(),_E=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[tr]}),n})();const IU=["imgRef"],AU=["imagePreviewWrapper"];function kU(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"li",10),l.NdJ("click",function(){const o=l.CHM(t).$implicit;return l.KtG(o.onClick())}),l._UZ(1,"span",11),l.qZA()}if(2&n){const t=e.$implicit,r=l.oxw();l.ekj("ant-image-preview-operations-operation-disabled",r.zoomOutDisabled&&"zoomOut"===t.type),l.xp6(1),l.Q6J("nzType",t.icon)}}function zU(n,e){if(1&n&&l._UZ(0,"img",13,14),2&n){const t=l.oxw().$implicit,r=l.oxw();l.Udp("width",t.width)("height",t.height)("transform",r.previewImageTransform),l.uIk("src",r.sanitizerResourceUrl(t.src),l.LSH)("srcset",t.srcset)("alt",t.alt)}}function PU(n,e){if(1&n&&(l.ynx(0),l.YNc(1,zU,2,9,"img",12),l.BQk()),2&n){const t=e.index,r=l.oxw();l.xp6(1),l.Q6J("ngIf",r.index===t)}}function OU(n,e){if(1&n){const t=l.EpF();l.ynx(0),l.TgZ(1,"div",15),l.NdJ("click",function(i){l.CHM(t);const o=l.oxw();return l.KtG(o.onSwitchLeft(i))}),l._UZ(2,"span",16),l.qZA(),l.TgZ(3,"div",17),l.NdJ("click",function(i){l.CHM(t);const o=l.oxw();return l.KtG(o.onSwitchRight(i))}),l._UZ(4,"span",18),l.qZA(),l.BQk()}if(2&n){const t=l.oxw();l.xp6(1),l.ekj("ant-image-preview-switch-left-disabled",t.index<=0),l.xp6(2),l.ekj("ant-image-preview-switch-right-disabled",t.index>=t.images.length-1)}}const RU=["*"];class wE{constructor(){this.nzKeyboard=!0,this.nzNoAnimation=!1,this.nzMaskClosable=!0,this.nzCloseOnNavigation=!0}}class FU{constructor(e,t,r){this.previewInstance=e,this.config=t,this.overlayRef=r,this.destroy$=new Ct.x,r.keydownEvents().pipe(Hn(i=>this.config.nzKeyboard&&(27===i.keyCode||37===i.keyCode||39===i.keyCode)&&!tE(i))).subscribe(i=>{i.preventDefault(),27===i.keyCode&&this.close(),37===i.keyCode&&this.prev(),39===i.keyCode&&this.next()}),r.detachments().subscribe(()=>{this.overlayRef.dispose()}),e.containerClick.pipe(cr(1),bn(this.destroy$)).subscribe(()=>{this.close()}),e.closeClick.pipe(cr(1),bn(this.destroy$)).subscribe(()=>{this.close()}),e.animationStateChanged.pipe(Hn(i=>"done"===i.phaseName&&"leave"===i.toState),cr(1)).subscribe(()=>{this.dispose()})}switchTo(e){this.previewInstance.switchTo(e)}next(){this.previewInstance.next()}prev(){this.previewInstance.prev()}close(){this.previewInstance.startLeaveAnimation()}dispose(){this.destroy$.next(),this.overlayRef.dispose()}}function sz(n,e,t){const r=n+e,i=(e-t)/2;let o=null;return e>t?(n>0&&(o=i),n<0&&r<t&&(o=-i)):(n<0||r>t)&&(o=n<0?i:-i),o}const P9={x:0,y:0};let BU=(()=>{class n{constructor(t,r,i,o,c,h,g,_){this.ngZone=t,this.host=r,this.cdr=i,this.nzConfigService=o,this.config=c,this.overlayRef=h,this.destroy$=g,this.sanitizer=_,this.images=[],this.index=0,this.isDragging=!1,this.visible=!0,this.animationState="enter",this.animationStateChanged=new l.vpe,this.previewImageTransform="",this.previewImageWrapperTransform="",this.operations=[{icon:"close",onClick:()=>{this.onClose()},type:"close"},{icon:"zoom-in",onClick:()=>{this.onZoomIn()},type:"zoomIn"},{icon:"zoom-out",onClick:()=>{this.onZoomOut()},type:"zoomOut"},{icon:"rotate-right",onClick:()=>{this.onRotateRight()},type:"rotateRight"},{icon:"rotate-left",onClick:()=>{this.onRotateLeft()},type:"rotateLeft"}],this.zoomOutDisabled=!1,this.position={...P9},this.containerClick=new l.vpe,this.closeClick=new l.vpe,this.zoom=this.config.nzZoom??1,this.rotate=this.config.nzRotate??0,this.updateZoomOutDisabled(),this.updatePreviewImageTransform(),this.updatePreviewImageWrapperTransform()}get animationDisabled(){return this.config.nzNoAnimation??!1}get maskClosable(){const t=this.nzConfigService.getConfigForComponent("image")||{};return this.config.nzMaskClosable??t.nzMaskClosable??!0}ngOnInit(){this.ngZone.runOutsideAngular(()=>{Il(this.host.nativeElement,"click").pipe(bn(this.destroy$)).subscribe(t=>{t.target===t.currentTarget&&this.maskClosable&&this.containerClick.observers.length&&this.ngZone.run(()=>this.containerClick.emit())}),Il(this.imagePreviewWrapper.nativeElement,"mousedown").pipe(bn(this.destroy$)).subscribe(()=>{this.isDragging=!0})})}setImages(t){this.images=t,this.cdr.markForCheck()}switchTo(t){this.index=t,this.cdr.markForCheck()}next(){this.index<this.images.length-1&&(this.reset(),this.index++,this.updatePreviewImageTransform(),this.updatePreviewImageWrapperTransform(),this.updateZoomOutDisabled(),this.cdr.markForCheck())}prev(){this.index>0&&(this.reset(),this.index--,this.updatePreviewImageTransform(),this.updatePreviewImageWrapperTransform(),this.updateZoomOutDisabled(),this.cdr.markForCheck())}markForCheck(){this.cdr.markForCheck()}onClose(){this.closeClick.emit()}onZoomIn(){this.zoom+=1,this.updatePreviewImageTransform(),this.updateZoomOutDisabled(),this.position={...P9}}onZoomOut(){this.zoom>1&&(this.zoom-=1,this.updatePreviewImageTransform(),this.updateZoomOutDisabled(),this.position={...P9})}onRotateRight(){this.rotate+=90,this.updatePreviewImageTransform()}onRotateLeft(){this.rotate-=90,this.updatePreviewImageTransform()}onSwitchLeft(t){t.preventDefault(),t.stopPropagation(),this.prev()}onSwitchRight(t){t.preventDefault(),t.stopPropagation(),this.next()}onAnimationStart(t){"enter"===t.toState?this.setEnterAnimationClass():"leave"===t.toState&&this.setLeaveAnimationClass(),this.animationStateChanged.emit(t)}onAnimationDone(t){"enter"===t.toState?this.setEnterAnimationClass():"leave"===t.toState&&this.setLeaveAnimationClass(),this.animationStateChanged.emit(t)}startLeaveAnimation(){this.animationState="leave",this.cdr.markForCheck()}onDragReleased(){this.isDragging=!1;const t=this.imageRef.nativeElement.offsetWidth*this.zoom,r=this.imageRef.nativeElement.offsetHeight*this.zoom,{left:i,top:o}=function VU(n){const e=n.getBoundingClientRect(),t=document.documentElement;return{left:e.left+(window.pageXOffset||t.scrollLeft)-(t.clientLeft||document.body.clientLeft||0),top:e.top+(window.pageYOffset||t.scrollTop)-(t.clientTop||document.body.clientTop||0)}}(this.imageRef.nativeElement),{width:c,height:h}=function HU(){return{width:document.documentElement.clientWidth,height:window.innerHeight||document.documentElement.clientHeight}}(),g=this.rotate%180!=0,E=function LU(n){let e={};return n.width<=n.clientWidth&&n.height<=n.clientHeight&&(e={x:0,y:0}),(n.width>n.clientWidth||n.height>n.clientHeight)&&(e={x:sz(n.left,n.width,n.clientWidth),y:sz(n.top,n.height,n.clientHeight)}),e}({width:g?r:t,height:g?t:r,left:i,top:o,clientWidth:c,clientHeight:h});(Tc(E.x)||Tc(E.y))&&(this.position={...this.position,...E})}sanitizerResourceUrl(t){return this.sanitizer.bypassSecurityTrustResourceUrl(t)}updatePreviewImageTransform(){this.previewImageTransform=`scale3d(${this.zoom}, ${this.zoom}, 1) rotate(${this.rotate}deg)`}updatePreviewImageWrapperTransform(){this.previewImageWrapperTransform=`translate3d(${this.position.x}px, ${this.position.y}px, 0)`}updateZoomOutDisabled(){this.zoomOutDisabled=this.zoom<=1}setEnterAnimationClass(){if(this.animationDisabled)return;const t=this.overlayRef.backdropElement;t&&(t.classList.add("ant-fade-enter"),t.classList.add("ant-fade-enter-active"))}setLeaveAnimationClass(){if(this.animationDisabled)return;const t=this.overlayRef.backdropElement;t&&(t.classList.add("ant-fade-leave"),t.classList.add("ant-fade-leave-active"))}reset(){this.zoom=1,this.rotate=0,this.position={...P9}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.R0b),l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(qu),l.Y36(wE),l.Y36(u6),l.Y36(M9),l.Y36(Xa))},n.\u0275cmp=l.Xpm({type:n,selectors:[["nz-image-preview"]],viewQuery:function(t,r){if(1&t&&(l.Gf(IU,5),l.Gf(AU,7)),2&t){let i;l.iGM(i=l.CRH())&&(r.imageRef=i.first),l.iGM(i=l.CRH())&&(r.imagePreviewWrapper=i.first)}},hostAttrs:["tabindex","-1","role","document",1,"ant-image-preview-wrap"],hostVars:6,hostBindings:function(t,r){1&t&&l.WFA("@fadeMotion.start",function(o){return r.onAnimationStart(o)})("@fadeMotion.done",function(o){return r.onAnimationDone(o)}),2&t&&(l.d8E("@.disabled",r.config.nzNoAnimation)("@fadeMotion",r.animationState),l.Udp("z-index",r.config.nzZIndex),l.ekj("ant-image-preview-moving",r.isDragging))},exportAs:["nzImagePreview"],features:[l._Bn([M9])],decls:11,vars:6,consts:[[1,"ant-image-preview"],["tabindex","0","aria-hidden","true",2,"width","0","height","0","overflow","hidden","outline","none"],[1,"ant-image-preview-content"],[1,"ant-image-preview-body"],[1,"ant-image-preview-operations"],["class","ant-image-preview-operations-operation",3,"ant-image-preview-operations-operation-disabled","click",4,"ngFor","ngForOf"],["cdkDrag","",1,"ant-image-preview-img-wrapper",3,"cdkDragFreeDragPosition","cdkDragReleased"],["imagePreviewWrapper",""],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"ant-image-preview-operations-operation",3,"click"],["nz-icon","","nzTheme","outline",1,"ant-image-preview-operations-icon",3,"nzType"],["cdkDragHandle","","class","ant-image-preview-img",3,"width","height","transform",4,"ngIf"],["cdkDragHandle","",1,"ant-image-preview-img"],["imgRef",""],[1,"ant-image-preview-switch-left",3,"click"],["nz-icon","","nzType","left","nzTheme","outline"],[1,"ant-image-preview-switch-right",3,"click"],["nz-icon","","nzType","right","nzTheme","outline"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0),l._UZ(1,"div",1),l.TgZ(2,"div",2)(3,"div",3)(4,"ul",4),l.YNc(5,kU,2,3,"li",5),l.qZA(),l.TgZ(6,"div",6,7),l.NdJ("cdkDragReleased",function(){return r.onDragReleased()}),l.YNc(8,PU,2,1,"ng-container",8),l.qZA(),l.YNc(9,OU,5,4,"ng-container",9),l.qZA()(),l._UZ(10,"div",1),l.qZA()),2&t&&(l.xp6(5),l.Q6J("ngForOf",r.operations),l.xp6(1),l.Udp("transform",r.previewImageWrapperTransform),l.Q6J("cdkDragFreeDragPosition",r.position),l.xp6(2),l.Q6J("ngForOf",r.images),l.xp6(1),l.Q6J("ngIf",r.images.length>1))},dependencies:[iz,tz,Xs,pi,Cd],encapsulation:2,data:{animation:[kY]},changeDetection:0}),n})(),az=(()=>{class n{constructor(t,r,i,o){this.overlay=t,this.injector=r,this.nzConfigService=i,this.directionality=o}preview(t,r){return this.display(t,r)}display(t,r){const i={...new wE,...r??{}},o=this.createOverlay(i),c=this.attachPreviewComponent(o,i);c.setImages(t);const h=new FU(c,i,o);return c.previewRef=h,h}attachPreviewComponent(t,r){const i=l.zs3.create({parent:this.injector,providers:[{provide:u6,useValue:t},{provide:wE,useValue:r}]}),o=new w9(BU,null,i);return t.attach(o).instance}createOverlay(t){const r=this.nzConfigService.getConfigForComponent("image")||{},i=new S9({hasBackdrop:!0,scrollStrategy:this.overlay.scrollStrategies.block(),positionStrategy:this.overlay.position().global(),disposeOnNavigation:t.nzCloseOnNavigation??r.nzCloseOnNavigation??!0,backdropClass:"ant-image-preview-mask",direction:t.nzDirection||r.nzDirection||this.directionality.value});return this.overlay.create(i)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(eg),l.LFG(l.zs3),l.LFG(qu),l.LFG(No,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),YU=(()=>{class n{constructor(){this.images=[]}addImage(t){this.images.push(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["nz-image-group"]],exportAs:["nzImageGroup"],ngContentSelectors:RU,decls:1,vars:0,template:function(t,r){1&t&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),cz=(()=>{class n{constructor(t,r,i,o,c,h,g){this.document=t,this.nzConfigService=r,this.elementRef=i,this.nzImageService=o,this.cdr=c,this.parentGroup=h,this.directionality=g,this._nzModuleName="image",this.nzSrc="",this.nzSrcset="",this.nzDisablePreview=!1,this.nzFallback=null,this.nzPlaceholder=null,this.status="normal",this.backLoadDestroy$=new Ct.x,this.destroy$=new Ct.x}get previewable(){return!this.nzDisablePreview&&"error"!==this.status}ngOnInit(){this.backLoad(),this.parentGroup&&this.parentGroup.addImage(this),this.directionality&&(this.directionality.change?.pipe(bn(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onPreview(){if(this.previewable)if(this.parentGroup){const t=this.parentGroup.images.filter(c=>c.previewable),r=t.map(c=>({src:c.nzSrc,srcset:c.nzSrcset})),i=t.findIndex(c=>this===c);this.nzImageService.preview(r,{nzDirection:this.dir}).switchTo(i)}else this.nzImageService.preview([{src:this.nzSrc,srcset:this.nzSrcset}],{nzDirection:this.dir})}getElement(){return this.elementRef}ngOnChanges(t){const{nzSrc:r}=t;r&&(this.getElement().nativeElement.src=r.currentValue,this.backLoad())}backLoad(){this.backLoadImage=this.document.createElement("img"),this.backLoadImage.src=this.nzSrc,this.backLoadImage.srcset=this.nzSrcset,this.status="loading",this.backLoadDestroy$.next(),this.backLoadDestroy$.complete(),this.backLoadDestroy$=new Ct.x,this.backLoadImage.complete?(this.status="normal",this.getElement().nativeElement.src=this.nzSrc,this.getElement().nativeElement.srcset=this.nzSrcset):(this.nzPlaceholder?(this.getElement().nativeElement.src=this.nzPlaceholder,this.getElement().nativeElement.srcset=""):(this.getElement().nativeElement.src=this.nzSrc,this.getElement().nativeElement.srcset=this.nzSrcset),Il(this.backLoadImage,"load").pipe(bn(this.backLoadDestroy$),bn(this.destroy$)).subscribe(()=>{this.status="normal",this.getElement().nativeElement.src=this.nzSrc,this.getElement().nativeElement.srcset=this.nzSrcset}),Il(this.backLoadImage,"error").pipe(bn(this.backLoadDestroy$),bn(this.destroy$)).subscribe(()=>{this.status="error",this.nzFallback&&(this.getElement().nativeElement.src=this.nzFallback,this.getElement().nativeElement.srcset="")}))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(j),l.Y36(qu),l.Y36(l.SBq),l.Y36(az),l.Y36(l.sBO),l.Y36(YU,8),l.Y36(No,8))},n.\u0275dir=l.lG2({type:n,selectors:[["img","nz-image",""]],hostBindings:function(t,r){1&t&&l.NdJ("click",function(){return r.onPreview()})},inputs:{nzSrc:"nzSrc",nzSrcset:"nzSrcset",nzDisablePreview:"nzDisablePreview",nzFallback:"nzFallback",nzPlaceholder:"nzPlaceholder"},exportAs:["nzImage"],features:[l.TTD]}),(0,Di.gn)([rs(),c6()],n.prototype,"nzDisablePreview",void 0),(0,Di.gn)([c6()],n.prototype,"nzFallback",void 0),(0,Di.gn)([c6()],n.prototype,"nzPlaceholder",void 0),n})(),jU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[az],imports:[Wu,E9,eE,MU,tr,F0,_E]}),n})(),bE=(()=>{class n{constructor(t,r,i,o,c,h,g){this.elementRef=t,this.renderer=r,this.mediaMatcher=i,this.ngZone=o,this.platform=c,this.breakpointService=h,this.directionality=g,this.nzAlign=null,this.nzJustify=null,this.nzGutter=null,this.actualGutter$=new xC(1),this.dir="ltr",this.destroy$=new Ct.x}getGutter(){const t=[null,null],r=this.nzGutter||0;return(Array.isArray(r)?r:[r,null]).forEach((o,c)=>{"object"==typeof o&&null!==o?(t[c]=null,Object.keys(D9).map(h=>{const g=h;this.mediaMatcher.matchMedia(D9[g]).matches&&o[g]&&(t[c]=o[g])})):t[c]=Number(o)||null}),t}setGutterStyle(){const[t,r]=this.getGutter();this.actualGutter$.next([t,r]);const i=(o,c)=>{null!==c&&this.renderer.setStyle(this.elementRef.nativeElement,o,`-${c/2}px`)};i("margin-left",t),i("margin-right",t),i("margin-top",r),i("margin-bottom",r)}ngOnInit(){this.dir=this.directionality.value,this.directionality.change?.pipe(bn(this.destroy$)).subscribe(t=>{this.dir=t}),this.setGutterStyle()}ngOnChanges(t){t.nzGutter&&this.setGutterStyle()}ngAfterViewInit(){this.platform.isBrowser&&this.breakpointService.subscribe(D9).pipe(bn(this.destroy$)).subscribe(()=>{this.setGutterStyle()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(oE),l.Y36(l.R0b),l.Y36(Ec),l.Y36(BY),l.Y36(No,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","nz-row",""],["nz-row"],["nz-form-item"]],hostAttrs:[1,"ant-row"],hostVars:20,hostBindings:function(t,r){2&t&&l.ekj("ant-row-top","top"===r.nzAlign)("ant-row-middle","middle"===r.nzAlign)("ant-row-bottom","bottom"===r.nzAlign)("ant-row-start","start"===r.nzJustify)("ant-row-end","end"===r.nzJustify)("ant-row-center","center"===r.nzJustify)("ant-row-space-around","space-around"===r.nzJustify)("ant-row-space-between","space-between"===r.nzJustify)("ant-row-space-evenly","space-evenly"===r.nzJustify)("ant-row-rtl","rtl"===r.dir)},inputs:{nzAlign:"nzAlign",nzJustify:"nzJustify",nzGutter:"nzGutter"},exportAs:["nzRow"],features:[l.TTD]}),n})(),lz=(()=>{class n{constructor(t,r,i,o){this.elementRef=t,this.nzRowDirective=r,this.renderer=i,this.directionality=o,this.classMap={},this.destroy$=new Ct.x,this.hostFlexStyle=null,this.dir="ltr",this.nzFlex=null,this.nzSpan=null,this.nzOrder=null,this.nzOffset=null,this.nzPush=null,this.nzPull=null,this.nzXs=null,this.nzSm=null,this.nzMd=null,this.nzLg=null,this.nzXl=null,this.nzXXl=null}setHostClassMap(){const t={"ant-col":!0,[`ant-col-${this.nzSpan}`]:Tc(this.nzSpan),[`ant-col-order-${this.nzOrder}`]:Tc(this.nzOrder),[`ant-col-offset-${this.nzOffset}`]:Tc(this.nzOffset),[`ant-col-pull-${this.nzPull}`]:Tc(this.nzPull),[`ant-col-push-${this.nzPush}`]:Tc(this.nzPush),"ant-col-rtl":"rtl"===this.dir,...this.generateClass()};for(const r in this.classMap)this.classMap.hasOwnProperty(r)&&this.renderer.removeClass(this.elementRef.nativeElement,r);this.classMap={...t};for(const r in this.classMap)this.classMap.hasOwnProperty(r)&&this.classMap[r]&&this.renderer.addClass(this.elementRef.nativeElement,r)}setHostFlexStyle(){this.hostFlexStyle=this.parseFlex(this.nzFlex)}parseFlex(t){return"number"==typeof t?`${t} ${t} auto`:"string"==typeof t&&/^\d+(\.\d+)?(px|em|rem|%)$/.test(t)?`0 0 ${t}`:t}generateClass(){const r={};return["nzXs","nzSm","nzMd","nzLg","nzXl","nzXXl"].forEach(i=>{const o=i.replace("nz","").toLowerCase();if(Tc(this[i]))if("number"==typeof this[i]||"string"==typeof this[i])r[`ant-col-${o}-${this[i]}`]=!0;else{const c=this[i];["span","pull","push","offset","order"].forEach(g=>{r[`ant-col-${o}${"span"===g?"-":`-${g}-`}${c[g]}`]=c&&Tc(c[g])})}}),r}ngOnInit(){this.dir=this.directionality.value,this.directionality.change?.pipe(bn(this.destroy$)).subscribe(t=>{this.dir=t,this.setHostClassMap()}),this.setHostClassMap(),this.setHostFlexStyle()}ngOnChanges(t){this.setHostClassMap();const{nzFlex:r}=t;r&&this.setHostFlexStyle()}ngAfterViewInit(){this.nzRowDirective&&this.nzRowDirective.actualGutter$.pipe(bn(this.destroy$)).subscribe(([t,r])=>{const i=(o,c)=>{null!==c&&this.renderer.setStyle(this.elementRef.nativeElement,o,c/2+"px")};i("padding-left",t),i("padding-right",t),i("padding-top",r),i("padding-bottom",r)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(bE,9),l.Y36(l.Qsj),l.Y36(No,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","nz-col",""],["nz-col"],["nz-form-control"],["nz-form-label"]],hostVars:2,hostBindings:function(t,r){2&t&&l.Udp("flex",r.hostFlexStyle)},inputs:{nzFlex:"nzFlex",nzSpan:"nzSpan",nzOrder:"nzOrder",nzOffset:"nzOffset",nzPush:"nzPush",nzPull:"nzPull",nzXs:"nzXs",nzSm:"nzSm",nzMd:"nzMd",nzLg:"nzLg",nzXl:"nzXl",nzXXl:"nzXXl"},exportAs:["nzCol"],features:[l.TTD]}),n})(),$U=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Wu,tr,NY,Ym]}),n})(),uz=(()=>{const e=class{constructor(r){this.crud=r,this.storage=Pf(),this.data={img:"normal",id:"",link:""},this.value="",this.fallback="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMIAAADDCAYAAADQvc6UAAABRWlDQ1BJQ0MgUHJvZmlsZQAAKJFjYGASSSwoyGFhYGDIzSspCnJ3UoiIjFJgf8LAwSDCIMogwMCcmFxc4BgQ4ANUwgCjUcG3awyMIPqyLsis7PPOq3QdDFcvjV3jOD1boQVTPQrgSkktTgbSf4A4LbmgqISBgTEFyFYuLykAsTuAbJEioKOA7DkgdjqEvQHEToKwj4DVhAQ5A9k3gGyB5IxEoBmML4BsnSQk8XQkNtReEOBxcfXxUQg1Mjc0dyHgXNJBSWpFCYh2zi+oLMpMzyhRcASGUqqCZ16yno6CkYGRAQMDKMwhqj/fAIcloxgHQqxAjIHBEugw5sUIsSQpBobtQPdLciLEVJYzMPBHMDBsayhILEqEO4DxG0txmrERhM29nYGBddr//5/DGRjYNRkY/l7////39v///y4Dmn+LgeHANwDrkl1AuO+pmgAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAwqADAAQAAAABAAAAwwAAAAD9b/HnAAAHlklEQVR4Ae3dP3PTWBSGcbGzM6GCKqlIBRV0dHRJFarQ0eUT8LH4BnRU0NHR0UEFVdIlFRV7TzRksomPY8uykTk/zewQfKw/9znv4yvJynLv4uLiV2dBoDiBf4qP3/ARuCRABEFAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghgg0Aj8i0JO4OzsrPv69Wv+hi2qPHr0qNvf39+iI97soRIh4f3z58/u7du3SXX7Xt7Z2enevHmzfQe+oSN2apSAPj09TSrb+XKI/f379+08+A0cNRE2ANkupk+ACNPvkSPcAAEibACyXUyfABGm3yNHuAECRNgAZLuYPgEirKlHu7u7XdyytGwHAd8jjNyng4OD7vnz51dbPT8/7z58+NB9+/bt6jU/TI+AGWHEnrx48eJ/EsSmHzx40L18+fLyzxF3ZVMjEyDCiEDjMYZZS5wiPXnyZFbJaxMhQIQRGzHvWR7XCyOCXsOmiDAi1HmPMMQjDpbpEiDCiL358eNHurW/5SnWdIBbXiDCiA38/Pnzrce2YyZ4//59F3ePLNMl4PbpiL2J0L979+7yDtHDhw8vtzzvdGnEXdvUigSIsCLAWavHp/+qM0BcXMd/q25n1vF57TYBp0a3mUzilePj4+7k5KSLb6gt6ydAhPUzXnoPR0dHl79WGTNCfBnn1uvSCJdegQhLI1vvCk+fPu2ePXt2tZOYEV6/fn31dz+shwAR1sP1cqvLntbEN9MxA9xcYjsxS1jWR4AIa2Ibzx0tc44fYX/16lV6NDFLXH+YL32jwiACRBiEbf5KcXoTIsQSpzXx4N28Ja4BQoK7rgXiydbHjx/P25TaQAJEGAguWy0+2Q8PD6/Ki4R8EVl+bzBOnZY95fq9rj9zAkTI2SxdidBHqG9+skdw43borCXO/ZcJdraPWdv22uIEiLA4q7nvvCug8WTqzQveOH26fodo7g6uFe/a17W3+nFBAkRYENRdb1vkkz1CH9cPsVy/jrhr27PqMYvENYNlHAIesRiBYwRy0V+8iXP8+/fvX11Mr7L7ECueb/r48eMqm7FuI2BGWDEG8cm+7G3NEOfmdcTQw4h9/55lhm7DekRYKQPZF2ArbXTAyu4kDYB2YxUzwg0gi/41ztHnfQG26HbGel/crVrm7tNY+/1btkOEAZ2M05r4FB7r9GbAIdxaZYrHdOsgJ/wCEQY0J74TmOKnbxxT9n3FgGGWWsVdowHtjt9Nnvf7yQM2aZU/TIAIAxrw6dOnAWtZZcoEnBpNuTuObWMEiLAx1HY0ZQJEmHJ3HNvGCBBhY6jtaMoEiJB0Z29vL6ls58vxPcO8/zfrdo5qvKO+d3Fx8Wu8zf1dW4p/cPzLly/dtv9Ts/EbcvGAHhHyfBIhZ6NSiIBTo0LNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiEC/wGgKKC4YMA4TAAAAABJRU5ErkJggg==",this.needVImages=[],this.waiting_ver=0,this.index=0}ngOnInit(){this.getImages()}getImages(){var r=this;return(0,Ue.Z)(function*(){yield r.crud.getImages().subscribe(i=>{r.needVImages=[],console.log(i),i.forEach(o=>{""==o?.label&&r.needVImages.push(o)}),r.waiting_ver=r.needVImages.length,r.waiting_ver>0&&r.nextData()})})()}getRandomInt(r,i){const o=Math.ceil(r),c=Math.floor(i);return Math.floor(Math.random()*(c-o)+o)}nextData(){this.index<this.needVImages.length?(this.data=this.needVImages[this.index++],kf(K1(this.storage,`image-handwritten/${this.data.link}`)).then(i=>{this.data.img=i}).catch(i=>{})):0==this.needVImages.length?this.data={img:"normal",link:""}:this.index=0}confirm(){var r=this;return(0,Ue.Z)(function*(){r.value.length>0&&(yield r.crud.updateData("images",r.data.id,{label:r.value}),r.value="")})()}};let n=e;return e.\u0275fac=function(i){return new(i||e)(l.Y36(Rx))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-home"]],decls:17,vars:6,consts:[["nz-row","","nzJustify","center",1,"home"],["nz-col","","nzSpan","24",1,"form"],["nz-image","","width","400px","height","200px","alt","",3,"nzSrc","nzFallback"],[2,"color","#ff4d4f"],["nz-input","","placeholder","\u0110i\xea\u0300n ki\u0301 t\u01b0\u0323 \u01a1\u0309 \u0111\xe2y","type","text",3,"ngModel","ngModelChange","keyup.enter"],[1,"group"],["nz-button","","nzType","primary",2,"margin-right","10px",3,"click"],["nz-button","","nzType","primary",3,"click"],["nz-icon","",3,"nzType","nzSpin"]],template:function(i,o){1&i&&(l.TgZ(0,"div",0)(1,"div",1)(2,"span"),l._uU(3,"Ch\u01a1\u0300 xa\u0301c th\u01b0\u0323c: "),l.TgZ(4,"strong"),l._uU(5),l.qZA()(),l._UZ(6,"img",2),l.TgZ(7,"span",3)(8,"strong"),l._uU(9,"CHU\u0301 Y\u0301:"),l.qZA(),l._uU(10," Nh\xe2\u0323p ki\u0301 t\u01b0\u0323 li\xea\u0300n ma\u0323ch kh\xf4ng co\u0301 khoa\u0309ng ca\u0301ch"),l.qZA(),l.TgZ(11,"input",4),l.NdJ("ngModelChange",function(h){return o.value=h})("keyup.enter",function(){return o.confirm()}),l.qZA(),l.TgZ(12,"div",5)(13,"button",6),l.NdJ("click",function(){return o.confirm()}),l._uU(14,"XA\u0301C NH\xc2\u0323N"),l.qZA(),l.TgZ(15,"button",7),l.NdJ("click",function(){return o.nextData()}),l._UZ(16,"span",8),l.qZA()()()()),2&i&&(l.xp6(5),l.Oqu(o.waiting_ver),l.xp6(1),l.Q6J("nzSrc",o.data.img)("nzFallback",o.fallback),l.xp6(5),l.Q6J("ngModel",o.value),l.xp6(5),l.Q6J("nzType","sync")("nzSpin",!0))},dependencies:[Gv,aI,mS,DB,Qm,L0,Zm,Cd,cz,lz,bE],styles:[".home[_ngcontent-%COMP%]{max-width:400px;width:80vw}.home[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.home[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-bottom:10px}"]}),n})();const dz_firebase={apiKey:"AIzaSyAXtmyMCcSb2lig6GqhFaM_0oKHHa09HWI",authDomain:"newapp-a6378.firebaseapp.com",projectId:"newapp-a6378",storageBucket:"newapp-a6378.appspot.com",messagingSenderId:"440187362295",appId:"1:440187362295:web:effbea8486bad7f95a6cf2",measurementId:"G-CCDEXW4RG9"};var GU=B(5650);function hz(n,e){return e?t=>nc(e.pipe(cr(1),function qU(){return(0,zr.e)((n,e)=>{n.subscribe((0,pr.x)(e,HI.Z))})}()),t.pipe(hz(n))):(0,lr.z)((t,r)=>(0,jo.Xf)(n(t,r)).pipe(cr(1),il(t)))}const Lo={top:new xi({originX:"center",originY:"top"},{overlayX:"center",overlayY:"bottom"}),topCenter:new xi({originX:"center",originY:"top"},{overlayX:"center",overlayY:"bottom"}),topLeft:new xi({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"}),topRight:new xi({originX:"end",originY:"top"},{overlayX:"end",overlayY:"bottom"}),right:new xi({originX:"end",originY:"center"},{overlayX:"start",overlayY:"center"}),rightTop:new xi({originX:"end",originY:"top"},{overlayX:"start",overlayY:"top"}),rightBottom:new xi({originX:"end",originY:"bottom"},{overlayX:"start",overlayY:"bottom"}),bottom:new xi({originX:"center",originY:"bottom"},{overlayX:"center",overlayY:"top"}),bottomCenter:new xi({originX:"center",originY:"bottom"},{overlayX:"center",overlayY:"top"}),bottomLeft:new xi({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"}),bottomRight:new xi({originX:"end",originY:"bottom"},{overlayX:"end",overlayY:"top"}),left:new xi({originX:"start",originY:"center"},{overlayX:"end",overlayY:"center"}),leftTop:new xi({originX:"start",originY:"top"},{overlayX:"end",overlayY:"top"}),leftBottom:new xi({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"bottom"})},fz=[Lo.top,Lo.right,Lo.bottom,Lo.left];function pz(n){for(const e in Lo)if(n.connectionPair.originX===Lo[e].originX&&n.connectionPair.originY===Lo[e].originY&&n.connectionPair.overlayX===Lo[e].overlayX&&n.connectionPair.overlayY===Lo[e].overlayY)return e}new xi({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"bottom"}),new xi({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"bottom"}),new xi({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"top"}),new xi({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"},void 0,2),new xi({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"},void 0,-2),new xi({originX:"end",originY:"bottom"},{overlayX:"end",overlayY:"top"},void 0,2),new xi({originX:"end",originY:"top"},{overlayX:"end",overlayY:"bottom"},void 0,-2);let mz=(()=>{class n{constructor(t,r){this.cdkConnectedOverlay=t,this.nzDestroyService=r,this.nzArrowPointAtCenter=!1,this.cdkConnectedOverlay.backdropClass="nz-overlay-transparent-backdrop",this.cdkConnectedOverlay.positionChange.pipe(bn(this.nzDestroyService)).subscribe(i=>{this.nzArrowPointAtCenter&&this.updateArrowPosition(i)})}updateArrowPosition(t){const r=this.getOriginRect(),i=pz(t);let o=0,c=0;"topLeft"===i||"bottomLeft"===i?o=r.width/2-14:"topRight"===i||"bottomRight"===i?o=-(r.width/2-14):"leftTop"===i||"rightTop"===i?c=r.height/2-10:("leftBottom"===i||"rightBottom"===i)&&(c=-(r.height/2-10)),(this.cdkConnectedOverlay.offsetX!==o||this.cdkConnectedOverlay.offsetY!==c)&&(this.cdkConnectedOverlay.offsetY=c,this.cdkConnectedOverlay.offsetX=o,this.cdkConnectedOverlay.overlayRef.updatePosition())}getFlexibleConnectedPositionStrategyOrigin(){return this.cdkConnectedOverlay.origin instanceof bk?this.cdkConnectedOverlay.origin.elementRef:this.cdkConnectedOverlay.origin}getOriginRect(){const t=this.getFlexibleConnectedPositionStrategyOrigin();if(t instanceof l.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const r=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+r,height:i,width:r}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(rE),l.Y36(M9))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkConnectedOverlay","","nzConnectedOverlay",""]],inputs:{nzArrowPointAtCenter:"nzArrowPointAtCenter"},exportAs:["nzConnectedOverlay"],features:[l._Bn([M9])]}),(0,Di.gn)([rs()],n.prototype,"nzArrowPointAtCenter",void 0),n})(),gz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const vz="nz-animate-disabled";let M4=(()=>{class n{constructor(t,r,i){this.element=t,this.renderer=r,this.animationType=i,this.nzNoAnimation=!1}ngOnChanges(){this.updateClass()}ngAfterViewInit(){this.updateClass()}updateClass(){const t=As(this.element);t&&(this.nzNoAnimation||"NoopAnimations"===this.animationType?this.renderer.addClass(t,vz):this.renderer.removeClass(t,vz))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(l.QbO,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","nzNoAnimation",""]],inputs:{nzNoAnimation:"nzNoAnimation"},exportAs:["nzNoAnimation"],features:[l.TTD]}),(0,Di.gn)([rs()],n.prototype,"nzNoAnimation",void 0),n})(),CE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[tr]}),n})();const KU=["overlay"];function ZU(n,e){if(1&n&&(l.ynx(0),l._uU(1),l.BQk()),2&n){const t=l.oxw(2);l.xp6(1),l.Oqu(t.nzTitle)}}function QU(n,e){if(1&n&&(l.TgZ(0,"div",2)(1,"div",3)(2,"div",4),l._UZ(3,"span",5),l.qZA(),l.TgZ(4,"div",6),l.YNc(5,ZU,2,1,"ng-container",7),l.qZA()()()),2&n){const t=l.oxw();l.ekj("ant-tooltip-rtl","rtl"===t.dir),l.Q6J("ngClass",t._classMap)("ngStyle",t.nzOverlayStyle)("@.disabled",!(null==t.noAnimation||!t.noAnimation.nzNoAnimation))("nzNoAnimation",null==t.noAnimation?null:t.noAnimation.nzNoAnimation)("@zoomBigMotion","active"),l.xp6(3),l.Q6J("ngStyle",t._contentStyleMap),l.xp6(1),l.Q6J("ngStyle",t._contentStyleMap),l.xp6(1),l.Q6J("nzStringTemplateOutlet",t.nzTitle)("nzStringTemplateOutletContext",t.nzTitleContext)}}let yz=(()=>{class n{constructor(t,r,i,o,c,h){this.elementRef=t,this.hostView=r,this.resolver=i,this.renderer=o,this.noAnimation=c,this.nzConfigService=h,this.visibleChange=new l.vpe,this.internalVisible=!1,this.destroy$=new Ct.x,this.triggerDisposables=[]}get _title(){return this.title||this.directiveTitle||null}get _content(){return this.content||this.directiveContent||null}get _trigger(){return typeof this.trigger<"u"?this.trigger:"hover"}get _placement(){const t=this.placement;return Array.isArray(t)&&t.length>0?t:"string"==typeof t&&t?[t]:["top"]}get _visible(){return(typeof this.visible<"u"?this.visible:this.internalVisible)||!1}get _mouseEnterDelay(){return this.mouseEnterDelay||.15}get _mouseLeaveDelay(){return this.mouseLeaveDelay||.1}get _overlayClassName(){return this.overlayClassName||null}get _overlayStyle(){return this.overlayStyle||null}getProxyPropertyMap(){return{noAnimation:["noAnimation",()=>!!this.noAnimation]}}ngOnChanges(t){const{trigger:r}=t;r&&!r.isFirstChange()&&this.registerTriggers(),this.component&&this.updatePropertiesByChanges(t)}ngAfterViewInit(){this.createComponent(),this.registerTriggers()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.clearTogglingTimer(),this.removeTriggerListeners()}show(){this.component?.show()}hide(){this.component?.hide()}updatePosition(){this.component&&this.component.updatePosition()}createComponent(){const t=this.componentRef;this.component=t.instance,this.renderer.removeChild(this.renderer.parentNode(this.elementRef.nativeElement),t.location.nativeElement),this.component.setOverlayOrigin(this.origin||this.elementRef),this.initProperties();const r=this.component.nzVisibleChange.pipe(Z1());r.pipe(bn(this.destroy$)).subscribe(i=>{this.internalVisible=i,this.visibleChange.emit(i)}),r.pipe(Hn(i=>i),function WU(n,e=zh.z){const t=KS(n,e);return hz(()=>t)}(0,ok),Hn(()=>Boolean(this.component?.overlay?.overlayRef)),bn(this.destroy$)).subscribe(()=>{this.component?.updatePosition()})}registerTriggers(){const t=this.elementRef.nativeElement,r=this.trigger;if(this.removeTriggerListeners(),"hover"===r){let i;this.triggerDisposables.push(this.renderer.listen(t,"mouseenter",()=>{this.delayEnterLeave(!0,!0,this._mouseEnterDelay)})),this.triggerDisposables.push(this.renderer.listen(t,"mouseleave",()=>{this.delayEnterLeave(!0,!1,this._mouseLeaveDelay),this.component?.overlay.overlayRef&&!i&&(i=this.component.overlay.overlayRef.overlayElement,this.triggerDisposables.push(this.renderer.listen(i,"mouseenter",()=>{this.delayEnterLeave(!1,!0,this._mouseEnterDelay)})),this.triggerDisposables.push(this.renderer.listen(i,"mouseleave",()=>{this.delayEnterLeave(!1,!1,this._mouseLeaveDelay)})))}))}else"focus"===r?(this.triggerDisposables.push(this.renderer.listen(t,"focusin",()=>this.show())),this.triggerDisposables.push(this.renderer.listen(t,"focusout",()=>this.hide()))):"click"===r&&this.triggerDisposables.push(this.renderer.listen(t,"click",i=>{i.preventDefault(),this.show()}))}updatePropertiesByChanges(t){this.updatePropertiesByKeys(Object.keys(t))}updatePropertiesByKeys(t){const r={title:["nzTitle",()=>this._title],directiveTitle:["nzTitle",()=>this._title],content:["nzContent",()=>this._content],directiveContent:["nzContent",()=>this._content],trigger:["nzTrigger",()=>this._trigger],placement:["nzPlacement",()=>this._placement],visible:["nzVisible",()=>this._visible],mouseEnterDelay:["nzMouseEnterDelay",()=>this._mouseEnterDelay],mouseLeaveDelay:["nzMouseLeaveDelay",()=>this._mouseLeaveDelay],overlayClassName:["nzOverlayClassName",()=>this._overlayClassName],overlayStyle:["nzOverlayStyle",()=>this._overlayStyle],arrowPointAtCenter:["nzArrowPointAtCenter",()=>this.arrowPointAtCenter],...this.getProxyPropertyMap()};(t||Object.keys(r).filter(i=>!i.startsWith("directive"))).forEach(i=>{if(r[i]){const[o,c]=r[i];this.updateComponentValue(o,c())}}),this.component?.updateByDirective()}initProperties(){this.updatePropertiesByKeys()}updateComponentValue(t,r){typeof r<"u"&&(this.component[t]=r)}delayEnterLeave(t,r,i=-1){this.delayTimer?this.clearTogglingTimer():i>0?this.delayTimer=setTimeout(()=>{this.delayTimer=void 0,r?this.show():this.hide()},1e3*i):r&&t?this.show():this.hide()}removeTriggerListeners(){this.triggerDisposables.forEach(t=>t()),this.triggerDisposables.length=0}clearTogglingTimer(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=void 0)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.s_b),l.Y36(l._Vd),l.Y36(l.Qsj),l.Y36(M4),l.Y36(qu))},n.\u0275dir=l.lG2({type:n,features:[l.TTD]}),n})(),JU=(()=>{class n{constructor(t,r,i){this.cdr=t,this.directionality=r,this.noAnimation=i,this.nzTitle=null,this.nzContent=null,this.nzArrowPointAtCenter=!1,this.nzOverlayStyle={},this.nzBackdrop=!1,this.nzVisibleChange=new Ct.x,this._visible=!1,this._trigger="hover",this.preferredPlacement="top",this.dir="ltr",this._classMap={},this._prefix="ant-tooltip",this._positions=[...fz],this.destroy$=new Ct.x}set nzVisible(t){const r=SA(t);this._visible!==r&&(this._visible=r,this.nzVisibleChange.next(r))}get nzVisible(){return this._visible}set nzTrigger(t){this._trigger=t}get nzTrigger(){return this._trigger}set nzPlacement(t){const r=t.map(i=>Lo[i]);this._positions=[...r,...fz]}ngOnInit(){this.directionality.change?.pipe(bn(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnDestroy(){this.nzVisibleChange.complete(),this.destroy$.next(),this.destroy$.complete()}show(){this.nzVisible||(this.isEmpty()||(this.nzVisible=!0,this.nzVisibleChange.next(!0),this.cdr.detectChanges()),this.origin&&this.overlay&&this.overlay.overlayRef&&"rtl"===this.overlay.overlayRef.getDirection()&&this.overlay.overlayRef.setDirection("ltr"))}hide(){this.nzVisible&&(this.nzVisible=!1,this.nzVisibleChange.next(!1),this.cdr.detectChanges())}updateByDirective(){this.updateStyles(),this.cdr.detectChanges(),Promise.resolve().then(()=>{this.updatePosition(),this.updateVisibilityByTitle()})}updatePosition(){this.origin&&this.overlay&&this.overlay.overlayRef&&this.overlay.overlayRef.updatePosition()}onPositionChange(t){this.preferredPlacement=pz(t),this.updateStyles(),this.cdr.detectChanges()}setOverlayOrigin(t){this.origin=t,this.cdr.markForCheck()}onClickOutside(t){!this.origin.nativeElement.contains(t.target)&&null!==this.nzTrigger&&this.hide()}updateVisibilityByTitle(){this.isEmpty()&&this.hide()}updateStyles(){this._classMap={[this.nzOverlayClassName]:!0,[`${this._prefix}-placement-${this.preferredPlacement}`]:!0}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.sBO),l.Y36(No,8),l.Y36(M4))},n.\u0275dir=l.lG2({type:n,viewQuery:function(t,r){if(1&t&&l.Gf(KU,5),2&t){let i;l.iGM(i=l.CRH())&&(r.overlay=i.first)}}}),n})(),ej=(()=>{class n extends yz{constructor(t,r,i,o,c){super(t,r,i,o,c),this.titleContext=null,this.trigger="hover",this.placement="top",this.visibleChange=new l.vpe,this.componentRef=this.hostView.createComponent(_z)}getProxyPropertyMap(){return{...super.getProxyPropertyMap(),nzTooltipColor:["nzColor",()=>this.nzTooltipColor],nzTooltipTitleContext:["nzTitleContext",()=>this.titleContext]}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.s_b),l.Y36(l._Vd),l.Y36(l.Qsj),l.Y36(M4,9))},n.\u0275dir=l.lG2({type:n,selectors:[["","nz-tooltip",""]],hostVars:2,hostBindings:function(t,r){2&t&&l.ekj("ant-tooltip-open",r.visible)},inputs:{title:["nzTooltipTitle","title"],titleContext:["nzTooltipTitleContext","titleContext"],directiveTitle:["nz-tooltip","directiveTitle"],trigger:["nzTooltipTrigger","trigger"],placement:["nzTooltipPlacement","placement"],origin:["nzTooltipOrigin","origin"],visible:["nzTooltipVisible","visible"],mouseEnterDelay:["nzTooltipMouseEnterDelay","mouseEnterDelay"],mouseLeaveDelay:["nzTooltipMouseLeaveDelay","mouseLeaveDelay"],overlayClassName:["nzTooltipOverlayClassName","overlayClassName"],overlayStyle:["nzTooltipOverlayStyle","overlayStyle"],arrowPointAtCenter:["nzTooltipArrowPointAtCenter","arrowPointAtCenter"],nzTooltipColor:"nzTooltipColor"},outputs:{visibleChange:"nzTooltipVisibleChange"},exportAs:["nzTooltip"],features:[l.qOj]}),(0,Di.gn)([rs()],n.prototype,"arrowPointAtCenter",void 0),n})(),_z=(()=>{class n extends JU{constructor(t,r,i){super(t,r,i),this.nzTitle=null,this.nzTitleContext=null,this._contentStyleMap={}}isEmpty(){return function XU(n){return!(n instanceof l.Rgc||""!==n&&Tc(n))}(this.nzTitle)}updateStyles(){const t=this.nzColor&&function WH(n){return-1!==qH.indexOf(n)}(this.nzColor);this._classMap={[this.nzOverlayClassName]:!0,[`${this._prefix}-placement-${this.preferredPlacement}`]:!0,[`${this._prefix}-${this.nzColor}`]:t},this._contentStyleMap={backgroundColor:this.nzColor&&!t?this.nzColor:null}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.sBO),l.Y36(No,8),l.Y36(M4,9))},n.\u0275cmp=l.Xpm({type:n,selectors:[["nz-tooltip"]],exportAs:["nzTooltipComponent"],features:[l.qOj],decls:2,vars:5,consts:[["cdkConnectedOverlay","","nzConnectedOverlay","",3,"cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayPush","nzArrowPointAtCenter","overlayOutsideClick","detach","positionChange"],["overlay","cdkConnectedOverlay"],[1,"ant-tooltip",3,"ngClass","ngStyle","nzNoAnimation"],[1,"ant-tooltip-content"],[1,"ant-tooltip-arrow"],[1,"ant-tooltip-arrow-content",3,"ngStyle"],[1,"ant-tooltip-inner",3,"ngStyle"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"]],template:function(t,r){1&t&&(l.YNc(0,QU,6,11,"ng-template",0,1,l.W1O),l.NdJ("overlayOutsideClick",function(o){return r.onClickOutside(o)})("detach",function(){return r.hide()})("positionChange",function(o){return r.onPositionChange(o)})),2&t&&l.Q6J("cdkConnectedOverlayOrigin",r.origin)("cdkConnectedOverlayOpen",r._visible)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayPush",!0)("nzArrowPointAtCenter",r.nzArrowPointAtCenter)},dependencies:[on,_o,rE,l6,mz,M4],encapsulation:2,data:{animation:[xk]},changeDetection:0}),n})(),wz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Wu,tr,E9,m9,gz,CE]}),n})();var bz={locale:"en",Pagination:{items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},DatePicker:{lang:{placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"],locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},timePickerLocale:{placeholder:"Select time",rangePlaceholder:["Start time","End time"]}},TimePicker:{placeholder:"Select time",rangePlaceholder:["Start time","End time"]},Calendar:{lang:{placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"],locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},timePickerLocale:{placeholder:"Select time",rangePlaceholder:["Start time","End time"]}},global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",selectNone:"Clear all data"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No Data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Image:{preview:"Preview"},CronExpression:{cronError:"Invalid cron expression",second:"second",minute:"minute",hour:"hour",day:"day",month:"month",week:"week",secondError:"<p><span>*</span>Any value</p><p><span>,</span>Separator between multiple values</p><p><span>-</span>Connector for interval values</p><p><span>/</span>Equally distributed</p><p><span>0-59</span>Allowable range</p>",minuteError:"<p><span>*</span>Any value</p><p><span>,</span>Separator between multiple values</p><p><span>-</span>Connector for interval values</p><p><span>/</span>Equally distributed</p><p><span>0-59</span>Allowable range</p>",hourError:"<p><span>*</span>Any value</p><p><span>,</span>Separator between multiple values</p><p><span>-</span>Connector for interval values</p><p><span>/</span>Equally distributed</p><p><span>0-23</span>Allowable range</p>",dayError:"<p><span>*</span>Any value</p><p><span>,</span>Separator between multiple values</p><p><span>-</span>Connector for interval values</p><p><span>/</span>Equally distributed</p><p><span>1-31</span>Allowable range</p>",monthError:"<p><span>*</span>Any value</p><p><span>,</span>Separator between multiple values</p><p><span>-</span>Connector for interval values</p><p><span>/</span>Equally distributed</p><p><span>1-12</span>Allowable range</p>",weekError:"<p><span>*</span>Any value</p><p><span>,</span>Separator between multiple values</p><p><span>-</span>Connector for interval values</p><p><span>/</span>Equally distributed</p><span>?</span> Not specify</p><p><p><span>0-7</span>Allowable range (0 represents Sunday, 1-7 are Monday to Sunday)</p>"},QRCode:{expired:"QR code expired",refresh:"Refresh"}},tj={locale:"zh-cn",Pagination:{items_per_page:"\u6761/\u9875",jump_to:"\u8df3\u81f3",jump_to_confirm:"\u786e\u5b9a",page:"\u9875",prev_page:"\u4e0a\u4e00\u9875",next_page:"\u4e0b\u4e00\u9875",prev_5:"\u5411\u524d 5 \u9875",next_5:"\u5411\u540e 5 \u9875",prev_3:"\u5411\u524d 3 \u9875",next_3:"\u5411\u540e 3 \u9875",page_size:"\u9875\u7801"},DatePicker:{lang:{placeholder:"\u8bf7\u9009\u62e9\u65e5\u671f",yearPlaceholder:"\u8bf7\u9009\u62e9\u5e74\u4efd",quarterPlaceholder:"\u8bf7\u9009\u62e9\u5b63\u5ea6",monthPlaceholder:"\u8bf7\u9009\u62e9\u6708\u4efd",weekPlaceholder:"\u8bf7\u9009\u62e9\u5468",rangePlaceholder:["\u5f00\u59cb\u65e5\u671f","\u7ed3\u675f\u65e5\u671f"],rangeYearPlaceholder:["\u5f00\u59cb\u5e74\u4efd","\u7ed3\u675f\u5e74\u4efd"],rangeMonthPlaceholder:["\u5f00\u59cb\u6708\u4efd","\u7ed3\u675f\u6708\u4efd"],rangeWeekPlaceholder:["\u5f00\u59cb\u5468","\u7ed3\u675f\u5468"],locale:"zh_CN",today:"\u4eca\u5929",now:"\u6b64\u523b",backToToday:"\u8fd4\u56de\u4eca\u5929",ok:"\u786e\u5b9a",timeSelect:"\u9009\u62e9\u65f6\u95f4",dateSelect:"\u9009\u62e9\u65e5\u671f",weekSelect:"\u9009\u62e9\u5468",clear:"\u6e05\u9664",month:"\u6708",year:"\u5e74",previousMonth:"\u4e0a\u4e2a\u6708 (\u7ffb\u9875\u4e0a\u952e)",nextMonth:"\u4e0b\u4e2a\u6708 (\u7ffb\u9875\u4e0b\u952e)",monthSelect:"\u9009\u62e9\u6708\u4efd",yearSelect:"\u9009\u62e9\u5e74\u4efd",decadeSelect:"\u9009\u62e9\u5e74\u4ee3",yearFormat:"YYYY\u5e74",dayFormat:"D\u65e5",dateFormat:"YYYY\u5e74M\u6708D\u65e5",dateTimeFormat:"YYYY\u5e74M\u6708D\u65e5 HH\u65f6mm\u5206ss\u79d2",previousYear:"\u4e0a\u4e00\u5e74 (Control\u952e\u52a0\u5de6\u65b9\u5411\u952e)",nextYear:"\u4e0b\u4e00\u5e74 (Control\u952e\u52a0\u53f3\u65b9\u5411\u952e)",previousDecade:"\u4e0a\u4e00\u5e74\u4ee3",nextDecade:"\u4e0b\u4e00\u5e74\u4ee3",previousCentury:"\u4e0a\u4e00\u4e16\u7eaa",nextCentury:"\u4e0b\u4e00\u4e16\u7eaa"},timePickerLocale:{placeholder:"\u8bf7\u9009\u62e9\u65f6\u95f4",rangePlaceholder:["\u5f00\u59cb\u65f6\u95f4","\u7ed3\u675f\u65f6\u95f4"]}},TimePicker:{placeholder:"\u8bf7\u9009\u62e9\u65f6\u95f4",rangePlaceholder:["\u5f00\u59cb\u65f6\u95f4","\u7ed3\u675f\u65f6\u95f4"]},Calendar:{lang:{placeholder:"\u8bf7\u9009\u62e9\u65e5\u671f",yearPlaceholder:"\u8bf7\u9009\u62e9\u5e74\u4efd",quarterPlaceholder:"\u8bf7\u9009\u62e9\u5b63\u5ea6",monthPlaceholder:"\u8bf7\u9009\u62e9\u6708\u4efd",weekPlaceholder:"\u8bf7\u9009\u62e9\u5468",rangePlaceholder:["\u5f00\u59cb\u65e5\u671f","\u7ed3\u675f\u65e5\u671f"],rangeYearPlaceholder:["\u5f00\u59cb\u5e74\u4efd","\u7ed3\u675f\u5e74\u4efd"],rangeMonthPlaceholder:["\u5f00\u59cb\u6708\u4efd","\u7ed3\u675f\u6708\u4efd"],rangeWeekPlaceholder:["\u5f00\u59cb\u5468","\u7ed3\u675f\u5468"],locale:"zh_CN",today:"\u4eca\u5929",now:"\u6b64\u523b",backToToday:"\u8fd4\u56de\u4eca\u5929",ok:"\u786e\u5b9a",timeSelect:"\u9009\u62e9\u65f6\u95f4",dateSelect:"\u9009\u62e9\u65e5\u671f",weekSelect:"\u9009\u62e9\u5468",clear:"\u6e05\u9664",month:"\u6708",year:"\u5e74",previousMonth:"\u4e0a\u4e2a\u6708 (\u7ffb\u9875\u4e0a\u952e)",nextMonth:"\u4e0b\u4e2a\u6708 (\u7ffb\u9875\u4e0b\u952e)",monthSelect:"\u9009\u62e9\u6708\u4efd",yearSelect:"\u9009\u62e9\u5e74\u4efd",decadeSelect:"\u9009\u62e9\u5e74\u4ee3",yearFormat:"YYYY\u5e74",dayFormat:"D\u65e5",dateFormat:"YYYY\u5e74M\u6708D\u65e5",dateTimeFormat:"YYYY\u5e74M\u6708D\u65e5 HH\u65f6mm\u5206ss\u79d2",previousYear:"\u4e0a\u4e00\u5e74 (Control\u952e\u52a0\u5de6\u65b9\u5411\u952e)",nextYear:"\u4e0b\u4e00\u5e74 (Control\u952e\u52a0\u53f3\u65b9\u5411\u952e)",previousDecade:"\u4e0a\u4e00\u5e74\u4ee3",nextDecade:"\u4e0b\u4e00\u5e74\u4ee3",previousCentury:"\u4e0a\u4e00\u4e16\u7eaa",nextCentury:"\u4e0b\u4e00\u4e16\u7eaa"},timePickerLocale:{placeholder:"\u8bf7\u9009\u62e9\u65f6\u95f4",rangePlaceholder:["\u5f00\u59cb\u65f6\u95f4","\u7ed3\u675f\u65f6\u95f4"]}},global:{placeholder:"\u8bf7\u9009\u62e9"},Table:{filterTitle:"\u7b5b\u9009",filterConfirm:"\u786e\u5b9a",filterReset:"\u91cd\u7f6e",filterEmptyText:"\u65e0\u7b5b\u9009\u9879",selectAll:"\u5168\u9009\u5f53\u9875",selectInvert:"\u53cd\u9009\u5f53\u9875",selectionAll:"\u5168\u9009\u6240\u6709",sortTitle:"\u6392\u5e8f",expand:"\u5c55\u5f00\u884c",collapse:"\u5173\u95ed\u884c",triggerDesc:"\u70b9\u51fb\u964d\u5e8f",triggerAsc:"\u70b9\u51fb\u5347\u5e8f",cancelSort:"\u53d6\u6d88\u6392\u5e8f",filterCheckall:"\u5168\u9009",filterSearchPlaceholder:"\u5728\u7b5b\u9009\u9879\u4e2d\u641c\u7d22",selectNone:"\u6e05\u7a7a\u6240\u6709"},Modal:{okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",justOkText:"\u77e5\u9053\u4e86"},Popconfirm:{cancelText:"\u53d6\u6d88",okText:"\u786e\u5b9a"},Transfer:{searchPlaceholder:"\u8bf7\u8f93\u5165\u641c\u7d22\u5185\u5bb9",itemUnit:"\u9879",itemsUnit:"\u9879",remove:"\u5220\u9664",selectCurrent:"\u5168\u9009\u5f53\u9875",removeCurrent:"\u5220\u9664\u5f53\u9875",selectAll:"\u5168\u9009\u6240\u6709",removeAll:"\u5220\u9664\u5168\u90e8",selectInvert:"\u53cd\u9009\u5f53\u9875"},Upload:{uploading:"\u6587\u4ef6\u4e0a\u4f20\u4e2d",removeFile:"\u5220\u9664\u6587\u4ef6",uploadError:"\u4e0a\u4f20\u9519\u8bef",previewFile:"\u9884\u89c8\u6587\u4ef6",downloadFile:"\u4e0b\u8f7d\u6587\u4ef6"},Empty:{description:"\u6682\u65e0\u6570\u636e"},Icon:{icon:"\u56fe\u6807"},Text:{edit:"\u7f16\u8f91",copy:"\u590d\u5236",copied:"\u590d\u5236\u6210\u529f",expand:"\u5c55\u5f00"},PageHeader:{back:"\u8fd4\u56de"},Image:{preview:"\u9884\u89c8"},CronExpression:{cronError:"cron \u8868\u8fbe\u5f0f\u4e0d\u5408\u6cd5",second:"\u79d2",minute:"\u5206\u949f",hour:"\u5c0f\u65f6",day:"\u65e5",month:"\u6708",week:"\u5468",secondError:"<p><span>*</span>\u4efb\u610f\u503c</p><p><span>,</span>\u591a\u4e2a\u503c\u4e4b\u95f4\u7684\u5206\u9694\u7b26</p><p><span>-</span>\u533a\u95f4\u503c\u7684\u8fde\u63a5\u7b26</p><p><span>/</span>\u5e73\u5747\u5206\u914d</p><p><span>0-59</span>\u5141\u8bb8\u8303\u56f4</p>",minuteError:"<p><span>*</span>\u4efb\u610f\u503c</p><p><span>,</span>\u591a\u4e2a\u503c\u4e4b\u95f4\u7684\u5206\u9694\u7b26</p><p><span>-</span>\u533a\u95f4\u503c\u7684\u8fde\u63a5\u7b26</p><p><span>/</span>\u5e73\u5747\u5206\u914d</p><p><span>0-59</span>\u5141\u8bb8\u8303\u56f4</p>",hourError:"<p><span>*</span> \u4efb\u610f\u503c</p><p><span>,</span> \u591a\u4e2a\u503c\u4e4b\u95f4\u7684\u5206\u9694\u7b26</p><p><span>-</span> \u533a\u95f4\u503c\u7684\u8fde\u63a5\u7b26</p><p><span>/</span> \u5e73\u5747\u5206\u914d</p><p><span>0-23</span> \u5141\u8bb8\u8303\u56f4</p>",dayError:"<p><span>*</span> \u4efb\u610f\u503c</p><p><span>,</span> \u591a\u4e2a\u503c\u4e4b\u95f4\u7684\u5206\u9694\u7b26</p><p><span>-</span> \u533a\u95f4\u503c\u7684\u8fde\u63a5\u7b26</p><p><span>/</span> \u5e73\u5747\u5206\u914d</p><p><span>1-31</span> \u5141\u8bb8\u8303\u56f4</p>",monthError:"<p><span>*</span> \u4efb\u610f\u503c</p><p><span>,</span> \u591a\u4e2a\u503c\u4e4b\u95f4\u7684\u5206\u9694\u7b26</p><p><span>-</span> \u533a\u95f4\u503c\u7684\u8fde\u63a5\u7b26</p><p><span>/</span> \u5e73\u5747\u5206\u914d</p><p><span>1-12</span> \u5141\u8bb8\u8303\u56f4</p>",weekError:"<p><span>*</span> \u4efb\u610f\u503c</p><p><span>,</span> \u591a\u4e2a\u503c\u4e4b\u95f4\u7684\u5206\u9694\u7b26</p><p><span>-</span> \u533a\u95f4\u503c\u7684\u8fde\u63a5\u7b26</p><p><span>/</span> \u5e73\u5747\u5206\u914d</p><p><span>?</span> \u4e0d\u6307\u5b9a</p><p><span>0-7</span> \u5141\u8bb8\u8303\u56f4\uff080\u4ee3\u8868\u5468\u65e5\uff0c1-7\u4f9d\u6b21\u4e3a\u5468\u4e00\u5230\u5468\u65e5\uff09</p>"},QRCode:{expired:"\u4e8c\u7ef4\u7801\u8fc7\u671f",refresh:"\u70b9\u51fb\u5237\u65b0"}};const Cz=new l.OlP("nz-i18n"),nj=new l.OlP("nz-date-locale");let R9=(()=>{class n{constructor(t,r){this._change=new Jn(this._locale),this.setLocale(t||tj),this.setDateLocale(r||null)}get localeChange(){return this._change.asObservable()}translate(t,r){let i=this._getObjectPath(this._locale,t);return"string"==typeof i?(r&&Object.keys(r).forEach(o=>i=i.replace(new RegExp(`%${o}%`,"g"),r[o])),i):t}setLocale(t){this._locale&&this._locale.locale===t.locale||(this._locale=t,this._change.next(t))}getLocale(){return this._locale}getLocaleId(){return this._locale?this._locale.locale:""}setDateLocale(t){this.dateLocale=t}getDateLocale(){return this.dateLocale}getLocaleData(t,r){const i=t?this._getObjectPath(this._locale,t):this._locale;return!i&&!r&&a6(`Missing translations for "${t}" in language "${this._locale.locale}".\nYou can use "NzI18nService.setLocale" as a temporary fix.\nWelcome to submit a pull request to help us optimize the translations!\nhttps://github.com/NG-ZORRO/ng-zorro-antd/blob/master/CONTRIBUTING.md`),i||r||this._getObjectPath(bz,t)||{}}_getObjectPath(t,r){let i=t;const o=r.split("."),c=o.length;let h=0;for(;i&&h<c;)i=i[o[h++]];return h===c?i:null}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Cz,8),l.LFG(nj,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rj=(()=>{class n{constructor(t){this._locale=t}transform(t,r){return this._locale.translate(t,r)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(R9,16))},n.\u0275pipe=l.Yjl({name:"nzI18n",type:n,pure:!0}),n})(),Sz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();new l.OlP("date-config");const aj=["okBtn"],cj=["cancelBtn"];function lj(n,e){1&n&&(l.TgZ(0,"div",15),l._UZ(1,"span",16),l.qZA())}function uj(n,e){if(1&n&&(l.ynx(0),l._UZ(1,"span",18),l.BQk()),2&n){const t=e.$implicit;l.xp6(1),l.Q6J("nzType",t||"exclamation-circle")}}function dj(n,e){if(1&n&&(l.ynx(0),l.YNc(1,uj,2,1,"ng-container",8),l.TgZ(2,"div",17),l._uU(3),l.qZA(),l.BQk()),2&n){const t=l.oxw(2);l.xp6(1),l.Q6J("nzStringTemplateOutlet",t.nzIcon),l.xp6(2),l.Oqu(t.nzTitle)}}function hj(n,e){if(1&n&&(l.ynx(0),l._uU(1),l.BQk()),2&n){const t=l.oxw(2);l.xp6(1),l.Oqu(t.nzCancelText)}}function fj(n,e){1&n&&(l.ynx(0),l._uU(1),l.ALo(2,"nzI18n"),l.BQk()),2&n&&(l.xp6(1),l.Oqu(l.lcZ(2,1,"Modal.cancelText")))}function pj(n,e){if(1&n&&(l.ynx(0),l._uU(1),l.BQk()),2&n){const t=l.oxw(2);l.xp6(1),l.Oqu(t.nzOkText)}}function mj(n,e){1&n&&(l.ynx(0),l._uU(1),l.ALo(2,"nzI18n"),l.BQk()),2&n&&(l.xp6(1),l.Oqu(l.lcZ(2,1,"Modal.okText")))}function gj(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",2)(1,"div",3),l.YNc(2,lj,2,0,"div",4),l.TgZ(3,"div",5)(4,"div")(5,"div",6)(6,"div",7),l.YNc(7,dj,4,2,"ng-container",8),l.qZA(),l.TgZ(8,"div",9)(9,"button",10,11),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.onCancel())}),l.YNc(11,hj,2,1,"ng-container",12),l.YNc(12,fj,3,3,"ng-container",12),l.qZA(),l.TgZ(13,"button",13,14),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.onConfirm())}),l.YNc(15,pj,2,1,"ng-container",12),l.YNc(16,mj,3,3,"ng-container",12),l.qZA()()()()()()()}if(2&n){const t=l.oxw();l.ekj("ant-popover-rtl","rtl"===t.dir),l.Q6J("cdkTrapFocusAutoCapture",null!==t.nzAutoFocus)("ngClass",t._classMap)("ngStyle",t.nzOverlayStyle)("@.disabled",!(null==t.noAnimation||!t.noAnimation.nzNoAnimation))("nzNoAnimation",null==t.noAnimation?null:t.noAnimation.nzNoAnimation)("@zoomBigMotion","active"),l.xp6(2),l.Q6J("ngIf",t.nzPopconfirmShowArrow),l.xp6(5),l.Q6J("nzStringTemplateOutlet",t.nzTitle),l.xp6(2),l.Q6J("nzSize","small"),l.uIk("cdkFocusInitial","cancel"===t.nzAutoFocus||null),l.xp6(2),l.Q6J("ngIf",t.nzCancelText),l.xp6(1),l.Q6J("ngIf",!t.nzCancelText),l.xp6(1),l.Q6J("nzSize","small")("nzType","danger"!==t.nzOkType?t.nzOkType:"primary")("nzDanger",t.nzOkDanger||"danger"===t.nzOkType)("nzLoading",t.confirmLoading),l.uIk("cdkFocusInitial","ok"===t.nzAutoFocus||null),l.xp6(2),l.Q6J("ngIf",t.nzOkText),l.xp6(1),l.Q6J("ngIf",!t.nzOkText)}}let yj=(()=>{class n extends yz{constructor(t,r,i,o,c,h){super(t,r,i,o,c,h),this._nzModuleName="popconfirm",this.trigger="click",this.placement="top",this.nzCondition=!1,this.nzPopconfirmShowArrow=!0,this.nzPopconfirmBackdrop=!1,this.nzAutofocus=null,this.visibleChange=new l.vpe,this.nzOnCancel=new l.vpe,this.nzOnConfirm=new l.vpe,this.componentRef=this.hostView.createComponent(_j)}getProxyPropertyMap(){return{nzOkText:["nzOkText",()=>this.nzOkText],nzOkType:["nzOkType",()=>this.nzOkType],nzOkDanger:["nzOkDanger",()=>this.nzOkDanger],nzCancelText:["nzCancelText",()=>this.nzCancelText],nzBeforeConfirm:["nzBeforeConfirm",()=>this.nzBeforeConfirm],nzCondition:["nzCondition",()=>this.nzCondition],nzIcon:["nzIcon",()=>this.nzIcon],nzPopconfirmShowArrow:["nzPopconfirmShowArrow",()=>this.nzPopconfirmShowArrow],nzPopconfirmBackdrop:["nzBackdrop",()=>this.nzPopconfirmBackdrop],nzAutoFocus:["nzAutoFocus",()=>this.nzAutofocus],...super.getProxyPropertyMap()}}createComponent(){super.createComponent(),this.component.nzOnCancel.pipe(bn(this.destroy$)).subscribe(()=>{this.nzOnCancel.emit()}),this.component.nzOnConfirm.pipe(bn(this.destroy$)).subscribe(()=>{this.nzOnConfirm.emit()})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.s_b),l.Y36(l._Vd),l.Y36(l.Qsj),l.Y36(M4,9),l.Y36(qu))},n.\u0275dir=l.lG2({type:n,selectors:[["","nz-popconfirm",""]],hostVars:2,hostBindings:function(t,r){2&t&&l.ekj("ant-popover-open",r.visible)},inputs:{arrowPointAtCenter:["nzPopconfirmArrowPointAtCenter","arrowPointAtCenter"],title:["nzPopconfirmTitle","title"],directiveTitle:["nz-popconfirm","directiveTitle"],trigger:["nzPopconfirmTrigger","trigger"],placement:["nzPopconfirmPlacement","placement"],origin:["nzPopconfirmOrigin","origin"],mouseEnterDelay:["nzPopconfirmMouseEnterDelay","mouseEnterDelay"],mouseLeaveDelay:["nzPopconfirmMouseLeaveDelay","mouseLeaveDelay"],overlayClassName:["nzPopconfirmOverlayClassName","overlayClassName"],overlayStyle:["nzPopconfirmOverlayStyle","overlayStyle"],visible:["nzPopconfirmVisible","visible"],nzOkText:"nzOkText",nzOkType:"nzOkType",nzOkDanger:"nzOkDanger",nzCancelText:"nzCancelText",nzBeforeConfirm:"nzBeforeConfirm",nzIcon:"nzIcon",nzCondition:"nzCondition",nzPopconfirmShowArrow:"nzPopconfirmShowArrow",nzPopconfirmBackdrop:"nzPopconfirmBackdrop",nzAutofocus:"nzAutofocus"},outputs:{visibleChange:"nzPopconfirmVisibleChange",nzOnCancel:"nzOnCancel",nzOnConfirm:"nzOnConfirm"},exportAs:["nzPopconfirm"],features:[l.qOj]}),(0,Di.gn)([rs()],n.prototype,"arrowPointAtCenter",void 0),(0,Di.gn)([rs()],n.prototype,"nzOkDanger",void 0),(0,Di.gn)([rs()],n.prototype,"nzCondition",void 0),(0,Di.gn)([rs()],n.prototype,"nzPopconfirmShowArrow",void 0),(0,Di.gn)([c6()],n.prototype,"nzPopconfirmBackdrop",void 0),(0,Di.gn)([c6()],n.prototype,"nzAutofocus",void 0),n})(),_j=(()=>{class n extends _z{constructor(t,r,i,o,c){super(t,i,c),this.elementRef=r,this.nzCondition=!1,this.nzPopconfirmShowArrow=!0,this.nzOkType="primary",this.nzOkDanger=!1,this.nzAutoFocus=null,this.nzBeforeConfirm=null,this.nzOnCancel=new Ct.x,this.nzOnConfirm=new Ct.x,this._trigger="click",this.elementFocusedBeforeModalWasOpened=null,this._prefix="ant-popover",this.confirmLoading=!1,this.document=o}ngOnDestroy(){super.ngOnDestroy(),this.nzOnCancel.complete(),this.nzOnConfirm.complete()}show(){this.nzCondition?this.onConfirm():(this.capturePreviouslyFocusedElement(),super.show())}hide(){super.hide(),this.restoreFocus()}handleConfirm(){this.nzOnConfirm.next(),super.hide()}onCancel(){this.nzOnCancel.next(),super.hide()}onConfirm(){if(this.nzBeforeConfirm){const t=function eH(n){return function HV(n){return!!n&&(n instanceof rr.y||(0,Pi.m)(n.lift)&&(0,Pi.m)(n.subscribe))}(n)?n:VS(n)?(0,Nn.D)(Promise.resolve(n)):kt(n)}(this.nzBeforeConfirm()).pipe(oo());this.confirmLoading=!0,t.pipe(Ea(()=>{this.confirmLoading=!1,this.cdr.markForCheck()}),bn(this.nzVisibleChange),bn(this.destroy$)).subscribe(r=>{r&&this.handleConfirm()})}else this.handleConfirm()}capturePreviouslyFocusedElement(){this.document&&(this.elementFocusedBeforeModalWasOpened=this.document.activeElement)}restoreFocus(){const t=this.elementFocusedBeforeModalWasOpened;if(t&&"function"==typeof t.focus){const r=this.document.activeElement,i=this.elementRef.nativeElement;(!r||r===this.document.body||r===i||i.contains(r))&&t.focus()}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(No,8),l.Y36(j,8),l.Y36(M4,9))},n.\u0275cmp=l.Xpm({type:n,selectors:[["nz-popconfirm"]],viewQuery:function(t,r){if(1&t&&(l.Gf(aj,5,l.SBq),l.Gf(cj,5,l.SBq)),2&t){let i;l.iGM(i=l.CRH())&&(r.okBtn=i),l.iGM(i=l.CRH())&&(r.cancelBtn=i)}},exportAs:["nzPopconfirmComponent"],features:[l.qOj],decls:2,vars:6,consts:[["cdkConnectedOverlay","","nzConnectedOverlay","",3,"cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayOrigin","cdkConnectedOverlayPositions","cdkConnectedOverlayOpen","cdkConnectedOverlayPush","nzArrowPointAtCenter","overlayOutsideClick","detach","positionChange"],["overlay","cdkConnectedOverlay"],["cdkTrapFocus","",1,"ant-popover",3,"cdkTrapFocusAutoCapture","ngClass","ngStyle","nzNoAnimation"],[1,"ant-popover-content"],["class","ant-popover-arrow",4,"ngIf"],[1,"ant-popover-inner"],[1,"ant-popover-inner-content"],[1,"ant-popover-message"],[4,"nzStringTemplateOutlet"],[1,"ant-popover-buttons"],["nz-button","",3,"nzSize","click"],["cancelBtn",""],[4,"ngIf"],["nz-button","",3,"nzSize","nzType","nzDanger","nzLoading","click"],["okBtn",""],[1,"ant-popover-arrow"],[1,"ant-popover-arrow-content"],[1,"ant-popover-message-title"],["nz-icon","","nzTheme","fill",3,"nzType"]],template:function(t,r){1&t&&(l.YNc(0,gj,17,21,"ng-template",0,1,l.W1O),l.NdJ("overlayOutsideClick",function(o){return r.onClickOutside(o)})("detach",function(){return r.hide()})("positionChange",function(o){return r.onPositionChange(o)})),2&t&&l.Q6J("cdkConnectedOverlayHasBackdrop",r.nzBackdrop)("cdkConnectedOverlayOrigin",r.origin)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayOpen",r._visible)("cdkConnectedOverlayPush",!0)("nzArrowPointAtCenter",r.nzArrowPointAtCenter)},dependencies:[on,pi,_o,Qm,L0,Zm,rE,Cd,l6,mz,M4,iU,rj],encapsulation:2,data:{animation:[xk]},changeDetection:0}),n})(),wj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Wu,tr,qS,E9,Sz,F0,m9,gz,CE,wz,lU]}),n})();function bj(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",7),l._UZ(1,"img",8),l.TgZ(2,"strong",9),l._uU(3),l.qZA(),l.TgZ(4,"div",10)(5,"div",11)(6,"button",12),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.cancelLabel())}),l._UZ(7,"span",13),l.qZA(),l.TgZ(8,"button",14),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.confirm())}),l._UZ(9,"span",15),l.qZA()(),l.TgZ(10,"button",16),l.NdJ("nzOnConfirm",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.deleteData())}),l._uU(11,"HU\u0309Y BO\u0309"),l.qZA()()()}if(2&n){const t=l.oxw();l.xp6(1),l.Q6J("nzSrc",t.data.img)("nzFallback",t.fallback),l.xp6(2),l.Oqu(t.data.label)}}let SE=(()=>{const e=class{constructor(r,i,o){this.crud=r,this.routed=i,this.router=o,this.storage=Pf(),this.data={link:"normal",id:"",label:123},this.waiting=0,this.value="",this.fallback="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMIAAADDCAYAAADQvc6UAAABRWlDQ1BJQ0MgUHJvZmlsZQAAKJFjYGASSSwoyGFhYGDIzSspCnJ3UoiIjFJgf8LAwSDCIMogwMCcmFxc4BgQ4ANUwgCjUcG3awyMIPqyLsis7PPOq3QdDFcvjV3jOD1boQVTPQrgSkktTgbSf4A4LbmgqISBgTEFyFYuLykAsTuAbJEioKOA7DkgdjqEvQHEToKwj4DVhAQ5A9k3gGyB5IxEoBmML4BsnSQk8XQkNtReEOBxcfXxUQg1Mjc0dyHgXNJBSWpFCYh2zi+oLMpMzyhRcASGUqqCZ16yno6CkYGRAQMDKMwhqj/fAIcloxgHQqxAjIHBEugw5sUIsSQpBobtQPdLciLEVJYzMPBHMDBsayhILEqEO4DxG0txmrERhM29nYGBddr//5/DGRjYNRkY/l7////39v///y4Dmn+LgeHANwDrkl1AuO+pmgAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAwqADAAQAAAABAAAAwwAAAAD9b/HnAAAHlklEQVR4Ae3dP3PTWBSGcbGzM6GCKqlIBRV0dHRJFarQ0eUT8LH4BnRU0NHR0UEFVdIlFRV7TzRksomPY8uykTk/zewQfKw/9znv4yvJynLv4uLiV2dBoDiBf4qP3/ARuCRABEFAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghgg0Aj8i0JO4OzsrPv69Wv+hi2qPHr0qNvf39+iI97soRIh4f3z58/u7du3SXX7Xt7Z2enevHmzfQe+oSN2apSAPj09TSrb+XKI/f379+08+A0cNRE2ANkupk+ACNPvkSPcAAEibACyXUyfABGm3yNHuAECRNgAZLuYPgEirKlHu7u7XdyytGwHAd8jjNyng4OD7vnz51dbPT8/7z58+NB9+/bt6jU/TI+AGWHEnrx48eJ/EsSmHzx40L18+fLyzxF3ZVMjEyDCiEDjMYZZS5wiPXnyZFbJaxMhQIQRGzHvWR7XCyOCXsOmiDAi1HmPMMQjDpbpEiDCiL358eNHurW/5SnWdIBbXiDCiA38/Pnzrce2YyZ4//59F3ePLNMl4PbpiL2J0L979+7yDtHDhw8vtzzvdGnEXdvUigSIsCLAWavHp/+qM0BcXMd/q25n1vF57TYBp0a3mUzilePj4+7k5KSLb6gt6ydAhPUzXnoPR0dHl79WGTNCfBnn1uvSCJdegQhLI1vvCk+fPu2ePXt2tZOYEV6/fn31dz+shwAR1sP1cqvLntbEN9MxA9xcYjsxS1jWR4AIa2Ibzx0tc44fYX/16lV6NDFLXH+YL32jwiACRBiEbf5KcXoTIsQSpzXx4N28Ja4BQoK7rgXiydbHjx/P25TaQAJEGAguWy0+2Q8PD6/Ki4R8EVl+bzBOnZY95fq9rj9zAkTI2SxdidBHqG9+skdw43borCXO/ZcJdraPWdv22uIEiLA4q7nvvCug8WTqzQveOH26fodo7g6uFe/a17W3+nFBAkRYENRdb1vkkz1CH9cPsVy/jrhr27PqMYvENYNlHAIesRiBYwRy0V+8iXP8+/fvX11Mr7L7ECueb/r48eMqm7FuI2BGWDEG8cm+7G3NEOfmdcTQw4h9/55lhm7DekRYKQPZF2ArbXTAyu4kDYB2YxUzwg0gi/41ztHnfQG26HbGel/crVrm7tNY+/1btkOEAZ2M05r4FB7r9GbAIdxaZYrHdOsgJ/wCEQY0J74TmOKnbxxT9n3FgGGWWsVdowHtjt9Nnvf7yQM2aZU/TIAIAxrw6dOnAWtZZcoEnBpNuTuObWMEiLAx1HY0ZQJEmHJ3HNvGCBBhY6jtaMoEiJB0Z29vL6ls58vxPcO8/zfrdo5qvKO+d3Fx8Wu8zf1dW4p/cPzLly/dtv9Ts/EbcvGAHhHyfBIhZ6NSiIBTo0LNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiEC/wGgKKC4YMA4TAAAAABJRU5ErkJggg==",this.needVImages=[],this.selectedFiles=[],this.waiting_ver=0,this.link_root="",this.link_root=dz_firebase.storageBucket}ngOnInit(){this.routed.paramMap.subscribe(r=>{switch(r.get("param")){case"delete":this.deleteImagesVerified();break;case"download":this.downloadImagesVerified();break;default:this.getImages()}})}deleteImagesVerified(){var r=this;return(0,Ue.Z)(function*(){yield r.getImages(),yield r.crud.getImages().subscribe(i=>{r.needVImages=[],i.forEach(o=>{o.verified&&r.needVImages.push(o)}),r.needVImages.length>0&&r.needVImages.forEach(function(){var o=(0,Ue.Z)(function*(c){zf(K1(r.storage,`image-handwritten/${c.link}`)),r.crud.deleteData("images",c.id)});return function(c){return o.apply(this,arguments)}}()),r.router.navigate(["admin"])})})()}downloadImagesVerified(){var r=this;return(0,Ue.Z)(function*(){yield r.crud.getImages().subscribe(i=>{r.needVImages=[],console.log(i),i.forEach(o=>{o.verified&&r.needVImages.push(o)}),r.needVImages.length>0?(console.log("Download"),r.download()):r.router.navigate(["admin"])})})()}getRandomInt(r,i){const o=Math.ceil(r),c=Math.floor(i);return Math.floor(Math.random()*(c-o)+o)}getImages(){var r=this;return(0,Ue.Z)(function*(){yield r.crud.getImages().subscribe(i=>{r.needVImages=[],r.waiting_ver=0,console.log(i),i.forEach(o=>{!o.verified&&""!=o.label&&r.needVImages.push(o),!o.verified&&""==o.label&&r.waiting_ver++}),r.waiting=r.needVImages.length,r.waiting>0&&r.nextData()})})()}nextData(){let r=this.getRandomInt(0,this.needVImages.length);this.data=this.needVImages[r],kf(K1(this.storage,`image-handwritten/${this.data.link}`)).then(o=>{this.data.img=o}).catch(o=>{})}confirm(){var r=this;return(0,Ue.Z)(function*(){yield r.crud.updateData("images",r.data.id,{verified:!0})})()}cancelLabel(){var r=this;return(0,Ue.Z)(function*(){yield r.crud.updateData("images",r.data.id,{label:""})})()}deleteData(){this.crud.deleteData("images",this.data.id),zf(K1(this.storage,`image-handwritten/${this.data.link}`)).then(()=>{}).catch(i=>{})}formatEncode(r,i){let o=["A","B","C","D","E","F","G","H","I","J"],c=r+"";for(;c.length<i;)c="0"+c;let h="";for(let g=0;g<i;g++)h+=o[parseInt(c[g])];return h}createID(){let r=new Date,i=[r.getDate(),r.getMonth(),(r.getFullYear()+"").slice(2,4),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()],o=[2,2,2,2,2,2,4],c="#";for(let h=0;h<i.length;h++)c+=this.formatEncode(i[h],o[h]);return c}onFilesSelected(r){var i=this;if(!r.target.files)return;const o=r.target.files;for(let c=0;c<o.length;c++){const h=o.item(c),g=this.createID(),_=h?.name.indexOf("."),E=g+h?.name.slice(_);console.log(E),h&&p5(K1(this.storage,`image-handwritten/${E}`),h).then(function(){var K=(0,Ue.Z)(function*(ne){yield i.crud.addData("images",{link:E,verified:!1,label:""})});return function(ne){return K.apply(this,arguments)}}())}}download(){var r=this;return(0,Ue.Z)(function*(){const i=new GU;let o=[],c=[];r.needVImages.forEach(ne=>{o.push({label:ne.label,img:ne.link}),c.push(ne.link)});const h=c.map(function(){var ne=(0,Ue.Z)(function*(ue){return{name:ue,content:v5(K1(r.storage,`image-handwritten/${ue}`))}});return function(ue){return ne.apply(this,arguments)}}());(yield Promise.all(h)).forEach(ne=>{i.file(ne.name,ne.content,{base64:!0})});const _=new Blob([r.generateCSV(o)],{type:"text/csv"});i.file("data.csv",_);const E=yield i.generateAsync({type:"blob"}),x=URL.createObjectURL(E),K=document.createElement("a");K.href=x,K.download="my_data.zip",K.click(),URL.revokeObjectURL(x),r.router.navigate(["admin"])})()}generateCSV(r){const i=Object.keys(r[0]),o=r.map(h=>i.map(g=>h[g]));return[i,...o].map(h=>h.join(",")).join("\n")}};let n=e;return e.\u0275fac=function(i){return new(i||e)(l.Y36(Rx),l.Y36($r),l.Y36(Mo))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-admin"]],decls:17,vars:3,consts:[["nz-row","","nzJustify","center",1,"admin"],["nz-col","","nzSpan","24",1,"form"],["class","data",4,"ngIf"],["multiple","","accept","image/*","type","file",2,"display","none",3,"change"],["chooseFile",""],[1,"btnDragAndDrop",2,"display","flex","flex-direction","column",3,"click"],["nz-icon","","nzType","upload","nzTheme","outline",2,"margin-bottom","20px","font-size","30px"],[1,"data"],["nz-image","","width","400px","height","200px","alt","",3,"nzSrc","nzFallback"],[1,"label"],[1,"group"],[2,"width","100%","display","flex","justify-content","space-between","margin-bottom","10px"],["nz-button","","nz-tooltip","","nzTooltipTitle","Xa\u0301c th\u01b0\u0323c la\u0323i","nzType","primary",2,"background-color","#ff4d4f","border","none",3,"click"],["nz-icon","","nzType","close","nzTheme","outline"],["nz-button","","nz-tooltip","","nzTooltipTitle","Xa\u0301c nh\xe2\u0323n d\u01b0\u0303 li\xea\u0323u \u0111u\u0301ng","nzType","primary",2,"margin-left","20px",3,"click"],["nz-icon","","nzType","check","nzTheme","outline"],["nz-button","","nz-popconfirm","","nzPopconfirmTitle","Xo\u0301a vi\u0303nh vi\xea\u0303n?","nzOkText","Co\u0301","nzCancelText","Kh\xf4ng","nzType","default",2,"width","100%",3,"nzOnConfirm"]],template:function(i,o){if(1&i){const c=l.EpF();l.TgZ(0,"div",0)(1,"div",1)(2,"span"),l._uU(3,"Ch\u01a1\u0300 xa\u0301c th\u01b0\u0323c: "),l.TgZ(4,"strong"),l._uU(5),l.qZA()(),l.TgZ(6,"span"),l._uU(7,"Ch\u01a1\u0300 x\u01b0\u0309 ly\u0301: "),l.TgZ(8,"strong"),l._uU(9),l.qZA()(),l.YNc(10,bj,12,3,"div",2),l.TgZ(11,"input",3,4),l.NdJ("change",function(g){return o.onFilesSelected(g)}),l.qZA(),l.TgZ(13,"div",5),l.NdJ("click",function(){l.CHM(c);const g=l.MAs(12);return l.KtG(g.click())}),l._UZ(14,"span",6),l.TgZ(15,"span"),l._uU(16,"TA\u0309I A\u0309NH L\xcaN"),l.qZA()()()()}2&i&&(l.xp6(5),l.Oqu(o.waiting_ver),l.xp6(4),l.Oqu(o.waiting),l.xp6(1),l.Q6J("ngIf",o.waiting>0))},dependencies:[pi,Qm,L0,Zm,Cd,cz,lz,bE,yj,ej],styles:[".admin[_ngcontent-%COMP%]{max-width:400px;width:80vw}.admin[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.admin[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-bottom:10px}.admin[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.admin[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-bottom:10px}.admin[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .btnDragAndDrop[_ngcontent-%COMP%]{border:1px dashed #d9d9d9;padding:40px 100px;cursor:pointer}.admin[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   .btnDragAndDrop[_ngcontent-%COMP%]:hover{border-color:#1890ff}"]}),n})();const Cj=[{path:"home",component:uz},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"admin",component:SE},{path:"admin/:param",component:SE}];let Sj=(()=>{const e=class{};let n=e;return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[Ry.forRoot(Cj),Ry]}),n})(),Ez=(()=>{const e=class{constructor(){this.title="Handwritten_admin"}};let n=e;return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(i,o){1&i&&l._UZ(0,"router-outlet")},dependencies:[Ae]}),n})();const H0=void 0,Tj=["en",[["a","p"],["AM","PM"],H0],[["AM","PM"],H0,H0],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],H0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],H0,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",H0,"{1} 'at' {0}",H0],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Ej(n){const t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];function Tz(n){return new l.vHH(3e3,!1)}function s$(){return typeof window<"u"&&typeof window.document<"u"}function EE(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function x4(n){switch(n.length){case 0:return new tg;case 1:return n[0];default:return new Mk(n)}}function Dz(n,e,t,r,i=new Map,o=new Map){const c=[],h=[];let g=-1,_=null;if(r.forEach(E=>{const x=E.get("offset"),K=x==g,ne=K&&_||new Map;E.forEach((ue,De)=>{let Ie=De,tt=ue;if("offset"!==De)switch(Ie=e.normalizePropertyName(Ie,c),tt){case iE:tt=i.get(De);break;case Sd:tt=o.get(De);break;default:tt=e.normalizeStyleValue(De,Ie,tt,c)}ne.set(Ie,tt)}),K||h.push(ne),_=ne,g=x}),c.length)throw function Wj(n){return new l.vHH(3502,!1)}();return h}function TE(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&DE(t,"start",n)));break;case"done":n.onDone(()=>r(t&&DE(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&DE(t,"destroy",n)))}}function DE(n,e,t){const o=ME(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),c=n._data;return null!=c&&(o._data=c),o}function ME(n,e,t,r,i="",o=0,c){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:o,disabled:!!c}}function Fa(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function Mz(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let xE=(n,e)=>!1,xz=(n,e,t)=>[],Iz=null;function IE(n){const e=n.parentNode||n.host;return e===Iz?null:e}(EE()||typeof Element<"u")&&(s$()?(Iz=(()=>document.documentElement)(),xE=(n,e)=>{for(;e;){if(e===n)return!0;e=IE(e)}return!1}):xE=(n,e)=>n.contains(e),xz=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let B0=null,Az=!1;const kz=xE,zz=xz;let Pz=(()=>{class n{validateStyleProperty(t){return function c$(n){B0||(B0=function l$(){return typeof document<"u"?document.body:null}()||{},Az=!!B0.style&&"WebkitAppearance"in B0.style);let e=!0;return B0.style&&!function a$(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in B0.style,!e&&Az&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in B0.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return kz(t,r)}getParentElement(t){return IE(t)}query(t,r,i){return zz(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,o,c,h=[],g){return new tg(i,o)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),AE=(()=>{class n{}return n.NOOP=new Pz,n})();const u$=1e3,kE="ng-enter",N9="ng-leave",F9="ng-trigger",L9=".ng-trigger",Rz="ng-animating",zE=".ng-animating";function Ed(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:PE(parseFloat(e[1]),e[2])}function PE(n,e){return"s"===e?n*u$:n}function V9(n,e,t){return n.hasOwnProperty("duration")?n:function h$(n,e,t){let i,o=0,c="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return e.push(Tz()),{duration:0,delay:0,easing:""};i=PE(parseFloat(h[1]),h[2]);const g=h[3];null!=g&&(o=PE(parseFloat(g),h[4]));const _=h[5];_&&(c=_)}else i=n;if(!t){let h=!1,g=e.length;i<0&&(e.push(function Dj(){return new l.vHH(3100,!1)}()),h=!0),o<0&&(e.push(function Mj(){return new l.vHH(3101,!1)}()),h=!0),h&&e.splice(g,0,Tz())}return{duration:i,delay:o,easing:c}}(n,e,t)}function og(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Nz(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function I4(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function Lz(n,e,t){return t?e+":"+t+";":""}function Vz(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=Lz(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=Lz(0,g$(t),n.style[t]));n.setAttribute("style",e)}function Ku(n,e,t){n.style&&(e.forEach((r,i)=>{const o=RE(i);t&&!t.has(i)&&t.set(i,n.style[o]),n.style[o]=r}),EE()&&Vz(n))}function Y0(n,e){n.style&&(e.forEach((t,r)=>{const i=RE(r);n.style[i]=""}),EE()&&Vz(n))}function sg(n){return Array.isArray(n)?1==n.length?n[0]:Sk(n):n}const OE=new RegExp("{{\\s*(.+?)\\s*}}","g");function Hz(n){let e=[];if("string"==typeof n){let t;for(;t=OE.exec(n);)e.push(t[1]);OE.lastIndex=0}return e}function ag(n,e,t){const r=n.toString(),i=r.replace(OE,(o,c)=>{let h=e[c];return null==h&&(t.push(function Ij(n){return new l.vHH(3003,!1)}()),h=""),h.toString()});return i==r?n:i}function H9(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const m$=/-+([a-z0-9])/g;function RE(n){return n.replace(m$,(...e)=>e[1].toUpperCase())}function g$(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function La(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Aj(n){return new l.vHH(3004,!1)}()}}function Bz(n,e){return window.getComputedStyle(n)[e]}const U9="*";function C$(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function S$(n,e,t){if(":"==n[0]){const g=function E$(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function jj(n){return new l.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof g)return void e.push(g);n=g}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function Uj(n){return new l.vHH(3015,!1)}()),e;const i=r[1],o=r[2],c=r[3];e.push(Yz(i,c));"<"==o[0]&&!(i==U9&&c==U9)&&e.push(Yz(c,i))}(r,t,e)):t.push(n),t}const j9=new Set(["true","1"]),$9=new Set(["false","0"]);function Yz(n,e){const t=j9.has(n)||$9.has(n),r=j9.has(e)||$9.has(e);return(i,o)=>{let c=n==U9||n==i,h=e==U9||e==o;return!c&&t&&"boolean"==typeof i&&(c=i?j9.has(n):$9.has(n)),!h&&r&&"boolean"==typeof o&&(h=o?j9.has(e):$9.has(e)),c&&h}}const T$=new RegExp("s*:selfs*,?","g");function NE(n,e,t,r){return new D$(n).build(e,t,r)}class D${constructor(e){this._driver=e}build(e,t,r){const i=new I$(t);return this._resetContextStyleTimingState(i),La(this,sg(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const o=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function zj(){return new l.vHH(3006,!1)}()),e.definitions.forEach(h=>{if(this._resetContextStyleTimingState(t),0==h.type){const g=h,_=g.name;_.toString().split(/\s*,\s*/).forEach(E=>{g.name=E,o.push(this.visitState(g,t))}),g.name=_}else if(1==h.type){const g=this.visitTransition(h,t);r+=g.queryCount,i+=g.depCount,c.push(g)}else t.errors.push(function Pj(){return new l.vHH(3007,!1)}())}),{type:7,name:e.name,states:o,transitions:c,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const o=new Set,c=i||{};r.styles.forEach(h=>{h instanceof Map&&h.forEach(g=>{Hz(g).forEach(_=>{c.hasOwnProperty(_)||o.add(_)})})}),o.size&&(H9(o.values()),t.errors.push(function Oj(n,e){return new l.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=La(this,sg(e.animation),t);return{type:1,matchers:C$(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:U0(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>La(this,r,t)),options:U0(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const o=e.steps.map(c=>{t.currentTime=r;const h=La(this,c,t);return i=Math.max(i,t.currentTime),h});return t.currentTime=i,{type:3,steps:o,options:U0(e.options)}}visitAnimate(e,t){const r=function k$(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return FE(V9(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=FE(0,0,"");return o.dynamic=!0,o.strValue=t,o}const i=V9(t,e);return FE(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,o=e.styles?e.styles:gn({});if(5==o.type)i=this.visitKeyframes(o,t);else{let c=e.styles,h=!1;if(!c){h=!0;const _={};r.easing&&(_.easing=r.easing),c=gn(_)}t.currentTime+=r.duration+r.delay;const g=this.visitStyle(c,t);g.isEmptyStep=h,i=g}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let h of i)"string"==typeof h?h===Sd?r.push(h):t.errors.push(new l.vHH(3002,!1)):r.push(Nz(h));let o=!1,c=null;return r.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(c=h.get("easing"),h.delete("easing")),!o))for(let g of h.values())if(g.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:r,easing:c,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(c=>{"string"!=typeof c&&c.forEach((h,g)=>{const _=t.collectedStyles.get(t.currentQuerySelector),E=_.get(g);let x=!0;E&&(o!=i&&o>=E.startTime&&i<=E.endTime&&(t.errors.push(function Nj(n,e,t,r,i){return new l.vHH(3010,!1)}()),x=!1),o=E.startTime),x&&_.set(g,{startTime:o,endTime:i}),t.options&&function p$(n,e,t){const r=e.params||{},i=Hz(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||t.push(function xj(n){return new l.vHH(3001,!1)}())})}(h,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Fj(){return new l.vHH(3011,!1)}()),r;let o=0;const c=[];let h=!1,g=!1,_=0;const E=e.steps.map(tt=>{const pt=this._makeStyleAst(tt,t);let ft=null!=pt.offset?pt.offset:function A$(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(pt.styles),gt=0;return null!=ft&&(o++,gt=pt.offset=ft),g=g||gt<0||gt>1,h=h||gt<_,_=gt,c.push(gt),pt});g&&t.errors.push(function Lj(){return new l.vHH(3012,!1)}()),h&&t.errors.push(function Vj(){return new l.vHH(3200,!1)}());const x=e.steps.length;let K=0;o>0&&o<x?t.errors.push(function Hj(){return new l.vHH(3202,!1)}()):0==o&&(K=1/(x-1));const ne=x-1,ue=t.currentTime,De=t.currentAnimateTimings,Ie=De.duration;return E.forEach((tt,pt)=>{const ft=K>0?pt==ne?1:K*pt:c[pt],gt=ft*Ie;t.currentTime=ue+De.delay+gt,De.duration=gt,this._validateStyleAst(tt,t),tt.offset=ft,r.styles.push(tt)}),r}visitReference(e,t){return{type:8,animation:La(this,sg(e.animation),t),options:U0(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:U0(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:U0(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[o,c]=function M$(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(T$,"")),n=n.replace(/@\*/g,L9).replace(/@\w+/g,t=>L9+"-"+t.slice(1)).replace(/:animating/g,zE),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+o:o,Fa(t.collectedStyles,t.currentQuerySelector,new Map);const h=La(this,sg(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:c,animation:h,originalSelector:e.selector,options:U0(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Bj(){return new l.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:V9(e.timings,t.errors,!0);return{type:12,animation:La(this,sg(e.animation),t),timings:r,options:null}}}class I${constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function U0(n){return n?(n=og(n)).params&&(n.params=function x$(n){return n?og(n):null}(n.params)):n={},n}function FE(n,e,t){return{duration:n,delay:e,easing:t}}function LE(n,e,t,r,i,o,c=null,h=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:c,subTimeline:h}}class G9{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const O$=new RegExp(":enter","g"),N$=new RegExp(":leave","g");function VE(n,e,t,r,i,o=new Map,c=new Map,h,g,_=[]){return(new F$).buildKeyframes(n,e,t,r,i,o,c,h,g,_)}class F${buildKeyframes(e,t,r,i,o,c,h,g,_,E=[]){_=_||new G9;const x=new HE(e,t,_,i,o,E,[]);x.options=g;const K=g.delay?Ed(g.delay):0;x.currentTimeline.delayNextStep(K),x.currentTimeline.setStyles([c],null,x.errors,g),La(this,r,x);const ne=x.timelines.filter(ue=>ue.containsAnimation());if(ne.length&&h.size){let ue;for(let De=ne.length-1;De>=0;De--){const Ie=ne[De];if(Ie.element===t){ue=Ie;break}}ue&&!ue.allowOnlyTimelineStyles()&&ue.setStyles([h],null,x.errors,g)}return ne.length?ne.map(ue=>ue.buildKeyframes()):[LE(t,[],[],[],0,K,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,c=this._visitSubInstructions(r,i,i.options);o!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const o=i?.delay;if(o){const c="number"==typeof o?o:Ed(ag(o,i?.params??{},t.errors));r.delayNextStep(c)}}}_visitSubInstructions(e,t,r){let o=t.currentTimeline.currentTime;const c=null!=r.duration?Ed(r.duration):null,h=null!=r.delay?Ed(r.delay):null;return 0!==c&&e.forEach(g=>{const _=t.appendInstructionToTimeline(g,c,h);o=Math.max(o,_.duration+_.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),La(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=q9);const c=Ed(o.delay);i.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>La(this,c,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?Ed(e.options.delay):0;e.steps.forEach(c=>{const h=t.createSubContext(e.options);o&&h.delayNextStep(o),La(this,c,h),i=Math.max(i,h.currentTimeline.currentTime),r.push(h.currentTimeline)}),r.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return V9(t.params?ag(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,o=r.duration,h=t.createSubContext().currentTimeline;h.easing=r.easing,e.styles.forEach(g=>{h.forwardTime((g.offset||0)*o),h.setStyles(g.styles,g.easing,t.errors,t.options),h.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(h),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?Ed(i.delay):0;o&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=q9);let c=r;const h=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=h.length;let g=null;h.forEach((_,E)=>{t.currentQueryIndex=E;const x=t.createSubContext(e.options,_);o&&x.delayNextStep(o),_===t.element&&(g=x.currentTimeline),La(this,e.animation,x),x.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,x.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),g&&(t.currentTimeline.mergeTimelineCollectedStyles(g),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,o=e.timings,c=Math.abs(o.duration),h=c*(t.currentQueryTotal-1);let g=c*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":g=h-g;break;case"full":g=r.currentStaggerTime}const E=t.currentTimeline;g&&E.delayNextStep(g);const x=E.currentTime;La(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-x+(i.startTime-r.currentTimeline.startTime)}}const q9={};class HE{constructor(e,t,r,i,o,c,h,g){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=c,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=q9,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=g||new W9(this._driver,t,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Ed(r.duration)),null!=r.delay&&(i.delay=Ed(r.delay));const o=r.params;if(o){let c=i.params;c||(c=this.options.params={}),Object.keys(o).forEach(h=>{(!t||!c.hasOwnProperty(h))&&(c[h]=ag(o[h],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,o=new HE(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=q9,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new L$(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,o,c){let h=[];if(i&&h.push(this.element),e.length>0){e=(e=e.replace(O$,"."+this._enterClassName)).replace(N$,"."+this._leaveClassName);let _=this._driver.query(this.element,e,1!=r);0!==r&&(_=r<0?_.slice(_.length+r,_.length):_.slice(0,r)),h.push(..._)}return!o&&0==h.length&&c.push(function Yj(n){return new l.vHH(3014,!1)}()),h}}class W9{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new W9(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Sd),this._currentKeyframe.set(t,Sd);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const o=i&&i.params||{},c=function V$(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let o of r)t.set(o,Sd)}else I4(i,t)}),t}(e,this._globalTimelineStyles);for(let[h,g]of c){const _=ag(g,o,r);this._pendingStyles.set(h,_),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??Sd),this._updateStyle(h,_)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((h,g)=>{const _=I4(h,new Map,this._backFill);_.forEach((E,x)=>{E===iE?e.add(x):E===Sd&&t.add(x)}),r||_.set("offset",g/this.duration),i.push(_)});const o=e.size?H9(e.values()):[],c=t.size?H9(t.values()):[];if(r){const h=i[0],g=new Map(h);h.set("offset",0),g.set("offset",1),i=[h,g]}return LE(this.element,i,o,c,this.duration,this.startTime,this.easing,!1)}}class L$ extends W9{constructor(e,t,r,i,o,c,h=!1){super(e,t,c.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=h,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],c=r+t,h=t/c,g=I4(e[0]);g.set("offset",0),o.push(g);const _=I4(e[0]);_.set("offset",$z(h)),o.push(_);const E=e.length-1;for(let x=1;x<=E;x++){let K=I4(e[x]);const ne=K.get("offset");K.set("offset",$z((t+ne*r)/c)),o.push(K)}r=c,t=0,i="",e=o}return LE(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function $z(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class BE{}const H$=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class B$ extends BE{normalizePropertyName(e,t){return RE(e)}normalizeStyleValue(e,t,r,i){let o="";const c=r.toString().trim();if(H$.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)o="px";else{const h=r.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&i.push(function kj(n,e){return new l.vHH(3005,!1)}())}return c+o}}function Gz(n,e,t,r,i,o,c,h,g,_,E,x,K){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:o,toState:r,toStyles:c,timelines:h,queriedElements:g,preStyleProps:_,postStyleProps:E,totalTime:x,errors:K}}const YE={};class qz{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function Y$(n,e,t,r,i){return n.some(o=>o(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,o,c,h,g,_,E){const x=[],K=this.ast.options&&this.ast.options.params||YE,ue=this.buildStyles(r,h&&h.params||YE,x),De=g&&g.params||YE,Ie=this.buildStyles(i,De,x),tt=new Set,pt=new Map,ft=new Map,gt="void"===i,qt={params:U$(De,K),delay:this.ast.options?.delay},Xt=E?[]:VE(e,t,this.ast.animation,o,c,ue,Ie,qt,_,x);let In=0;if(Xt.forEach(An=>{In=Math.max(An.duration+An.delay,In)}),x.length)return Gz(t,this._triggerName,r,i,gt,ue,Ie,[],[],pt,ft,In,x);Xt.forEach(An=>{const ri=An.element,Zs=Fa(pt,ri,new Set);An.preStyleProps.forEach(Qs=>Zs.add(Qs));const fo=Fa(ft,ri,new Set);An.postStyleProps.forEach(Qs=>fo.add(Qs)),ri!==t&&tt.add(ri)});const br=H9(tt.values());return Gz(t,this._triggerName,r,i,gt,ue,Ie,Xt,br,pt,ft,In)}}function U$(n,e){const t=og(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class j${constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=og(this.defaultParams);return Object.keys(e).forEach(o=>{const c=e[o];null!==c&&(i[o]=c)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((c,h)=>{c&&(c=ag(c,i,t));const g=this.normalizer.normalizePropertyName(h,t);c=this.normalizer.normalizeStyleValue(h,g,c,t),r.set(h,c)})}),r}}class G${constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new j$(i.style,i.options&&i.options.params||{},r))}),Wz(this.states,"true","1"),Wz(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new qz(e,i,this.states))}),this.fallbackTransition=function q$(n,e,t){return new qz(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,h)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(c=>c.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function Wz(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const W$=new G9;class K${constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],i=[],o=NE(this._driver,t,r,i);if(r.length)throw function Kj(n){return new l.vHH(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,r){const i=e.element,o=Dz(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],o=this._animations.get(e);let c;const h=new Map;if(o?(c=VE(this._driver,t,o,kE,N9,new Map,new Map,r,W$,i),c.forEach(E=>{const x=Fa(h,E.element,new Map);E.postStyleProps.forEach(K=>x.set(K,null))})):(i.push(function Zj(){return new l.vHH(3300,!1)}()),c=[]),i.length)throw function Qj(n){return new l.vHH(3504,!1)}();h.forEach((E,x)=>{E.forEach((K,ne)=>{E.set(ne,this._driver.computeStyle(x,ne,Sd))})});const _=x4(c.map(E=>{const x=h.get(E.element);return this._buildPlayer(E,new Map,x)}));return this._playersById.set(e,_),_.onDestroy(()=>this.destroy(e)),this.players.push(_),_}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Jj(n){return new l.vHH(3301,!1)}();return t}listen(e,t,r,i){const o=ME(t,"","","");return TE(this._getPlayer(e),r,o,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const Kz="ng-animate-queued",UE="ng-animate-disabled",eG=[],Zz={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},tG={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Mc="__ng_removed";class jE{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function oG(n){return n??null}(r?e.value:e),r){const o=og(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const cg="void",$E=new jE(cg);class nG{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,xc(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function Xj(n,e){return new l.vHH(3302,!1)}();if(null==r||0==r.length)throw function e$(n){return new l.vHH(3303,!1)}();if(!function sG(n){return"start"==n||"done"==n}(r))throw function t$(n,e){return new l.vHH(3400,!1)}();const o=Fa(this._elementListeners,e,[]),c={name:t,phase:r,callback:i};o.push(c);const h=Fa(this._engine.statesByElement,e,new Map);return h.has(t)||(xc(e,F9),xc(e,F9+"-"+t),h.set(t,$E)),()=>{this._engine.afterFlush(()=>{const g=o.indexOf(c);g>=0&&o.splice(g,1),this._triggers.has(t)||h.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function n$(n){return new l.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const o=this._getTrigger(t),c=new GE(this.id,t,e);let h=this._engine.statesByElement.get(e);h||(xc(e,F9),xc(e,F9+"-"+t),this._engine.statesByElement.set(e,h=new Map));let g=h.get(t);const _=new jE(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&g&&_.absorbOptions(g.options),h.set(t,_),g||(g=$E),_.value!==cg&&g.value===_.value){if(!function lG(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const o=t[i];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(g.params,_.params)){const De=[],Ie=o.matchStyles(g.value,g.params,De),tt=o.matchStyles(_.value,_.params,De);De.length?this._engine.reportError(De):this._engine.afterFlush(()=>{Y0(e,Ie),Ku(e,tt)})}return}const K=Fa(this._engine.playersByElement,e,[]);K.forEach(De=>{De.namespaceId==this.id&&De.triggerName==t&&De.queued&&De.destroy()});let ne=o.matchTransition(g.value,_.value,e,_.params),ue=!1;if(!ne){if(!i)return;ne=o.fallbackTransition,ue=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:ne,fromState:g,toState:_,player:c,isFallbackTransition:ue}),ue||(xc(e,Kz),c.onStart(()=>{f6(e,Kz)})),c.onDone(()=>{let De=this.players.indexOf(c);De>=0&&this.players.splice(De,1);const Ie=this._engine.playersByElement.get(e);if(Ie){let tt=Ie.indexOf(c);tt>=0&&Ie.splice(tt,1)}}),this.players.push(c),K.push(c),c}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,L9,!0);r.forEach(i=>{if(i[Mc])return;const o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(c=>c.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const o=this._engine.statesByElement.get(e),c=new Map;if(o){const h=[];if(o.forEach((g,_)=>{if(c.set(_,g.value),this._triggers.has(_)){const E=this.trigger(e,_,cg,i);E&&h.push(E)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),r&&x4(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(o=>{const c=o.name;if(i.has(c))return;i.add(c);const g=this._triggers.get(c).fallbackTransition,_=r.get(c)||$E,E=new jE(cg),x=new GE(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:g,fromState:_,toState:E,player:x,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let c=e;for(;c=c.parentNode;)if(r.statesByElement.get(c)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const o=e[Mc];(!o||o===Zz)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){xc(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const o=r.element,c=this._elementListeners.get(o);c&&c.forEach(h=>{if(h.name==r.triggerName){const g=ME(o,r.triggerName,r.fromState.value,r.toState.value);g._data=e,TE(r.player,h.phase,g,h.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const o=r.transition.ast.depCount,c=i.transition.ast.depCount;return 0==o||0==c?o-c:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class rG{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new nG(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let c=!1,h=this.driver.getParentElement(t);for(;h;){const g=i.get(h);if(g){const _=r.indexOf(g);r.splice(_+1,0,e),c=!0;break}h=this.driver.getParentElement(h)}c||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const o=this._fetchNamespace(i.namespaceId);o&&t.add(o)}return t}trigger(e,t,r,i){if(K9(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!K9(t))return;const o=t[Mc];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),xc(e,UE)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),f6(e,UE))}removeNode(e,t,r,i){if(K9(t)){const o=e?this._fetchNamespace(e):null;if(o?o.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,o){this.collectedLeaveElements.push(t),t[Mc]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,r,i,o){return K9(t)?this._fetchNamespace(e).listen(t,r,i,o):()=>{}}_buildInstruction(e,t,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,L9,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,zE,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return x4(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Mc];if(t&&t.setForRemoval){if(e[Mc]=Zz,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(UE)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)xc(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?x4(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function r$(n){return new l.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new G9,i=[],o=new Map,c=[],h=new Map,g=new Map,_=new Map,E=new Set;this.disabledNodes.forEach(Vt=>{E.add(Vt);const nn=this.driver.query(Vt,".ng-animate-queued",!0);for(let un=0;un<nn.length;un++)E.add(nn[un])});const x=this.bodyNode,K=Array.from(this.statesByElement.keys()),ne=Xz(K,this.collectedEnterElements),ue=new Map;let De=0;ne.forEach((Vt,nn)=>{const un=kE+De++;ue.set(nn,un),Vt.forEach($n=>xc($n,un))});const Ie=[],tt=new Set,pt=new Set;for(let Vt=0;Vt<this.collectedLeaveElements.length;Vt++){const nn=this.collectedLeaveElements[Vt],un=nn[Mc];un&&un.setForRemoval&&(Ie.push(nn),tt.add(nn),un.hasAnimation?this.driver.query(nn,".ng-star-inserted",!0).forEach($n=>tt.add($n)):pt.add(nn))}const ft=new Map,gt=Xz(K,Array.from(tt));gt.forEach((Vt,nn)=>{const un=N9+De++;ft.set(nn,un),Vt.forEach($n=>xc($n,un))}),e.push(()=>{ne.forEach((Vt,nn)=>{const un=ue.get(nn);Vt.forEach($n=>f6($n,un))}),gt.forEach((Vt,nn)=>{const un=ft.get(nn);Vt.forEach($n=>f6($n,un))}),Ie.forEach(Vt=>{this.processLeaveNode(Vt)})});const qt=[],Xt=[];for(let Vt=this._namespaceList.length-1;Vt>=0;Vt--)this._namespaceList[Vt].drainQueuedTransitions(t).forEach(un=>{const $n=un.player,po=un.element;if(qt.push($n),this.collectedEnterElements.length){const os=po[Mc];if(os&&os.setForMove){if(os.previousTriggersValues&&os.previousTriggersValues.has(un.triggerName)){const $0=os.previousTriggersValues.get(un.triggerName),Ic=this.statesByElement.get(un.element);if(Ic&&Ic.has(un.triggerName)){const ey=Ic.get(un.triggerName);ey.value=$0,Ic.set(un.triggerName,ey)}}return void $n.destroy()}}const Zu=!x||!this.driver.containsElement(x,po),Va=ft.get(po),k4=ue.get(po),ii=this._buildInstruction(un,r,k4,Va,Zu);if(ii.errors&&ii.errors.length)return void Xt.push(ii);if(Zu)return $n.onStart(()=>Y0(po,ii.fromStyles)),$n.onDestroy(()=>Ku(po,ii.toStyles)),void i.push($n);if(un.isFallbackTransition)return $n.onStart(()=>Y0(po,ii.fromStyles)),$n.onDestroy(()=>Ku(po,ii.toStyles)),void i.push($n);const gP=[];ii.timelines.forEach(os=>{os.stretchStartingKeyframe=!0,this.disabledNodes.has(os.element)||gP.push(os)}),ii.timelines=gP,r.append(po,ii.timelines),c.push({instruction:ii,player:$n,element:po}),ii.queriedElements.forEach(os=>Fa(h,os,[]).push($n)),ii.preStyleProps.forEach((os,$0)=>{if(os.size){let Ic=g.get($0);Ic||g.set($0,Ic=new Set),os.forEach((ey,KE)=>Ic.add(KE))}}),ii.postStyleProps.forEach((os,$0)=>{let Ic=_.get($0);Ic||_.set($0,Ic=new Set),os.forEach((ey,KE)=>Ic.add(KE))})});if(Xt.length){const Vt=[];Xt.forEach(nn=>{Vt.push(function i$(n,e){return new l.vHH(3505,!1)}())}),qt.forEach(nn=>nn.destroy()),this.reportError(Vt)}const In=new Map,br=new Map;c.forEach(Vt=>{const nn=Vt.element;r.has(nn)&&(br.set(nn,nn),this._beforeAnimationBuild(Vt.player.namespaceId,Vt.instruction,In))}),i.forEach(Vt=>{const nn=Vt.element;this._getPreviousPlayers(nn,!1,Vt.namespaceId,Vt.triggerName,null).forEach($n=>{Fa(In,nn,[]).push($n),$n.destroy()})});const An=Ie.filter(Vt=>tP(Vt,g,_)),ri=new Map;Jz(ri,this.driver,pt,_,Sd).forEach(Vt=>{tP(Vt,g,_)&&An.push(Vt)});const fo=new Map;ne.forEach((Vt,nn)=>{Jz(fo,this.driver,new Set(Vt),g,iE)}),An.forEach(Vt=>{const nn=ri.get(Vt),un=fo.get(Vt);ri.set(Vt,new Map([...Array.from(nn?.entries()??[]),...Array.from(un?.entries()??[])]))});const Qs=[],Td=[],Dd={};c.forEach(Vt=>{const{element:nn,player:un,instruction:$n}=Vt;if(r.has(nn)){if(E.has(nn))return un.onDestroy(()=>Ku(nn,$n.toStyles)),un.disabled=!0,un.overrideTotalTime($n.totalTime),void i.push(un);let po=Dd;if(br.size>1){let Va=nn;const k4=[];for(;Va=Va.parentNode;){const ii=br.get(Va);if(ii){po=ii;break}k4.push(Va)}k4.forEach(ii=>br.set(ii,po))}const Zu=this._buildAnimation(un.namespaceId,$n,In,o,fo,ri);if(un.setRealPlayer(Zu),po===Dd)Qs.push(un);else{const Va=this.playersByElement.get(po);Va&&Va.length&&(un.parentPlayer=x4(Va)),i.push(un)}}else Y0(nn,$n.fromStyles),un.onDestroy(()=>Ku(nn,$n.toStyles)),Td.push(un),E.has(nn)&&i.push(un)}),Td.forEach(Vt=>{const nn=o.get(Vt.element);if(nn&&nn.length){const un=x4(nn);Vt.setRealPlayer(un)}}),i.forEach(Vt=>{Vt.parentPlayer?Vt.syncPlayerEvents(Vt.parentPlayer):Vt.destroy()});for(let Vt=0;Vt<Ie.length;Vt++){const nn=Ie[Vt],un=nn[Mc];if(f6(nn,N9),un&&un.hasAnimation)continue;let $n=[];if(h.size){let Zu=h.get(nn);Zu&&Zu.length&&$n.push(...Zu);let Va=this.driver.query(nn,zE,!0);for(let k4=0;k4<Va.length;k4++){let ii=h.get(Va[k4]);ii&&ii.length&&$n.push(...ii)}}const po=$n.filter(Zu=>!Zu.destroyed);po.length?aG(this,nn,po):this.processLeaveNode(nn)}return Ie.length=0,Qs.forEach(Vt=>{this.players.push(Vt),Vt.onDone(()=>{Vt.destroy();const nn=this.players.indexOf(Vt);this.players.splice(nn,1)}),Vt.play()}),Qs}elementContainsData(e,t){let r=!1;const i=t[Mc];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,o){let c=[];if(t){const h=this.playersByQueriedElement.get(e);h&&(c=h)}else{const h=this.playersByElement.get(e);if(h){const g=!o||o==cg;h.forEach(_=>{_.queued||!g&&_.triggerName!=i||c.push(_)})}}return(r||i)&&(c=c.filter(h=>!(r&&r!=h.namespaceId||i&&i!=h.triggerName))),c}_beforeAnimationBuild(e,t,r){const o=t.element,c=t.isRemovalTransition?void 0:e,h=t.isRemovalTransition?void 0:t.triggerName;for(const g of t.timelines){const _=g.element,E=_!==o,x=Fa(r,_,[]);this._getPreviousPlayers(_,E,c,h,t.toState).forEach(ne=>{const ue=ne.getRealPlayer();ue.beforeDestroy&&ue.beforeDestroy(),ne.destroy(),x.push(ne)})}Y0(o,t.fromStyles)}_buildAnimation(e,t,r,i,o,c){const h=t.triggerName,g=t.element,_=[],E=new Set,x=new Set,K=t.timelines.map(ue=>{const De=ue.element;E.add(De);const Ie=De[Mc];if(Ie&&Ie.removedBeforeQueried)return new tg(ue.duration,ue.delay);const tt=De!==g,pt=function cG(n){const e=[];return eP(n,e),e}((r.get(De)||eG).map(In=>In.getRealPlayer())).filter(In=>!!In.element&&In.element===De),ft=o.get(De),gt=c.get(De),qt=Dz(0,this._normalizer,0,ue.keyframes,ft,gt),Xt=this._buildPlayer(ue,qt,pt);if(ue.subTimeline&&i&&x.add(De),tt){const In=new GE(e,h,De);In.setRealPlayer(Xt),_.push(In)}return Xt});_.forEach(ue=>{Fa(this.playersByQueriedElement,ue.element,[]).push(ue),ue.onDone(()=>function iG(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,ue.element,ue))}),E.forEach(ue=>xc(ue,Rz));const ne=x4(K);return ne.onDestroy(()=>{E.forEach(ue=>f6(ue,Rz)),Ku(g,t.toStyles)}),x.forEach(ue=>{Fa(i,ue,[]).push(ne)}),ne}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new tg(e.duration,e.delay)}}class GE{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new tg,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>TE(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Fa(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function K9(n){return n&&1===n.nodeType}function Qz(n,e){const t=n.style.display;return n.style.display=e??"none",t}function Jz(n,e,t,r,i){const o=[];t.forEach(g=>o.push(Qz(g)));const c=[];r.forEach((g,_)=>{const E=new Map;g.forEach(x=>{const K=e.computeStyle(_,x,i);E.set(x,K),(!K||0==K.length)&&(_[Mc]=tG,c.push(_))}),n.set(_,E)});let h=0;return t.forEach(g=>Qz(g,o[h++])),c}function Xz(n,e){const t=new Map;if(n.forEach(h=>t.set(h,[])),0==e.length)return t;const r=1,i=new Set(e),o=new Map;function c(h){if(!h)return r;let g=o.get(h);if(g)return g;const _=h.parentNode;return g=t.has(_)?_:i.has(_)?r:c(_),o.set(h,g),g}return e.forEach(h=>{const g=c(h);g!==r&&t.get(g).push(h)}),t}function xc(n,e){n.classList?.add(e)}function f6(n,e){n.classList?.remove(e)}function aG(n,e,t){x4(t).onDone(()=>n.processLeaveNode(e))}function eP(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof Mk?eP(r.players,e):e.push(r)}}function tP(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(o=>i.add(o)):e.set(n,r),t.delete(n),!0}class Z9{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new rG(e,t,r),this._timelineEngine=new K$(e,t,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,t,r,i,o){const c=e+"-"+i;let h=this._triggerCache[c];if(!h){const g=[],_=[],E=NE(this._driver,o,g,_);if(g.length)throw function qj(n,e){return new l.vHH(3404,!1)}();h=function $$(n,e,t){return new G$(n,e,t)}(i,E,this._normalizer),this._triggerCache[c]=h}this._transitionEngine.registerTrigger(t,i,h)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[o,c]=Mz(r);this._timelineEngine.command(o,t,c,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,o){if("@"==r.charAt(0)){const[c,h]=Mz(r);return this._timelineEngine.listen(c,t,h,o)}return this._transitionEngine.listen(e,t,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let dG=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Ku(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ku(this._element,this._initialStyles),this._endStyles&&(Ku(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Y0(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Y0(this._element,this._endStyles),this._endStyles=null),Ku(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function qE(n){let e=null;return n.forEach((t,r)=>{(function hG(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class nP{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:Bz(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class fG{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return kz(e,t)}getParentElement(e){return IE(e)}query(e,t,r){return zz(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,o,c=[]){const g={duration:r,delay:i,fill:0==i?"both":"forwards"};o&&(g.easing=o);const _=new Map,E=c.filter(ne=>ne instanceof nP);(function v$(n,e){return 0===n||0===e})(r,i)&&E.forEach(ne=>{ne.currentSnapshot.forEach((ue,De)=>_.set(De,ue))});let x=function f$(n){return n.length?n[0]instanceof Map?n:n.map(e=>Nz(e)):[]}(t).map(ne=>I4(ne));x=function y$(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((o,c)=>{r.has(c)||i.push(c),r.set(c,o)}),i.length)for(let o=1;o<e.length;o++){let c=e[o];i.forEach(h=>c.set(h,Bz(n,h)))}}return e}(e,x,_);const K=function uG(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=qE(e[0]),e.length>1&&(r=qE(e[e.length-1]))):e instanceof Map&&(t=qE(e)),t||r?new dG(n,t,r):null}(e,x);return new nP(e,x,g,K)}}let pG=(()=>{class n extends Ck{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:l.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?Sk(t):t;return rP(this._renderer,null,r,"register",[i]),new mG(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(j))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class mG extends AY{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new gG(this._id,e,t||{},this._renderer)}}class gG{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return rP(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function rP(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const iP="@.disabled";let vG=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(o,c)=>{const h=c?.parentNode(o);h&&c.removeChild(h,o)}}createRenderer(t,r){const o=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let E=this._rendererCache.get(o);return E||(E=new oP("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,E)),E}const c=r.id,h=r.id+"-"+this._currentId;this._currentId++,this.engine.register(h,t);const g=E=>{Array.isArray(E)?E.forEach(g):this.engine.registerTrigger(c,h,t,E.name,E)};return r.data.animation.forEach(g),new yG(this,h,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[c,h]=o;c(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(Z9),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class oP{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?o=>t.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==iP?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class yG extends oP{constructor(e,t,r,i,o){super(t,r,i,o),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==iP?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function _G(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),c="";return"@"!=o.charAt(0)&&([o,c]=function wG(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,i,o,c,h=>{this.factory.scheduleListenerCallback(h._data||-1,r,h)})}return this.delegate.listen(e,t,r)}}let bG=(()=>{class n extends Z9{constructor(t,r,i,o){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(j),l.LFG(AE),l.LFG(BE),l.LFG(l.z2F))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const sP=[{provide:Ck,useClass:pG},{provide:BE,useFactory:function CG(){return new B$}},{provide:Z9,useClass:bG},{provide:l.FYo,useFactory:function SG(n,e,t){return new vG(n,e,t)},deps:[ro,Z9,l.R0b]}],WE=[{provide:AE,useFactory:()=>new fG},{provide:l.QbO,useValue:"BrowserAnimations"},...sP],aP=[{provide:AE,useClass:Pz},{provide:l.QbO,useValue:"NoopAnimations"},...sP];let EG=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?aP:WE}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:WE,imports:[ga]}),n})();const cP=["moz","ms","webkit"],xG=function MG(){if(typeof window>"u")return()=>0;if(window.requestAnimationFrame)return window.requestAnimationFrame.bind(window);const n=cP.filter(e=>`${e}RequestAnimationFrame`in window)[0];return n?window[`${n}RequestAnimationFrame`]:function DG(){let n=0;return function(e){const t=(new Date).getTime(),r=Math.max(0,16-(t-n)),i=setTimeout(()=>{e(t+r)},r);return n=t+r,i}}()}(),IG=["nz-modal-close",""];function AG(n,e){if(1&n&&(l.ynx(0),l._UZ(1,"span",2),l.BQk()),2&n){const t=e.$implicit;l.xp6(1),l.Q6J("nzType",t)}}const lP=["modalElement"];function kG(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",16),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.onCloseClick())}),l.qZA()}}function zG(n,e){if(1&n&&(l.ynx(0),l._UZ(1,"span",17),l.BQk()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("innerHTML",t.config.nzTitle,l.oJD)}}function PG(n,e){}function OG(n,e){if(1&n&&l._UZ(0,"div",17),2&n){const t=l.oxw();l.Q6J("innerHTML",t.config.nzContent,l.oJD)}}function RG(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",18),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.onCancel())}),l._uU(1),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("nzLoading",!!t.config.nzCancelLoading)("disabled",t.config.nzCancelDisabled),l.uIk("cdkFocusInitial","cancel"===t.config.nzAutofocus||null),l.xp6(1),l.hij(" ",t.config.nzCancelText||t.locale.cancelText," ")}}function NG(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",19),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.onOk())}),l._uU(1),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("nzType",t.config.nzOkType)("nzLoading",!!t.config.nzOkLoading)("disabled",t.config.nzOkDisabled)("nzDanger",t.config.nzOkDanger),l.uIk("cdkFocusInitial","ok"===t.config.nzAutofocus||null),l.xp6(1),l.hij(" ",t.config.nzOkText||t.locale.okText," ")}}const FG=["nz-modal-footer",""];function LG(n,e){if(1&n&&l._UZ(0,"div",5),2&n){const t=l.oxw(3);l.Q6J("innerHTML",t.config.nzFooter,l.oJD)}}function VG(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",7),l.NdJ("click",function(){const o=l.CHM(t).$implicit,c=l.oxw(4);return l.KtG(c.onButtonClick(o))}),l._uU(1),l.qZA()}if(2&n){const t=e.$implicit,r=l.oxw(4);l.Q6J("hidden",!r.getButtonCallableProp(t,"show"))("nzLoading",r.getButtonCallableProp(t,"loading"))("disabled",r.getButtonCallableProp(t,"disabled"))("nzType",t.type)("nzDanger",t.danger)("nzShape",t.shape)("nzSize",t.size)("nzGhost",t.ghost),l.xp6(1),l.hij(" ",t.label," ")}}function HG(n,e){if(1&n&&(l.ynx(0),l.YNc(1,VG,2,9,"button",6),l.BQk()),2&n){const t=l.oxw(3);l.xp6(1),l.Q6J("ngForOf",t.buttons)}}function BG(n,e){if(1&n&&(l.ynx(0),l.YNc(1,LG,1,1,"div",3),l.YNc(2,HG,2,1,"ng-container",4),l.BQk()),2&n){const t=l.oxw(2);l.xp6(1),l.Q6J("ngIf",!t.buttonsFooter),l.xp6(1),l.Q6J("ngIf",t.buttonsFooter)}}const YG=function(n,e){return{$implicit:n,modalRef:e}};function UG(n,e){if(1&n&&(l.ynx(0),l.YNc(1,BG,3,2,"ng-container",2),l.BQk()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("nzStringTemplateOutlet",t.config.nzFooter)("nzStringTemplateOutletContext",l.WLB(2,YG,t.config.nzComponentParams,t.modalRef))}}function jG(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",10),l.NdJ("click",function(){l.CHM(t);const i=l.oxw(2);return l.KtG(i.onCancel())}),l._uU(1),l.qZA()}if(2&n){const t=l.oxw(2);l.Q6J("nzLoading",!!t.config.nzCancelLoading)("disabled",t.config.nzCancelDisabled),l.uIk("cdkFocusInitial","cancel"===t.config.nzAutofocus||null),l.xp6(1),l.hij(" ",t.config.nzCancelText||t.locale.cancelText," ")}}function $G(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const i=l.oxw(2);return l.KtG(i.onOk())}),l._uU(1),l.qZA()}if(2&n){const t=l.oxw(2);l.Q6J("nzType",t.config.nzOkType)("nzDanger",t.config.nzOkDanger)("nzLoading",!!t.config.nzOkLoading)("disabled",t.config.nzOkDisabled),l.uIk("cdkFocusInitial","ok"===t.config.nzAutofocus||null),l.xp6(1),l.hij(" ",t.config.nzOkText||t.locale.okText," ")}}function GG(n,e){if(1&n&&(l.YNc(0,jG,2,4,"button",8),l.YNc(1,$G,2,6,"button",9)),2&n){const t=l.oxw();l.Q6J("ngIf",null!==t.config.nzCancelText),l.xp6(1),l.Q6J("ngIf",null!==t.config.nzOkText)}}const qG=["nz-modal-title",""];function WG(n,e){if(1&n&&(l.ynx(0),l._UZ(1,"div",2),l.BQk()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("innerHTML",t.config.nzTitle,l.oJD)}}function KG(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",9),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.onCloseClick())}),l.qZA()}}function ZG(n,e){1&n&&l._UZ(0,"div",10)}function QG(n,e){}function JG(n,e){if(1&n&&l._UZ(0,"div",11),2&n){const t=l.oxw();l.Q6J("innerHTML",t.config.nzContent,l.oJD)}}function XG(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",12),l.NdJ("cancelTriggered",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.onCloseClick())})("okTriggered",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.onOkClick())}),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("modalRef",t.modalRef)}}const uP=()=>{};class j0{constructor(){this.nzCentered=!1,this.nzClosable=!0,this.nzOkLoading=!1,this.nzOkDisabled=!1,this.nzCancelDisabled=!1,this.nzCancelLoading=!1,this.nzNoAnimation=!1,this.nzAutofocus="auto",this.nzKeyboard=!0,this.nzZIndex=1e3,this.nzWidth=520,this.nzCloseIcon="close",this.nzOkType="primary",this.nzOkDanger=!1,this.nzModalType="default",this.nzOnCancel=uP,this.nzOnOk=uP,this.nzIconType="question-circle"}}const J9="ant-modal-mask",X9="modal",eq=new l.OlP("NZ_MODAL_DATA"),dP={modalContainer:Dc("modalContainer",[Ks("void, exit",gn({})),Ks("enter",gn({})),Dr("* => enter",wr(".24s",gn({}))),Dr("* => void, * => exit",wr(".2s",gn({})))])};function lg(n,e,t){return typeof n>"u"?typeof e>"u"?t:e:n}function hP(){throw Error("Attempting to attach modal content after content is already attached")}let fP=(()=>{class n extends XS{constructor(t,r,i,o,c,h,g,_,E,x){super(),this.ngZone=t,this.host=r,this.focusTrapFactory=i,this.cdr=o,this.render=c,this.overlayRef=h,this.nzConfigService=g,this.config=_,this.animationType=x,this.animationStateChanged=new l.vpe,this.containerClick=new l.vpe,this.cancelTriggered=new l.vpe,this.okTriggered=new l.vpe,this.state="enter",this.isStringContent=!1,this.dir="ltr",this.elementFocusedBeforeModalWasOpened=null,this.mouseDown=!1,this.oldMaskStyle=null,this.destroy$=new Ct.x,this.document=E,this.dir=h.getDirection(),this.isStringContent="string"==typeof _.nzContent,this.nzConfigService.getConfigChangeEventForComponent(X9).pipe(bn(this.destroy$)).subscribe(()=>{this.updateMaskClassname()})}get showMask(){const t=this.nzConfigService.getConfigForComponent(X9)||{};return!!lg(this.config.nzMask,t.nzMask,!0)}get maskClosable(){const t=this.nzConfigService.getConfigForComponent(X9)||{};return!!lg(this.config.nzMaskClosable,t.nzMaskClosable,!0)}onContainerClick(t){t.target===t.currentTarget&&!this.mouseDown&&this.showMask&&this.maskClosable&&this.containerClick.emit()}onCloseClick(){this.cancelTriggered.emit()}onOkClick(){this.okTriggered.emit()}attachComponentPortal(t){return this.portalOutlet.hasAttached()&&hP(),this.savePreviouslyFocusedElement(),this.setZIndexForBackdrop(),this.portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this.portalOutlet.hasAttached()&&hP(),this.savePreviouslyFocusedElement(),this.setZIndexForBackdrop(),this.portalOutlet.attachTemplatePortal(t)}attachStringContent(){this.savePreviouslyFocusedElement(),this.setZIndexForBackdrop()}getNativeElement(){return this.host.nativeElement}animationDisabled(){return this.config.nzNoAnimation||"NoopAnimations"===this.animationType}setModalTransformOrigin(){const t=this.modalElementRef.nativeElement;if(this.elementFocusedBeforeModalWasOpened){const r=this.elementFocusedBeforeModalWasOpened.getBoundingClientRect(),i=function jV(n){if(!n.getClientRects().length)return{top:0,left:0};const e=n.getBoundingClientRect(),t=n.ownerDocument.defaultView;return{top:e.top+t.pageYOffset,left:e.left+t.pageXOffset}}(this.elementFocusedBeforeModalWasOpened);this.render.setStyle(t,"transform-origin",`${i.left+r.width/2-t.offsetLeft}px ${i.top+r.height/2-t.offsetTop}px 0px`)}}savePreviouslyFocusedElement(){this.focusTrap||(this.focusTrap=this.focusTrapFactory.create(this.host.nativeElement)),this.document&&(this.elementFocusedBeforeModalWasOpened=this.document.activeElement,this.host.nativeElement.focus&&this.ngZone.runOutsideAngular(()=>xG(()=>this.host.nativeElement.focus())))}trapFocus(){const t=this.host.nativeElement;if(this.config.nzAutofocus)this.focusTrap.focusInitialElementWhenReady();else{const r=this.document.activeElement;r!==t&&!t.contains(r)&&t.focus()}}restoreFocus(){const t=this.elementFocusedBeforeModalWasOpened;if(t&&"function"==typeof t.focus){const r=this.document.activeElement,i=this.host.nativeElement;(!r||r===this.document.body||r===i||i.contains(r))&&t.focus()}this.focusTrap&&this.focusTrap.destroy()}setEnterAnimationClass(){if(this.animationDisabled())return;this.setModalTransformOrigin();const t=this.modalElementRef.nativeElement,r=this.overlayRef.backdropElement;t.classList.add("ant-zoom-enter"),t.classList.add("ant-zoom-enter-active"),r&&(r.classList.add("ant-fade-enter"),r.classList.add("ant-fade-enter-active"))}setExitAnimationClass(){const t=this.modalElementRef.nativeElement;t.classList.add("ant-zoom-leave"),t.classList.add("ant-zoom-leave-active"),this.setMaskExitAnimationClass()}setMaskExitAnimationClass(t=!1){const r=this.overlayRef.backdropElement;if(r){if(this.animationDisabled()||t)return void r.classList.remove(J9);r.classList.add("ant-fade-leave"),r.classList.add("ant-fade-leave-active")}}cleanAnimationClass(){if(this.animationDisabled())return;const t=this.overlayRef.backdropElement,r=this.modalElementRef.nativeElement;t&&(t.classList.remove("ant-fade-enter"),t.classList.remove("ant-fade-enter-active")),r.classList.remove("ant-zoom-enter"),r.classList.remove("ant-zoom-enter-active"),r.classList.remove("ant-zoom-leave"),r.classList.remove("ant-zoom-leave-active")}setZIndexForBackdrop(){const t=this.overlayRef.backdropElement;t&&Tc(this.config.nzZIndex)&&this.render.setStyle(t,"z-index",this.config.nzZIndex)}bindBackdropStyle(){const t=this.overlayRef.backdropElement;if(t&&(this.oldMaskStyle&&(Object.keys(this.oldMaskStyle).forEach(i=>{this.render.removeStyle(t,i)}),this.oldMaskStyle=null),this.setZIndexForBackdrop(),"object"==typeof this.config.nzMaskStyle&&Object.keys(this.config.nzMaskStyle).length)){const r={...this.config.nzMaskStyle};Object.keys(r).forEach(i=>{this.render.setStyle(t,i,r[i])}),this.oldMaskStyle=r}}updateMaskClassname(){const t=this.overlayRef.backdropElement;t&&(this.showMask?t.classList.add(J9):t.classList.remove(J9))}onAnimationDone(t){"enter"===t.toState?this.trapFocus():"exit"===t.toState&&this.restoreFocus(),this.cleanAnimationClass(),this.animationStateChanged.emit(t)}onAnimationStart(t){"enter"===t.toState?(this.setEnterAnimationClass(),this.bindBackdropStyle()):"exit"===t.toState&&this.setExitAnimationClass(),this.animationStateChanged.emit(t)}startExitAnimation(){this.state="exit",this.cdr.markForCheck()}ngOnDestroy(){this.setMaskExitAnimationClass(!0),this.destroy$.next(),this.destroy$.complete()}setupMouseListeners(t){this.ngZone.runOutsideAngular(()=>{Il(this.host.nativeElement,"mouseup").pipe(bn(this.destroy$)).subscribe(()=>{this.mouseDown&&setTimeout(()=>{this.mouseDown=!1})}),Il(t.nativeElement,"mousedown").pipe(bn(this.destroy$)).subscribe(()=>{this.mouseDown=!0})})}}return n.\u0275fac=function(t){l.$Z()},n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})(),pP=(()=>{class n{constructor(t){this.config=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(j0))},n.\u0275cmp=l.Xpm({type:n,selectors:[["button","nz-modal-close",""]],hostAttrs:["aria-label","Close",1,"ant-modal-close"],exportAs:["NzModalCloseBuiltin"],attrs:IG,decls:2,vars:1,consts:[[1,"ant-modal-close-x"],[4,"nzStringTemplateOutlet"],["nz-icon","",1,"ant-modal-close-icon",3,"nzType"]],template:function(t,r){1&t&&(l.TgZ(0,"span",0),l.YNc(1,AG,2,1,"ng-container",1),l.qZA()),2&t&&(l.xp6(1),l.Q6J("nzStringTemplateOutlet",r.config.nzCloseIcon))},dependencies:[l6,L0,Cd],encapsulation:2,changeDetection:0}),n})(),rq=(()=>{class n extends fP{constructor(t,r,i,o,c,h,g,_,E,x,K){super(t,i,o,c,h,g,_,E,x,K),this.i18n=r,this.config=E,this.cancelTriggered=new l.vpe,this.okTriggered=new l.vpe,this.i18n.localeChange.pipe(bn(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Modal")})}ngOnInit(){this.setupMouseListeners(this.modalElementRef)}onCancel(){this.cancelTriggered.emit()}onOk(){this.okTriggered.emit()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.R0b),l.Y36(R9),l.Y36(l.SBq),l.Y36(aE),l.Y36(l.sBO),l.Y36(l.Qsj),l.Y36(u6),l.Y36(qu),l.Y36(j0),l.Y36(j,8),l.Y36(l.QbO,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["nz-modal-confirm-container"]],viewQuery:function(t,r){if(1&t&&(l.Gf(b9,7),l.Gf(lP,7)),2&t){let i;l.iGM(i=l.CRH())&&(r.portalOutlet=i.first),l.iGM(i=l.CRH())&&(r.modalElementRef=i.first)}},hostAttrs:["tabindex","-1","role","dialog"],hostVars:10,hostBindings:function(t,r){1&t&&(l.WFA("@modalContainer.start",function(o){return r.onAnimationStart(o)})("@modalContainer.done",function(o){return r.onAnimationDone(o)}),l.NdJ("click",function(o){return r.onContainerClick(o)})),2&t&&(l.d8E("@.disabled",r.config.nzNoAnimation)("@modalContainer",r.state),l.Tol(r.config.nzWrapClassName?"ant-modal-wrap "+r.config.nzWrapClassName:"ant-modal-wrap"),l.Udp("z-index",r.config.nzZIndex),l.ekj("ant-modal-wrap-rtl","rtl"===r.dir)("ant-modal-centered",r.config.nzCentered))},outputs:{cancelTriggered:"cancelTriggered",okTriggered:"okTriggered"},exportAs:["nzModalConfirmContainer"],features:[l.qOj],decls:17,vars:13,consts:[["role","document",1,"ant-modal",3,"ngClass","ngStyle"],["modalElement",""],[1,"ant-modal-content"],["nz-modal-close","",3,"click",4,"ngIf"],[1,"ant-modal-body",3,"ngStyle"],[1,"ant-modal-confirm-body-wrapper"],[1,"ant-modal-confirm-body"],["nz-icon","",3,"nzType"],[1,"ant-modal-confirm-title"],[4,"nzStringTemplateOutlet"],[1,"ant-modal-confirm-content"],["cdkPortalOutlet",""],[3,"innerHTML",4,"ngIf"],[1,"ant-modal-confirm-btns"],["nz-button","",3,"nzLoading","disabled","click",4,"ngIf"],["nz-button","",3,"nzType","nzLoading","disabled","nzDanger","click",4,"ngIf"],["nz-modal-close","",3,"click"],[3,"innerHTML"],["nz-button","",3,"nzLoading","disabled","click"],["nz-button","",3,"nzType","nzLoading","disabled","nzDanger","click"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0,1),l.ALo(2,"nzToCssUnit"),l.TgZ(3,"div",2),l.YNc(4,kG,1,0,"button",3),l.TgZ(5,"div",4)(6,"div",5)(7,"div",6),l._UZ(8,"span",7),l.TgZ(9,"span",8),l.YNc(10,zG,2,1,"ng-container",9),l.qZA(),l.TgZ(11,"div",10),l.YNc(12,PG,0,0,"ng-template",11),l.YNc(13,OG,1,1,"div",12),l.qZA()(),l.TgZ(14,"div",13),l.YNc(15,RG,2,4,"button",14),l.YNc(16,NG,2,6,"button",15),l.qZA()()()()()),2&t&&(l.Udp("width",l.lcZ(2,11,null==r.config?null:r.config.nzWidth)),l.Q6J("ngClass",r.config.nzClassName)("ngStyle",r.config.nzStyle),l.xp6(4),l.Q6J("ngIf",r.config.nzClosable),l.xp6(1),l.Q6J("ngStyle",r.config.nzBodyStyle),l.xp6(3),l.Q6J("nzType",r.config.nzIconType),l.xp6(2),l.Q6J("nzStringTemplateOutlet",r.config.nzTitle),l.xp6(3),l.Q6J("ngIf",r.isStringContent),l.xp6(2),l.Q6J("ngIf",null!==r.config.nzCancelText),l.xp6(1),l.Q6J("ngIf",null!==r.config.nzOkText))},dependencies:[on,pi,_o,l6,b9,Qm,L0,Zm,Cd,pP,yE],encapsulation:2,data:{animation:[dP.modalContainer]}}),n})(),iq=(()=>{class n{constructor(t,r){this.i18n=t,this.config=r,this.buttonsFooter=!1,this.buttons=[],this.cancelTriggered=new l.vpe,this.okTriggered=new l.vpe,this.destroy$=new Ct.x,Array.isArray(r.nzFooter)&&(this.buttonsFooter=!0,this.buttons=r.nzFooter.map(oq)),this.i18n.localeChange.pipe(bn(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Modal")})}onCancel(){this.cancelTriggered.emit()}onOk(){this.okTriggered.emit()}getButtonCallableProp(t,r){const i=t[r],o=this.modalRef.getContentComponent();return"function"==typeof i?i.apply(t,o&&[o]):i}onButtonClick(t){if(!this.getButtonCallableProp(t,"loading")){const i=this.getButtonCallableProp(t,"onClick");t.autoLoading&&VS(i)&&(t.loading=!0,i.then(()=>t.loading=!1).catch(o=>{throw t.loading=!1,o}))}}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(R9),l.Y36(j0))},n.\u0275cmp=l.Xpm({type:n,selectors:[["div","nz-modal-footer",""]],hostAttrs:[1,"ant-modal-footer"],inputs:{modalRef:"modalRef"},outputs:{cancelTriggered:"cancelTriggered",okTriggered:"okTriggered"},exportAs:["NzModalFooterBuiltin"],attrs:FG,decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["defaultFooterButtons",""],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],[3,"innerHTML",4,"ngIf"],[4,"ngIf"],[3,"innerHTML"],["nz-button","",3,"hidden","nzLoading","disabled","nzType","nzDanger","nzShape","nzSize","nzGhost","click",4,"ngFor","ngForOf"],["nz-button","",3,"hidden","nzLoading","disabled","nzType","nzDanger","nzShape","nzSize","nzGhost","click"],["nz-button","",3,"nzLoading","disabled","click",4,"ngIf"],["nz-button","",3,"nzType","nzDanger","nzLoading","disabled","click",4,"ngIf"],["nz-button","",3,"nzLoading","disabled","click"],["nz-button","",3,"nzType","nzDanger","nzLoading","disabled","click"]],template:function(t,r){if(1&t&&(l.YNc(0,UG,2,5,"ng-container",0),l.YNc(1,GG,2,2,"ng-template",null,1,l.W1O)),2&t){const i=l.MAs(2);l.Q6J("ngIf",r.config.nzFooter)("ngIfElse",i)}},dependencies:[Xs,pi,l6,Qm,L0,Zm],encapsulation:2}),n})();function oq(n){return{type:null,size:"default",autoLoading:!0,show:!0,loading:!1,disabled:!1,...n}}let sq=(()=>{class n{constructor(t){this.config=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(j0))},n.\u0275cmp=l.Xpm({type:n,selectors:[["div","nz-modal-title",""]],hostAttrs:[1,"ant-modal-header"],exportAs:["NzModalTitleBuiltin"],attrs:qG,decls:2,vars:1,consts:[[1,"ant-modal-title"],[4,"nzStringTemplateOutlet"],[3,"innerHTML"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0),l.YNc(1,WG,2,1,"ng-container",1),l.qZA()),2&t&&(l.xp6(1),l.Q6J("nzStringTemplateOutlet",r.config.nzTitle))},dependencies:[l6],encapsulation:2,changeDetection:0}),n})(),aq=(()=>{class n extends fP{constructor(t,r,i,o,c,h,g,_,E,x){super(t,r,i,o,c,h,g,_,E,x),this.config=_}ngOnInit(){this.setupMouseListeners(this.modalElementRef)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.R0b),l.Y36(l.SBq),l.Y36(aE),l.Y36(l.sBO),l.Y36(l.Qsj),l.Y36(u6),l.Y36(qu),l.Y36(j0),l.Y36(j,8),l.Y36(l.QbO,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["nz-modal-container"]],viewQuery:function(t,r){if(1&t&&(l.Gf(b9,7),l.Gf(lP,7)),2&t){let i;l.iGM(i=l.CRH())&&(r.portalOutlet=i.first),l.iGM(i=l.CRH())&&(r.modalElementRef=i.first)}},hostAttrs:["tabindex","-1","role","dialog"],hostVars:10,hostBindings:function(t,r){1&t&&(l.WFA("@modalContainer.start",function(o){return r.onAnimationStart(o)})("@modalContainer.done",function(o){return r.onAnimationDone(o)}),l.NdJ("click",function(o){return r.onContainerClick(o)})),2&t&&(l.d8E("@.disabled",r.config.nzNoAnimation)("@modalContainer",r.state),l.Tol(r.config.nzWrapClassName?"ant-modal-wrap "+r.config.nzWrapClassName:"ant-modal-wrap"),l.Udp("z-index",r.config.nzZIndex),l.ekj("ant-modal-wrap-rtl","rtl"===r.dir)("ant-modal-centered",r.config.nzCentered))},exportAs:["nzModalContainer"],features:[l.qOj],decls:10,vars:11,consts:[["role","document",1,"ant-modal",3,"ngClass","ngStyle"],["modalElement",""],[1,"ant-modal-content"],["nz-modal-close","",3,"click",4,"ngIf"],["nz-modal-title","",4,"ngIf"],[1,"ant-modal-body",3,"ngStyle"],["cdkPortalOutlet",""],[3,"innerHTML",4,"ngIf"],["nz-modal-footer","",3,"modalRef","cancelTriggered","okTriggered",4,"ngIf"],["nz-modal-close","",3,"click"],["nz-modal-title",""],[3,"innerHTML"],["nz-modal-footer","",3,"modalRef","cancelTriggered","okTriggered"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0,1),l.ALo(2,"nzToCssUnit"),l.TgZ(3,"div",2),l.YNc(4,KG,1,0,"button",3),l.YNc(5,ZG,1,0,"div",4),l.TgZ(6,"div",5),l.YNc(7,QG,0,0,"ng-template",6),l.YNc(8,JG,1,1,"div",7),l.qZA(),l.YNc(9,XG,1,1,"div",8),l.qZA()()),2&t&&(l.Udp("width",l.lcZ(2,9,null==r.config?null:r.config.nzWidth)),l.Q6J("ngClass",r.config.nzClassName)("ngStyle",r.config.nzStyle),l.xp6(4),l.Q6J("ngIf",r.config.nzClosable),l.xp6(1),l.Q6J("ngIf",r.config.nzTitle),l.xp6(1),l.Q6J("ngStyle",r.config.nzBodyStyle),l.xp6(2),l.Q6J("ngIf",r.isStringContent),l.xp6(1),l.Q6J("ngIf",null!==r.config.nzFooter))},dependencies:[on,pi,_o,b9,pP,iq,sq,yE],encapsulation:2,data:{animation:[dP.modalContainer]}}),n})();class mP{constructor(e,t,r){this.overlayRef=e,this.config=t,this.containerInstance=r,this.componentInstance=null,this.state=0,this.afterClose=new Ct.x,this.afterOpen=new Ct.x,this.destroy$=new Ct.x,r.animationStateChanged.pipe(Hn(i=>"done"===i.phaseName&&"enter"===i.toState),cr(1)).subscribe(()=>{this.afterOpen.next(),this.afterOpen.complete(),t.nzAfterOpen instanceof l.vpe&&t.nzAfterOpen.emit()}),r.animationStateChanged.pipe(Hn(i=>"done"===i.phaseName&&"exit"===i.toState),cr(1)).subscribe(()=>{clearTimeout(this.closeTimeout),this._finishDialogClose()}),r.containerClick.pipe(cr(1),bn(this.destroy$)).subscribe(()=>{!this.config.nzCancelLoading&&!this.config.nzOkLoading&&this.trigger("cancel")}),e.keydownEvents().pipe(Hn(i=>this.config.nzKeyboard&&!this.config.nzCancelLoading&&!this.config.nzOkLoading&&27===i.keyCode&&!tE(i))).subscribe(i=>{i.preventDefault(),this.trigger("cancel")}),r.cancelTriggered.pipe(bn(this.destroy$)).subscribe(()=>this.trigger("cancel")),r.okTriggered.pipe(bn(this.destroy$)).subscribe(()=>this.trigger("ok")),e.detachments().subscribe(()=>{this.afterClose.next(this.result),this.afterClose.complete(),t.nzAfterClose instanceof l.vpe&&t.nzAfterClose.emit(this.result),this.componentInstance=null,this.overlayRef.dispose()})}getContentComponent(){return this.componentInstance}getElement(){return this.containerInstance.getNativeElement()}destroy(e){this.close(e)}triggerOk(){return this.trigger("ok")}triggerCancel(){return this.trigger("cancel")}close(e){0===this.state&&(this.result=e,this.containerInstance.animationStateChanged.pipe(Hn(t=>"start"===t.phaseName),cr(1)).subscribe(t=>{this.overlayRef.detachBackdrop(),this.closeTimeout=setTimeout(()=>{this._finishDialogClose()},t.totalTime+100)}),this.containerInstance.startExitAnimation(),this.state=1)}updateConfig(e){Object.assign(this.config,e),this.containerInstance.bindBackdropStyle(),this.containerInstance.cdr.markForCheck()}getState(){return this.state}getConfig(){return this.config}getBackdropElement(){return this.overlayRef.backdropElement}trigger(e){var t=this;return(0,Ue.Z)(function*(){if(1===t.state)return;const r={ok:t.config.nzOnOk,cancel:t.config.nzOnCancel}[e],i={ok:"nzOkLoading",cancel:"nzCancelLoading"}[e];if(!t.config[i])if(r instanceof l.vpe)r.emit(t.getContentComponent());else if("function"==typeof r){const c=r(t.getContentComponent());if(VS(c)){t.config[i]=!0;let h=!1;try{h=yield c}finally{t.config[i]=!1,t.closeWhitResult(h)}}else t.closeWhitResult(c)}})()}closeWhitResult(e){!1!==e&&this.close(e)}_finishDialogClose(){this.state=2,this.overlayRef.dispose(),this.destroy$.next()}}let cq=(()=>{class n{constructor(t,r,i,o,c){this.overlay=t,this.injector=r,this.nzConfigService=i,this.parentModal=o,this.directionality=c,this.openModalsAtThisLevel=[],this.afterAllClosedAtThisLevel=new Ct.x,this.afterAllClose=w1(()=>this.openModals.length?this._afterAllClosed:this._afterAllClosed.pipe(ci(void 0)))}get openModals(){return this.parentModal?this.parentModal.openModals:this.openModalsAtThisLevel}get _afterAllClosed(){const t=this.parentModal;return t?t._afterAllClosed:this.afterAllClosedAtThisLevel}create(t){return this.open(t.nzContent,t)}closeAll(){this.closeModals(this.openModals)}confirm(t={},r="confirm"){return"nzFooter"in t&&a6('The Confirm-Modal doesn\'t support "nzFooter", this property will be ignored.'),"nzWidth"in t||(t.nzWidth=416),"nzMaskClosable"in t||(t.nzMaskClosable=!1),t.nzModalType="confirm",t.nzClassName=`ant-modal-confirm ant-modal-confirm-${r} ${t.nzClassName||""}`,this.create(t)}info(t={}){return this.confirmFactory(t,"info")}success(t={}){return this.confirmFactory(t,"success")}error(t={}){return this.confirmFactory(t,"error")}warning(t={}){return this.confirmFactory(t,"warning")}open(t,r){const i=function tq(n,e){return{...e,...n}}(r||{},new j0),o=this.createOverlay(i),c=this.attachModalContainer(o,i),h=this.attachModalContent(t,c,o,i);return c.modalRef=h,this.openModals.push(h),h.afterClose.subscribe(()=>this.removeOpenModal(h)),h}removeOpenModal(t){const r=this.openModals.indexOf(t);r>-1&&(this.openModals.splice(r,1),this.openModals.length||this._afterAllClosed.next())}closeModals(t){let r=t.length;for(;r--;)t[r].close(),this.openModals.length||this._afterAllClosed.next()}createOverlay(t){const r=this.nzConfigService.getConfigForComponent(X9)||{},i=new S9({hasBackdrop:!0,scrollStrategy:this.overlay.scrollStrategies.block(),positionStrategy:this.overlay.position().global(),disposeOnNavigation:lg(t.nzCloseOnNavigation,r.nzCloseOnNavigation,!0),direction:lg(t.nzDirection,r.nzDirection,this.directionality.value)});return lg(t.nzMask,r.nzMask,!0)&&(i.backdropClass=J9),this.overlay.create(i)}attachModalContainer(t,r){const o=l.zs3.create({parent:r&&r.nzViewContainerRef&&r.nzViewContainerRef.injector||this.injector,providers:[{provide:u6,useValue:t},{provide:j0,useValue:r}]}),h=new w9("confirm"===r.nzModalType?rq:aq,r.nzViewContainerRef,o);return t.attach(h).instance}attachModalContent(t,r,i,o){const c=new mP(i,o,r);if(t instanceof l.Rgc)r.attachTemplatePortal(new JS(t,null,{$implicit:o.nzData||o.nzComponentParams,modalRef:c}));else if(Tc(t)&&"string"!=typeof t){const h=this.createInjector(c,o),g=r.attachComponentPortal(new w9(t,o.nzViewContainerRef,h));(function nq(n,e){Object.assign(n,e)})(g.instance,o.nzComponentParams),c.componentInstance=g.instance}else r.attachStringContent();return c}createInjector(t,r){return l.zs3.create({parent:r&&r.nzViewContainerRef&&r.nzViewContainerRef.injector||this.injector,providers:[{provide:mP,useValue:t},{provide:eq,useValue:r.nzData}]})}confirmFactory(t={},r){return"nzIconType"in t||(t.nzIconType={info:"info-circle",success:"check-circle",error:"close-circle",warning:"exclamation-circle"}[r]),"nzCancelText"in t||(t.nzCancelText=null),this.confirm(t,r)}ngOnDestroy(){this.closeModals(this.openModalsAtThisLevel),this.afterAllClosedAtThisLevel.complete()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(eg),l.LFG(l.zs3),l.LFG(qu),l.LFG(n,12),l.LFG(No,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),lq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[cq],imports:[tr,Wu,E9,m9,eE,Sz,qS,F0,_E,CE,_E]}),n})();!function Md(n,e,t){(0,l.dwT)(n,e,t)}(Tj);let uq=(()=>{const e=class{};let n=e;return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=l.oAB({type:e,bootstrap:[Ez]}),e.\u0275inj=l.cJS({providers:[{provide:Cz,useValue:bz}],imports:[ga,Sj,PL,_V,EG,bs.hO.initializeApp(dz_firebase),MB,qS,F0,jU,$U,wj,wz,lq]}),n})();f1().bootstrapModule(uq).catch(n=>console.error(n))},5650:Yt=>{Yt.exports=function ee(B,l,V){function M(j,Q){if(!l[j]){if(!B[j]){if(F)return F(j,!0);var q=new Error("Cannot find module '"+j+"'");throw q.code="MODULE_NOT_FOUND",q}var z=l[j]={exports:{}};B[j][0].call(z.exports,function(L){return M(B[j][1][L]||L)},z,z.exports,ee,B,l,V)}return l[j].exports}for(var F=void 0,H=0;H<V.length;H++)M(V[H]);return M}({1:[function(ee,B,l){"use strict";var V=ee("./utils"),M=ee("./support"),F="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";l.encode=function(H){for(var j,Q,W,z,L,P,G=[],U=0,X=H.length,le=X,ie="string"!==V.getTypeOf(H);U<H.length;)le=X-U,W=ie?(j=H[U++],Q=U<X?H[U++]:0,U<X?H[U++]:0):(j=H.charCodeAt(U++),Q=U<X?H.charCodeAt(U++):0,U<X?H.charCodeAt(U++):0),z=(3&j)<<4|Q>>4,L=1<le?(15&Q)<<2|W>>6:64,P=2<le?63&W:64,G.push(F.charAt(j>>2)+F.charAt(z)+F.charAt(L)+F.charAt(P));return G.join("")},l.decode=function(H){var j,Q,W,q,z,L,P=0,G=0,U="data:";if(H.substr(0,U.length)===U)throw new Error("Invalid base64 input, it looks like a data url.");var X,le=3*(H=H.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(H.charAt(H.length-1)===F.charAt(64)&&le--,H.charAt(H.length-2)===F.charAt(64)&&le--,le%1!=0)throw new Error("Invalid base64 input, bad content length.");for(X=M.uint8array?new Uint8Array(0|le):new Array(0|le);P<H.length;)j=F.indexOf(H.charAt(P++))<<2|(q=F.indexOf(H.charAt(P++)))>>4,Q=(15&q)<<4|(z=F.indexOf(H.charAt(P++)))>>2,W=(3&z)<<6|(L=F.indexOf(H.charAt(P++))),X[G++]=j,64!==z&&(X[G++]=Q),64!==L&&(X[G++]=W);return X}},{"./support":30,"./utils":32}],2:[function(ee,B,l){"use strict";var V=ee("./external"),M=ee("./stream/DataWorker"),F=ee("./stream/Crc32Probe"),H=ee("./stream/DataLengthProbe");function j(Q,W,q,z,L){this.compressedSize=Q,this.uncompressedSize=W,this.crc32=q,this.compression=z,this.compressedContent=L}j.prototype={getContentWorker:function(){var Q=new M(V.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new H("data_length")),W=this;return Q.on("end",function(){if(this.streamInfo.data_length!==W.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),Q},getCompressedWorker:function(){return new M(V.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},j.createWorkerFrom=function(Q,W,q){return Q.pipe(new F).pipe(new H("uncompressedSize")).pipe(W.compressWorker(q)).pipe(new H("compressedSize")).withStreamInfo("compression",W)},B.exports=j},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(ee,B,l){"use strict";var V=ee("./stream/GenericWorker");l.STORE={magic:"\0\0",compressWorker:function(){return new V("STORE compression")},uncompressWorker:function(){return new V("STORE decompression")}},l.DEFLATE=ee("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(ee,B,l){"use strict";var V=ee("./utils"),M=function(){for(var F,H=[],j=0;j<256;j++){F=j;for(var Q=0;Q<8;Q++)F=1&F?3988292384^F>>>1:F>>>1;H[j]=F}return H}();B.exports=function(F,H){return void 0!==F&&F.length?"string"!==V.getTypeOf(F)?function(j,Q,W,q){var z=M,L=0+W;j^=-1;for(var P=0;P<L;P++)j=j>>>8^z[255&(j^Q[P])];return-1^j}(0|H,F,F.length):function(j,Q,W,q){var z=M,L=0+W;j^=-1;for(var P=0;P<L;P++)j=j>>>8^z[255&(j^Q.charCodeAt(P))];return-1^j}(0|H,F,F.length):0}},{"./utils":32}],5:[function(ee,B,l){"use strict";l.base64=!1,l.binary=!1,l.dir=!1,l.createFolders=!0,l.date=null,l.compression=null,l.compressionOptions=null,l.comment=null,l.unixPermissions=null,l.dosPermissions=null},{}],6:[function(ee,B,l){"use strict";var V;V=typeof Promise<"u"?Promise:ee("lie"),B.exports={Promise:V}},{lie:37}],7:[function(ee,B,l){"use strict";var V=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",M=ee("pako"),F=ee("./utils"),H=ee("./stream/GenericWorker"),j=V?"uint8array":"array";function Q(W,q){H.call(this,"FlateWorker/"+W),this._pako=null,this._pakoAction=W,this._pakoOptions=q,this.meta={}}l.magic="\b\0",F.inherits(Q,H),Q.prototype.processChunk=function(W){this.meta=W.meta,null===this._pako&&this._createPako(),this._pako.push(F.transformTo(j,W.data),!1)},Q.prototype.flush=function(){H.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},Q.prototype.cleanUp=function(){H.prototype.cleanUp.call(this),this._pako=null},Q.prototype._createPako=function(){this._pako=new M[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var W=this;this._pako.onData=function(q){W.push({data:q,meta:W.meta})}},l.compressWorker=function(W){return new Q("Deflate",W)},l.uncompressWorker=function(){return new Q("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(ee,B,l){"use strict";function V(z,L){var P,G="";for(P=0;P<L;P++)G+=String.fromCharCode(255&z),z>>>=8;return G}function M(z,L,P,G,U,X){var le,ie,ae=z.file,ye=z.compression,ve=X!==j.utf8encode,Te=F.transformTo("string",X(ae.name)),de=F.transformTo("string",j.utf8encode(ae.name)),we=ae.comment,Ge=F.transformTo("string",X(we)),J=F.transformTo("string",j.utf8encode(we)),Me=de.length!==ae.name.length,I=J.length!==we.length,Re="",et="",qe="",it=ae.dir,lt=ae.date,Ht={crc32:0,compressedSize:0,uncompressedSize:0};L&&!P||(Ht.crc32=z.crc32,Ht.compressedSize=z.compressedSize,Ht.uncompressedSize=z.uncompressedSize);var Be=0;L&&(Be|=8),ve||!Me&&!I||(Be|=2048);var pe,je,Le=0,Ce=0;it&&(Le|=16),"UNIX"===U?(Ce=798,Le|=(je=pe=ae.unixPermissions,pe||(je=it?16893:33204),(65535&je)<<16)):(Ce=20,Le|=function(pe){return 63&(pe||0)}(ae.dosPermissions)),le=lt.getUTCHours(),le<<=6,le|=lt.getUTCMinutes(),le<<=5,le|=lt.getUTCSeconds()/2,ie=lt.getUTCFullYear()-1980,ie<<=4,ie|=lt.getUTCMonth()+1,ie<<=5,ie|=lt.getUTCDate(),Me&&(et=V(1,1)+V(Q(Te),4)+de,Re+="up"+V(et.length,2)+et),I&&(qe=V(1,1)+V(Q(Ge),4)+J,Re+="uc"+V(qe.length,2)+qe);var _e="";return _e+="\n\0",_e+=V(Be,2),_e+=ye.magic,_e+=V(le,2),_e+=V(ie,2),_e+=V(Ht.crc32,4),_e+=V(Ht.compressedSize,4),_e+=V(Ht.uncompressedSize,4),_e+=V(Te.length,2),_e+=V(Re.length,2),{fileRecord:W.LOCAL_FILE_HEADER+_e+Te+Re,dirRecord:W.CENTRAL_FILE_HEADER+V(Ce,2)+_e+V(Ge.length,2)+"\0\0\0\0"+V(Le,4)+V(G,4)+Te+Re+Ge}}var F=ee("../utils"),H=ee("../stream/GenericWorker"),j=ee("../utf8"),Q=ee("../crc32"),W=ee("../signature");function q(z,L,P,G){H.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=L,this.zipPlatform=P,this.encodeFileName=G,this.streamFiles=z,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}F.inherits(q,H),q.prototype.push=function(z){var L=z.meta.percent||0,P=this.entriesCount,G=this._sources.length;this.accumulate?this.contentBuffer.push(z):(this.bytesWritten+=z.data.length,H.prototype.push.call(this,{data:z.data,meta:{currentFile:this.currentFile,percent:P?(L+100*(P-G-1))/P:100}}))},q.prototype.openedSource=function(z){this.currentSourceOffset=this.bytesWritten,this.currentFile=z.file.name;var L=this.streamFiles&&!z.file.dir;if(L){var P=M(z,L,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:P.fileRecord,meta:{percent:0}})}else this.accumulate=!0},q.prototype.closedSource=function(z){this.accumulate=!1;var G,L=this.streamFiles&&!z.file.dir,P=M(z,L,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(P.dirRecord),L)this.push({data:(G=z,W.DATA_DESCRIPTOR+V(G.crc32,4)+V(G.compressedSize,4)+V(G.uncompressedSize,4)),meta:{percent:100}});else for(this.push({data:P.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},q.prototype.flush=function(){for(var z=this.bytesWritten,L=0;L<this.dirRecords.length;L++)this.push({data:this.dirRecords[L],meta:{percent:100}});var U,X,le,ye,G=(U=this.dirRecords.length,X=this.bytesWritten-z,le=z,ye=F.transformTo("string",(0,this.encodeFileName)(this.zipComment)),W.CENTRAL_DIRECTORY_END+"\0\0\0\0"+V(U,2)+V(U,2)+V(X,4)+V(le,4)+V(ye.length,2)+ye);this.push({data:G,meta:{percent:100}})},q.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},q.prototype.registerPrevious=function(z){this._sources.push(z);var L=this;return z.on("data",function(P){L.processChunk(P)}),z.on("end",function(){L.closedSource(L.previous.streamInfo),L._sources.length?L.prepareNextSource():L.end()}),z.on("error",function(P){L.error(P)}),this},q.prototype.resume=function(){return!!H.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},q.prototype.error=function(z){var L=this._sources;if(!H.prototype.error.call(this,z))return!1;for(var P=0;P<L.length;P++)try{L[P].error(z)}catch{}return!0},q.prototype.lock=function(){H.prototype.lock.call(this);for(var z=this._sources,L=0;L<z.length;L++)z[L].lock()},B.exports=q},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(ee,B,l){"use strict";var V=ee("../compressions"),M=ee("./ZipFileWorker");l.generateWorker=function(F,H,j){var Q=new M(H.streamFiles,j,H.platform,H.encodeFileName),W=0;try{F.forEach(function(q,z){W++;var L=function(X,le){var ie=X||le,ae=V[ie];if(!ae)throw new Error(ie+" is not a valid compression method !");return ae}(z.options.compression,H.compression),G=z.dir,U=z.date;z._compressWorker(L,z.options.compressionOptions||H.compressionOptions||{}).withStreamInfo("file",{name:q,dir:G,date:U,comment:z.comment||"",unixPermissions:z.unixPermissions,dosPermissions:z.dosPermissions}).pipe(Q)}),Q.entriesCount=W}catch(q){Q.error(q)}return Q}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(ee,B,l){"use strict";function V(){if(!(this instanceof V))return new V;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var M=new V;for(var F in this)"function"!=typeof this[F]&&(M[F]=this[F]);return M}}(V.prototype=ee("./object")).loadAsync=ee("./load"),V.support=ee("./support"),V.defaults=ee("./defaults"),V.version="3.10.1",V.loadAsync=function(M,F){return(new V).loadAsync(M,F)},V.external=ee("./external"),B.exports=V},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(ee,B,l){"use strict";var V=ee("./utils"),M=ee("./external"),F=ee("./utf8"),H=ee("./zipEntries"),j=ee("./stream/Crc32Probe"),Q=ee("./nodejsUtils");function W(q){return new M.Promise(function(z,L){var P=q.decompressed.getContentWorker().pipe(new j);P.on("error",function(G){L(G)}).on("end",function(){P.streamInfo.crc32!==q.decompressed.crc32?L(new Error("Corrupted zip : CRC32 mismatch")):z()}).resume()})}B.exports=function(q,z){var L=this;return z=V.extend(z||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:F.utf8decode}),Q.isNode&&Q.isStream(q)?M.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):V.prepareContent("the loaded zip file",q,!0,z.optimizedBinaryString,z.base64).then(function(P){var G=new H(z);return G.load(P),G}).then(function(P){var G=[M.Promise.resolve(P)],U=P.files;if(z.checkCRC32)for(var X=0;X<U.length;X++)G.push(W(U[X]));return M.Promise.all(G)}).then(function(P){for(var G=P.shift(),U=G.files,X=0;X<U.length;X++){var le=U[X],ie=le.fileNameStr,ae=V.resolve(le.fileNameStr);L.file(ae,le.decompressed,{binary:!0,optimizedBinaryString:!0,date:le.date,dir:le.dir,comment:le.fileCommentStr.length?le.fileCommentStr:null,unixPermissions:le.unixPermissions,dosPermissions:le.dosPermissions,createFolders:z.createFolders}),le.dir||(L.file(ae).unsafeOriginalName=ie)}return G.zipComment.length&&(L.comment=G.zipComment),L})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(ee,B,l){"use strict";var V=ee("../utils"),M=ee("../stream/GenericWorker");function F(H,j){M.call(this,"Nodejs stream input adapter for "+H),this._upstreamEnded=!1,this._bindStream(j)}V.inherits(F,M),F.prototype._bindStream=function(H){var j=this;(this._stream=H).pause(),H.on("data",function(Q){j.push({data:Q,meta:{percent:0}})}).on("error",function(Q){j.isPaused?this.generatedError=Q:j.error(Q)}).on("end",function(){j.isPaused?j._upstreamEnded=!0:j.end()})},F.prototype.pause=function(){return!!M.prototype.pause.call(this)&&(this._stream.pause(),!0)},F.prototype.resume=function(){return!!M.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},B.exports=F},{"../stream/GenericWorker":28,"../utils":32}],13:[function(ee,B,l){"use strict";var V=ee("readable-stream").Readable;function M(F,H,j){V.call(this,H),this._helper=F;var Q=this;F.on("data",function(W,q){Q.push(W)||Q._helper.pause(),j&&j(q)}).on("error",function(W){Q.emit("error",W)}).on("end",function(){Q.push(null)})}ee("../utils").inherits(M,V),M.prototype._read=function(){this._helper.resume()},B.exports=M},{"../utils":32,"readable-stream":16}],14:[function(ee,B,l){"use strict";B.exports={isNode:typeof Buffer<"u",newBufferFrom:function(V,M){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(V,M);if("number"==typeof V)throw new Error('The "data" argument must not be a number');return new Buffer(V,M)},allocBuffer:function(V){if(Buffer.alloc)return Buffer.alloc(V);var M=new Buffer(V);return M.fill(0),M},isBuffer:function(V){return Buffer.isBuffer(V)},isStream:function(V){return V&&"function"==typeof V.on&&"function"==typeof V.pause&&"function"==typeof V.resume}}},{}],15:[function(ee,B,l){"use strict";function V(ae,ye,ve){var Te,de=F.getTypeOf(ye),we=F.extend(ve||{},Q);we.date=we.date||new Date,null!==we.compression&&(we.compression=we.compression.toUpperCase()),"string"==typeof we.unixPermissions&&(we.unixPermissions=parseInt(we.unixPermissions,8)),we.unixPermissions&&16384&we.unixPermissions&&(we.dir=!0),we.dosPermissions&&16&we.dosPermissions&&(we.dir=!0),we.dir&&(ae=U(ae)),we.createFolders&&(Te=G(ae))&&X.call(this,Te,!0),ve&&void 0!==ve.binary||(we.binary=!("string"===de&&!1===we.binary&&!1===we.base64)),(ye instanceof W&&0===ye.uncompressedSize||we.dir||!ye||0===ye.length)&&(we.base64=!1,we.binary=!0,ye="",we.compression="STORE",de="string");var J;J=ye instanceof W||ye instanceof H?ye:L.isNode&&L.isStream(ye)?new P(ae,ye):F.prepareContent(ae,ye,we.binary,we.optimizedBinaryString,we.base64);var Me=new q(ae,J,we);this.files[ae]=Me}var M=ee("./utf8"),F=ee("./utils"),H=ee("./stream/GenericWorker"),j=ee("./stream/StreamHelper"),Q=ee("./defaults"),W=ee("./compressedObject"),q=ee("./zipObject"),z=ee("./generate"),L=ee("./nodejsUtils"),P=ee("./nodejs/NodejsStreamInputAdapter"),G=function(ae){"/"===ae.slice(-1)&&(ae=ae.substring(0,ae.length-1));var ye=ae.lastIndexOf("/");return 0<ye?ae.substring(0,ye):""},U=function(ae){return"/"!==ae.slice(-1)&&(ae+="/"),ae},X=function(ae,ye){return ye=void 0!==ye?ye:Q.createFolders,ae=U(ae),this.files[ae]||V.call(this,ae,null,{dir:!0,createFolders:ye}),this.files[ae]};function le(ae){return"[object RegExp]"===Object.prototype.toString.call(ae)}var ie={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(ae){var ye,ve,Te;for(ye in this.files)Te=this.files[ye],(ve=ye.slice(this.root.length,ye.length))&&ye.slice(0,this.root.length)===this.root&&ae(ve,Te)},filter:function(ae){var ye=[];return this.forEach(function(ve,Te){ae(ve,Te)&&ye.push(Te)}),ye},file:function(ae,ye,ve){if(1!==arguments.length)return V.call(this,ae=this.root+ae,ye,ve),this;if(le(ae)){var Te=ae;return this.filter(function(we,Ge){return!Ge.dir&&Te.test(we)})}var de=this.files[this.root+ae];return de&&!de.dir?de:null},folder:function(ae){if(!ae)return this;if(le(ae))return this.filter(function(de,we){return we.dir&&ae.test(de)});var ve=X.call(this,this.root+ae),Te=this.clone();return Te.root=ve.name,Te},remove:function(ae){var ye=this.files[ae=this.root+ae];if(ye||("/"!==ae.slice(-1)&&(ae+="/"),ye=this.files[ae]),ye&&!ye.dir)delete this.files[ae];else for(var ve=this.filter(function(de,we){return we.name.slice(0,ae.length)===ae}),Te=0;Te<ve.length;Te++)delete this.files[ve[Te].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(ae){var ye,ve={};try{if((ve=F.extend(ae||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:M.utf8encode})).type=ve.type.toLowerCase(),ve.compression=ve.compression.toUpperCase(),"binarystring"===ve.type&&(ve.type="string"),!ve.type)throw new Error("No output type specified.");F.checkSupport(ve.type),"darwin"!==ve.platform&&"freebsd"!==ve.platform&&"linux"!==ve.platform&&"sunos"!==ve.platform||(ve.platform="UNIX"),"win32"===ve.platform&&(ve.platform="DOS"),ye=z.generateWorker(this,ve,ve.comment||this.comment||"")}catch(de){(ye=new H("error")).error(de)}return new j(ye,ve.type||"string",ve.mimeType)},generateAsync:function(ae,ye){return this.generateInternalStream(ae).accumulate(ye)},generateNodeStream:function(ae,ye){return(ae=ae||{}).type||(ae.type="nodebuffer"),this.generateInternalStream(ae).toNodejsStream(ye)}};B.exports=ie},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(ee,B,l){"use strict";B.exports=ee("stream")},{stream:void 0}],17:[function(ee,B,l){"use strict";var V=ee("./DataReader");function M(F){V.call(this,F);for(var H=0;H<this.data.length;H++)F[H]=255&F[H]}ee("../utils").inherits(M,V),M.prototype.byteAt=function(F){return this.data[this.zero+F]},M.prototype.lastIndexOfSignature=function(F){for(var H=F.charCodeAt(0),j=F.charCodeAt(1),Q=F.charCodeAt(2),W=F.charCodeAt(3),q=this.length-4;0<=q;--q)if(this.data[q]===H&&this.data[q+1]===j&&this.data[q+2]===Q&&this.data[q+3]===W)return q-this.zero;return-1},M.prototype.readAndCheckSignature=function(F){var H=F.charCodeAt(0),j=F.charCodeAt(1),Q=F.charCodeAt(2),W=F.charCodeAt(3),q=this.readData(4);return H===q[0]&&j===q[1]&&Q===q[2]&&W===q[3]},M.prototype.readData=function(F){if(this.checkOffset(F),0===F)return[];var H=this.data.slice(this.zero+this.index,this.zero+this.index+F);return this.index+=F,H},B.exports=M},{"../utils":32,"./DataReader":18}],18:[function(ee,B,l){"use strict";var V=ee("../utils");function M(F){this.data=F,this.length=F.length,this.index=0,this.zero=0}M.prototype={checkOffset:function(F){this.checkIndex(this.index+F)},checkIndex:function(F){if(this.length<this.zero+F||F<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+F+"). Corrupted zip ?")},setIndex:function(F){this.checkIndex(F),this.index=F},skip:function(F){this.setIndex(this.index+F)},byteAt:function(){},readInt:function(F){var H,j=0;for(this.checkOffset(F),H=this.index+F-1;H>=this.index;H--)j=(j<<8)+this.byteAt(H);return this.index+=F,j},readString:function(F){return V.transformTo("string",this.readData(F))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var F=this.readInt(4);return new Date(Date.UTC(1980+(F>>25&127),(F>>21&15)-1,F>>16&31,F>>11&31,F>>5&63,(31&F)<<1))}},B.exports=M},{"../utils":32}],19:[function(ee,B,l){"use strict";var V=ee("./Uint8ArrayReader");function M(F){V.call(this,F)}ee("../utils").inherits(M,V),M.prototype.readData=function(F){this.checkOffset(F);var H=this.data.slice(this.zero+this.index,this.zero+this.index+F);return this.index+=F,H},B.exports=M},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(ee,B,l){"use strict";var V=ee("./DataReader");function M(F){V.call(this,F)}ee("../utils").inherits(M,V),M.prototype.byteAt=function(F){return this.data.charCodeAt(this.zero+F)},M.prototype.lastIndexOfSignature=function(F){return this.data.lastIndexOf(F)-this.zero},M.prototype.readAndCheckSignature=function(F){return F===this.readData(4)},M.prototype.readData=function(F){this.checkOffset(F);var H=this.data.slice(this.zero+this.index,this.zero+this.index+F);return this.index+=F,H},B.exports=M},{"../utils":32,"./DataReader":18}],21:[function(ee,B,l){"use strict";var V=ee("./ArrayReader");function M(F){V.call(this,F)}ee("../utils").inherits(M,V),M.prototype.readData=function(F){if(this.checkOffset(F),0===F)return new Uint8Array(0);var H=this.data.subarray(this.zero+this.index,this.zero+this.index+F);return this.index+=F,H},B.exports=M},{"../utils":32,"./ArrayReader":17}],22:[function(ee,B,l){"use strict";var V=ee("../utils"),M=ee("../support"),F=ee("./ArrayReader"),H=ee("./StringReader"),j=ee("./NodeBufferReader"),Q=ee("./Uint8ArrayReader");B.exports=function(W){var q=V.getTypeOf(W);return V.checkSupport(q),"string"!==q||M.uint8array?"nodebuffer"===q?new j(W):M.uint8array?new Q(V.transformTo("uint8array",W)):new F(V.transformTo("array",W)):new H(W)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(ee,B,l){"use strict";l.LOCAL_FILE_HEADER="PK\x03\x04",l.CENTRAL_FILE_HEADER="PK\x01\x02",l.CENTRAL_DIRECTORY_END="PK\x05\x06",l.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",l.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",l.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(ee,B,l){"use strict";var V=ee("./GenericWorker"),M=ee("../utils");function F(H){V.call(this,"ConvertWorker to "+H),this.destType=H}M.inherits(F,V),F.prototype.processChunk=function(H){this.push({data:M.transformTo(this.destType,H.data),meta:H.meta})},B.exports=F},{"../utils":32,"./GenericWorker":28}],25:[function(ee,B,l){"use strict";var V=ee("./GenericWorker"),M=ee("../crc32");function F(){V.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}ee("../utils").inherits(F,V),F.prototype.processChunk=function(H){this.streamInfo.crc32=M(H.data,this.streamInfo.crc32||0),this.push(H)},B.exports=F},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(ee,B,l){"use strict";var V=ee("../utils"),M=ee("./GenericWorker");function F(H){M.call(this,"DataLengthProbe for "+H),this.propName=H,this.withStreamInfo(H,0)}V.inherits(F,M),F.prototype.processChunk=function(H){H&&(this.streamInfo[this.propName]=(this.streamInfo[this.propName]||0)+H.data.length),M.prototype.processChunk.call(this,H)},B.exports=F},{"../utils":32,"./GenericWorker":28}],27:[function(ee,B,l){"use strict";var V=ee("../utils"),M=ee("./GenericWorker");function F(H){M.call(this,"DataWorker");var j=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,H.then(function(Q){j.dataIsReady=!0,j.data=Q,j.max=Q&&Q.length||0,j.type=V.getTypeOf(Q),j.isPaused||j._tickAndRepeat()},function(Q){j.error(Q)})}V.inherits(F,M),F.prototype.cleanUp=function(){M.prototype.cleanUp.call(this),this.data=null},F.prototype.resume=function(){return!!M.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,V.delay(this._tickAndRepeat,[],this)),!0)},F.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(V.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},F.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var H=null,j=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":H=this.data.substring(this.index,j);break;case"uint8array":H=this.data.subarray(this.index,j);break;case"array":case"nodebuffer":H=this.data.slice(this.index,j)}return this.index=j,this.push({data:H,meta:{percent:this.max?this.index/this.max*100:0}})},B.exports=F},{"../utils":32,"./GenericWorker":28}],28:[function(ee,B,l){"use strict";function V(M){this.name=M||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}V.prototype={push:function(M){this.emit("data",M)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(M){this.emit("error",M)}return!0},error:function(M){return!this.isFinished&&(this.isPaused?this.generatedError=M:(this.isFinished=!0,this.emit("error",M),this.previous&&this.previous.error(M),this.cleanUp()),!0)},on:function(M,F){return this._listeners[M].push(F),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(M,F){if(this._listeners[M])for(var H=0;H<this._listeners[M].length;H++)this._listeners[M][H].call(this,F)},pipe:function(M){return M.registerPrevious(this)},registerPrevious:function(M){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=M.streamInfo,this.mergeStreamInfo(),this.previous=M;var F=this;return M.on("data",function(H){F.processChunk(H)}),M.on("end",function(){F.end()}),M.on("error",function(H){F.error(H)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var M=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),M=!0),this.previous&&this.previous.resume(),!M},flush:function(){},processChunk:function(M){this.push(M)},withStreamInfo:function(M,F){return this.extraStreamInfo[M]=F,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var M in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,M)&&(this.streamInfo[M]=this.extraStreamInfo[M])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var M="Worker "+this.name;return this.previous?this.previous+" -> "+M:M}},B.exports=V},{}],29:[function(ee,B,l){"use strict";var V=ee("../utils"),M=ee("./ConvertWorker"),F=ee("./GenericWorker"),H=ee("../base64"),j=ee("../support"),Q=ee("../external"),W=null;if(j.nodestream)try{W=ee("../nodejs/NodejsStreamOutputAdapter")}catch{}function z(L,P,G){var U=P;switch(P){case"blob":case"arraybuffer":U="uint8array";break;case"base64":U="string"}try{this._internalType=U,this._outputType=P,this._mimeType=G,V.checkSupport(U),this._worker=L.pipe(new M(U)),L.lock()}catch(X){this._worker=new F("error"),this._worker.error(X)}}z.prototype={accumulate:function(L){return function q(L,P){return new Q.Promise(function(G,U){var X=[],le=L._internalType,ie=L._outputType,ae=L._mimeType;L.on("data",function(ye,ve){X.push(ye),P&&P(ve)}).on("error",function(ye){X=[],U(ye)}).on("end",function(){try{var ye=function(ve,Te,de){switch(ve){case"blob":return V.newBlob(V.transformTo("arraybuffer",Te),de);case"base64":return H.encode(Te);default:return V.transformTo(ve,Te)}}(ie,function(ve,Te){var de,we=0,Ge=null,J=0;for(de=0;de<Te.length;de++)J+=Te[de].length;switch(ve){case"string":return Te.join("");case"array":return Array.prototype.concat.apply([],Te);case"uint8array":for(Ge=new Uint8Array(J),de=0;de<Te.length;de++)Ge.set(Te[de],we),we+=Te[de].length;return Ge;case"nodebuffer":return Buffer.concat(Te);default:throw new Error("concat : unsupported type '"+ve+"'")}}(le,X),ae);G(ye)}catch(ve){U(ve)}X=[]}).resume()})}(this,L)},on:function(L,P){var G=this;return this._worker.on(L,"data"===L?function(U){P.call(G,U.data,U.meta)}:function(){V.delay(P,arguments,G)}),this},resume:function(){return V.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(L){if(V.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new W(this,{objectMode:"nodebuffer"!==this._outputType},L)}},B.exports=z},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(ee,B,l){"use strict";if(l.base64=!0,l.array=!0,l.string=!0,l.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",l.nodebuffer=typeof Buffer<"u",l.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")l.blob=!1;else{var V=new ArrayBuffer(0);try{l.blob=0===new Blob([V],{type:"application/zip"}).size}catch{try{var M=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);M.append(V),l.blob=0===M.getBlob("application/zip").size}catch{l.blob=!1}}}try{l.nodestream=!!ee("readable-stream").Readable}catch{l.nodestream=!1}},{"readable-stream":16}],31:[function(ee,B,l){"use strict";for(var V=ee("./utils"),M=ee("./support"),F=ee("./nodejsUtils"),H=ee("./stream/GenericWorker"),j=new Array(256),Q=0;Q<256;Q++)j[Q]=252<=Q?6:248<=Q?5:240<=Q?4:224<=Q?3:192<=Q?2:1;function W(){H.call(this,"utf-8 decode"),this.leftOver=null}function q(){H.call(this,"utf-8 encode")}j[254]=j[254]=1,l.utf8encode=function(z){return M.nodebuffer?F.newBufferFrom(z,"utf-8"):function(L){var P,G,U,X,le,ie=L.length,ae=0;for(X=0;X<ie;X++)55296==(64512&(G=L.charCodeAt(X)))&&X+1<ie&&56320==(64512&(U=L.charCodeAt(X+1)))&&(G=65536+(G-55296<<10)+(U-56320),X++),ae+=G<128?1:G<2048?2:G<65536?3:4;for(P=M.uint8array?new Uint8Array(ae):new Array(ae),X=le=0;le<ae;X++)55296==(64512&(G=L.charCodeAt(X)))&&X+1<ie&&56320==(64512&(U=L.charCodeAt(X+1)))&&(G=65536+(G-55296<<10)+(U-56320),X++),G<128?P[le++]=G:(G<2048?P[le++]=192|G>>>6:(G<65536?P[le++]=224|G>>>12:(P[le++]=240|G>>>18,P[le++]=128|G>>>12&63),P[le++]=128|G>>>6&63),P[le++]=128|63&G);return P}(z)},l.utf8decode=function(z){return M.nodebuffer?V.transformTo("nodebuffer",z).toString("utf-8"):function(L){var P,G,U,X,le=L.length,ie=new Array(2*le);for(P=G=0;P<le;)if((U=L[P++])<128)ie[G++]=U;else if(4<(X=j[U]))ie[G++]=65533,P+=X-1;else{for(U&=2===X?31:3===X?15:7;1<X&&P<le;)U=U<<6|63&L[P++],X--;1<X?ie[G++]=65533:U<65536?ie[G++]=U:(ie[G++]=55296|(U-=65536)>>10&1023,ie[G++]=56320|1023&U)}return ie.length!==G&&(ie.subarray?ie=ie.subarray(0,G):ie.length=G),V.applyFromCharCode(ie)}(z=V.transformTo(M.uint8array?"uint8array":"array",z))},V.inherits(W,H),W.prototype.processChunk=function(z){var L=V.transformTo(M.uint8array?"uint8array":"array",z.data);if(this.leftOver&&this.leftOver.length){if(M.uint8array){var P=L;(L=new Uint8Array(P.length+this.leftOver.length)).set(this.leftOver,0),L.set(P,this.leftOver.length)}else L=this.leftOver.concat(L);this.leftOver=null}var G=function(X,le){var ie;for((le=le||X.length)>X.length&&(le=X.length),ie=le-1;0<=ie&&128==(192&X[ie]);)ie--;return ie<0||0===ie?le:ie+j[X[ie]]>le?ie:le}(L),U=L;G!==L.length&&(M.uint8array?(U=L.subarray(0,G),this.leftOver=L.subarray(G,L.length)):(U=L.slice(0,G),this.leftOver=L.slice(G,L.length))),this.push({data:l.utf8decode(U),meta:z.meta})},W.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:l.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},l.Utf8DecodeWorker=W,V.inherits(q,H),q.prototype.processChunk=function(z){this.push({data:l.utf8encode(z.data),meta:z.meta})},l.Utf8EncodeWorker=q},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(ee,B,l){"use strict";var V=ee("./support"),M=ee("./base64"),F=ee("./nodejsUtils"),H=ee("./external");function j(P){return P}function Q(P,G){for(var U=0;U<P.length;++U)G[U]=255&P.charCodeAt(U);return G}ee("setimmediate"),l.newBlob=function(P,G){l.checkSupport("blob");try{return new Blob([P],{type:G})}catch{try{var U=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return U.append(P),U.getBlob(G)}catch{throw new Error("Bug : can't construct the Blob.")}}};var W={stringifyByChunk:function(P,G,U){var X=[],le=0,ie=P.length;if(ie<=U)return String.fromCharCode.apply(null,P);for(;le<ie;)X.push(String.fromCharCode.apply(null,"array"===G||"nodebuffer"===G?P.slice(le,Math.min(le+U,ie)):P.subarray(le,Math.min(le+U,ie)))),le+=U;return X.join("")},stringifyByChar:function(P){for(var G="",U=0;U<P.length;U++)G+=String.fromCharCode(P[U]);return G},applyCanBeUsed:{uint8array:function(){try{return V.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch{return!1}}(),nodebuffer:function(){try{return V.nodebuffer&&1===String.fromCharCode.apply(null,F.allocBuffer(1)).length}catch{return!1}}()}};function q(P){var G=65536,U=l.getTypeOf(P),X=!0;if("uint8array"===U?X=W.applyCanBeUsed.uint8array:"nodebuffer"===U&&(X=W.applyCanBeUsed.nodebuffer),X)for(;1<G;)try{return W.stringifyByChunk(P,U,G)}catch{G=Math.floor(G/2)}return W.stringifyByChar(P)}function z(P,G){for(var U=0;U<P.length;U++)G[U]=P[U];return G}l.applyFromCharCode=q;var L={};L.string={string:j,array:function(P){return Q(P,new Array(P.length))},arraybuffer:function(P){return L.string.uint8array(P).buffer},uint8array:function(P){return Q(P,new Uint8Array(P.length))},nodebuffer:function(P){return Q(P,F.allocBuffer(P.length))}},L.array={string:q,array:j,arraybuffer:function(P){return new Uint8Array(P).buffer},uint8array:function(P){return new Uint8Array(P)},nodebuffer:function(P){return F.newBufferFrom(P)}},L.arraybuffer={string:function(P){return q(new Uint8Array(P))},array:function(P){return z(new Uint8Array(P),new Array(P.byteLength))},arraybuffer:j,uint8array:function(P){return new Uint8Array(P)},nodebuffer:function(P){return F.newBufferFrom(new Uint8Array(P))}},L.uint8array={string:q,array:function(P){return z(P,new Array(P.length))},arraybuffer:function(P){return P.buffer},uint8array:j,nodebuffer:function(P){return F.newBufferFrom(P)}},L.nodebuffer={string:q,array:function(P){return z(P,new Array(P.length))},arraybuffer:function(P){return L.nodebuffer.uint8array(P).buffer},uint8array:function(P){return z(P,new Uint8Array(P.length))},nodebuffer:j},l.transformTo=function(P,G){if(G=G||"",!P)return G;l.checkSupport(P);var U=l.getTypeOf(G);return L[U][P](G)},l.resolve=function(P){for(var G=P.split("/"),U=[],X=0;X<G.length;X++){var le=G[X];"."===le||""===le&&0!==X&&X!==G.length-1||(".."===le?U.pop():U.push(le))}return U.join("/")},l.getTypeOf=function(P){return"string"==typeof P?"string":"[object Array]"===Object.prototype.toString.call(P)?"array":V.nodebuffer&&F.isBuffer(P)?"nodebuffer":V.uint8array&&P instanceof Uint8Array?"uint8array":V.arraybuffer&&P instanceof ArrayBuffer?"arraybuffer":void 0},l.checkSupport=function(P){if(!V[P.toLowerCase()])throw new Error(P+" is not supported by this platform")},l.MAX_VALUE_16BITS=65535,l.MAX_VALUE_32BITS=-1,l.pretty=function(P){var G,U,X="";for(U=0;U<(P||"").length;U++)X+="\\x"+((G=P.charCodeAt(U))<16?"0":"")+G.toString(16).toUpperCase();return X},l.delay=function(P,G,U){setImmediate(function(){P.apply(U||null,G||[])})},l.inherits=function(P,G){function U(){}U.prototype=G.prototype,P.prototype=new U},l.extend=function(){var P,G,U={};for(P=0;P<arguments.length;P++)for(G in arguments[P])Object.prototype.hasOwnProperty.call(arguments[P],G)&&void 0===U[G]&&(U[G]=arguments[P][G]);return U},l.prepareContent=function(P,G,U,X,le){return H.Promise.resolve(G).then(function(ie){return V.blob&&(ie instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(ie)))&&typeof FileReader<"u"?new H.Promise(function(ae,ye){var ve=new FileReader;ve.onload=function(Te){ae(Te.target.result)},ve.onerror=function(Te){ye(Te.target.error)},ve.readAsArrayBuffer(ie)}):ie}).then(function(ie){var ye,ae=l.getTypeOf(ie);return ae?("arraybuffer"===ae?ie=l.transformTo("uint8array",ie):"string"===ae&&(le?ie=M.decode(ie):U&&!0!==X&&(ie=Q(ye=ie,V.uint8array?new Uint8Array(ye.length):new Array(ye.length)))),ie):H.Promise.reject(new Error("Can't read the data of '"+P+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(ee,B,l){"use strict";var V=ee("./reader/readerFor"),M=ee("./utils"),F=ee("./signature"),H=ee("./zipEntry"),j=ee("./support");function Q(W){this.files=[],this.loadOptions=W}Q.prototype={checkSignature:function(W){if(!this.reader.readAndCheckSignature(W)){this.reader.index-=4;var q=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+M.pretty(q)+", expected "+M.pretty(W)+")")}},isSignature:function(W,q){var z=this.reader.index;this.reader.setIndex(W);var L=this.reader.readString(4)===q;return this.reader.setIndex(z),L},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var W=this.reader.readData(this.zipCommentLength),z=M.transformTo(j.uint8array?"uint8array":"array",W);this.zipComment=this.loadOptions.decodeFileName(z)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var W,q,z,L=this.zip64EndOfCentralSize-44;0<L;)W=this.reader.readInt(2),q=this.reader.readInt(4),z=this.reader.readData(q),this.zip64ExtensibleData[W]={id:W,length:q,value:z}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var W,q;for(W=0;W<this.files.length;W++)this.reader.setIndex((q=this.files[W]).localHeaderOffset),this.checkSignature(F.LOCAL_FILE_HEADER),q.readLocalPart(this.reader),q.handleUTF8(),q.processAttributes()},readCentralDir:function(){var W;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(F.CENTRAL_FILE_HEADER);)(W=new H({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(W);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var W=this.reader.lastIndexOfSignature(F.CENTRAL_DIRECTORY_END);if(W<0)throw this.isSignature(0,F.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(W);var q=W;if(this.checkSignature(F.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===M.MAX_VALUE_16BITS||this.diskWithCentralDirStart===M.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===M.MAX_VALUE_16BITS||this.centralDirRecords===M.MAX_VALUE_16BITS||this.centralDirSize===M.MAX_VALUE_32BITS||this.centralDirOffset===M.MAX_VALUE_32BITS){if(this.zip64=!0,(W=this.reader.lastIndexOfSignature(F.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(W),this.checkSignature(F.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,F.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(F.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(F.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var z=this.centralDirOffset+this.centralDirSize;this.zip64&&(z+=20,z+=12+this.zip64EndOfCentralSize);var L=q-z;if(0<L)this.isSignature(q,F.CENTRAL_FILE_HEADER)||(this.reader.zero=L);else if(L<0)throw new Error("Corrupted zip: missing "+Math.abs(L)+" bytes.")},prepareReader:function(W){this.reader=V(W)},load:function(W){this.prepareReader(W),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},B.exports=Q},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(ee,B,l){"use strict";var V=ee("./reader/readerFor"),M=ee("./utils"),F=ee("./compressedObject"),H=ee("./crc32"),j=ee("./utf8"),Q=ee("./compressions"),W=ee("./support");function q(z,L){this.options=z,this.loadOptions=L}q.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(z){var L,P;if(z.skip(22),this.fileNameLength=z.readInt(2),P=z.readInt(2),this.fileName=z.readData(this.fileNameLength),z.skip(P),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(L=function(G){for(var U in Q)if(Object.prototype.hasOwnProperty.call(Q,U)&&Q[U].magic===G)return Q[U];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+M.pretty(this.compressionMethod)+" unknown (inner file : "+M.transformTo("string",this.fileName)+")");this.decompressed=new F(this.compressedSize,this.uncompressedSize,this.crc32,L,z.readData(this.compressedSize))},readCentralPart:function(z){this.versionMadeBy=z.readInt(2),z.skip(2),this.bitFlag=z.readInt(2),this.compressionMethod=z.readString(2),this.date=z.readDate(),this.crc32=z.readInt(4),this.compressedSize=z.readInt(4),this.uncompressedSize=z.readInt(4);var L=z.readInt(2);if(this.extraFieldsLength=z.readInt(2),this.fileCommentLength=z.readInt(2),this.diskNumberStart=z.readInt(2),this.internalFileAttributes=z.readInt(2),this.externalFileAttributes=z.readInt(4),this.localHeaderOffset=z.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");z.skip(L),this.readExtraFields(z),this.parseZIP64ExtraField(z),this.fileComment=z.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var z=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==z&&(this.dosPermissions=63&this.externalFileAttributes),3==z&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var z=V(this.extraFields[1].value);this.uncompressedSize===M.MAX_VALUE_32BITS&&(this.uncompressedSize=z.readInt(8)),this.compressedSize===M.MAX_VALUE_32BITS&&(this.compressedSize=z.readInt(8)),this.localHeaderOffset===M.MAX_VALUE_32BITS&&(this.localHeaderOffset=z.readInt(8)),this.diskNumberStart===M.MAX_VALUE_32BITS&&(this.diskNumberStart=z.readInt(4))}},readExtraFields:function(z){var L,P,G,U=z.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});z.index+4<U;)L=z.readInt(2),P=z.readInt(2),G=z.readData(P),this.extraFields[L]={id:L,length:P,value:G};z.setIndex(U)},handleUTF8:function(){var z=W.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=j.utf8decode(this.fileName),this.fileCommentStr=j.utf8decode(this.fileComment);else{var L=this.findExtraFieldUnicodePath();if(null!==L)this.fileNameStr=L;else{var P=M.transformTo(z,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(P)}var G=this.findExtraFieldUnicodeComment();if(null!==G)this.fileCommentStr=G;else{var U=M.transformTo(z,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(U)}}},findExtraFieldUnicodePath:function(){var z=this.extraFields[28789];if(z){var L=V(z.value);return 1!==L.readInt(1)||H(this.fileName)!==L.readInt(4)?null:j.utf8decode(L.readData(z.length-5))}return null},findExtraFieldUnicodeComment:function(){var z=this.extraFields[25461];if(z){var L=V(z.value);return 1!==L.readInt(1)||H(this.fileComment)!==L.readInt(4)?null:j.utf8decode(L.readData(z.length-5))}return null}},B.exports=q},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(ee,B,l){"use strict";function V(L,P,G){this.name=L,this.dir=G.dir,this.date=G.date,this.comment=G.comment,this.unixPermissions=G.unixPermissions,this.dosPermissions=G.dosPermissions,this._data=P,this._dataBinary=G.binary,this.options={compression:G.compression,compressionOptions:G.compressionOptions}}var M=ee("./stream/StreamHelper"),F=ee("./stream/DataWorker"),H=ee("./utf8"),j=ee("./compressedObject"),Q=ee("./stream/GenericWorker");V.prototype={internalStream:function(L){var P=null,G="string";try{if(!L)throw new Error("No output type specified.");var U="string"===(G=L.toLowerCase())||"text"===G;"binarystring"!==G&&"text"!==G||(G="string"),P=this._decompressWorker();var X=!this._dataBinary;X&&!U&&(P=P.pipe(new H.Utf8EncodeWorker)),!X&&U&&(P=P.pipe(new H.Utf8DecodeWorker))}catch(le){(P=new Q("error")).error(le)}return new M(P,G,"")},async:function(L,P){return this.internalStream(L).accumulate(P)},nodeStream:function(L,P){return this.internalStream(L||"nodebuffer").toNodejsStream(P)},_compressWorker:function(L,P){if(this._data instanceof j&&this._data.compression.magic===L.magic)return this._data.getCompressedWorker();var G=this._decompressWorker();return this._dataBinary||(G=G.pipe(new H.Utf8EncodeWorker)),j.createWorkerFrom(G,L,P)},_decompressWorker:function(){return this._data instanceof j?this._data.getContentWorker():this._data instanceof Q?this._data:new F(this._data)}};for(var W=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],q=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},z=0;z<W.length;z++)V.prototype[W[z]]=q;B.exports=V},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(ee,B,l){(function(V){"use strict";var M,F,H=V.MutationObserver||V.WebKitMutationObserver;if(H){var j=0,Q=new H(L),W=V.document.createTextNode("");Q.observe(W,{characterData:!0}),M=function(){W.data=j=++j%2}}else if(V.setImmediate||void 0===V.MessageChannel)M="document"in V&&"onreadystatechange"in V.document.createElement("script")?function(){var P=V.document.createElement("script");P.onreadystatechange=function(){L(),P.onreadystatechange=null,P.parentNode.removeChild(P),P=null},V.document.documentElement.appendChild(P)}:function(){setTimeout(L,0)};else{var q=new V.MessageChannel;q.port1.onmessage=L,M=function(){q.port2.postMessage(0)}}var z=[];function L(){var P,G;F=!0;for(var U=z.length;U;){for(G=z,z=[],P=-1;++P<U;)G[P]();U=z.length}F=!1}B.exports=function(P){1!==z.push(P)||F||M()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(ee,B,l){"use strict";var V=ee("immediate");function M(){}var F={},H=["REJECTED"],j=["FULFILLED"],Q=["PENDING"];function W(U){if("function"!=typeof U)throw new TypeError("resolver must be a function");this.state=Q,this.queue=[],this.outcome=void 0,U!==M&&P(this,U)}function q(U,X,le){this.promise=U,"function"==typeof X&&(this.onFulfilled=X,this.callFulfilled=this.otherCallFulfilled),"function"==typeof le&&(this.onRejected=le,this.callRejected=this.otherCallRejected)}function z(U,X,le){V(function(){var ie;try{ie=X(le)}catch(ae){return F.reject(U,ae)}ie===U?F.reject(U,new TypeError("Cannot resolve promise with itself")):F.resolve(U,ie)})}function L(U){var X=U&&U.then;if(U&&("object"==typeof U||"function"==typeof U)&&"function"==typeof X)return function(){X.apply(U,arguments)}}function P(U,X){var le=!1;function ie(ve){le||(le=!0,F.reject(U,ve))}function ae(ve){le||(le=!0,F.resolve(U,ve))}var ye=G(function(){X(ae,ie)});"error"===ye.status&&ie(ye.value)}function G(U,X){var le={};try{le.value=U(X),le.status="success"}catch(ie){le.status="error",le.value=ie}return le}(B.exports=W).prototype.finally=function(U){if("function"!=typeof U)return this;var X=this.constructor;return this.then(function(le){return X.resolve(U()).then(function(){return le})},function(le){return X.resolve(U()).then(function(){throw le})})},W.prototype.catch=function(U){return this.then(null,U)},W.prototype.then=function(U,X){if("function"!=typeof U&&this.state===j||"function"!=typeof X&&this.state===H)return this;var le=new this.constructor(M);return this.state!==Q?z(le,this.state===j?U:X,this.outcome):this.queue.push(new q(le,U,X)),le},q.prototype.callFulfilled=function(U){F.resolve(this.promise,U)},q.prototype.otherCallFulfilled=function(U){z(this.promise,this.onFulfilled,U)},q.prototype.callRejected=function(U){F.reject(this.promise,U)},q.prototype.otherCallRejected=function(U){z(this.promise,this.onRejected,U)},F.resolve=function(U,X){var le=G(L,X);if("error"===le.status)return F.reject(U,le.value);var ie=le.value;if(ie)P(U,ie);else{U.state=j,U.outcome=X;for(var ae=-1,ye=U.queue.length;++ae<ye;)U.queue[ae].callFulfilled(X)}return U},F.reject=function(U,X){U.state=H,U.outcome=X;for(var le=-1,ie=U.queue.length;++le<ie;)U.queue[le].callRejected(X);return U},W.resolve=function(U){return U instanceof this?U:F.resolve(new this(M),U)},W.reject=function(U){var X=new this(M);return F.reject(X,U)},W.all=function(U){var X=this;if("[object Array]"!==Object.prototype.toString.call(U))return this.reject(new TypeError("must be an array"));var le=U.length,ie=!1;if(!le)return this.resolve([]);for(var ae=new Array(le),ye=0,ve=-1,Te=new this(M);++ve<le;)de(U[ve],ve);return Te;function de(we,Ge){X.resolve(we).then(function(J){ae[Ge]=J,++ye!==le||ie||(ie=!0,F.resolve(Te,ae))},function(J){ie||(ie=!0,F.reject(Te,J))})}},W.race=function(U){if("[object Array]"!==Object.prototype.toString.call(U))return this.reject(new TypeError("must be an array"));var le=U.length,ie=!1;if(!le)return this.resolve([]);for(var ae=-1,ye=new this(M);++ae<le;)this.resolve(U[ae]).then(function(Te){ie||(ie=!0,F.resolve(ye,Te))},function(Te){ie||(ie=!0,F.reject(ye,Te))});return ye}},{immediate:36}],38:[function(ee,B,l){"use strict";var V={};(0,ee("./lib/utils/common").assign)(V,ee("./lib/deflate"),ee("./lib/inflate"),ee("./lib/zlib/constants")),B.exports=V},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(ee,B,l){"use strict";var V=ee("./zlib/deflate"),M=ee("./utils/common"),F=ee("./utils/strings"),H=ee("./zlib/messages"),j=ee("./zlib/zstream"),Q=Object.prototype.toString,W=0,q=-1,z=0,L=8;function P(U){if(!(this instanceof P))return new P(U);this.options=M.assign({level:q,method:L,chunkSize:16384,windowBits:15,memLevel:8,strategy:z,to:""},U||{});var X=this.options;X.raw&&0<X.windowBits?X.windowBits=-X.windowBits:X.gzip&&0<X.windowBits&&X.windowBits<16&&(X.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new j,this.strm.avail_out=0;var le=V.deflateInit2(this.strm,X.level,X.method,X.windowBits,X.memLevel,X.strategy);if(le!==W)throw new Error(H[le]);if(X.header&&V.deflateSetHeader(this.strm,X.header),X.dictionary){var ie;if(ie="string"==typeof X.dictionary?F.string2buf(X.dictionary):"[object ArrayBuffer]"===Q.call(X.dictionary)?new Uint8Array(X.dictionary):X.dictionary,(le=V.deflateSetDictionary(this.strm,ie))!==W)throw new Error(H[le]);this._dict_set=!0}}function G(U,X){var le=new P(X);if(le.push(U,!0),le.err)throw le.msg||H[le.err];return le.result}P.prototype.push=function(U,X){var le,ie,ae=this.strm,ye=this.options.chunkSize;if(this.ended)return!1;ie=X===~~X?X:!0===X?4:0,ae.input="string"==typeof U?F.string2buf(U):"[object ArrayBuffer]"===Q.call(U)?new Uint8Array(U):U,ae.next_in=0,ae.avail_in=ae.input.length;do{if(0===ae.avail_out&&(ae.output=new M.Buf8(ye),ae.next_out=0,ae.avail_out=ye),1!==(le=V.deflate(ae,ie))&&le!==W)return this.onEnd(le),!(this.ended=!0);0!==ae.avail_out&&(0!==ae.avail_in||4!==ie&&2!==ie)||this.onData("string"===this.options.to?F.buf2binstring(M.shrinkBuf(ae.output,ae.next_out)):M.shrinkBuf(ae.output,ae.next_out))}while((0<ae.avail_in||0===ae.avail_out)&&1!==le);return 4===ie?(le=V.deflateEnd(this.strm),this.onEnd(le),this.ended=!0,le===W):2!==ie||(this.onEnd(W),!(ae.avail_out=0))},P.prototype.onData=function(U){this.chunks.push(U)},P.prototype.onEnd=function(U){U===W&&(this.result="string"===this.options.to?this.chunks.join(""):M.flattenChunks(this.chunks)),this.chunks=[],this.err=U,this.msg=this.strm.msg},l.Deflate=P,l.deflate=G,l.deflateRaw=function(U,X){return(X=X||{}).raw=!0,G(U,X)},l.gzip=function(U,X){return(X=X||{}).gzip=!0,G(U,X)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(ee,B,l){"use strict";var V=ee("./zlib/inflate"),M=ee("./utils/common"),F=ee("./utils/strings"),H=ee("./zlib/constants"),j=ee("./zlib/messages"),Q=ee("./zlib/zstream"),W=ee("./zlib/gzheader"),q=Object.prototype.toString;function z(P){if(!(this instanceof z))return new z(P);this.options=M.assign({chunkSize:16384,windowBits:0,to:""},P||{});var G=this.options;G.raw&&0<=G.windowBits&&G.windowBits<16&&(G.windowBits=-G.windowBits,0===G.windowBits&&(G.windowBits=-15)),!(0<=G.windowBits&&G.windowBits<16)||P&&P.windowBits||(G.windowBits+=32),15<G.windowBits&&G.windowBits<48&&!(15&G.windowBits)&&(G.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Q,this.strm.avail_out=0;var U=V.inflateInit2(this.strm,G.windowBits);if(U!==H.Z_OK)throw new Error(j[U]);this.header=new W,V.inflateGetHeader(this.strm,this.header)}function L(P,G){var U=new z(G);if(U.push(P,!0),U.err)throw U.msg||j[U.err];return U.result}z.prototype.push=function(P,G){var U,X,le,ie,ae,ye,ve=this.strm,Te=this.options.chunkSize,de=this.options.dictionary,we=!1;if(this.ended)return!1;X=G===~~G?G:!0===G?H.Z_FINISH:H.Z_NO_FLUSH,ve.input="string"==typeof P?F.binstring2buf(P):"[object ArrayBuffer]"===q.call(P)?new Uint8Array(P):P,ve.next_in=0,ve.avail_in=ve.input.length;do{if(0===ve.avail_out&&(ve.output=new M.Buf8(Te),ve.next_out=0,ve.avail_out=Te),(U=V.inflate(ve,H.Z_NO_FLUSH))===H.Z_NEED_DICT&&de&&(ye="string"==typeof de?F.string2buf(de):"[object ArrayBuffer]"===q.call(de)?new Uint8Array(de):de,U=V.inflateSetDictionary(this.strm,ye)),U===H.Z_BUF_ERROR&&!0===we&&(U=H.Z_OK,we=!1),U!==H.Z_STREAM_END&&U!==H.Z_OK)return this.onEnd(U),!(this.ended=!0);ve.next_out&&(0!==ve.avail_out&&U!==H.Z_STREAM_END&&(0!==ve.avail_in||X!==H.Z_FINISH&&X!==H.Z_SYNC_FLUSH)||("string"===this.options.to?(le=F.utf8border(ve.output,ve.next_out),ie=ve.next_out-le,ae=F.buf2string(ve.output,le),ve.next_out=ie,ve.avail_out=Te-ie,ie&&M.arraySet(ve.output,ve.output,le,ie,0),this.onData(ae)):this.onData(M.shrinkBuf(ve.output,ve.next_out)))),0===ve.avail_in&&0===ve.avail_out&&(we=!0)}while((0<ve.avail_in||0===ve.avail_out)&&U!==H.Z_STREAM_END);return U===H.Z_STREAM_END&&(X=H.Z_FINISH),X===H.Z_FINISH?(U=V.inflateEnd(this.strm),this.onEnd(U),this.ended=!0,U===H.Z_OK):X!==H.Z_SYNC_FLUSH||(this.onEnd(H.Z_OK),!(ve.avail_out=0))},z.prototype.onData=function(P){this.chunks.push(P)},z.prototype.onEnd=function(P){P===H.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):M.flattenChunks(this.chunks)),this.chunks=[],this.err=P,this.msg=this.strm.msg},l.Inflate=z,l.inflate=L,l.inflateRaw=function(P,G){return(G=G||{}).raw=!0,L(P,G)},l.ungzip=L},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(ee,B,l){"use strict";var V=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";l.assign=function(H){for(var j=Array.prototype.slice.call(arguments,1);j.length;){var Q=j.shift();if(Q){if("object"!=typeof Q)throw new TypeError(Q+"must be non-object");for(var W in Q)Q.hasOwnProperty(W)&&(H[W]=Q[W])}}return H},l.shrinkBuf=function(H,j){return H.length===j?H:H.subarray?H.subarray(0,j):(H.length=j,H)};var M={arraySet:function(H,j,Q,W,q){if(j.subarray&&H.subarray)H.set(j.subarray(Q,Q+W),q);else for(var z=0;z<W;z++)H[q+z]=j[Q+z]},flattenChunks:function(H){var j,Q,W,q,z,L;for(j=W=0,Q=H.length;j<Q;j++)W+=H[j].length;for(L=new Uint8Array(W),j=q=0,Q=H.length;j<Q;j++)L.set(z=H[j],q),q+=z.length;return L}},F={arraySet:function(H,j,Q,W,q){for(var z=0;z<W;z++)H[q+z]=j[Q+z]},flattenChunks:function(H){return[].concat.apply([],H)}};l.setTyped=function(H){H?(l.Buf8=Uint8Array,l.Buf16=Uint16Array,l.Buf32=Int32Array,l.assign(l,M)):(l.Buf8=Array,l.Buf16=Array,l.Buf32=Array,l.assign(l,F))},l.setTyped(V)},{}],42:[function(ee,B,l){"use strict";var V=ee("./common"),M=!0,F=!0;try{String.fromCharCode.apply(null,[0])}catch{M=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{F=!1}for(var H=new V.Buf8(256),j=0;j<256;j++)H[j]=252<=j?6:248<=j?5:240<=j?4:224<=j?3:192<=j?2:1;function Q(W,q){if(q<65537&&(W.subarray&&F||!W.subarray&&M))return String.fromCharCode.apply(null,V.shrinkBuf(W,q));for(var z="",L=0;L<q;L++)z+=String.fromCharCode(W[L]);return z}H[254]=H[254]=1,l.string2buf=function(W){var q,z,L,P,G,U=W.length,X=0;for(P=0;P<U;P++)55296==(64512&(z=W.charCodeAt(P)))&&P+1<U&&56320==(64512&(L=W.charCodeAt(P+1)))&&(z=65536+(z-55296<<10)+(L-56320),P++),X+=z<128?1:z<2048?2:z<65536?3:4;for(q=new V.Buf8(X),P=G=0;G<X;P++)55296==(64512&(z=W.charCodeAt(P)))&&P+1<U&&56320==(64512&(L=W.charCodeAt(P+1)))&&(z=65536+(z-55296<<10)+(L-56320),P++),z<128?q[G++]=z:(z<2048?q[G++]=192|z>>>6:(z<65536?q[G++]=224|z>>>12:(q[G++]=240|z>>>18,q[G++]=128|z>>>12&63),q[G++]=128|z>>>6&63),q[G++]=128|63&z);return q},l.buf2binstring=function(W){return Q(W,W.length)},l.binstring2buf=function(W){for(var q=new V.Buf8(W.length),z=0,L=q.length;z<L;z++)q[z]=W.charCodeAt(z);return q},l.buf2string=function(W,q){var z,L,P,G,U=q||W.length,X=new Array(2*U);for(z=L=0;z<U;)if((P=W[z++])<128)X[L++]=P;else if(4<(G=H[P]))X[L++]=65533,z+=G-1;else{for(P&=2===G?31:3===G?15:7;1<G&&z<U;)P=P<<6|63&W[z++],G--;1<G?X[L++]=65533:P<65536?X[L++]=P:(X[L++]=55296|(P-=65536)>>10&1023,X[L++]=56320|1023&P)}return Q(X,L)},l.utf8border=function(W,q){var z;for((q=q||W.length)>W.length&&(q=W.length),z=q-1;0<=z&&128==(192&W[z]);)z--;return z<0||0===z?q:z+H[W[z]]>q?z:q}},{"./common":41}],43:[function(ee,B,l){"use strict";B.exports=function(V,M,F,H){for(var j=65535&V|0,Q=V>>>16&65535|0,W=0;0!==F;){for(F-=W=2e3<F?2e3:F;Q=Q+(j=j+M[H++]|0)|0,--W;);j%=65521,Q%=65521}return j|Q<<16|0}},{}],44:[function(ee,B,l){"use strict";B.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(ee,B,l){"use strict";var V=function(){for(var M,F=[],H=0;H<256;H++){M=H;for(var j=0;j<8;j++)M=1&M?3988292384^M>>>1:M>>>1;F[H]=M}return F}();B.exports=function(M,F,H,j){var Q=V,W=j+H;M^=-1;for(var q=j;q<W;q++)M=M>>>8^Q[255&(M^F[q])];return-1^M}},{}],46:[function(ee,B,l){"use strict";var V,M=ee("../utils/common"),F=ee("./trees"),H=ee("./adler32"),j=ee("./crc32"),Q=ee("./messages"),W=0,q=4,z=0,L=-2,P=-1,G=4,U=2,X=8,le=9,ie=286,ae=30,ye=19,ve=2*ie+1,Te=15,de=3,we=258,Ge=we+de+1,J=42,Me=113,I=1,Re=2,et=3,qe=4;function it(N,Ke){return N.msg=Q[Ke],Ke}function lt(N){return(N<<1)-(4<N?9:0)}function Ht(N){for(var Ke=N.length;0<=--Ke;)N[Ke]=0}function Be(N){var Ke=N.state,ze=Ke.pending;ze>N.avail_out&&(ze=N.avail_out),0!==ze&&(M.arraySet(N.output,Ke.pending_buf,Ke.pending_out,ze,N.next_out),N.next_out+=ze,Ke.pending_out+=ze,N.total_out+=ze,N.avail_out-=ze,Ke.pending-=ze,0===Ke.pending&&(Ke.pending_out=0))}function Le(N,Ke){F._tr_flush_block(N,0<=N.block_start?N.block_start:-1,N.strstart-N.block_start,Ke),N.block_start=N.strstart,Be(N.strm)}function Ce(N,Ke){N.pending_buf[N.pending++]=Ke}function _e(N,Ke){N.pending_buf[N.pending++]=Ke>>>8&255,N.pending_buf[N.pending++]=255&Ke}function pe(N,Ke){var ze,se,re=N.max_chain_length,Ee=N.strstart,Je=N.prev_length,Xe=N.nice_match,ge=N.strstart>N.w_size-Ge?N.strstart-(N.w_size-Ge):0,st=N.window,xt=N.w_mask,ot=N.prev,Pt=N.strstart+we,Cn=st[Ee+Je-1],Ot=st[Ee+Je];N.prev_length>=N.good_match&&(re>>=2),Xe>N.lookahead&&(Xe=N.lookahead);do{if(st[(ze=Ke)+Je]===Ot&&st[ze+Je-1]===Cn&&st[ze]===st[Ee]&&st[++ze]===st[Ee+1]){Ee+=2,ze++;do{}while(st[++Ee]===st[++ze]&&st[++Ee]===st[++ze]&&st[++Ee]===st[++ze]&&st[++Ee]===st[++ze]&&st[++Ee]===st[++ze]&&st[++Ee]===st[++ze]&&st[++Ee]===st[++ze]&&st[++Ee]===st[++ze]&&Ee<Pt);if(se=we-(Pt-Ee),Ee=Pt-we,Je<se){if(N.match_start=Ke,Xe<=(Je=se))break;Cn=st[Ee+Je-1],Ot=st[Ee+Je]}}}while((Ke=ot[Ke&xt])>ge&&0!=--re);return Je<=N.lookahead?Je:N.lookahead}function ke(N){var Ke,ze,se,re,Ee,Je,Xe,ge,st,xt,ot=N.w_size;do{if(re=N.window_size-N.lookahead-N.strstart,N.strstart>=ot+(ot-Ge)){for(M.arraySet(N.window,N.window,ot,ot,0),N.match_start-=ot,N.strstart-=ot,N.block_start-=ot,Ke=ze=N.hash_size;se=N.head[--Ke],N.head[Ke]=ot<=se?se-ot:0,--ze;);for(Ke=ze=ot;se=N.prev[--Ke],N.prev[Ke]=ot<=se?se-ot:0,--ze;);re+=ot}if(0===N.strm.avail_in)break;if(Xe=N.window,ge=N.strstart+N.lookahead,xt=void 0,(st=re)<(xt=(Je=N.strm).avail_in)&&(xt=st),ze=0===xt?0:(Je.avail_in-=xt,M.arraySet(Xe,Je.input,Je.next_in,xt,ge),1===Je.state.wrap?Je.adler=H(Je.adler,Xe,xt,ge):2===Je.state.wrap&&(Je.adler=j(Je.adler,Xe,xt,ge)),Je.next_in+=xt,Je.total_in+=xt,xt),N.lookahead+=ze,N.lookahead+N.insert>=de)for(N.ins_h=N.window[Ee=N.strstart-N.insert],N.ins_h=(N.ins_h<<N.hash_shift^N.window[Ee+1])&N.hash_mask;N.insert&&(N.ins_h=(N.ins_h<<N.hash_shift^N.window[Ee+de-1])&N.hash_mask,N.prev[Ee&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=Ee,Ee++,N.insert--,!(N.lookahead+N.insert<de)););}while(N.lookahead<Ge&&0!==N.strm.avail_in)}function je(N,Ke){for(var ze,se;;){if(N.lookahead<Ge){if(ke(N),N.lookahead<Ge&&Ke===W)return I;if(0===N.lookahead)break}if(ze=0,N.lookahead>=de&&(N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+de-1])&N.hash_mask,ze=N.prev[N.strstart&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=N.strstart),0!==ze&&N.strstart-ze<=N.w_size-Ge&&(N.match_length=pe(N,ze)),N.match_length>=de)if(se=F._tr_tally(N,N.strstart-N.match_start,N.match_length-de),N.lookahead-=N.match_length,N.match_length<=N.max_lazy_match&&N.lookahead>=de){for(N.match_length--;N.strstart++,N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+de-1])&N.hash_mask,ze=N.prev[N.strstart&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=N.strstart,0!=--N.match_length;);N.strstart++}else N.strstart+=N.match_length,N.match_length=0,N.ins_h=N.window[N.strstart],N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+1])&N.hash_mask;else se=F._tr_tally(N,0,N.window[N.strstart]),N.lookahead--,N.strstart++;if(se&&(Le(N,!1),0===N.strm.avail_out))return I}return N.insert=N.strstart<de-1?N.strstart:de-1,Ke===q?(Le(N,!0),0===N.strm.avail_out?et:qe):N.last_lit&&(Le(N,!1),0===N.strm.avail_out)?I:Re}function He(N,Ke){for(var ze,se,re;;){if(N.lookahead<Ge){if(ke(N),N.lookahead<Ge&&Ke===W)return I;if(0===N.lookahead)break}if(ze=0,N.lookahead>=de&&(N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+de-1])&N.hash_mask,ze=N.prev[N.strstart&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=N.strstart),N.prev_length=N.match_length,N.prev_match=N.match_start,N.match_length=de-1,0!==ze&&N.prev_length<N.max_lazy_match&&N.strstart-ze<=N.w_size-Ge&&(N.match_length=pe(N,ze),N.match_length<=5&&(1===N.strategy||N.match_length===de&&4096<N.strstart-N.match_start)&&(N.match_length=de-1)),N.prev_length>=de&&N.match_length<=N.prev_length){for(re=N.strstart+N.lookahead-de,se=F._tr_tally(N,N.strstart-1-N.prev_match,N.prev_length-de),N.lookahead-=N.prev_length-1,N.prev_length-=2;++N.strstart<=re&&(N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+de-1])&N.hash_mask,ze=N.prev[N.strstart&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=N.strstart),0!=--N.prev_length;);if(N.match_available=0,N.match_length=de-1,N.strstart++,se&&(Le(N,!1),0===N.strm.avail_out))return I}else if(N.match_available){if((se=F._tr_tally(N,0,N.window[N.strstart-1]))&&Le(N,!1),N.strstart++,N.lookahead--,0===N.strm.avail_out)return I}else N.match_available=1,N.strstart++,N.lookahead--}return N.match_available&&(se=F._tr_tally(N,0,N.window[N.strstart-1]),N.match_available=0),N.insert=N.strstart<de-1?N.strstart:de-1,Ke===q?(Le(N,!0),0===N.strm.avail_out?et:qe):N.last_lit&&(Le(N,!1),0===N.strm.avail_out)?I:Re}function ut(N,Ke,ze,se,re){this.good_length=N,this.max_lazy=Ke,this.nice_length=ze,this.max_chain=se,this.func=re}function wt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=X,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new M.Buf16(2*ve),this.dyn_dtree=new M.Buf16(2*(2*ae+1)),this.bl_tree=new M.Buf16(2*(2*ye+1)),Ht(this.dyn_ltree),Ht(this.dyn_dtree),Ht(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new M.Buf16(Te+1),this.heap=new M.Buf16(2*ie+1),Ht(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new M.Buf16(2*ie+1),Ht(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function en(N){var Ke;return N&&N.state?(N.total_in=N.total_out=0,N.data_type=U,(Ke=N.state).pending=0,Ke.pending_out=0,Ke.wrap<0&&(Ke.wrap=-Ke.wrap),Ke.status=Ke.wrap?J:Me,N.adler=2===Ke.wrap?0:1,Ke.last_flush=W,F._tr_init(Ke),z):it(N,L)}function At(N){var ze,Ke=en(N);return Ke===z&&((ze=N.state).window_size=2*ze.w_size,Ht(ze.head),ze.max_lazy_match=V[ze.level].max_lazy,ze.good_match=V[ze.level].good_length,ze.nice_match=V[ze.level].nice_length,ze.max_chain_length=V[ze.level].max_chain,ze.strstart=0,ze.block_start=0,ze.lookahead=0,ze.insert=0,ze.match_length=ze.prev_length=de-1,ze.match_available=0,ze.ins_h=0),Ke}function rn(N,Ke,ze,se,re,Ee){if(!N)return L;var Je=1;if(Ke===P&&(Ke=6),se<0?(Je=0,se=-se):15<se&&(Je=2,se-=16),re<1||le<re||ze!==X||se<8||15<se||Ke<0||9<Ke||Ee<0||G<Ee)return it(N,L);8===se&&(se=9);var Xe=new wt;return(N.state=Xe).strm=N,Xe.wrap=Je,Xe.gzhead=null,Xe.w_bits=se,Xe.w_size=1<<Xe.w_bits,Xe.w_mask=Xe.w_size-1,Xe.hash_bits=re+7,Xe.hash_size=1<<Xe.hash_bits,Xe.hash_mask=Xe.hash_size-1,Xe.hash_shift=~~((Xe.hash_bits+de-1)/de),Xe.window=new M.Buf8(2*Xe.w_size),Xe.head=new M.Buf16(Xe.hash_size),Xe.prev=new M.Buf16(Xe.w_size),Xe.lit_bufsize=1<<re+6,Xe.pending_buf_size=4*Xe.lit_bufsize,Xe.pending_buf=new M.Buf8(Xe.pending_buf_size),Xe.d_buf=1*Xe.lit_bufsize,Xe.l_buf=3*Xe.lit_bufsize,Xe.level=Ke,Xe.strategy=Ee,Xe.method=ze,At(N)}V=[new ut(0,0,0,0,function(N,Ke){var ze=65535;for(ze>N.pending_buf_size-5&&(ze=N.pending_buf_size-5);;){if(N.lookahead<=1){if(ke(N),0===N.lookahead&&Ke===W)return I;if(0===N.lookahead)break}N.strstart+=N.lookahead,N.lookahead=0;var se=N.block_start+ze;if((0===N.strstart||N.strstart>=se)&&(N.lookahead=N.strstart-se,N.strstart=se,Le(N,!1),0===N.strm.avail_out)||N.strstart-N.block_start>=N.w_size-Ge&&(Le(N,!1),0===N.strm.avail_out))return I}return N.insert=0,Ke===q?(Le(N,!0),0===N.strm.avail_out?et:qe):(N.strstart>N.block_start&&Le(N,!1),I)}),new ut(4,4,8,4,je),new ut(4,5,16,8,je),new ut(4,6,32,32,je),new ut(4,4,16,16,He),new ut(8,16,32,32,He),new ut(8,16,128,128,He),new ut(8,32,128,256,He),new ut(32,128,258,1024,He),new ut(32,258,258,4096,He)],l.deflateInit=function(N,Ke){return rn(N,Ke,X,15,8,0)},l.deflateInit2=rn,l.deflateReset=At,l.deflateResetKeep=en,l.deflateSetHeader=function(N,Ke){return N&&N.state?2!==N.state.wrap?L:(N.state.gzhead=Ke,z):L},l.deflate=function(N,Ke){var ze,se,re,Ee;if(!N||!N.state||5<Ke||Ke<0)return N?it(N,L):L;if(se=N.state,!N.output||!N.input&&0!==N.avail_in||666===se.status&&Ke!==q)return it(N,0===N.avail_out?-5:L);if(se.strm=N,ze=se.last_flush,se.last_flush=Ke,se.status===J)if(2===se.wrap)N.adler=0,Ce(se,31),Ce(se,139),Ce(se,8),se.gzhead?(Ce(se,(se.gzhead.text?1:0)+(se.gzhead.hcrc?2:0)+(se.gzhead.extra?4:0)+(se.gzhead.name?8:0)+(se.gzhead.comment?16:0)),Ce(se,255&se.gzhead.time),Ce(se,se.gzhead.time>>8&255),Ce(se,se.gzhead.time>>16&255),Ce(se,se.gzhead.time>>24&255),Ce(se,9===se.level?2:2<=se.strategy||se.level<2?4:0),Ce(se,255&se.gzhead.os),se.gzhead.extra&&se.gzhead.extra.length&&(Ce(se,255&se.gzhead.extra.length),Ce(se,se.gzhead.extra.length>>8&255)),se.gzhead.hcrc&&(N.adler=j(N.adler,se.pending_buf,se.pending,0)),se.gzindex=0,se.status=69):(Ce(se,0),Ce(se,0),Ce(se,0),Ce(se,0),Ce(se,0),Ce(se,9===se.level?2:2<=se.strategy||se.level<2?4:0),Ce(se,3),se.status=Me);else{var Je=X+(se.w_bits-8<<4)<<8;Je|=(2<=se.strategy||se.level<2?0:se.level<6?1:6===se.level?2:3)<<6,0!==se.strstart&&(Je|=32),Je+=31-Je%31,se.status=Me,_e(se,Je),0!==se.strstart&&(_e(se,N.adler>>>16),_e(se,65535&N.adler)),N.adler=1}if(69===se.status)if(se.gzhead.extra){for(re=se.pending;se.gzindex<(65535&se.gzhead.extra.length)&&(se.pending!==se.pending_buf_size||(se.gzhead.hcrc&&se.pending>re&&(N.adler=j(N.adler,se.pending_buf,se.pending-re,re)),Be(N),re=se.pending,se.pending!==se.pending_buf_size));)Ce(se,255&se.gzhead.extra[se.gzindex]),se.gzindex++;se.gzhead.hcrc&&se.pending>re&&(N.adler=j(N.adler,se.pending_buf,se.pending-re,re)),se.gzindex===se.gzhead.extra.length&&(se.gzindex=0,se.status=73)}else se.status=73;if(73===se.status)if(se.gzhead.name){re=se.pending;do{if(se.pending===se.pending_buf_size&&(se.gzhead.hcrc&&se.pending>re&&(N.adler=j(N.adler,se.pending_buf,se.pending-re,re)),Be(N),re=se.pending,se.pending===se.pending_buf_size)){Ee=1;break}Ee=se.gzindex<se.gzhead.name.length?255&se.gzhead.name.charCodeAt(se.gzindex++):0,Ce(se,Ee)}while(0!==Ee);se.gzhead.hcrc&&se.pending>re&&(N.adler=j(N.adler,se.pending_buf,se.pending-re,re)),0===Ee&&(se.gzindex=0,se.status=91)}else se.status=91;if(91===se.status)if(se.gzhead.comment){re=se.pending;do{if(se.pending===se.pending_buf_size&&(se.gzhead.hcrc&&se.pending>re&&(N.adler=j(N.adler,se.pending_buf,se.pending-re,re)),Be(N),re=se.pending,se.pending===se.pending_buf_size)){Ee=1;break}Ee=se.gzindex<se.gzhead.comment.length?255&se.gzhead.comment.charCodeAt(se.gzindex++):0,Ce(se,Ee)}while(0!==Ee);se.gzhead.hcrc&&se.pending>re&&(N.adler=j(N.adler,se.pending_buf,se.pending-re,re)),0===Ee&&(se.status=103)}else se.status=103;if(103===se.status&&(se.gzhead.hcrc?(se.pending+2>se.pending_buf_size&&Be(N),se.pending+2<=se.pending_buf_size&&(Ce(se,255&N.adler),Ce(se,N.adler>>8&255),N.adler=0,se.status=Me)):se.status=Me),0!==se.pending){if(Be(N),0===N.avail_out)return se.last_flush=-1,z}else if(0===N.avail_in&&lt(Ke)<=lt(ze)&&Ke!==q)return it(N,-5);if(666===se.status&&0!==N.avail_in)return it(N,-5);if(0!==N.avail_in||0!==se.lookahead||Ke!==W&&666!==se.status){var Xe=2===se.strategy?function(ge,st){for(var xt;;){if(0===ge.lookahead&&(ke(ge),0===ge.lookahead)){if(st===W)return I;break}if(ge.match_length=0,xt=F._tr_tally(ge,0,ge.window[ge.strstart]),ge.lookahead--,ge.strstart++,xt&&(Le(ge,!1),0===ge.strm.avail_out))return I}return ge.insert=0,st===q?(Le(ge,!0),0===ge.strm.avail_out?et:qe):ge.last_lit&&(Le(ge,!1),0===ge.strm.avail_out)?I:Re}(se,Ke):3===se.strategy?function(ge,st){for(var xt,ot,Pt,Cn,Ot=ge.window;;){if(ge.lookahead<=we){if(ke(ge),ge.lookahead<=we&&st===W)return I;if(0===ge.lookahead)break}if(ge.match_length=0,ge.lookahead>=de&&0<ge.strstart&&(ot=Ot[Pt=ge.strstart-1])===Ot[++Pt]&&ot===Ot[++Pt]&&ot===Ot[++Pt]){Cn=ge.strstart+we;do{}while(ot===Ot[++Pt]&&ot===Ot[++Pt]&&ot===Ot[++Pt]&&ot===Ot[++Pt]&&ot===Ot[++Pt]&&ot===Ot[++Pt]&&ot===Ot[++Pt]&&ot===Ot[++Pt]&&Pt<Cn);ge.match_length=we-(Cn-Pt),ge.match_length>ge.lookahead&&(ge.match_length=ge.lookahead)}if(ge.match_length>=de?(xt=F._tr_tally(ge,1,ge.match_length-de),ge.lookahead-=ge.match_length,ge.strstart+=ge.match_length,ge.match_length=0):(xt=F._tr_tally(ge,0,ge.window[ge.strstart]),ge.lookahead--,ge.strstart++),xt&&(Le(ge,!1),0===ge.strm.avail_out))return I}return ge.insert=0,st===q?(Le(ge,!0),0===ge.strm.avail_out?et:qe):ge.last_lit&&(Le(ge,!1),0===ge.strm.avail_out)?I:Re}(se,Ke):V[se.level].func(se,Ke);if(Xe!==et&&Xe!==qe||(se.status=666),Xe===I||Xe===et)return 0===N.avail_out&&(se.last_flush=-1),z;if(Xe===Re&&(1===Ke?F._tr_align(se):5!==Ke&&(F._tr_stored_block(se,0,0,!1),3===Ke&&(Ht(se.head),0===se.lookahead&&(se.strstart=0,se.block_start=0,se.insert=0))),Be(N),0===N.avail_out))return se.last_flush=-1,z}return Ke!==q?z:se.wrap<=0?1:(2===se.wrap?(Ce(se,255&N.adler),Ce(se,N.adler>>8&255),Ce(se,N.adler>>16&255),Ce(se,N.adler>>24&255),Ce(se,255&N.total_in),Ce(se,N.total_in>>8&255),Ce(se,N.total_in>>16&255),Ce(se,N.total_in>>24&255)):(_e(se,N.adler>>>16),_e(se,65535&N.adler)),Be(N),0<se.wrap&&(se.wrap=-se.wrap),0!==se.pending?z:1)},l.deflateEnd=function(N){var Ke;return N&&N.state?(Ke=N.state.status)!==J&&69!==Ke&&73!==Ke&&91!==Ke&&103!==Ke&&Ke!==Me&&666!==Ke?it(N,L):(N.state=null,Ke===Me?it(N,-3):z):L},l.deflateSetDictionary=function(N,Ke){var ze,se,re,Ee,Je,Xe,ge,st,xt=Ke.length;if(!N||!N.state||2===(Ee=(ze=N.state).wrap)||1===Ee&&ze.status!==J||ze.lookahead)return L;for(1===Ee&&(N.adler=H(N.adler,Ke,xt,0)),ze.wrap=0,xt>=ze.w_size&&(0===Ee&&(Ht(ze.head),ze.strstart=0,ze.block_start=0,ze.insert=0),st=new M.Buf8(ze.w_size),M.arraySet(st,Ke,xt-ze.w_size,ze.w_size,0),Ke=st,xt=ze.w_size),Je=N.avail_in,Xe=N.next_in,ge=N.input,N.avail_in=xt,N.next_in=0,N.input=Ke,ke(ze);ze.lookahead>=de;){for(se=ze.strstart,re=ze.lookahead-(de-1);ze.ins_h=(ze.ins_h<<ze.hash_shift^ze.window[se+de-1])&ze.hash_mask,ze.prev[se&ze.w_mask]=ze.head[ze.ins_h],ze.head[ze.ins_h]=se,se++,--re;);ze.strstart=se,ze.lookahead=de-1,ke(ze)}return ze.strstart+=ze.lookahead,ze.block_start=ze.strstart,ze.insert=ze.lookahead,ze.lookahead=0,ze.match_length=ze.prev_length=de-1,ze.match_available=0,N.next_in=Xe,N.input=ge,N.avail_in=Je,ze.wrap=Ee,z},l.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(ee,B,l){"use strict";B.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(ee,B,l){"use strict";B.exports=function(V,M){var F,H,j,Q,W,q,z,L,P,G,U,X,le,ie,ae,ye,ve,Te,de,we,Ge,J,Me,I,Re;I=V.input,j=(H=V.next_in)+(V.avail_in-5),Re=V.output,W=(Q=V.next_out)-(M-V.avail_out),q=Q+(V.avail_out-257),z=(F=V.state).dmax,L=F.wsize,P=F.whave,G=F.wnext,U=F.window,X=F.hold,le=F.bits,ie=F.lencode,ae=F.distcode,ye=(1<<F.lenbits)-1,ve=(1<<F.distbits)-1;e:do{le<15&&(X+=I[H++]<<le,X+=I[H++]<<(le+=8),le+=8),Te=ie[X&ye];t:for(;;){if(X>>>=de=Te>>>24,le-=de,0==(de=Te>>>16&255))Re[Q++]=65535&Te;else{if(!(16&de)){if(!(64&de)){Te=ie[(65535&Te)+(X&(1<<de)-1)];continue t}if(32&de){F.mode=12;break e}V.msg="invalid literal/length code",F.mode=30;break e}we=65535&Te,(de&=15)&&(le<de&&(X+=I[H++]<<le,le+=8),we+=X&(1<<de)-1,X>>>=de,le-=de),le<15&&(X+=I[H++]<<le,X+=I[H++]<<(le+=8),le+=8),Te=ae[X&ve];n:for(;;){if(X>>>=de=Te>>>24,le-=de,!(16&(de=Te>>>16&255))){if(!(64&de)){Te=ae[(65535&Te)+(X&(1<<de)-1)];continue n}V.msg="invalid distance code",F.mode=30;break e}if(Ge=65535&Te,le<(de&=15)&&(X+=I[H++]<<le,(le+=8)<de&&(X+=I[H++]<<le,le+=8)),z<(Ge+=X&(1<<de)-1)){V.msg="invalid distance too far back",F.mode=30;break e}if(X>>>=de,le-=de,(de=Q-W)<Ge){if(P<(de=Ge-de)&&F.sane){V.msg="invalid distance too far back",F.mode=30;break e}if(Me=U,(J=0)===G){if(J+=L-de,de<we){for(we-=de;Re[Q++]=U[J++],--de;);J=Q-Ge,Me=Re}}else if(G<de){if(J+=L+G-de,(de-=G)<we){for(we-=de;Re[Q++]=U[J++],--de;);if(J=0,G<we){for(we-=de=G;Re[Q++]=U[J++],--de;);J=Q-Ge,Me=Re}}}else if(J+=G-de,de<we){for(we-=de;Re[Q++]=U[J++],--de;);J=Q-Ge,Me=Re}for(;2<we;)Re[Q++]=Me[J++],Re[Q++]=Me[J++],Re[Q++]=Me[J++],we-=3;we&&(Re[Q++]=Me[J++],1<we&&(Re[Q++]=Me[J++]))}else{for(J=Q-Ge;Re[Q++]=Re[J++],Re[Q++]=Re[J++],Re[Q++]=Re[J++],2<(we-=3););we&&(Re[Q++]=Re[J++],1<we&&(Re[Q++]=Re[J++]))}break}}break}}while(H<j&&Q<q);H-=we=le>>3,X&=(1<<(le-=we<<3))-1,V.next_in=H,V.next_out=Q,V.avail_in=H<j?j-H+5:5-(H-j),V.avail_out=Q<q?q-Q+257:257-(Q-q),F.hold=X,F.bits=le}},{}],49:[function(ee,B,l){"use strict";var V=ee("../utils/common"),M=ee("./adler32"),F=ee("./crc32"),H=ee("./inffast"),j=ee("./inftrees"),Q=1,W=2,q=0,z=-2,L=1,P=852,G=592;function U(J){return(J>>>24&255)+(J>>>8&65280)+((65280&J)<<8)+((255&J)<<24)}function X(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new V.Buf16(320),this.work=new V.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function le(J){var Me;return J&&J.state?(J.total_in=J.total_out=(Me=J.state).total=0,J.msg="",Me.wrap&&(J.adler=1&Me.wrap),Me.mode=L,Me.last=0,Me.havedict=0,Me.dmax=32768,Me.head=null,Me.hold=0,Me.bits=0,Me.lencode=Me.lendyn=new V.Buf32(P),Me.distcode=Me.distdyn=new V.Buf32(G),Me.sane=1,Me.back=-1,q):z}function ie(J){var Me;return J&&J.state?((Me=J.state).wsize=0,Me.whave=0,Me.wnext=0,le(J)):z}function ae(J,Me){var I,Re;return J&&J.state?(Re=J.state,Me<0?(I=0,Me=-Me):(I=1+(Me>>4),Me<48&&(Me&=15)),Me&&(Me<8||15<Me)?z:(null!==Re.window&&Re.wbits!==Me&&(Re.window=null),Re.wrap=I,Re.wbits=Me,ie(J))):z}function ye(J,Me){var I,Re;return J?(Re=new X,(J.state=Re).window=null,(I=ae(J,Me))!==q&&(J.state=null),I):z}var ve,Te,de=!0;function we(J){if(de){var Me;for(ve=new V.Buf32(512),Te=new V.Buf32(32),Me=0;Me<144;)J.lens[Me++]=8;for(;Me<256;)J.lens[Me++]=9;for(;Me<280;)J.lens[Me++]=7;for(;Me<288;)J.lens[Me++]=8;for(j(Q,J.lens,0,288,ve,0,J.work,{bits:9}),Me=0;Me<32;)J.lens[Me++]=5;j(W,J.lens,0,32,Te,0,J.work,{bits:5}),de=!1}J.lencode=ve,J.lenbits=9,J.distcode=Te,J.distbits=5}function Ge(J,Me,I,Re){var et,qe=J.state;return null===qe.window&&(qe.wsize=1<<qe.wbits,qe.wnext=0,qe.whave=0,qe.window=new V.Buf8(qe.wsize)),Re>=qe.wsize?(V.arraySet(qe.window,Me,I-qe.wsize,qe.wsize,0),qe.wnext=0,qe.whave=qe.wsize):(Re<(et=qe.wsize-qe.wnext)&&(et=Re),V.arraySet(qe.window,Me,I-Re,et,qe.wnext),(Re-=et)?(V.arraySet(qe.window,Me,I-Re,Re,0),qe.wnext=Re,qe.whave=qe.wsize):(qe.wnext+=et,qe.wnext===qe.wsize&&(qe.wnext=0),qe.whave<qe.wsize&&(qe.whave+=et))),0}l.inflateReset=ie,l.inflateReset2=ae,l.inflateResetKeep=le,l.inflateInit=function(J){return ye(J,15)},l.inflateInit2=ye,l.inflate=function(J,Me){var I,Re,et,qe,it,lt,Ht,Be,Le,Ce,_e,pe,ke,je,He,ut,wt,en,At,rn,N,Ke,ze,se,re=0,Ee=new V.Buf8(4),Je=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!J||!J.state||!J.output||!J.input&&0!==J.avail_in)return z;12===(I=J.state).mode&&(I.mode=13),it=J.next_out,et=J.output,qe=J.next_in,Re=J.input,Be=I.hold,Le=I.bits,Ce=lt=J.avail_in,_e=Ht=J.avail_out,Ke=q;e:for(;;)switch(I.mode){case L:if(0===I.wrap){I.mode=13;break}for(;Le<16;){if(0===lt)break e;lt--,Be+=Re[qe++]<<Le,Le+=8}if(2&I.wrap&&35615===Be){Ee[I.check=0]=255&Be,Ee[1]=Be>>>8&255,I.check=F(I.check,Ee,2,0),Le=Be=0,I.mode=2;break}if(I.flags=0,I.head&&(I.head.done=!1),!(1&I.wrap)||(((255&Be)<<8)+(Be>>8))%31){J.msg="incorrect header check",I.mode=30;break}if(8!=(15&Be)){J.msg="unknown compression method",I.mode=30;break}if(Le-=4,N=8+(15&(Be>>>=4)),0===I.wbits)I.wbits=N;else if(N>I.wbits){J.msg="invalid window size",I.mode=30;break}I.dmax=1<<N,J.adler=I.check=1,I.mode=512&Be?10:12,Le=Be=0;break;case 2:for(;Le<16;){if(0===lt)break e;lt--,Be+=Re[qe++]<<Le,Le+=8}if(I.flags=Be,8!=(255&I.flags)){J.msg="unknown compression method",I.mode=30;break}if(57344&I.flags){J.msg="unknown header flags set",I.mode=30;break}I.head&&(I.head.text=Be>>8&1),512&I.flags&&(Ee[0]=255&Be,Ee[1]=Be>>>8&255,I.check=F(I.check,Ee,2,0)),Le=Be=0,I.mode=3;case 3:for(;Le<32;){if(0===lt)break e;lt--,Be+=Re[qe++]<<Le,Le+=8}I.head&&(I.head.time=Be),512&I.flags&&(Ee[0]=255&Be,Ee[1]=Be>>>8&255,Ee[2]=Be>>>16&255,Ee[3]=Be>>>24&255,I.check=F(I.check,Ee,4,0)),Le=Be=0,I.mode=4;case 4:for(;Le<16;){if(0===lt)break e;lt--,Be+=Re[qe++]<<Le,Le+=8}I.head&&(I.head.xflags=255&Be,I.head.os=Be>>8),512&I.flags&&(Ee[0]=255&Be,Ee[1]=Be>>>8&255,I.check=F(I.check,Ee,2,0)),Le=Be=0,I.mode=5;case 5:if(1024&I.flags){for(;Le<16;){if(0===lt)break e;lt--,Be+=Re[qe++]<<Le,Le+=8}I.length=Be,I.head&&(I.head.extra_len=Be),512&I.flags&&(Ee[0]=255&Be,Ee[1]=Be>>>8&255,I.check=F(I.check,Ee,2,0)),Le=Be=0}else I.head&&(I.head.extra=null);I.mode=6;case 6:if(1024&I.flags&&(lt<(pe=I.length)&&(pe=lt),pe&&(I.head&&(N=I.head.extra_len-I.length,I.head.extra||(I.head.extra=new Array(I.head.extra_len)),V.arraySet(I.head.extra,Re,qe,pe,N)),512&I.flags&&(I.check=F(I.check,Re,pe,qe)),lt-=pe,qe+=pe,I.length-=pe),I.length))break e;I.length=0,I.mode=7;case 7:if(2048&I.flags){if(0===lt)break e;for(pe=0;N=Re[qe+pe++],I.head&&N&&I.length<65536&&(I.head.name+=String.fromCharCode(N)),N&&pe<lt;);if(512&I.flags&&(I.check=F(I.check,Re,pe,qe)),lt-=pe,qe+=pe,N)break e}else I.head&&(I.head.name=null);I.length=0,I.mode=8;case 8:if(4096&I.flags){if(0===lt)break e;for(pe=0;N=Re[qe+pe++],I.head&&N&&I.length<65536&&(I.head.comment+=String.fromCharCode(N)),N&&pe<lt;);if(512&I.flags&&(I.check=F(I.check,Re,pe,qe)),lt-=pe,qe+=pe,N)break e}else I.head&&(I.head.comment=null);I.mode=9;case 9:if(512&I.flags){for(;Le<16;){if(0===lt)break e;lt--,Be+=Re[qe++]<<Le,Le+=8}if(Be!==(65535&I.check)){J.msg="header crc mismatch",I.mode=30;break}Le=Be=0}I.head&&(I.head.hcrc=I.flags>>9&1,I.head.done=!0),J.adler=I.check=0,I.mode=12;break;case 10:for(;Le<32;){if(0===lt)break e;lt--,Be+=Re[qe++]<<Le,Le+=8}J.adler=I.check=U(Be),Le=Be=0,I.mode=11;case 11:if(0===I.havedict)return J.next_out=it,J.avail_out=Ht,J.next_in=qe,J.avail_in=lt,I.hold=Be,I.bits=Le,2;J.adler=I.check=1,I.mode=12;case 12:if(5===Me||6===Me)break e;case 13:if(I.last){Be>>>=7&Le,Le-=7&Le,I.mode=27;break}for(;Le<3;){if(0===lt)break e;lt--,Be+=Re[qe++]<<Le,Le+=8}switch(I.last=1&Be,Le-=1,3&(Be>>>=1)){case 0:I.mode=14;break;case 1:if(we(I),I.mode=20,6!==Me)break;Be>>>=2,Le-=2;break e;case 2:I.mode=17;break;case 3:J.msg="invalid block type",I.mode=30}Be>>>=2,Le-=2;break;case 14:for(Be>>>=7&Le,Le-=7&Le;Le<32;){if(0===lt)break e;lt--,Be+=Re[qe++]<<Le,Le+=8}if((65535&Be)!=(Be>>>16^65535)){J.msg="invalid stored block lengths",I.mode=30;break}if(I.length=65535&Be,Le=Be=0,I.mode=15,6===Me)break e;case 15:I.mode=16;case 16:if(pe=I.length){if(lt<pe&&(pe=lt),Ht<pe&&(pe=Ht),0===pe)break e;V.arraySet(et,Re,qe,pe,it),lt-=pe,qe+=pe,Ht-=pe,it+=pe,I.length-=pe;break}I.mode=12;break;case 17:for(;Le<14;){if(0===lt)break e;lt--,Be+=Re[qe++]<<Le,Le+=8}if(I.nlen=257+(31&Be),Le-=5,I.ndist=1+(31&(Be>>>=5)),Le-=5,I.ncode=4+(15&(Be>>>=5)),Be>>>=4,Le-=4,286<I.nlen||30<I.ndist){J.msg="too many length or distance symbols",I.mode=30;break}I.have=0,I.mode=18;case 18:for(;I.have<I.ncode;){for(;Le<3;){if(0===lt)break e;lt--,Be+=Re[qe++]<<Le,Le+=8}I.lens[Je[I.have++]]=7&Be,Be>>>=3,Le-=3}for(;I.have<19;)I.lens[Je[I.have++]]=0;if(I.lencode=I.lendyn,I.lenbits=7,Ke=j(0,I.lens,0,19,I.lencode,0,I.work,ze={bits:I.lenbits}),I.lenbits=ze.bits,Ke){J.msg="invalid code lengths set",I.mode=30;break}I.have=0,I.mode=19;case 19:for(;I.have<I.nlen+I.ndist;){for(;ut=(re=I.lencode[Be&(1<<I.lenbits)-1])>>>16&255,wt=65535&re,!((He=re>>>24)<=Le);){if(0===lt)break e;lt--,Be+=Re[qe++]<<Le,Le+=8}if(wt<16)Be>>>=He,Le-=He,I.lens[I.have++]=wt;else{if(16===wt){for(se=He+2;Le<se;){if(0===lt)break e;lt--,Be+=Re[qe++]<<Le,Le+=8}if(Be>>>=He,Le-=He,0===I.have){J.msg="invalid bit length repeat",I.mode=30;break}N=I.lens[I.have-1],pe=3+(3&Be),Be>>>=2,Le-=2}else if(17===wt){for(se=He+3;Le<se;){if(0===lt)break e;lt--,Be+=Re[qe++]<<Le,Le+=8}Le-=He,N=0,pe=3+(7&(Be>>>=He)),Be>>>=3,Le-=3}else{for(se=He+7;Le<se;){if(0===lt)break e;lt--,Be+=Re[qe++]<<Le,Le+=8}Le-=He,N=0,pe=11+(127&(Be>>>=He)),Be>>>=7,Le-=7}if(I.have+pe>I.nlen+I.ndist){J.msg="invalid bit length repeat",I.mode=30;break}for(;pe--;)I.lens[I.have++]=N}}if(30===I.mode)break;if(0===I.lens[256]){J.msg="invalid code -- missing end-of-block",I.mode=30;break}if(I.lenbits=9,Ke=j(Q,I.lens,0,I.nlen,I.lencode,0,I.work,ze={bits:I.lenbits}),I.lenbits=ze.bits,Ke){J.msg="invalid literal/lengths set",I.mode=30;break}if(I.distbits=6,I.distcode=I.distdyn,Ke=j(W,I.lens,I.nlen,I.ndist,I.distcode,0,I.work,ze={bits:I.distbits}),I.distbits=ze.bits,Ke){J.msg="invalid distances set",I.mode=30;break}if(I.mode=20,6===Me)break e;case 20:I.mode=21;case 21:if(6<=lt&&258<=Ht){J.next_out=it,J.avail_out=Ht,J.next_in=qe,J.avail_in=lt,I.hold=Be,I.bits=Le,H(J,_e),it=J.next_out,et=J.output,Ht=J.avail_out,qe=J.next_in,Re=J.input,lt=J.avail_in,Be=I.hold,Le=I.bits,12===I.mode&&(I.back=-1);break}for(I.back=0;ut=(re=I.lencode[Be&(1<<I.lenbits)-1])>>>16&255,wt=65535&re,!((He=re>>>24)<=Le);){if(0===lt)break e;lt--,Be+=Re[qe++]<<Le,Le+=8}if(ut&&!(240&ut)){for(en=He,At=ut,rn=wt;ut=(re=I.lencode[rn+((Be&(1<<en+At)-1)>>en)])>>>16&255,wt=65535&re,!(en+(He=re>>>24)<=Le);){if(0===lt)break e;lt--,Be+=Re[qe++]<<Le,Le+=8}Be>>>=en,Le-=en,I.back+=en}if(Be>>>=He,Le-=He,I.back+=He,I.length=wt,0===ut){I.mode=26;break}if(32&ut){I.back=-1,I.mode=12;break}if(64&ut){J.msg="invalid literal/length code",I.mode=30;break}I.extra=15&ut,I.mode=22;case 22:if(I.extra){for(se=I.extra;Le<se;){if(0===lt)break e;lt--,Be+=Re[qe++]<<Le,Le+=8}I.length+=Be&(1<<I.extra)-1,Be>>>=I.extra,Le-=I.extra,I.back+=I.extra}I.was=I.length,I.mode=23;case 23:for(;ut=(re=I.distcode[Be&(1<<I.distbits)-1])>>>16&255,wt=65535&re,!((He=re>>>24)<=Le);){if(0===lt)break e;lt--,Be+=Re[qe++]<<Le,Le+=8}if(!(240&ut)){for(en=He,At=ut,rn=wt;ut=(re=I.distcode[rn+((Be&(1<<en+At)-1)>>en)])>>>16&255,wt=65535&re,!(en+(He=re>>>24)<=Le);){if(0===lt)break e;lt--,Be+=Re[qe++]<<Le,Le+=8}Be>>>=en,Le-=en,I.back+=en}if(Be>>>=He,Le-=He,I.back+=He,64&ut){J.msg="invalid distance code",I.mode=30;break}I.offset=wt,I.extra=15&ut,I.mode=24;case 24:if(I.extra){for(se=I.extra;Le<se;){if(0===lt)break e;lt--,Be+=Re[qe++]<<Le,Le+=8}I.offset+=Be&(1<<I.extra)-1,Be>>>=I.extra,Le-=I.extra,I.back+=I.extra}if(I.offset>I.dmax){J.msg="invalid distance too far back",I.mode=30;break}I.mode=25;case 25:if(0===Ht)break e;if(I.offset>(pe=_e-Ht)){if((pe=I.offset-pe)>I.whave&&I.sane){J.msg="invalid distance too far back",I.mode=30;break}ke=pe>I.wnext?I.wsize-(pe-=I.wnext):I.wnext-pe,pe>I.length&&(pe=I.length),je=I.window}else je=et,ke=it-I.offset,pe=I.length;for(Ht<pe&&(pe=Ht),Ht-=pe,I.length-=pe;et[it++]=je[ke++],--pe;);0===I.length&&(I.mode=21);break;case 26:if(0===Ht)break e;et[it++]=I.length,Ht--,I.mode=21;break;case 27:if(I.wrap){for(;Le<32;){if(0===lt)break e;lt--,Be|=Re[qe++]<<Le,Le+=8}if(J.total_out+=_e-=Ht,I.total+=_e,_e&&(J.adler=I.check=I.flags?F(I.check,et,_e,it-_e):M(I.check,et,_e,it-_e)),_e=Ht,(I.flags?Be:U(Be))!==I.check){J.msg="incorrect data check",I.mode=30;break}Le=Be=0}I.mode=28;case 28:if(I.wrap&&I.flags){for(;Le<32;){if(0===lt)break e;lt--,Be+=Re[qe++]<<Le,Le+=8}if(Be!==(4294967295&I.total)){J.msg="incorrect length check",I.mode=30;break}Le=Be=0}I.mode=29;case 29:Ke=1;break e;case 30:Ke=-3;break e;case 31:return-4;default:return z}return J.next_out=it,J.avail_out=Ht,J.next_in=qe,J.avail_in=lt,I.hold=Be,I.bits=Le,(I.wsize||_e!==J.avail_out&&I.mode<30&&(I.mode<27||4!==Me))&&Ge(J,J.output,J.next_out,_e-J.avail_out)?(I.mode=31,-4):(_e-=J.avail_out,J.total_in+=Ce-=J.avail_in,J.total_out+=_e,I.total+=_e,I.wrap&&_e&&(J.adler=I.check=I.flags?F(I.check,et,_e,J.next_out-_e):M(I.check,et,_e,J.next_out-_e)),J.data_type=I.bits+(I.last?64:0)+(12===I.mode?128:0)+(20===I.mode||15===I.mode?256:0),(0==Ce&&0===_e||4===Me)&&Ke===q&&(Ke=-5),Ke)},l.inflateEnd=function(J){if(!J||!J.state)return z;var Me=J.state;return Me.window&&(Me.window=null),J.state=null,q},l.inflateGetHeader=function(J,Me){var I;return J&&J.state&&2&(I=J.state).wrap?((I.head=Me).done=!1,q):z},l.inflateSetDictionary=function(J,Me){var I,Re=Me.length;return J&&J.state?0!==(I=J.state).wrap&&11!==I.mode?z:11===I.mode&&M(1,Me,Re,0)!==I.check?-3:Ge(J,Me,Re,Re)?(I.mode=31,-4):(I.havedict=1,q):z},l.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(ee,B,l){"use strict";var V=ee("../utils/common"),M=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],F=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],H=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],j=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];B.exports=function(Q,W,q,z,L,P,G,U){var X,le,ie,ae,ye,ve,Te,de,we,Ge=U.bits,J=0,Me=0,I=0,Re=0,et=0,qe=0,it=0,lt=0,Ht=0,Be=0,Le=null,Ce=0,_e=new V.Buf16(16),pe=new V.Buf16(16),ke=null,je=0;for(J=0;J<=15;J++)_e[J]=0;for(Me=0;Me<z;Me++)_e[W[q+Me]]++;for(et=Ge,Re=15;1<=Re&&0===_e[Re];Re--);if(Re<et&&(et=Re),0===Re)return L[P++]=20971520,L[P++]=20971520,U.bits=1,0;for(I=1;I<Re&&0===_e[I];I++);for(et<I&&(et=I),J=lt=1;J<=15;J++)if(lt<<=1,(lt-=_e[J])<0)return-1;if(0<lt&&(0===Q||1!==Re))return-1;for(pe[1]=0,J=1;J<15;J++)pe[J+1]=pe[J]+_e[J];for(Me=0;Me<z;Me++)0!==W[q+Me]&&(G[pe[W[q+Me]]++]=Me);if(ve=0===Q?(Le=ke=G,19):1===Q?(Le=M,Ce-=257,ke=F,je-=257,256):(Le=H,ke=j,-1),J=I,ye=P,it=Me=Be=0,ie=-1,ae=(Ht=1<<(qe=et))-1,1===Q&&852<Ht||2===Q&&592<Ht)return 1;for(;;){for(Te=J-it,we=G[Me]<ve?(de=0,G[Me]):G[Me]>ve?(de=ke[je+G[Me]],Le[Ce+G[Me]]):(de=96,0),X=1<<J-it,I=le=1<<qe;L[ye+(Be>>it)+(le-=X)]=Te<<24|de<<16|we|0,0!==le;);for(X=1<<J-1;Be&X;)X>>=1;if(0!==X?(Be&=X-1,Be+=X):Be=0,Me++,0==--_e[J]){if(J===Re)break;J=W[q+G[Me]]}if(et<J&&(Be&ae)!==ie){for(0===it&&(it=et),ye+=I,lt=1<<(qe=J-it);qe+it<Re&&!((lt-=_e[qe+it])<=0);)qe++,lt<<=1;if(Ht+=1<<qe,1===Q&&852<Ht||2===Q&&592<Ht)return 1;L[ie=Be&ae]=et<<24|qe<<16|ye-P|0}}return 0!==Be&&(L[ye+Be]=J-it<<24|64<<16|0),U.bits=et,0}},{"../utils/common":41}],51:[function(ee,B,l){"use strict";B.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(ee,B,l){"use strict";var V=ee("../utils/common");function H(re){for(var Ee=re.length;0<=--Ee;)re[Ee]=0}var j=0,W=256,q=W+1+29,z=30,L=19,P=2*q+1,G=15,U=16,le=256,ie=16,ae=17,ye=18,ve=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Te=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],de=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],we=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Ge=new Array(2*(q+2));H(Ge);var J=new Array(2*z);H(J);var Me=new Array(512);H(Me);var I=new Array(256);H(I);var Re=new Array(29);H(Re);var et,qe,it,lt=new Array(z);function Ht(re,Ee,Je,Xe,ge){this.static_tree=re,this.extra_bits=Ee,this.extra_base=Je,this.elems=Xe,this.max_length=ge,this.has_stree=re&&re.length}function Be(re,Ee){this.dyn_tree=re,this.max_code=0,this.stat_desc=Ee}function Le(re){return re<256?Me[re]:Me[256+(re>>>7)]}function Ce(re,Ee){re.pending_buf[re.pending++]=255&Ee,re.pending_buf[re.pending++]=Ee>>>8&255}function _e(re,Ee,Je){re.bi_valid>U-Je?(re.bi_buf|=Ee<<re.bi_valid&65535,Ce(re,re.bi_buf),re.bi_buf=Ee>>U-re.bi_valid,re.bi_valid+=Je-U):(re.bi_buf|=Ee<<re.bi_valid&65535,re.bi_valid+=Je)}function pe(re,Ee,Je){_e(re,Je[2*Ee],Je[2*Ee+1])}function ke(re,Ee){for(var Je=0;Je|=1&re,re>>>=1,Je<<=1,0<--Ee;);return Je>>>1}function je(re,Ee,Je){var Xe,ge,st=new Array(G+1),xt=0;for(Xe=1;Xe<=G;Xe++)st[Xe]=xt=xt+Je[Xe-1]<<1;for(ge=0;ge<=Ee;ge++){var ot=re[2*ge+1];0!==ot&&(re[2*ge]=ke(st[ot]++,ot))}}function He(re){var Ee;for(Ee=0;Ee<q;Ee++)re.dyn_ltree[2*Ee]=0;for(Ee=0;Ee<z;Ee++)re.dyn_dtree[2*Ee]=0;for(Ee=0;Ee<L;Ee++)re.bl_tree[2*Ee]=0;re.dyn_ltree[2*le]=1,re.opt_len=re.static_len=0,re.last_lit=re.matches=0}function ut(re){8<re.bi_valid?Ce(re,re.bi_buf):0<re.bi_valid&&(re.pending_buf[re.pending++]=re.bi_buf),re.bi_buf=0,re.bi_valid=0}function wt(re,Ee,Je,Xe){var ge=2*Ee,st=2*Je;return re[ge]<re[st]||re[ge]===re[st]&&Xe[Ee]<=Xe[Je]}function en(re,Ee,Je){for(var Xe=re.heap[Je],ge=Je<<1;ge<=re.heap_len&&(ge<re.heap_len&&wt(Ee,re.heap[ge+1],re.heap[ge],re.depth)&&ge++,!wt(Ee,Xe,re.heap[ge],re.depth));)re.heap[Je]=re.heap[ge],Je=ge,ge<<=1;re.heap[Je]=Xe}function At(re,Ee,Je){var Xe,ge,st,xt,ot=0;if(0!==re.last_lit)for(;Xe=re.pending_buf[re.d_buf+2*ot]<<8|re.pending_buf[re.d_buf+2*ot+1],ge=re.pending_buf[re.l_buf+ot],ot++,0===Xe?pe(re,ge,Ee):(pe(re,(st=I[ge])+W+1,Ee),0!==(xt=ve[st])&&_e(re,ge-=Re[st],xt),pe(re,st=Le(--Xe),Je),0!==(xt=Te[st])&&_e(re,Xe-=lt[st],xt)),ot<re.last_lit;);pe(re,le,Ee)}function rn(re,Ee){var Je,Xe,ge,st=Ee.dyn_tree,xt=Ee.stat_desc.static_tree,ot=Ee.stat_desc.has_stree,Pt=Ee.stat_desc.elems,Cn=-1;for(re.heap_len=0,re.heap_max=P,Je=0;Je<Pt;Je++)0!==st[2*Je]?(re.heap[++re.heap_len]=Cn=Je,re.depth[Je]=0):st[2*Je+1]=0;for(;re.heap_len<2;)st[2*(ge=re.heap[++re.heap_len]=Cn<2?++Cn:0)]=1,re.depth[ge]=0,re.opt_len--,ot&&(re.static_len-=xt[2*ge+1]);for(Ee.max_code=Cn,Je=re.heap_len>>1;1<=Je;Je--)en(re,st,Je);for(ge=Pt;Je=re.heap[1],re.heap[1]=re.heap[re.heap_len--],en(re,st,1),Xe=re.heap[1],re.heap[--re.heap_max]=Je,re.heap[--re.heap_max]=Xe,st[2*ge]=st[2*Je]+st[2*Xe],re.depth[ge]=(re.depth[Je]>=re.depth[Xe]?re.depth[Je]:re.depth[Xe])+1,st[2*Je+1]=st[2*Xe+1]=ge,re.heap[1]=ge++,en(re,st,1),2<=re.heap_len;);re.heap[--re.heap_max]=re.heap[1],function(Ot,dn){var Dt,$t,Lr,Mn,ar,Vr,Pn=dn.dyn_tree,oi=dn.max_code,Ln=dn.stat_desc.static_tree,Vo=dn.stat_desc.has_stree,Sn=dn.stat_desc.extra_bits,Vi=dn.stat_desc.extra_base,En=dn.stat_desc.max_length,Kr=0;for(Mn=0;Mn<=G;Mn++)Ot.bl_count[Mn]=0;for(Pn[2*Ot.heap[Ot.heap_max]+1]=0,Dt=Ot.heap_max+1;Dt<P;Dt++)En<(Mn=Pn[2*Pn[2*($t=Ot.heap[Dt])+1]+1]+1)&&(Mn=En,Kr++),Pn[2*$t+1]=Mn,oi<$t||(Ot.bl_count[Mn]++,ar=0,Vi<=$t&&(ar=Sn[$t-Vi]),Ot.opt_len+=(Vr=Pn[2*$t])*(Mn+ar),Vo&&(Ot.static_len+=Vr*(Ln[2*$t+1]+ar)));if(0!==Kr){do{for(Mn=En-1;0===Ot.bl_count[Mn];)Mn--;Ot.bl_count[Mn]--,Ot.bl_count[Mn+1]+=2,Ot.bl_count[En]--,Kr-=2}while(0<Kr);for(Mn=En;0!==Mn;Mn--)for($t=Ot.bl_count[Mn];0!==$t;)oi<(Lr=Ot.heap[--Dt])||(Pn[2*Lr+1]!==Mn&&(Ot.opt_len+=(Mn-Pn[2*Lr+1])*Pn[2*Lr],Pn[2*Lr+1]=Mn),$t--)}}(re,Ee),je(st,Cn,re.bl_count)}function N(re,Ee,Je){var Xe,ge,st=-1,xt=Ee[1],ot=0,Pt=7,Cn=4;for(0===xt&&(Pt=138,Cn=3),Ee[2*(Je+1)+1]=65535,Xe=0;Xe<=Je;Xe++)ge=xt,xt=Ee[2*(Xe+1)+1],++ot<Pt&&ge===xt||(ot<Cn?re.bl_tree[2*ge]+=ot:0!==ge?(ge!==st&&re.bl_tree[2*ge]++,re.bl_tree[2*ie]++):ot<=10?re.bl_tree[2*ae]++:re.bl_tree[2*ye]++,st=ge,Cn=(ot=0)===xt?(Pt=138,3):ge===xt?(Pt=6,3):(Pt=7,4))}function Ke(re,Ee,Je){var Xe,ge,st=-1,xt=Ee[1],ot=0,Pt=7,Cn=4;for(0===xt&&(Pt=138,Cn=3),Xe=0;Xe<=Je;Xe++)if(ge=xt,xt=Ee[2*(Xe+1)+1],!(++ot<Pt&&ge===xt)){if(ot<Cn)for(;pe(re,ge,re.bl_tree),0!=--ot;);else 0!==ge?(ge!==st&&(pe(re,ge,re.bl_tree),ot--),pe(re,ie,re.bl_tree),_e(re,ot-3,2)):ot<=10?(pe(re,ae,re.bl_tree),_e(re,ot-3,3)):(pe(re,ye,re.bl_tree),_e(re,ot-11,7));st=ge,Cn=(ot=0)===xt?(Pt=138,3):ge===xt?(Pt=6,3):(Pt=7,4)}}H(lt);var ze=!1;function se(re,Ee,Je,Xe){var ge,st,xt;_e(re,(j<<1)+(Xe?1:0),3),st=Ee,xt=Je,ut(ge=re),Ce(ge,xt),Ce(ge,~xt),V.arraySet(ge.pending_buf,ge.window,st,xt,ge.pending),ge.pending+=xt}l._tr_init=function(re){ze||(function(){var Ee,Je,Xe,ge,st,xt=new Array(G+1);for(ge=Xe=0;ge<28;ge++)for(Re[ge]=Xe,Ee=0;Ee<1<<ve[ge];Ee++)I[Xe++]=ge;for(I[Xe-1]=ge,ge=st=0;ge<16;ge++)for(lt[ge]=st,Ee=0;Ee<1<<Te[ge];Ee++)Me[st++]=ge;for(st>>=7;ge<z;ge++)for(lt[ge]=st<<7,Ee=0;Ee<1<<Te[ge]-7;Ee++)Me[256+st++]=ge;for(Je=0;Je<=G;Je++)xt[Je]=0;for(Ee=0;Ee<=143;)Ge[2*Ee+1]=8,Ee++,xt[8]++;for(;Ee<=255;)Ge[2*Ee+1]=9,Ee++,xt[9]++;for(;Ee<=279;)Ge[2*Ee+1]=7,Ee++,xt[7]++;for(;Ee<=287;)Ge[2*Ee+1]=8,Ee++,xt[8]++;for(je(Ge,q+1,xt),Ee=0;Ee<z;Ee++)J[2*Ee+1]=5,J[2*Ee]=ke(Ee,5);et=new Ht(Ge,ve,W+1,q,G),qe=new Ht(J,Te,0,z,G),it=new Ht(new Array(0),de,0,L,7)}(),ze=!0),re.l_desc=new Be(re.dyn_ltree,et),re.d_desc=new Be(re.dyn_dtree,qe),re.bl_desc=new Be(re.bl_tree,it),re.bi_buf=0,re.bi_valid=0,He(re)},l._tr_stored_block=se,l._tr_flush_block=function(re,Ee,Je,Xe){var ge,st,xt=0;0<re.level?(2===re.strm.data_type&&(re.strm.data_type=function(ot){var Pt,Cn=4093624447;for(Pt=0;Pt<=31;Pt++,Cn>>>=1)if(1&Cn&&0!==ot.dyn_ltree[2*Pt])return 0;if(0!==ot.dyn_ltree[18]||0!==ot.dyn_ltree[20]||0!==ot.dyn_ltree[26])return 1;for(Pt=32;Pt<W;Pt++)if(0!==ot.dyn_ltree[2*Pt])return 1;return 0}(re)),rn(re,re.l_desc),rn(re,re.d_desc),xt=function(ot){var Pt;for(N(ot,ot.dyn_ltree,ot.l_desc.max_code),N(ot,ot.dyn_dtree,ot.d_desc.max_code),rn(ot,ot.bl_desc),Pt=L-1;3<=Pt&&0===ot.bl_tree[2*we[Pt]+1];Pt--);return ot.opt_len+=3*(Pt+1)+5+5+4,Pt}(re),(st=re.static_len+3+7>>>3)<=(ge=re.opt_len+3+7>>>3)&&(ge=st)):ge=st=Je+5,Je+4<=ge&&-1!==Ee?se(re,Ee,Je,Xe):4===re.strategy||st===ge?(_e(re,2+(Xe?1:0),3),At(re,Ge,J)):(_e(re,4+(Xe?1:0),3),function(ot,Pt,Cn,Ot){var dn;for(_e(ot,Pt-257,5),_e(ot,Cn-1,5),_e(ot,Ot-4,4),dn=0;dn<Ot;dn++)_e(ot,ot.bl_tree[2*we[dn]+1],3);Ke(ot,ot.dyn_ltree,Pt-1),Ke(ot,ot.dyn_dtree,Cn-1)}(re,re.l_desc.max_code+1,re.d_desc.max_code+1,xt+1),At(re,re.dyn_ltree,re.dyn_dtree)),He(re),Xe&&ut(re)},l._tr_tally=function(re,Ee,Je){return re.pending_buf[re.d_buf+2*re.last_lit]=Ee>>>8&255,re.pending_buf[re.d_buf+2*re.last_lit+1]=255&Ee,re.pending_buf[re.l_buf+re.last_lit]=255&Je,re.last_lit++,0===Ee?re.dyn_ltree[2*Je]++:(re.matches++,Ee--,re.dyn_ltree[2*(I[Je]+W+1)]++,re.dyn_dtree[2*Le(Ee)]++),re.last_lit===re.lit_bufsize-1},l._tr_align=function(re){var Ee;_e(re,2,3),pe(re,le,Ge),16===(Ee=re).bi_valid?(Ce(Ee,Ee.bi_buf),Ee.bi_buf=0,Ee.bi_valid=0):8<=Ee.bi_valid&&(Ee.pending_buf[Ee.pending++]=255&Ee.bi_buf,Ee.bi_buf>>=8,Ee.bi_valid-=8)}},{"../utils/common":41}],53:[function(ee,B,l){"use strict";B.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(ee,B,l){(function(V){!function(M,F){"use strict";if(!M.setImmediate){var H,j,Q,W,q=1,z={},L=!1,P=M.document,G=Object.getPrototypeOf&&Object.getPrototypeOf(M);G=G&&G.setTimeout?G:M,H="[object process]"==={}.toString.call(M.process)?function(ie){process.nextTick(function(){X(ie)})}:function(){if(M.postMessage&&!M.importScripts){var ie=!0,ae=M.onmessage;return M.onmessage=function(){ie=!1},M.postMessage("","*"),M.onmessage=ae,ie}}()?(W="setImmediate$"+Math.random()+"$",M.addEventListener?M.addEventListener("message",le,!1):M.attachEvent("onmessage",le),function(ie){M.postMessage(W+ie,"*")}):M.MessageChannel?((Q=new MessageChannel).port1.onmessage=function(ie){X(ie.data)},function(ie){Q.port2.postMessage(ie)}):P&&"onreadystatechange"in P.createElement("script")?(j=P.documentElement,function(ie){var ae=P.createElement("script");ae.onreadystatechange=function(){X(ie),ae.onreadystatechange=null,j.removeChild(ae),ae=null},j.appendChild(ae)}):function(ie){setTimeout(X,0,ie)},G.setImmediate=function(ie){"function"!=typeof ie&&(ie=new Function(""+ie));for(var ae=new Array(arguments.length-1),ye=0;ye<ae.length;ye++)ae[ye]=arguments[ye+1];return z[q]={callback:ie,args:ae},H(q),q++},G.clearImmediate=U}function U(ie){delete z[ie]}function X(ie){if(L)setTimeout(X,0,ie);else{var ae=z[ie];if(ae){L=!0;try{!function(ye){var ve=ye.callback,Te=ye.args;switch(Te.length){case 0:ve();break;case 1:ve(Te[0]);break;case 2:ve(Te[0],Te[1]);break;case 3:ve(Te[0],Te[1],Te[2]);break;default:ve.apply(F,Te)}}(ae)}finally{U(ie),L=!1}}}}function le(ie){ie.source===M&&"string"==typeof ie.data&&0===ie.data.indexOf(W)&&X(+ie.data.slice(W.length))}}(typeof self>"u"?void 0===V?this:V:self)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)},9751:(Yt,ee,B)=>{"use strict";B.d(ee,{y:()=>W});var l=B(930),V=B(727),M=B(8822),F=B(9635),H=B(2416),j=B(576),Q=B(2806);let W=(()=>{class P{constructor(U){U&&(this._subscribe=U)}lift(U){const X=new P;return X.source=this,X.operator=U,X}subscribe(U,X,le){const ie=function L(P){return P&&P instanceof l.Lv||function z(P){return P&&(0,j.m)(P.next)&&(0,j.m)(P.error)&&(0,j.m)(P.complete)}(P)&&(0,V.Nn)(P)}(U)?U:new l.Hp(U,X,le);return(0,Q.x)(()=>{const{operator:ae,source:ye}=this;ie.add(ae?ae.call(ie,ye):ye?this._subscribe(ie):this._trySubscribe(ie))}),ie}_trySubscribe(U){try{return this._subscribe(U)}catch(X){U.error(X)}}forEach(U,X){return new(X=q(X))((le,ie)=>{const ae=new l.Hp({next:ye=>{try{U(ye)}catch(ve){ie(ve),ae.unsubscribe()}},error:ie,complete:le});this.subscribe(ae)})}_subscribe(U){var X;return null===(X=this.source)||void 0===X?void 0:X.subscribe(U)}[M.L](){return this}pipe(...U){return(0,F.U)(U)(this)}toPromise(U){return new(U=q(U))((X,le)=>{let ie;this.subscribe(ae=>ie=ae,ae=>le(ae),()=>X(ie))})}}return P.create=G=>new P(G),P})();function q(P){var G;return null!==(G=P??H.v.Promise)&&void 0!==G?G:Promise}},7579:(Yt,ee,B)=>{"use strict";B.d(ee,{x:()=>Q});var l=B(9751),V=B(727);const F=(0,B(3888).d)(q=>function(){q(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var H=B(8737),j=B(2806);let Q=(()=>{class q extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(L){const P=new W(this,this);return P.operator=L,P}_throwIfClosed(){if(this.closed)throw new F}next(L){(0,j.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const P of this.currentObservers)P.next(L)}})}error(L){(0,j.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=L;const{observers:P}=this;for(;P.length;)P.shift().error(L)}})}complete(){(0,j.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:L}=this;for(;L.length;)L.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var L;return(null===(L=this.observers)||void 0===L?void 0:L.length)>0}_trySubscribe(L){return this._throwIfClosed(),super._trySubscribe(L)}_subscribe(L){return this._throwIfClosed(),this._checkFinalizedStatuses(L),this._innerSubscribe(L)}_innerSubscribe(L){const{hasError:P,isStopped:G,observers:U}=this;return P||G?V.Lc:(this.currentObservers=null,U.push(L),new V.w0(()=>{this.currentObservers=null,(0,H.P)(U,L)}))}_checkFinalizedStatuses(L){const{hasError:P,thrownError:G,isStopped:U}=this;P?L.error(G):U&&L.complete()}asObservable(){const L=new l.y;return L.source=this,L}}return q.create=(z,L)=>new W(z,L),q})();class W extends Q{constructor(z,L){super(),this.destination=z,this.source=L}next(z){var L,P;null===(P=null===(L=this.destination)||void 0===L?void 0:L.next)||void 0===P||P.call(L,z)}error(z){var L,P;null===(P=null===(L=this.destination)||void 0===L?void 0:L.error)||void 0===P||P.call(L,z)}complete(){var z,L;null===(L=null===(z=this.destination)||void 0===z?void 0:z.complete)||void 0===L||L.call(z)}_subscribe(z){var L,P;return null!==(P=null===(L=this.source)||void 0===L?void 0:L.subscribe(z))&&void 0!==P?P:V.Lc}}},930:(Yt,ee,B)=>{"use strict";B.d(ee,{Hp:()=>le,Lv:()=>P});var l=B(576),V=B(727),M=B(2416),F=B(7849),H=B(5032);const j=q("C",void 0,void 0);function q(Te,de,we){return{kind:Te,value:de,error:we}}var z=B(3410),L=B(2806);class P extends V.w0{constructor(de){super(),this.isStopped=!1,de?(this.destination=de,(0,V.Nn)(de)&&de.add(this)):this.destination=ve}static create(de,we,Ge){return new le(de,we,Ge)}next(de){this.isStopped?ye(function W(Te){return q("N",Te,void 0)}(de),this):this._next(de)}error(de){this.isStopped?ye(function Q(Te){return q("E",void 0,Te)}(de),this):(this.isStopped=!0,this._error(de))}complete(){this.isStopped?ye(j,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(de){this.destination.next(de)}_error(de){try{this.destination.error(de)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const G=Function.prototype.bind;function U(Te,de){return G.call(Te,de)}class X{constructor(de){this.partialObserver=de}next(de){const{partialObserver:we}=this;if(we.next)try{we.next(de)}catch(Ge){ie(Ge)}}error(de){const{partialObserver:we}=this;if(we.error)try{we.error(de)}catch(Ge){ie(Ge)}else ie(de)}complete(){const{partialObserver:de}=this;if(de.complete)try{de.complete()}catch(we){ie(we)}}}class le extends P{constructor(de,we,Ge){let J;if(super(),(0,l.m)(de)||!de)J={next:de??void 0,error:we??void 0,complete:Ge??void 0};else{let Me;this&&M.v.useDeprecatedNextContext?(Me=Object.create(de),Me.unsubscribe=()=>this.unsubscribe(),J={next:de.next&&U(de.next,Me),error:de.error&&U(de.error,Me),complete:de.complete&&U(de.complete,Me)}):J=de}this.destination=new X(J)}}function ie(Te){M.v.useDeprecatedSynchronousErrorHandling?(0,L.O)(Te):(0,F.h)(Te)}function ye(Te,de){const{onStoppedNotification:we}=M.v;we&&z.z.setTimeout(()=>we(Te,de))}const ve={closed:!0,next:H.Z,error:function ae(Te){throw Te},complete:H.Z}},727:(Yt,ee,B)=>{"use strict";B.d(ee,{Lc:()=>j,w0:()=>H,Nn:()=>Q});var l=B(576);const M=(0,B(3888).d)(q=>function(L){q(this),this.message=L?`${L.length} errors occurred during unsubscription:\n${L.map((P,G)=>`${G+1}) ${P.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=L});var F=B(8737);class H{constructor(z){this.initialTeardown=z,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let z;if(!this.closed){this.closed=!0;const{_parentage:L}=this;if(L)if(this._parentage=null,Array.isArray(L))for(const U of L)U.remove(this);else L.remove(this);const{initialTeardown:P}=this;if((0,l.m)(P))try{P()}catch(U){z=U instanceof M?U.errors:[U]}const{_finalizers:G}=this;if(G){this._finalizers=null;for(const U of G)try{W(U)}catch(X){z=z??[],X instanceof M?z=[...z,...X.errors]:z.push(X)}}if(z)throw new M(z)}}add(z){var L;if(z&&z!==this)if(this.closed)W(z);else{if(z instanceof H){if(z.closed||z._hasParent(this))return;z._addParent(this)}(this._finalizers=null!==(L=this._finalizers)&&void 0!==L?L:[]).push(z)}}_hasParent(z){const{_parentage:L}=this;return L===z||Array.isArray(L)&&L.includes(z)}_addParent(z){const{_parentage:L}=this;this._parentage=Array.isArray(L)?(L.push(z),L):L?[L,z]:z}_removeParent(z){const{_parentage:L}=this;L===z?this._parentage=null:Array.isArray(L)&&(0,F.P)(L,z)}remove(z){const{_finalizers:L}=this;L&&(0,F.P)(L,z),z instanceof H&&z._removeParent(this)}}H.EMPTY=(()=>{const q=new H;return q.closed=!0,q})();const j=H.EMPTY;function Q(q){return q instanceof H||q&&"closed"in q&&(0,l.m)(q.remove)&&(0,l.m)(q.add)&&(0,l.m)(q.unsubscribe)}function W(q){(0,l.m)(q)?q():q.unsubscribe()}},2416:(Yt,ee,B)=>{"use strict";B.d(ee,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Yt,ee,B)=>{"use strict";B.d(ee,{E:()=>V});const V=new(B(9751).y)(H=>H.complete())},8996:(Yt,ee,B)=>{"use strict";B.d(ee,{D:()=>de});var l=B(8421),V=B(5363),M=B(9468),j=B(9751),W=B(2202),q=B(576),z=B(9672);function P(we,Ge){if(!we)throw new Error("Iterable cannot be null");return new j.y(J=>{(0,z.f)(J,Ge,()=>{const Me=we[Symbol.asyncIterator]();(0,z.f)(J,Ge,()=>{Me.next().then(I=>{I.done?J.complete():J.next(I.value)})},0,!0)})})}var G=B(3670),U=B(8239),X=B(1144),le=B(6495),ie=B(2206),ae=B(4532),ye=B(3260);function de(we,Ge){return Ge?function Te(we,Ge){if(null!=we){if((0,G.c)(we))return function F(we,Ge){return(0,l.Xf)(we).pipe((0,M.R)(Ge),(0,V.Q)(Ge))}(we,Ge);if((0,X.z)(we))return function Q(we,Ge){return new j.y(J=>{let Me=0;return Ge.schedule(function(){Me===we.length?J.complete():(J.next(we[Me++]),J.closed||this.schedule())})})}(we,Ge);if((0,U.t)(we))return function H(we,Ge){return(0,l.Xf)(we).pipe((0,M.R)(Ge),(0,V.Q)(Ge))}(we,Ge);if((0,ie.D)(we))return P(we,Ge);if((0,le.T)(we))return function L(we,Ge){return new j.y(J=>{let Me;return(0,z.f)(J,Ge,()=>{Me=we[W.h](),(0,z.f)(J,Ge,()=>{let I,Re;try{({value:I,done:Re}=Me.next())}catch(et){return void J.error(et)}Re?J.complete():J.next(I)},0,!0)}),()=>(0,q.m)(Me?.return)&&Me.return()})}(we,Ge);if((0,ye.L)(we))return function ve(we,Ge){return P((0,ye.Q)(we),Ge)}(we,Ge)}throw(0,ae.z)(we)}(we,Ge):(0,l.Xf)(we)}},8421:(Yt,ee,B)=>{"use strict";B.d(ee,{Xf:()=>G});var l=B(7582),V=B(1144),M=B(8239),F=B(9751),H=B(3670),j=B(2206),Q=B(4532),W=B(6495),q=B(3260),z=B(576),L=B(7849),P=B(8822);function G(Te){if(Te instanceof F.y)return Te;if(null!=Te){if((0,H.c)(Te))return function U(Te){return new F.y(de=>{const we=Te[P.L]();if((0,z.m)(we.subscribe))return we.subscribe(de);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Te);if((0,V.z)(Te))return function X(Te){return new F.y(de=>{for(let we=0;we<Te.length&&!de.closed;we++)de.next(Te[we]);de.complete()})}(Te);if((0,M.t)(Te))return function le(Te){return new F.y(de=>{Te.then(we=>{de.closed||(de.next(we),de.complete())},we=>de.error(we)).then(null,L.h)})}(Te);if((0,j.D)(Te))return ae(Te);if((0,W.T)(Te))return function ie(Te){return new F.y(de=>{for(const we of Te)if(de.next(we),de.closed)return;de.complete()})}(Te);if((0,q.L)(Te))return function ye(Te){return ae((0,q.Q)(Te))}(Te)}throw(0,Q.z)(Te)}function ae(Te){return new F.y(de=>{(function ve(Te,de){var we,Ge,J,Me;return(0,l.mG)(this,void 0,void 0,function*(){try{for(we=(0,l.KL)(Te);!(Ge=yield we.next()).done;)if(de.next(Ge.value),de.closed)return}catch(I){J={error:I}}finally{try{Ge&&!Ge.done&&(Me=we.return)&&(yield Me.call(we))}finally{if(J)throw J.error}}de.complete()})})(Te,de).catch(we=>de.error(we))})}},6451:(Yt,ee,B)=>{"use strict";B.d(ee,{T:()=>j});var l=B(8189),V=B(8421),M=B(515),F=B(3269),H=B(8996);function j(...Q){const W=(0,F.yG)(Q),q=(0,F._6)(Q,1/0),z=Q;return z.length?1===z.length?(0,V.Xf)(z[0]):(0,l.J)(q)((0,H.D)(z,W)):M.E}},5403:(Yt,ee,B)=>{"use strict";B.d(ee,{x:()=>V});var l=B(930);function V(F,H,j,Q,W){return new M(F,H,j,Q,W)}class M extends l.Lv{constructor(H,j,Q,W,q,z){super(H),this.onFinalize=q,this.shouldUnsubscribe=z,this._next=j?function(L){try{j(L)}catch(P){H.error(P)}}:super._next,this._error=W?function(L){try{W(L)}catch(P){H.error(P)}finally{this.unsubscribe()}}:super._error,this._complete=Q?function(){try{Q()}catch(L){H.error(L)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var H;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:j}=this;super.unsubscribe(),!j&&(null===(H=this.onFinalize)||void 0===H||H.call(this))}}}},4004:(Yt,ee,B)=>{"use strict";B.d(ee,{U:()=>M});var l=B(4482),V=B(5403);function M(F,H){return(0,l.e)((j,Q)=>{let W=0;j.subscribe((0,V.x)(Q,q=>{Q.next(F.call(H,q,W++))}))})}},8189:(Yt,ee,B)=>{"use strict";B.d(ee,{J:()=>M});var l=B(5577),V=B(4671);function M(F=1/0){return(0,l.z)(V.y,F)}},5577:(Yt,ee,B)=>{"use strict";B.d(ee,{z:()=>W});var l=B(4004),V=B(8421),M=B(4482),F=B(9672),H=B(5403),Q=B(576);function W(q,z,L=1/0){return(0,Q.m)(z)?W((P,G)=>(0,l.U)((U,X)=>z(P,U,G,X))((0,V.Xf)(q(P,G))),L):("number"==typeof z&&(L=z),(0,M.e)((P,G)=>function j(q,z,L,P,G,U,X,le){const ie=[];let ae=0,ye=0,ve=!1;const Te=()=>{ve&&!ie.length&&!ae&&z.complete()},de=Ge=>ae<P?we(Ge):ie.push(Ge),we=Ge=>{U&&z.next(Ge),ae++;let J=!1;(0,V.Xf)(L(Ge,ye++)).subscribe((0,H.x)(z,Me=>{G?.(Me),U?de(Me):z.next(Me)},()=>{J=!0},void 0,()=>{if(J)try{for(ae--;ie.length&&ae<P;){const Me=ie.shift();X?(0,F.f)(z,X,()=>we(Me)):we(Me)}Te()}catch(Me){z.error(Me)}}))};return q.subscribe((0,H.x)(z,de,()=>{ve=!0,Te()})),()=>{le?.()}}(P,G,q,L)))}},5363:(Yt,ee,B)=>{"use strict";B.d(ee,{Q:()=>F});var l=B(9672),V=B(4482),M=B(5403);function F(H,j=0){return(0,V.e)((Q,W)=>{Q.subscribe((0,M.x)(W,q=>(0,l.f)(W,H,()=>W.next(q),j),()=>(0,l.f)(W,H,()=>W.complete(),j),q=>(0,l.f)(W,H,()=>W.error(q),j)))})}},3099:(Yt,ee,B)=>{"use strict";B.d(ee,{B:()=>H});var l=B(8421),V=B(7579),M=B(930),F=B(4482);function H(Q={}){const{connector:W=(()=>new V.x),resetOnError:q=!0,resetOnComplete:z=!0,resetOnRefCountZero:L=!0}=Q;return P=>{let G,U,X,le=0,ie=!1,ae=!1;const ye=()=>{U?.unsubscribe(),U=void 0},ve=()=>{ye(),G=X=void 0,ie=ae=!1},Te=()=>{const de=G;ve(),de?.unsubscribe()};return(0,F.e)((de,we)=>{le++,!ae&&!ie&&ye();const Ge=X=X??W();we.add(()=>{le--,0===le&&!ae&&!ie&&(U=j(Te,L))}),Ge.subscribe(we),!G&&le>0&&(G=new M.Hp({next:J=>Ge.next(J),error:J=>{ae=!0,ye(),U=j(ve,q,J),Ge.error(J)},complete:()=>{ie=!0,ye(),U=j(ve,z),Ge.complete()}}),(0,l.Xf)(de).subscribe(G))})(P)}}function j(Q,W,...q){if(!0===W)return void Q();if(!1===W)return;const z=new M.Hp({next:()=>{z.unsubscribe(),Q()}});return(0,l.Xf)(W(...q)).subscribe(z)}},9468:(Yt,ee,B)=>{"use strict";B.d(ee,{R:()=>V});var l=B(4482);function V(M,F=0){return(0,l.e)((H,j)=>{j.add(M.schedule(()=>H.subscribe(j),F))})}},8505:(Yt,ee,B)=>{"use strict";B.d(ee,{b:()=>H});var l=B(576),V=B(4482),M=B(5403),F=B(4671);function H(j,Q,W){const q=(0,l.m)(j)||Q||W?{next:j,error:Q,complete:W}:j;return q?(0,V.e)((z,L)=>{var P;null===(P=q.subscribe)||void 0===P||P.call(q);let G=!0;z.subscribe((0,M.x)(L,U=>{var X;null===(X=q.next)||void 0===X||X.call(q,U),L.next(U)},()=>{var U;G=!1,null===(U=q.complete)||void 0===U||U.call(q),L.complete()},U=>{var X;G=!1,null===(X=q.error)||void 0===X||X.call(q,U),L.error(U)},()=>{var U,X;G&&(null===(U=q.unsubscribe)||void 0===U||U.call(q)),null===(X=q.finalize)||void 0===X||X.call(q)}))}):F.y}},4408:(Yt,ee,B)=>{"use strict";B.d(ee,{o:()=>H});var l=B(727);class V extends l.w0{constructor(Q,W){super()}schedule(Q,W=0){return this}}const M={setInterval(j,Q,...W){const{delegate:q}=M;return q?.setInterval?q.setInterval(j,Q,...W):setInterval(j,Q,...W)},clearInterval(j){const{delegate:Q}=M;return(Q?.clearInterval||clearInterval)(j)},delegate:void 0};var F=B(8737);class H extends V{constructor(Q,W){super(Q,W),this.scheduler=Q,this.work=W,this.pending=!1}schedule(Q,W=0){var q;if(this.closed)return this;this.state=Q;const z=this.id,L=this.scheduler;return null!=z&&(this.id=this.recycleAsyncId(L,z,W)),this.pending=!0,this.delay=W,this.id=null!==(q=this.id)&&void 0!==q?q:this.requestAsyncId(L,this.id,W),this}requestAsyncId(Q,W,q=0){return M.setInterval(Q.flush.bind(Q,this),q)}recycleAsyncId(Q,W,q=0){if(null!=q&&this.delay===q&&!1===this.pending)return W;null!=W&&M.clearInterval(W)}execute(Q,W){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const q=this._execute(Q,W);if(q)return q;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Q,W){let z,q=!1;try{this.work(Q)}catch(L){q=!0,z=L||new Error("Scheduled action threw falsy error")}if(q)return this.unsubscribe(),z}unsubscribe(){if(!this.closed){const{id:Q,scheduler:W}=this,{actions:q}=W;this.work=this.state=this.scheduler=null,this.pending=!1,(0,F.P)(q,this),null!=Q&&(this.id=this.recycleAsyncId(W,Q,null)),this.delay=null,super.unsubscribe()}}}},7565:(Yt,ee,B)=>{"use strict";B.d(ee,{v:()=>M});var l=B(6063);class V{constructor(H,j=V.now){this.schedulerActionCtor=H,this.now=j}schedule(H,j=0,Q){return new this.schedulerActionCtor(this,H).schedule(Q,j)}}V.now=l.l.now;class M extends V{constructor(H,j=V.now){super(H,j),this.actions=[],this._active=!1}flush(H){const{actions:j}=this;if(this._active)return void j.push(H);let Q;this._active=!0;do{if(Q=H.execute(H.state,H.delay))break}while(H=j.shift());if(this._active=!1,Q){for(;H=j.shift();)H.unsubscribe();throw Q}}}},4986:(Yt,ee,B)=>{"use strict";B.d(ee,{P:()=>F,z:()=>M});var l=B(4408);const M=new(B(7565).v)(l.o),F=M},6063:(Yt,ee,B)=>{"use strict";B.d(ee,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},3410:(Yt,ee,B)=>{"use strict";B.d(ee,{z:()=>l});const l={setTimeout(V,M,...F){const{delegate:H}=l;return H?.setTimeout?H.setTimeout(V,M,...F):setTimeout(V,M,...F)},clearTimeout(V){const{delegate:M}=l;return(M?.clearTimeout||clearTimeout)(V)},delegate:void 0}},2202:(Yt,ee,B)=>{"use strict";B.d(ee,{h:()=>V});const V=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Yt,ee,B)=>{"use strict";B.d(ee,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(Yt,ee,B)=>{"use strict";B.d(ee,{_6:()=>j,jO:()=>F,yG:()=>H});var l=B(576),V=B(3532);function M(Q){return Q[Q.length-1]}function F(Q){return(0,l.m)(M(Q))?Q.pop():void 0}function H(Q){return(0,V.K)(M(Q))?Q.pop():void 0}function j(Q,W){return"number"==typeof M(Q)?Q.pop():W}},8737:(Yt,ee,B)=>{"use strict";function l(V,M){if(V){const F=V.indexOf(M);0<=F&&V.splice(F,1)}}B.d(ee,{P:()=>l})},3888:(Yt,ee,B)=>{"use strict";function l(V){const F=V(H=>{Error.call(H),H.stack=(new Error).stack});return F.prototype=Object.create(Error.prototype),F.prototype.constructor=F,F}B.d(ee,{d:()=>l})},2806:(Yt,ee,B)=>{"use strict";B.d(ee,{O:()=>F,x:()=>M});var l=B(2416);let V=null;function M(H){if(l.v.useDeprecatedSynchronousErrorHandling){const j=!V;if(j&&(V={errorThrown:!1,error:null}),H(),j){const{errorThrown:Q,error:W}=V;if(V=null,Q)throw W}}else H()}function F(H){l.v.useDeprecatedSynchronousErrorHandling&&V&&(V.errorThrown=!0,V.error=H)}},9672:(Yt,ee,B)=>{"use strict";function l(V,M,F,H=0,j=!1){const Q=M.schedule(function(){F(),j?V.add(this.schedule(null,H)):this.unsubscribe()},H);if(V.add(Q),!j)return Q}B.d(ee,{f:()=>l})},4671:(Yt,ee,B)=>{"use strict";function l(V){return V}B.d(ee,{y:()=>l})},1144:(Yt,ee,B)=>{"use strict";B.d(ee,{z:()=>l});const l=V=>V&&"number"==typeof V.length&&"function"!=typeof V},2206:(Yt,ee,B)=>{"use strict";B.d(ee,{D:()=>V});var l=B(576);function V(M){return Symbol.asyncIterator&&(0,l.m)(M?.[Symbol.asyncIterator])}},576:(Yt,ee,B)=>{"use strict";function l(V){return"function"==typeof V}B.d(ee,{m:()=>l})},3670:(Yt,ee,B)=>{"use strict";B.d(ee,{c:()=>M});var l=B(8822),V=B(576);function M(F){return(0,V.m)(F[l.L])}},6495:(Yt,ee,B)=>{"use strict";B.d(ee,{T:()=>M});var l=B(2202),V=B(576);function M(F){return(0,V.m)(F?.[l.h])}},8239:(Yt,ee,B)=>{"use strict";B.d(ee,{t:()=>V});var l=B(576);function V(M){return(0,l.m)(M?.then)}},3260:(Yt,ee,B)=>{"use strict";B.d(ee,{L:()=>F,Q:()=>M});var l=B(7582),V=B(576);function M(H){return(0,l.FC)(this,arguments,function*(){const Q=H.getReader();try{for(;;){const{value:W,done:q}=yield(0,l.qq)(Q.read());if(q)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(W)}}finally{Q.releaseLock()}})}function F(H){return(0,V.m)(H?.getReader)}},3532:(Yt,ee,B)=>{"use strict";B.d(ee,{K:()=>V});var l=B(576);function V(M){return M&&(0,l.m)(M.schedule)}},4482:(Yt,ee,B)=>{"use strict";B.d(ee,{A:()=>V,e:()=>M});var l=B(576);function V(F){return(0,l.m)(F?.lift)}function M(F){return H=>{if(V(H))return H.lift(function(j){try{return F(j,this)}catch(Q){this.error(Q)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Yt,ee,B)=>{"use strict";function l(){}B.d(ee,{Z:()=>l})},9635:(Yt,ee,B)=>{"use strict";B.d(ee,{U:()=>M,z:()=>V});var l=B(4671);function V(...F){return M(F)}function M(F){return 0===F.length?l.y:1===F.length?F[0]:function(j){return F.reduce((Q,W)=>W(Q),j)}}},7849:(Yt,ee,B)=>{"use strict";B.d(ee,{h:()=>M});var l=B(2416),V=B(3410);function M(F){V.z.setTimeout(()=>{const{onUnhandledError:H}=l.v;if(!H)throw F;H(F)})}},4532:(Yt,ee,B)=>{"use strict";function l(V){return new TypeError(`You provided ${null!==V&&"object"==typeof V?"an invalid object":`'${V}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}B.d(ee,{z:()=>l})},4650:(Yt,ee,B)=>{"use strict";B.d(ee,{$8M:()=>Ja,$WT:()=>Zr,$Z:()=>Vg,AFp:()=>Up,ALo:()=>W2,AaK:()=>W,BQk:()=>z2,CHM:()=>Hc,CRH:()=>Lp,CZH:()=>s0,CqO:()=>Mf,D6c:()=>Q7,EJc:()=>P7,EiD:()=>ws,EpF:()=>d5,F$t:()=>m_,F4k:()=>h5,FYo:()=>U6,FiY:()=>nl,Gf:()=>w7,GfV:()=>_g,Gpc:()=>L,Hsn:()=>g_,JOm:()=>Kt,JVY:()=>l3,JZr:()=>le,KtG:()=>Bc,L6k:()=>u3,LAX:()=>$r,LFG:()=>En,LSH:()=>L1,Lbi:()=>Fu,Lck:()=>o7,MAs:()=>l5,MMx:()=>Tp,MR2:()=>ty,NdJ:()=>xf,OlP:()=>xn,Oqu:()=>Yf,P3R:()=>ph,PXZ:()=>Yu,Q6J:()=>Ef,QGY:()=>L3,QbO:()=>dr,Qsj:()=>ly,R0b:()=>Si,RDi:()=>a3,Rgc:()=>Z2,SBq:()=>wh,Sil:()=>Ci,Suo:()=>b7,TTD:()=>e1,TgZ:()=>k2,Tol:()=>Oh,Udp:()=>R2,W1O:()=>id,WFA:()=>P2,WLB:()=>Ws,X6Q:()=>H7,XFs:()=>ge,Xpm:()=>vo,Xts:()=>P6,Y36:()=>Th,YKP:()=>Qh,YNc:()=>Sf,Yjl:()=>_n,Yz7:()=>wt,Z0I:()=>N,ZZ4:()=>im,_Bn:()=>Ep,_UZ:()=>Df,_Vd:()=>_h,_c5:()=>Dw,_uU:()=>Fh,aQg:()=>g0,c2e:()=>S8,cJS:()=>At,cg1:()=>np,d8E:()=>Z3,dDg:()=>R7,dqk:()=>Ot,dwT:()=>V5,eBb:()=>d3,eFA:()=>Kp,eJc:()=>St,ekj:()=>B3,eoX:()=>qp,f3M:()=>hr,g9A:()=>jp,h0i:()=>Ou,hGG:()=>Mw,hij:()=>$3,iGM:()=>_7,ifc:()=>Ze,ip1:()=>A7,jDz:()=>Jh,kL8:()=>rp,lG2:()=>Qt,lcZ:()=>K2,lqb:()=>B1,lri:()=>T8,mCW:()=>fl,n5z:()=>ru,oAB:()=>Ne,oJD:()=>f2,oxw:()=>p5,pB0:()=>uh,q3G:()=>or,q4F:()=>wg,qLn:()=>v2,qOj:()=>yf,qZA:()=>N3,qzn:()=>ji,rWj:()=>s4,sBO:()=>_w,s_b:()=>Sl,soG:()=>Xn,tBr:()=>tc,tb:()=>Wp,tp0:()=>Nt,uIk:()=>bf,vHH:()=>ie,vpe:()=>za,wAp:()=>Jt,xp6:()=>kg,ynx:()=>F3,z2F:()=>h0,z3N:()=>li,zSh:()=>Su,zs3:()=>Ch});var l=B(7579),V=B(727),M=B(9751),F=B(6451),H=B(3099);function j(s){for(let a in s)if(s[a]===j)return a;throw Error("Could not find renamed property on target object.")}function Q(s,a){for(const u in a)a.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&(s[u]=a[u])}function W(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(W).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const a=s.toString();if(null==a)return""+a;const u=a.indexOf("\n");return-1===u?a:a.substring(0,u)}function q(s,a){return null==s||""===s?null===a?"":a:null==a||""===a?s:s+" "+a}const z=j({__forward_ref__:j});function L(s){return s.__forward_ref__=L,s.toString=function(){return W(this())},s}function P(s){return G(s)?s():s}function G(s){return"function"==typeof s&&s.hasOwnProperty(z)&&s.__forward_ref__===L}function U(s){return s&&!!s.\u0275providers}const le="https://g.co/ng/security#xss";class ie extends Error{constructor(a,u){super(ae(a,u)),this.code=a}}function ae(s,a){return`NG0${Math.abs(s)}${a?": "+a.trim():""}`}function ye(s){return"string"==typeof s?s:null==s?"":String(s)}function Ge(s,a){throw new ie(-201,!1)}function pe(s,a){null==s&&function ke(s,a,u,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${u} ${d} ${a} <=Actual]`))}(a,s,null,"!=")}function wt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function At(s){return{providers:s.providers||[],imports:s.imports||[]}}function rn(s){return Ke(s,re)||Ke(s,Je)}function N(s){return null!==rn(s)}function Ke(s,a){return s.hasOwnProperty(a)?s[a]:null}function se(s){return s&&(s.hasOwnProperty(Ee)||s.hasOwnProperty(Xe))?s[Ee]:null}const re=j({\u0275prov:j}),Ee=j({\u0275inj:j}),Je=j({ngInjectableDef:j}),Xe=j({ngInjectorDef:j});var ge=(()=>((ge=ge||{})[ge.Default=0]="Default",ge[ge.Host=1]="Host",ge[ge.Self=2]="Self",ge[ge.SkipSelf=4]="SkipSelf",ge[ge.Optional=8]="Optional",ge))();let st;function ot(s){const a=st;return st=s,a}function Pt(s,a,u){const d=rn(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:u&ge.Optional?null:void 0!==a?a:void Ge(W(s))}const Ot=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Lr={},Mn="__NG_DI_FLAG__",ar="ngTempTokenPath",Vr="ngTokenPath",Pn=/\n/gm,oi="\u0275",Ln="__source";let Vo;function Sn(s){const a=Vo;return Vo=s,a}function Vi(s,a=ge.Default){if(void 0===Vo)throw new ie(-203,!1);return null===Vo?Pt(s,void 0,a):Vo.get(s,a&ge.Optional?null:void 0,a)}function En(s,a=ge.Default){return(function xt(){return st}()||Vi)(P(s),a)}function hr(s,a=ge.Default){return En(s,Mr(a))}function Mr(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function mo(s){const a=[];for(let u=0;u<s.length;u++){const d=P(s[u]);if(Array.isArray(d)){if(0===d.length)throw new ie(900,!1);let f,v=ge.Default;for(let w=0;w<d.length;w++){const S=d[w],D=go(S);"number"==typeof D?-1===D?f=S.token:v|=D:f=S}a.push(En(f,v))}else a.push(En(d))}return a}function Zn(s,a){return s[Mn]=a,s.prototype[Mn]=a,s}function go(s){return s[Mn]}function ce(s){return{toString:s}.toString()}var Se=(()=>((Se=Se||{})[Se.OnPush=0]="OnPush",Se[Se.Default=1]="Default",Se))(),Ze=(()=>{return(s=Ze||(Ze={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Ze;var s})();const Oe={},ht=[],tn=j({\u0275cmp:j}),kn=j({\u0275dir:j}),Cr=j({\u0275pipe:j}),er=j({\u0275mod:j}),Vn=j({\u0275fac:j}),Tn=j({__NG_ELEMENT_ID__:j});let fi=0;function vo(s){return ce(()=>{const a=Al(s),u={...a,decls:s.decls,vars:s.vars,template:s.template,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,onPush:s.changeDetection===Se.OnPush,directiveDefs:null,pipeDefs:null,dependencies:a.standalone&&s.dependencies||null,getStandaloneInjector:null,data:s.data||{},encapsulation:s.encapsulation||Ze.Emulated,id:"c"+fi++,styles:s.styles||ht,_:null,schemas:s.schemas||null,tView:null};Md(u);const d=s.dependencies;return u.directiveDefs=Js(d,!1),u.pipeDefs=Js(d,!0),u})}function Ac(s){return jt(s)||On(s)}function $e(s){return null!==s}function Ne(s){return ce(()=>({type:s.type,bootstrap:s.bootstrap||ht,declarations:s.declarations||ht,imports:s.imports||ht,exports:s.exports||ht,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function Ut(s,a){if(null==s)return Oe;const u={};for(const d in s)if(s.hasOwnProperty(d)){let f=s[d],v=f;Array.isArray(f)&&(v=f[1],f=f[0]),u[f]=d,a&&(a[f]=v)}return u}function Qt(s){return ce(()=>{const a=Al(s);return Md(a),a})}function _n(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function jt(s){return s[tn]||null}function On(s){return s[kn]||null}function zn(s){return s[Cr]||null}function Zr(s){const a=jt(s)||On(s)||zn(s);return null!==a&&a.standalone}function xr(s,a){const u=s[er]||null;if(!u&&!0===a)throw new Error(`Type ${W(s)} does not have '\u0275mod' property.`);return u}function Al(s){const a={};return{type:s.type,providersResolver:null,factory:null,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:a,exportAs:s.exportAs||null,standalone:!0===s.standalone,selectors:s.selectors||ht,viewQuery:s.viewQuery||null,features:s.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ut(s.inputs,a),outputs:Ut(s.outputs)}}function Md(s){s.features?.forEach(a=>a(s))}function Js(s,a){if(!s)return null;const u=a?zn:Ac;return()=>("function"==typeof s?s():s).map(d=>u(d)).filter($e)}const Ji=0,bt=1,on=2,Qn=3,Xi=4,Yn=5,Ir=6,Xs=7,fr=8,kc=9,pi=10,yn=11,zc=12,ea=13,ss=14,ta=15,Sr=16,Ha=17,as=18,yo=19,_o=20,si=21,Gn=22,Pc=1,Qu=2,Ba=7,ks=8,na=9,Qr=10;function Bi(s){return Array.isArray(s)&&"object"==typeof s[Pc]}function Yi(s){return Array.isArray(s)&&!0===s[Pc]}function Oc(s){return 0!=(4&s.flags)}function Ya(s){return s.componentOffset>-1}function Ju(s){return 1==(1&s.flags)}function eo(s){return!!s.template}function zl(s){return 0!=(256&s[on])}function Bo(s,a){return s.hasOwnProperty(Vn)?s[Vn]:null}class ra{constructor(a,u,d){this.previousValue=a,this.currentValue=u,this.firstChange=d}isFirstChange(){return this.firstChange}}function e1(){return Rc}function Rc(s){return s.type.prototype.ngOnChanges&&(s.setInput=t1),Pd}function Pd(){const s=O4(this),a=s?.current;if(a){const u=s.previous;if(u===Oe)s.previous=a;else for(let d in a)u[d]=a[d];s.current=null,this.ngOnChanges(a)}}function t1(s,a,u,d){const f=this.declaredInputs[u],v=O4(s)||function Nc(s,a){return s[zs]=a}(s,{previous:Oe,current:null}),w=v.current||(v.current={}),S=v.previous,D=S[f];w[f]=new ra(D&&D.currentValue,a,S===Oe),s[d]=a}e1.ngInherit=!0;const zs="__ngSimpleChanges__";function O4(s){return s[zs]||null}const Ai=function(s,a,u){};function Jr(s){for(;Array.isArray(s);)s=s[Ji];return s}function us(s,a){return Jr(a[s])}function Xr(s,a){return Jr(a[s.index])}function Rd(s,a){return s.data[a]}function gi(s,a){return s[a]}function Hr(s,a){const u=a[s];return Bi(u)?u:u[Ji]}function ds(s){return 64==(64&s[on])}function Os(s,a){return null==a?null:s[a]}function $a(s){s[as]=0}function Lc(s,a){s[Yn]+=a;let u=s,d=s[Qn];for(;null!==d&&(1===a&&1===u[Yn]||-1===a&&0===u[Yn]);)d[Yn]+=a,u=d,d=d[Qn]}const ln={lFrame:o1(null),bindingsEnabled:!0};function Ll(){return ln.bindingsEnabled}function We(){return ln.lFrame.lView}function fn(){return ln.lFrame.tView}function Hc(s){return ln.lFrame.contextLView=s,s[fr]}function Bc(s){return ln.lFrame.contextLView=null,s}function Br(){let s=ia();for(;null!==s&&64===s.type;)s=s.parent;return s}function ia(){return ln.lFrame.currentTNode}function ki(s,a){const u=ln.lFrame;u.currentTNode=s,u.isParent=a}function Hd(){return ln.lFrame.isParent}function Hl(){ln.lFrame.isParent=!1}function Ar(){const s=ln.lFrame;let a=s.bindingRootIndex;return-1===a&&(a=s.bindingRootIndex=s.tView.bindingStartIndex),a}function oa(){return ln.lFrame.bindingIndex++}function no(s){const a=ln.lFrame,u=a.bindingIndex;return a.bindingIndex=a.bindingIndex+s,u}function Bl(s,a){const u=ln.lFrame;u.bindingIndex=u.bindingRootIndex=s,kr(a)}function kr(s){ln.lFrame.currentDirectiveIndex=s}function Ga(s){const a=ln.lFrame.currentDirectiveIndex;return-1===a?null:s[a]}function r1(){return ln.lFrame.currentQueryIndex}function Yl(s){ln.lFrame.currentQueryIndex=s}function Yd(s){const a=s[bt];return 2===a.type?a.declTNode:1===a.type?s[Ir]:null}function Ul(s,a,u){if(u&ge.SkipSelf){let f=a,v=s;for(;!(f=f.parent,null!==f||u&ge.Host||(f=Yd(v),null===f||(v=v[ta],10&f.type))););if(null===f)return!1;a=f,s=v}const d=ln.lFrame=jc();return d.currentTNode=a,d.lView=s,!0}function jl(s){const a=jc(),u=s[bt];ln.lFrame=a,a.currentTNode=u.firstChild,a.lView=s,a.tView=u,a.contextLView=s,a.bindingIndex=u.bindingStartIndex,a.inI18n=!1}function jc(){const s=ln.lFrame,a=null===s?null:s.child;return null===a?o1(s):a}function o1(s){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=a),a}function $c(){const s=ln.lFrame;return ln.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Ud=$c;function $l(){const s=$c();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function ai(){return ln.lFrame.selectedIndex}function fs(s){ln.lFrame.selectedIndex=s}function nr(){const s=ln.lFrame;return Rd(s.tView,s.selectedIndex)}function Wl(s,a){for(let u=a.directiveStart,d=a.directiveEnd;u<d;u++){const v=s.data[u].type.prototype,{ngAfterContentInit:w,ngAfterContentChecked:S,ngAfterViewInit:D,ngAfterViewChecked:O,ngOnDestroy:$}=v;w&&(s.contentHooks??(s.contentHooks=[])).push(-u,w),S&&((s.contentHooks??(s.contentHooks=[])).push(u,S),(s.contentCheckHooks??(s.contentCheckHooks=[])).push(u,S)),D&&(s.viewHooks??(s.viewHooks=[])).push(-u,D),O&&((s.viewHooks??(s.viewHooks=[])).push(u,O),(s.viewCheckHooks??(s.viewCheckHooks=[])).push(u,O)),null!=$&&(s.destroyHooks??(s.destroyHooks=[])).push(u,$)}}function s1(s,a,u){c1(s,a,3,u)}function a1(s,a,u,d){(3&s[on])===u&&c1(s,a,u,d)}function $d(s,a){let u=s[on];(3&u)===a&&(u&=2047,u+=1,s[on]=u)}function c1(s,a,u,d){const v=d??-1,w=a.length-1;let S=0;for(let D=void 0!==d?65535&s[as]:0;D<w;D++)if("number"==typeof a[D+1]){if(S=a[D],null!=d&&S>=d)break}else a[D]<0&&(s[as]+=65536),(S<v||-1==v)&&(qa(s,u,a,D),s[as]=(4294901760&s[as])+D+2),D++}function qa(s,a,u,d){const f=u[d]<0,v=u[d+1],S=s[f?-u[d]:u[d]];if(f){if(s[on]>>11<s[as]>>16&&(3&s[on])===a){s[on]+=2048,Ai(4,S,v);try{v.call(S)}finally{Ai(5,S,v)}}}else{Ai(4,S,v);try{v.call(S)}finally{Ai(5,S,v)}}}const Wa=-1;class ps{constructor(a,u,d){this.factory=a,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=d}}function Ka(s,a,u){let d=0;for(;d<u.length;){const f=u[d];if("number"==typeof f){if(0!==f)break;d++;const v=u[d++],w=u[d++],S=u[d++];s.setAttribute(a,w,S,v)}else{const v=f,w=u[++d];la(v)?s.setProperty(a,v,w):s.setAttribute(a,v,w),d++}}return d}function l1(s){return 3===s||4===s||6===s}function la(s){return 64===s.charCodeAt(0)}function ua(s,a){if(null!==a&&0!==a.length)if(null===s||0===s.length)s=a.slice();else{let u=-1;for(let d=0;d<a.length;d++){const f=a[d];"number"==typeof f?u=f:0===u||Ql(s,u,f,null,-1===u||2===u?a[++d]:null)}}return s}function Ql(s,a,u,d,f){let v=0,w=s.length;if(-1===a)w=-1;else for(;v<s.length;){const S=s[v++];if("number"==typeof S){if(S===a){w=-1;break}if(S>a){w=v-1;break}}}for(;v<s.length;){const S=s[v];if("number"==typeof S)break;if(S===u){if(null===d)return void(null!==f&&(s[v+1]=f));if(d===s[v+1])return void(s[v+2]=f)}v++,null!==d&&v++,null!==f&&v++}-1!==w&&(s.splice(w,0,a),v=w+1),s.splice(v++,0,u),null!==d&&s.splice(v++,0,d),null!==f&&s.splice(v++,0,f)}function da(s){return s!==Wa}function Rs(s){return 32767&s}function ha(s,a){let u=function Gd(s){return s>>16}(s),d=a;for(;u>0;)d=d[ta],u--;return d}let Jl=!0;function qc(s){const a=Jl;return Jl=s,a}const Xl=255,qd=5;let fa=0;const ro={};function u1(s,a){const u=Qa(s,a);if(-1!==u)return u;const d=a[bt];d.firstCreatePass&&(s.injectorIndex=a.length,Za(d.data,s),Za(a,null),Za(d.blueprint,null));const f=Wd(s,a),v=s.injectorIndex;if(da(f)){const w=Rs(f),S=ha(f,a),D=S[bt].data;for(let O=0;O<8;O++)a[v+O]=S[w+O]|D[w+O]}return a[v+8]=f,v}function Za(s,a){s.push(0,0,0,0,0,0,0,0,a)}function Qa(s,a){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===a[s.injectorIndex+8]?-1:s.injectorIndex}function Wd(s,a){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let u=0,d=null,f=a;for(;null!==f;){if(d=Zc(f),null===d)return Wa;if(u++,f=f[ta],-1!==d.injectorIndex)return d.injectorIndex|u<<16}return Wa}function Un(s,a,u){!function ms(s,a,u){let d;"string"==typeof u?d=u.charCodeAt(0)||0:u.hasOwnProperty(Tn)&&(d=u[Tn]),null==d&&(d=u[Tn]=fa++);const f=d&Xl;a.data[s+(f>>qd)]|=1<<f}(s,a,u)}function eu(s,a,u){if(u&ge.Optional||void 0!==s)return s;Ge()}function d1(s,a,u,d){if(u&ge.Optional&&void 0===d&&(d=null),!(u&(ge.Self|ge.Host))){const f=s[kc],v=ot(void 0);try{return f?f.get(a,d,u&ge.Optional):Pt(a,d,u&ge.Optional)}finally{ot(v)}}return eu(d,0,u)}function tu(s,a,u,d=ge.Default,f){if(null!==s){if(1024&a[on]){const w=function f1(s,a,u,d,f){let v=s,w=a;for(;null!==v&&null!==w&&1024&w[on]&&!(256&w[on]);){const S=nu(v,w,u,d|ge.Self,ro);if(S!==ro)return S;let D=v.parent;if(!D){const O=w[si];if(O){const $=O.get(u,ro,d);if($!==ro)return $}D=Zc(w),w=w[ta]}v=D}return f}(s,a,u,d,ro);if(w!==ro)return w}const v=nu(s,a,u,d,ro);if(v!==ro)return v}return d1(a,u,d,f)}function nu(s,a,u,d,f){const v=function h1(s){if("string"==typeof s)return s.charCodeAt(0)||0;const a=s.hasOwnProperty(Tn)?s[Tn]:void 0;return"number"==typeof a?a>=0?a&Xl:H4:a}(u);if("function"==typeof v){if(!Ul(a,s,d))return d&ge.Host?eu(f,0,d):d1(a,u,d,f);try{const w=v(d);if(null!=w||d&ge.Optional)return w;Ge()}finally{Ud()}}else if("number"==typeof v){let w=null,S=Qa(s,a),D=Wa,O=d&ge.Host?a[Sr][Ir]:null;for((-1===S||d&ge.SkipSelf)&&(D=-1===S?Wd(s,a):a[S+8],D!==Wa&&Kc(d,!1)?(w=a[bt],S=Rs(D),a=ha(D,a)):S=-1);-1!==S;){const $=a[bt];if(Wc(v,S,$.data)){const oe=Yr(S,a,u,w,d,O);if(oe!==ro)return oe}D=a[S+8],D!==Wa&&Kc(d,a[bt].data[S+8]===O)&&Wc(v,S,a)?(w=$,S=Rs(D),a=ha(D,a)):S=-1}}return f}function Yr(s,a,u,d,f,v){const w=a[bt],S=w.data[s+8],$=pa(S,w,u,null==d?Ya(S)&&Jl:d!=w&&0!=(3&S.type),f&ge.Host&&v===S);return null!==$?Er(a,w,$,S):ro}function pa(s,a,u,d,f){const v=s.providerIndexes,w=a.data,S=1048575&v,D=s.directiveStart,$=v>>20,be=f?S+$:s.directiveEnd;for(let Pe=d?S:S+$;Pe<be;Pe++){const Qe=w[Pe];if(Pe<D&&u===Qe||Pe>=D&&Qe.type===u)return Pe}if(f){const Pe=w[D];if(Pe&&eo(Pe)&&Pe.type===u)return D}return null}function Er(s,a,u,d){let f=s[u];const v=a.data;if(function X0(s){return s instanceof ps}(f)){const w=f;w.resolving&&function Te(s,a){const u=a?`. Dependency path: ${a.join(" > ")} > ${s}`:"";throw new ie(-200,`Circular dependency in DI detected for ${s}${u}`)}(function ve(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():ye(s)}(v[u]));const S=qc(w.canSeeViewProviders);w.resolving=!0;const D=w.injectImpl?ot(w.injectImpl):null;Ul(s,d,ge.Default);try{f=s[u]=w.factory(void 0,v,s,d),a.firstCreatePass&&u>=d.directiveStart&&function J0(s,a,u){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:v}=a.type.prototype;if(d){const w=Rc(a);(u.preOrderHooks??(u.preOrderHooks=[])).push(s,w),(u.preOrderCheckHooks??(u.preOrderCheckHooks=[])).push(s,w)}f&&(u.preOrderHooks??(u.preOrderHooks=[])).push(0-s,f),v&&((u.preOrderHooks??(u.preOrderHooks=[])).push(s,v),(u.preOrderCheckHooks??(u.preOrderCheckHooks=[])).push(s,v))}(u,v[u],a)}finally{null!==D&&ot(D),qc(S),w.resolving=!1,Ud()}}return f}function Wc(s,a,u){return!!(u[a+(s>>qd)]&1<<s)}function Kc(s,a){return!(s&ge.Self||s&ge.Host&&a)}class gs{constructor(a,u){this._tNode=a,this._lView=u}get(a,u,d){return tu(this._tNode,this._lView,a,Mr(d),u)}}function H4(){return new gs(Br(),We())}function ru(s){return ce(()=>{const a=s.prototype.constructor,u=a[Vn]||ma(a),d=Object.prototype;let f=Object.getPrototypeOf(s.prototype).constructor;for(;f&&f!==d;){const v=f[Vn]||ma(f);if(v&&v!==u)return v;f=Object.getPrototypeOf(f)}return v=>new v})}function ma(s){return G(s)?()=>{const a=ma(P(s));return a&&a()}:Bo(s)}function Zc(s){const a=s[bt],u=a.type;return 2===u?a.declTNode:1===u?s[Ir]:null}function Ja(s){return function Kd(s,a){if("class"===a)return s.classes;if("style"===a)return s.styles;const u=s.attrs;if(u){const d=u.length;let f=0;for(;f<d;){const v=u[f];if(l1(v))break;if(0===v)f+=2;else if("number"==typeof v)for(f++;f<d&&"string"==typeof u[f];)f++;else{if(v===a)return u[f+1];f+=2}}}return null}(Br(),s)}const ga="__parameters__";function ya(s,a,u){return ce(()=>{const d=function va(s){return function(...u){if(s){const d=s(...u);for(const f in d)this[f]=d[f]}}}(a);function f(...v){if(this instanceof f)return d.apply(this,v),this;const w=new f(...v);return S.annotation=w,S;function S(D,O,$){const oe=D.hasOwnProperty(ga)?D[ga]:Object.defineProperty(D,ga,{value:[]})[ga];for(;oe.length<=$;)oe.push(null);return(oe[$]=oe[$]||[]).push(w),D}}return u&&(f.prototype=Object.create(u.prototype)),f.prototype.ngMetadataName=s,f.annotationCls=f,f})}class xn{constructor(a,u){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=wt({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Uo(s,a){s.forEach(u=>Array.isArray(u)?Uo(u,a):a(u))}function $4(s,a,u){a>=s.length?s.push(u):s.splice(a,0,u)}function wa(s,a){return a>=s.length-1?s.pop():s.splice(a,1)[0]}function ou(s,a){const u=[];for(let d=0;d<s;d++)u.push(a);return u}function zi(s,a,u){let d=Ui(s,a);return d>=0?s[1|d]=u:(d=~d,function au(s,a,u,d){let f=s.length;if(f==a)s.push(u,d);else if(1===f)s.push(d,s[0]),s[0]=u;else{for(f--,s.push(s[f-1],s[f]);f>a;)s[f]=s[f-2],f--;s[a]=u,s[a+1]=d}}(s,d,a,u)),d}function Nn(s,a){const u=Ui(s,a);if(u>=0)return s[1|u]}function Ui(s,a){return function Ct(s,a,u){let d=0,f=s.length>>u;for(;f!==d;){const v=d+(f-d>>1),w=s[v<<u];if(a===w)return v<<u;w>a?f=v:d=v+1}return~(f<<u)}(s,a,1)}const tc=Zn(ya("Inject",s=>({token:s})),-1),nl=Zn(ya("Optional"),8),Nt=Zn(ya("SkipSelf"),4);var Kt=(()=>((Kt=Kt||{})[Kt.Important=1]="Important",Kt[Kt.DashCase=2]="DashCase",Kt))();const Xd=new Map;let Eo=0;const xe="__ngContext__";function Ve(s,a){Bi(a)?(s[xe]=a[_o],function th(s){Xd.set(s[_o],s)}(a)):s[xe]=a}let To;function Bs(s,a){return To(s,a)}function T1(s){const a=s[Qn];return Yi(a)?a[Qn]:a}function D1(s){return Z4(s[ea])}function Da(s){return Z4(s[Xi])}function Z4(s){for(;null!==s&&!Yi(s);)s=s[Xi];return s}function Ma(s,a,u,d,f){if(null!=d){let v,w=!1;Yi(d)?v=d:Bi(d)&&(w=!0,d=d[Ji]);const S=Jr(d);0===s&&null!==u?null==f?x1(a,u,S):oc(a,u,S,f||null,!0):1===s&&null!==u?oc(a,u,S,f||null,!0):2===s?function e2(s,a,u){const d=xa(s,a);d&&function I1(s,a,u,d){s.removeChild(a,u,d)}(s,d,a,u)}(a,S,w):3===s&&a.destroyNode(S),null!=v&&function P1(s,a,u,d,f){const v=u[Ba];v!==Jr(u)&&Ma(a,s,d,v,f);for(let S=Qr;S<u.length;S++){const D=u[S];z1(D[bt],D,s,a,d,v)}}(a,s,v,u,f)}}function J4(s,a,u){return s.createElement(a,u)}function r3(s,a){const u=s[na],d=u.indexOf(a),f=a[Qn];512&a[on]&&(a[on]&=-513,Lc(f,-1)),u.splice(d,1)}function M1(s,a){if(s.length<=Qr)return;const u=Qr+a,d=s[u];if(d){const f=d[Ha];null!==f&&f!==s&&r3(f,d),a>0&&(s[u-1][Xi]=d[Xi]);const v=wa(s,Qr+a);!function b6(s,a){z1(s,a,a[yn],2,null,null),a[Ji]=null,a[Ir]=null}(d[bt],d);const w=v[yo];null!==w&&w.detachView(v[bt]),d[Qn]=null,d[Xi]=null,d[on]&=-65}return d}function ih(s,a){if(!(128&a[on])){const u=a[yn];u.destroyNode&&z1(s,a,u,3,null,null),function ug(s){let a=s[ea];if(!a)return ic(s[bt],s);for(;a;){let u=null;if(Bi(a))u=a[ea];else{const d=a[Qr];d&&(u=d)}if(!u){for(;a&&!a[Xi]&&a!==s;)Bi(a)&&ic(a[bt],a),a=a[Qn];null===a&&(a=s),Bi(a)&&ic(a[bt],a),u=a&&a[Xi]}a=u}}(a)}}function ic(s,a){if(!(128&a[on])){a[on]&=-65,a[on]|=128,function al(s,a){let u;if(null!=s&&null!=(u=s.destroyHooks))for(let d=0;d<u.length;d+=2){const f=a[u[d]];if(!(f instanceof ps)){const v=u[d+1];if(Array.isArray(v))for(let w=0;w<v.length;w+=2){const S=f[v[w]],D=v[w+1];Ai(4,S,D);try{D.call(S)}finally{Ai(5,S,D)}}else{Ai(4,f,v);try{v.call(f)}finally{Ai(5,f,v)}}}}}(s,a),function S6(s,a){const u=s.cleanup,d=a[Xs];let f=-1;if(null!==u)for(let v=0;v<u.length-1;v+=2)if("string"==typeof u[v]){const w=u[v+3];w>=0?d[f=w]():d[f=-w].unsubscribe(),v+=2}else{const w=d[f=u[v+1]];u[v].call(w)}if(null!==d){for(let v=f+1;v<d.length;v++)(0,d[v])();a[Xs]=null}}(s,a),1===a[bt].type&&a[yn].destroy();const u=a[Ha];if(null!==u&&Yi(a[Qn])){u!==a[Qn]&&r3(u,a);const d=a[yo];null!==d&&d.detachView(s)}!function C(s){Xd.delete(s[_o])}(a)}}function vu(s,a,u){return function E6(s,a,u){let d=a;for(;null!==d&&40&d.type;)d=(a=d).parent;if(null===d)return u[Ji];{const{componentOffset:f}=d;if(f>-1){const{encapsulation:v}=s.data[d.directiveStart+f];if(v===Ze.None||v===Ze.Emulated)return null}return Xr(d,u)}}(s,a.parent,u)}function oc(s,a,u,d,f){s.insertBefore(a,u,d,f)}function x1(s,a,u){s.appendChild(a,u)}function o3(s,a,u,d,f){null!==d?oc(s,a,u,d,f):x1(s,a,u)}function xa(s,a){return s.parentNode(a)}function sh(s,a,u){return cl(s,a,u)}let X4,sc,N1,_u,cl=function A1(s,a,u){return 40&s.type?Xr(s,u):null};function ll(s,a,u,d){const f=vu(s,d,a),v=a[yn],S=sh(d.parent||a[Ir],d,a);if(null!=f)if(Array.isArray(u))for(let D=0;D<u.length;D++)o3(v,f,u[D],S,!1);else o3(v,f,u,S,!1);void 0!==X4&&X4(v,d,a,u,f)}function ch(s,a){if(null!==a){const u=a.type;if(3&u)return Xr(a,s);if(4&u)return ys(-1,s[a.index]);if(8&u){const d=a.child;if(null!==d)return ch(s,d);{const f=s[a.index];return Yi(f)?ys(-1,f):Jr(f)}}if(32&u)return Bs(a,s)()||Jr(s[a.index]);{const d=lh(s,a);return null!==d?Array.isArray(d)?d[0]:ch(T1(s[Sr]),d):ch(s,a.next)}}return null}function lh(s,a){return null!==a?s[Sr][Ir].projection[a.projection]:null}function ys(s,a){const u=Qr+s+1;if(u<a.length){const d=a[u],f=d[bt].firstChild;if(null!==f)return ch(d,f)}return a[Ba]}function k1(s,a,u,d,f,v,w){for(;null!=u;){const S=d[u.index],D=u.type;if(w&&0===a&&(S&&Ve(Jr(S),d),u.flags|=2),32!=(32&u.flags))if(8&D)k1(s,a,u.child,d,f,v,!1),Ma(a,s,f,S,v);else if(32&D){const O=Bs(u,d);let $;for(;$=O();)Ma(a,s,f,$,v);Ma(a,s,f,S,v)}else 16&D?n2(s,a,d,u,f,v):Ma(a,s,f,S,v);u=w?u.projectionNext:u.next}}function z1(s,a,u,d,f,v){k1(u,d,s.firstChild,a,f,v,!1)}function n2(s,a,u,d,f,v){const w=u[Sr],D=w[Ir].projection[d.projection];if(Array.isArray(D))for(let O=0;O<D.length;O++)Ma(a,s,f,D[O],v);else k1(s,a,D,w[Qn],f,v,!0)}function qo(s,a,u){""===u?s.removeAttribute(a,"class"):s.setAttribute(a,"class",u)}function O1(s,a,u){const{mergedAttrs:d,classes:f,styles:v}=u;null!==d&&Ka(s,a,d),null!==f&&qo(s,a,f),null!==v&&function r2(s,a,u){s.setAttribute(a,"style",u)}(s,a,v)}function yu(s){return function R1(){if(void 0===sc&&(sc=null,Ot.trustedTypes))try{sc=Ot.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return sc}()?.createHTML(s)||s}function a3(s){N1=s}function s2(){if(void 0===_u&&(_u=null,Ot.trustedTypes))try{_u=Ot.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return _u}function ao(s){return s2()?.createHTML(s)||s}function a2(s){return s2()?.createScriptURL(s)||s}class dl{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${le})`}}class c2 extends dl{getTypeName(){return"HTML"}}class l2 extends dl{getTypeName(){return"Style"}}class x6 extends dl{getTypeName(){return"Script"}}class u2 extends dl{getTypeName(){return"URL"}}class d2 extends dl{getTypeName(){return"ResourceURL"}}function li(s){return s instanceof dl?s.changingThisBreaksApplicationSecurity:s}function ji(s,a){const u=function wu(s){return s instanceof dl&&s.getTypeName()||null}(s);if(null!=u&&u!==a){if("ResourceURL"===u&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${u} (see ${le})`)}return u===a}function l3(s){return new c2(s)}function u3(s){return new l2(s)}function d3(s){return new x6(s)}function $r(s){return new u2(s)}function uh(s){return new d2(s)}class hh{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const u=(new window.DOMParser).parseFromString(yu(a),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(a):(u.removeChild(u.firstChild),u)}catch{return null}}}class Us{constructor(a){this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(a){const u=this.inertDocument.createElement("template");return u.innerHTML=yu(a),u}}const h2=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function fl(s){return(s=String(s)).match(h2)?s:"unsafe:"+s}function _s(s){const a={};for(const u of s.split(","))a[u]=!0;return a}function pl(...s){const a={};for(const u of s)for(const d in u)u.hasOwnProperty(d)&&(a[d]=!0);return a}const bu=_s("area,br,col,hr,img,wbr"),h3=_s("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),f3=_s("rp,rt"),m=pl(bu,pl(h3,_s("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),pl(f3,_s("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),pl(f3,h3)),b=_s("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),he=pl(b,_s("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),_s("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Ae=_s("script,style,template");class rt{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let u=a.firstChild,d=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?d=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,d&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let f=this.checkClobberedElement(u,u.nextSibling);if(f){u=f;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(a){const u=a.nodeName.toLowerCase();if(!m.hasOwnProperty(u))return this.sanitizedSomething=!0,!Ae.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const d=a.attributes;for(let f=0;f<d.length;f++){const v=d.item(f),w=v.name,S=w.toLowerCase();if(!he.hasOwnProperty(S)){this.sanitizedSomething=!0;continue}let D=v.value;b[S]&&(D=fl(D)),this.buf.push(" ",w,'="',zt(D),'"')}return this.buf.push(">"),!0}endElement(a){const u=a.nodeName.toLowerCase();m.hasOwnProperty(u)&&!bu.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(a){this.buf.push(zt(a))}checkClobberedElement(a,u){if(u&&(a.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return u}}const yt=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,It=/([^\#-~ |!])/g;function zt(s){return s.replace(/&/g,"&amp;").replace(yt,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(It,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ir;function ws(s,a){let u=null;try{ir=ir||function dh(s){const a=new Us(s);return function hl(){try{return!!(new window.DOMParser).parseFromString(yu(""),"text/html")}catch{return!1}}()?new hh(a):a}(s);let d=a?String(a):"";u=ir.getInertBodyElement(d);let f=5,v=d;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,d=v,v=u.innerHTML,u=ir.getInertBodyElement(d)}while(d!==v);return yu((new rt).sanitizeChildren(F1(u)||u))}finally{if(u){const d=F1(u)||u;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function F1(s){return"content"in s&&function I6(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var or=(()=>((or=or||{})[or.NONE=0]="NONE",or[or.HTML=1]="HTML",or[or.STYLE=2]="STYLE",or[or.SCRIPT=3]="SCRIPT",or[or.URL=4]="URL",or[or.RESOURCE_URL=5]="RESOURCE_URL",or))();function f2(s){const a=p2();return a?ao(a.sanitize(or.HTML,s)||""):ji(s,"HTML")?ao(li(s)):ws(function c3(){return void 0!==N1?N1:typeof document<"u"?document:void 0}(),ye(s))}function L1(s){const a=p2();return a?a.sanitize(or.URL,s)||"":ji(s,"URL")?li(s):fl(ye(s))}function V1(s){const a=p2();if(a)return a2(a.sanitize(or.RESOURCE_URL,s)||"");if(ji(s,"ResourceURL"))return a2(li(s));throw new ie(904,!1)}function ph(s,a,u){return function A6(s,a){return"src"===a&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===a&&("base"===s||"link"===s)?V1:L1}(a,u)(s)}function p2(){const s=We();return s&&s[zc]}const P6=new xn("ENVIRONMENT_INITIALIZER"),H1=new xn("INJECTOR",-1),mh=new xn("INJECTOR_DEF_TYPES");class dg{get(a,u=Lr){if(u===Lr){const d=new Error(`NullInjectorError: No provider for ${W(a)}!`);throw d.name="NullInjectorError",d}return u}}function ty(s){return{\u0275providers:s}}function m2(...s){return{\u0275providers:gh(0,s),\u0275fromNgModule:!0}}function gh(s,...a){const u=[],d=new Set;let f;return Uo(a,v=>{const w=v;O6(w,u,[],d)&&(f||(f=[]),f.push(w))}),void 0!==f&&hg(f,u),u}function hg(s,a){for(let u=0;u<s.length;u++){const{providers:f}=s[u];R6(f,v=>{a.push(v)})}}function O6(s,a,u,d){if(!(s=P(s)))return!1;let f=null,v=se(s);const w=!v&&jt(s);if(v||w){if(w&&!w.standalone)return!1;f=s}else{const D=s.ngModule;if(v=se(D),!v)return!1;f=D}const S=d.has(f);if(w){if(S)return!1;if(d.add(f),w.dependencies){const D="function"==typeof w.dependencies?w.dependencies():w.dependencies;for(const O of D)O6(O,a,u,d)}}else{if(!v)return!1;{if(null!=v.imports&&!S){let O;d.add(f);try{Uo(v.imports,$=>{O6($,a,u,d)&&(O||(O=[]),O.push($))})}finally{}void 0!==O&&hg(O,a)}if(!S){const O=Bo(f)||(()=>new f);a.push({provide:f,useFactory:O,deps:ht},{provide:mh,useValue:f,multi:!0},{provide:P6,useValue:()=>En(f),multi:!0})}const D=v.providers;null==D||S||R6(D,$=>{a.push($)})}}return f!==s&&void 0!==s.providers}function R6(s,a){for(let u of s)U(u)&&(u=u.\u0275providers),Array.isArray(u)?R6(u,a):a(u)}const ny=j({provide:String,useValue:j});function N6(s){return null!==s&&"object"==typeof s&&ny in s}function ml(s){return"function"==typeof s}const Su=new xn("Set Injector scope."),v3={},iy={};let F6;function y3(){return void 0===F6&&(F6=new dg),F6}class B1{}class pg extends B1{get destroyed(){return this._destroyed}constructor(a,u,d,f){super(),this.parent=u,this.source=d,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,yh(a,w=>this.processProvider(w)),this.records.set(H1,vh(void 0,this)),f.has("environment")&&this.records.set(B1,vh(void 0,this));const v=this.records.get(Su);null!=v&&"string"==typeof v.value&&this.scopes.add(v.value),this.injectorDefTypes=new Set(this.get(mh.multi,ht,ge.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();for(const a of this._onDestroyHooks)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(a){this._onDestroyHooks.push(a)}runInContext(a){this.assertNotDestroyed();const u=Sn(this),d=ot(void 0);try{return a()}finally{Sn(u),ot(d)}}get(a,u=Lr,d=ge.Default){this.assertNotDestroyed(),d=Mr(d);const f=Sn(this),v=ot(void 0);try{if(!(d&ge.SkipSelf)){let S=this.records.get(a);if(void 0===S){const D=function B6(s){return"function"==typeof s||"object"==typeof s&&s instanceof xn}(a)&&rn(a);S=D&&this.injectableDefInScope(D)?vh(L6(a),v3):null,this.records.set(a,S)}if(null!=S)return this.hydrate(a,S)}return(d&ge.Self?y3():this.parent).get(a,u=d&ge.Optional&&u===Lr?null:u)}catch(w){if("NullInjectorError"===w.name){if((w[ar]=w[ar]||[]).unshift(W(a)),f)throw w;return function Ii(s,a,u,d){const f=s[ar];throw a[Ln]&&f.unshift(a[Ln]),s.message=function fe(s,a,u,d=null){s=s&&"\n"===s.charAt(0)&&s.charAt(1)==oi?s.slice(2):s;let f=W(a);if(Array.isArray(a))f=a.map(W).join(" -> ");else if("object"==typeof a){let v=[];for(let w in a)if(a.hasOwnProperty(w)){let S=a[w];v.push(w+":"+("string"==typeof S?JSON.stringify(S):W(S)))}f=`{${v.join(", ")}}`}return`${u}${d?"("+d+")":""}[${f}]: ${s.replace(Pn,"\n  ")}`}("\n"+s.message,f,u,d),s[Vr]=f,s[ar]=null,s}(w,a,"R3InjectorError",this.source)}throw w}finally{ot(v),Sn(f)}}resolveInjectorInitializers(){const a=Sn(this),u=ot(void 0);try{const d=this.get(P6.multi,ht,ge.Self);for(const f of d)f()}finally{Sn(a),ot(u)}}toString(){const a=[],u=this.records;for(const d of u.keys())a.push(W(d));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ie(205,!1)}processProvider(a){let u=ml(a=P(a))?a:P(a&&a.provide);const d=function sy(s){return N6(s)?vh(void 0,s.useValue):vh(V6(s),v3)}(a);if(ml(a)||!0!==a.multi)this.records.get(u);else{let f=this.records.get(u);f||(f=vh(void 0,v3,!0),f.factory=()=>mo(f.multi),this.records.set(u,f)),u=a,f.multi.push(a)}this.records.set(u,d)}hydrate(a,u){return u.value===v3&&(u.value=iy,u.value=u.factory()),"object"==typeof u.value&&u.value&&function mg(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(a){if(!a.providedIn)return!1;const u=P(a.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function L6(s){const a=rn(s),u=null!==a?a.factory:Bo(s);if(null!==u)return u;if(s instanceof xn)throw new ie(204,!1);if(s instanceof Function)return function oy(s){const a=s.length;if(a>0)throw ou(a,"?"),new ie(204,!1);const u=function ze(s){return s&&(s[re]||s[Je])||null}(s);return null!==u?()=>u.factory(s):()=>new s}(s);throw new ie(204,!1)}function V6(s,a,u){let d;if(ml(s)){const f=P(s);return Bo(f)||L6(f)}if(N6(s))d=()=>P(s.useValue);else if(function fg(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...mo(s.deps||[]));else if(function ry(s){return!(!s||!s.useExisting)}(s))d=()=>En(P(s.useExisting));else{const f=P(s&&(s.useClass||s.provide));if(!function H6(s){return!!s.deps}(s))return Bo(f)||L6(f);d=()=>new f(...mo(s.deps))}return d}function vh(s,a,u=!1){return{factory:s,value:a,multi:u?[]:void 0}}function yh(s,a){for(const u of s)Array.isArray(u)?yh(u,a):u&&U(u)?yh(u.\u0275providers,a):a(u)}class ay{}class gg{}class yg{resolveComponentFactory(a){throw function cy(s){const a=Error(`No component factory found for ${W(s)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=s,a}(a)}}let _h=(()=>{class s{}return s.NULL=new yg,s})();function _3(){return gl(Br(),We())}function gl(s,a){return new wh(Xr(s,a))}let wh=(()=>{class s{constructor(u){this.nativeElement=u}}return s.__NG_ELEMENT_ID__=_3,s})();function g2(s){return s instanceof wh?s.nativeElement:s}class U6{}let ly=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function uy(){const s=We(),u=Hr(Br().index,s);return(Bi(u)?u:s)[yn]}(),s})(),dy=(()=>{class s{}return s.\u0275prov=wt({token:s,providedIn:"root",factory:()=>null}),s})();class _g{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const wg=new _g("15.2.10"),w3={},j6="ngOriginalError";function $6(s){return s[j6]}class v2{constructor(){this._console=console}handleError(a){const u=this._findOriginalError(a);this._console.error("ERROR",a),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(a){let u=a&&$6(a);for(;u&&$6(u);)u=$6(u);return u||null}}function ac(s){return s instanceof Function?s():s}function Dg(s,a,u){let d=s.length;for(;;){const f=s.indexOf(a,u);if(-1===f)return f;if(0===f||s.charCodeAt(f-1)<=32){const v=a.length;if(f+v===d||s.charCodeAt(f+v)<=32)return f}u=f+1}}const G6="ng-template";function q6(s,a,u){let d=0,f=!0;for(;d<s.length;){let v=s[d++];if("string"==typeof v&&f){const w=s[d++];if(u&&"class"===v&&-1!==Dg(w.toLowerCase(),a,0))return!0}else{if(1===v){for(;d<s.length&&"string"==typeof(v=s[d++]);)if(v.toLowerCase()===a)return!0;return!1}"number"==typeof v&&(f=!1)}}return!1}function W6(s){return 4===s.type&&s.value!==G6}function bh(s,a,u){return a===(4!==s.type||u?s.value:G6)}function K6(s,a,u){let d=4;const f=s.attrs||[],v=function xg(s){for(let a=0;a<s.length;a++)if(l1(s[a]))return a;return s.length}(f);let w=!1;for(let S=0;S<a.length;S++){const D=a[S];if("number"!=typeof D){if(!w)if(4&d){if(d=2|1&d,""!==D&&!bh(s,D,u)||""===D&&1===a.length){if(Ia(d))return!1;w=!0}}else{const O=8&d?D:a[++S];if(8&d&&null!==s.attrs){if(!q6(s.attrs,O,u)){if(Ia(d))return!1;w=!0}continue}const oe=Mg(8&d?"class":D,f,W6(s),u);if(-1===oe){if(Ia(d))return!1;w=!0;continue}if(""!==O){let be;be=oe>v?"":f[oe+1].toLowerCase();const Pe=8&d?be:null;if(Pe&&-1!==Dg(Pe,O,0)||2&d&&O!==be){if(Ia(d))return!1;w=!0}}}}else{if(!w&&!Ia(d)&&!Ia(D))return!1;if(w&&Ia(D))continue;w=!1,d=D|1&d}}return Ia(d)||w}function Ia(s){return 0==(1&s)}function Mg(s,a,u,d){if(null===a)return-1;let f=0;if(d||!u){let v=!1;for(;f<a.length;){const w=a[f];if(w===s)return f;if(3===w||6===w)v=!0;else{if(1===w||2===w){let S=a[++f];for(;"string"==typeof S;)S=a[++f];continue}if(4===w)break;if(0===w){f+=4;continue}}f+=v?1:2}return-1}return function Ig(s,a){let u=s.indexOf(4);if(u>-1)for(u++;u<s.length;){const d=s[u];if("number"==typeof d)return-1;if(d===a)return u;u++}return-1}(a,s)}function _2(s,a,u=!1){for(let d=0;d<a.length;d++)if(K6(s,a[d],u))return!0;return!1}function yy(s,a){e:for(let u=0;u<a.length;u++){const d=a[u];if(s.length===d.length){for(let f=0;f<s.length;f++)if(s[f]!==d[f])continue e;return!0}}return!1}function Ag(s,a){return s?":not("+a.trim()+")":a}function _y(s){let a=s[0],u=1,d=2,f="",v=!1;for(;u<s.length;){let w=s[u];if("string"==typeof w)if(2&d){const S=s[++u];f+="["+w+(S.length>0?'="'+S+'"':"")+"]"}else 8&d?f+="."+w:4&d&&(f+=" "+w);else""!==f&&!Ia(w)&&(a+=Ag(v,f),f=""),d=w,v=v||!Ia(d);u++}return""!==f&&(a+=Ag(v,f)),a}const pn={};function kg(s){zg(fn(),We(),ai()+s,!1)}function zg(s,a,u,d){if(!d)if(3==(3&a[on])){const v=s.preOrderCheckHooks;null!==v&&s1(a,v,u)}else{const v=s.preOrderHooks;null!==v&&a1(a,v,0,u)}fs(u)}function Og(s,a=null,u=null,d){const f=Q6(s,a,u,d);return f.resolveInjectorInitializers(),f}function Q6(s,a=null,u=null,d,f=new Set){const v=[u||ht,m2(s)];return d=d||("object"==typeof s?void 0:W(s)),new pg(v,a||y3(),d||null,f)}let Ch=(()=>{class s{static create(u,d){if(Array.isArray(u))return Og({name:""},d,u,"");{const f=u.name??"";return Og({name:f},u.parent,u.providers,f)}}}return s.THROW_IF_NOT_FOUND=Lr,s.NULL=new dg,s.\u0275prov=wt({token:s,providedIn:"any",factory:()=>En(H1)}),s.__NG_ELEMENT_ID__=-1,s})();function Th(s,a=ge.Default){const u=We();return null===u?En(s,a):tu(Br(),u,P(s),a)}function Vg(){throw new Error("invalid")}function Hg(s,a){const u=s.contentQueries;if(null!==u)for(let d=0;d<u.length;d+=2){const v=u[d+1];if(-1!==v){const w=s.data[v];Yl(u[d]),w.contentQueries(2,a[v],v)}}}function E3(s,a,u,d,f,v,w,S,D,O,$){const oe=a.blueprint.slice();return oe[Ji]=f,oe[on]=76|d,(null!==$||s&&1024&s[on])&&(oe[on]|=1024),$a(oe),oe[Qn]=oe[ta]=s,oe[fr]=u,oe[pi]=w||s&&s[pi],oe[yn]=S||s&&s[yn],oe[zc]=D||s&&s[zc]||null,oe[kc]=O||s&&s[kc]||null,oe[Ir]=v,oe[_o]=function eh(){return Eo++}(),oe[si]=$,oe[Sr]=2==a.type?s[Sr]:oe,oe}function S2(s,a,u,d,f){let v=s.data[a];if(null===v)v=function Ue(s,a,u,d,f){const v=ia(),w=Hd(),D=s.data[a]=function Ly(s,a,u,d,f,v){return{type:u,index:d,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:v,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?v:v&&v.parent,u,a,d,f);return null===s.firstChild&&(s.firstChild=D),null!==v&&(w?null==v.child&&null!==D.parent&&(v.child=D):null===v.next&&(v.next=D,D.prev=v)),D}(s,a,u,d,f),function Bd(){return ln.lFrame.inI18n}()&&(v.flags|=32);else if(64&v.type){v.type=u,v.value=d,v.attrs=f;const w=function Vl(){const s=ln.lFrame,a=s.currentTNode;return s.isParent?a:a.parent}();v.injectorIndex=null===w?-1:w.injectorIndex}return ki(v,!0),v}function $i(s,a,u,d){if(0===u)return-1;const f=a.length;for(let v=0;v<u;v++)a.push(d),s.blueprint.push(d),s.data.push(null);return f}function wn(s,a,u){jl(a);try{const d=s.viewQuery;null!==d&&pf(1,d,u);const f=s.template;null!==f&&nf(s,a,f,1,u),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Hg(s,a),s.staticViewQueries&&pf(2,s.viewQuery,u);const v=s.components;null!==v&&function Bg(s,a){for(let u=0;u<a.length;u++)Tu(s,a[u])}(a,v)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{a[on]&=-5,$l()}}function Eu(s,a,u,d){const f=a[on];if(128!=(128&f)){jl(a);try{$a(a),function Yo(s){return ln.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==u&&nf(s,a,u,2,d);const w=3==(3&f);if(w){const O=s.preOrderCheckHooks;null!==O&&s1(a,O,null)}else{const O=s.preOrderHooks;null!==O&&a1(a,O,0,null),$d(a,0)}if(function ff(s){for(let a=D1(s);null!==a;a=Da(a)){if(!a[Qu])continue;const u=a[na];for(let d=0;d<u.length;d++){const f=u[d];512&f[on]||Lc(f[Qn],1),f[on]|=512}}}(a),function hf(s){for(let a=D1(s);null!==a;a=Da(a))for(let u=Qr;u<a.length;u++){const d=a[u],f=d[bt];ds(d)&&Eu(f,d,f.template,d[fr])}}(a),null!==s.contentQueries&&Hg(s,a),w){const O=s.contentCheckHooks;null!==O&&s1(a,O)}else{const O=s.contentHooks;null!==O&&a1(a,O,1),$d(a,1)}!function Ny(s,a){const u=s.hostBindingOpCodes;if(null!==u)try{for(let d=0;d<u.length;d++){const f=u[d];if(f<0)fs(~f);else{const v=f,w=u[++d],S=u[++d];Bl(w,v),S(2,a[v])}}}finally{fs(-1)}}(s,a);const S=s.components;null!==S&&function Fy(s,a){for(let u=0;u<a.length;u++)vl(s,a[u])}(a,S);const D=s.viewQuery;if(null!==D&&pf(2,D,d),w){const O=s.viewCheckHooks;null!==O&&s1(a,O)}else{const O=s.viewHooks;null!==O&&a1(a,O,2),$d(a,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),a[on]&=-41,512&a[on]&&(a[on]&=-513,Lc(a[Qn],-1))}finally{$l()}}}function nf(s,a,u,d,f){const v=ai(),w=2&d;try{fs(-1),w&&a.length>Gn&&zg(s,a,Gn,!1),Ai(w?2:0,f),u(d,f)}finally{fs(v),Ai(w?3:1,f)}}function T3(s,a,u){if(Oc(a)){const f=a.directiveEnd;for(let v=a.directiveStart;v<f;v++){const w=s.data[v];w.contentQueries&&w.contentQueries(1,u[v],v)}}}function rf(s,a,u){Ll()&&(function jy(s,a,u,d){const f=u.directiveStart,v=u.directiveEnd;Ya(u)&&function Wy(s,a,u){const d=Xr(a,s),f=Yg(u),v=s[pi],w=A3(s,E3(s,f,null,u.onPush?32:16,d,a,v,v.createRenderer(d,u),null,null,null));s[a.index]=w}(a,u,s.data[f+u.componentOffset]),s.firstCreatePass||u1(u,a),Ve(d,a);const w=u.initialInputs;for(let S=f;S<v;S++){const D=s.data[S],O=Er(a,s,S,u);Ve(O,a),null!==w&&Ky(0,S-f,O,D,0,w),eo(D)&&(Hr(u.index,a)[fr]=Er(a,s,S,u))}}(s,a,u,Xr(u,a)),64==(64&u.flags)&&M3(s,a,u))}function sf(s,a,u=Xr){const d=a.localNames;if(null!==d){let f=a.index+1;for(let v=0;v<d.length;v+=2){const w=d[v+1],S=-1===w?u(a,s):s[w];s[f++]=S}}}function Yg(s){const a=s.tView;return null===a||a.incompleteFirstPass?s.tView=mr(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):a}function mr(s,a,u,d,f,v,w,S,D,O){const $=Gn+d,oe=$+f,be=function ur(s,a){const u=[];for(let d=0;d<a;d++)u.push(d<s?null:pn);return u}($,oe),Pe="function"==typeof O?O():O;return be[bt]={type:s,blueprint:be,template:u,queries:null,viewQuery:S,declTNode:a,data:be.slice().fill(null,$),bindingStartIndex:$,expandoStartIndex:oe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof v?v():v,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:D,consts:Pe,incompleteFirstPass:!1}}function D3(s,a,u,d){const f=Wg(a);null===u?f.push(d):(f.push(u),s.firstCreatePass&&Kg(s).push(d,f.length-1))}function Ug(s,a,u,d){for(let f in s)if(s.hasOwnProperty(f)){u=null===u?{}:u;const v=s[f];null===d?jg(u,a,f,v):d.hasOwnProperty(f)&&jg(u,a,d[f],v)}return u}function jg(s,a,u,d){s.hasOwnProperty(u)?s[u].push(a,d):s[u]=[a,d]}function Wo(s,a,u,d,f,v,w,S){const D=Xr(a,u);let $,O=a.inputs;!S&&null!=O&&($=O[d])?(mf(s,u,$,d,f),Ya(a)&&function $g(s,a){const u=Hr(a,s);16&u[on]||(u[on]|=32)}(u,a.index)):3&a.type&&(d=function Hy(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),f=null!=w?w(f,a.value||"",d):f,v.setProperty(D,d,f))}function cf(s,a,u,d){if(Ll()){const f=null===d?null:{"":-1},v=function $y(s,a){const u=s.directiveRegistry;let d=null,f=null;if(u)for(let v=0;v<u.length;v++){const w=u[v];if(_2(a,w.selectors,!1))if(d||(d=[]),eo(w))if(null!==w.findHostDirectiveDefs){const S=[];f=f||new Map,w.findHostDirectiveDefs(w,S,f),d.unshift(...S,w),U1(s,a,S.length)}else d.unshift(w),U1(s,a,0);else f=f||new Map,w.findHostDirectiveDefs?.(w,d,f),d.push(w)}return null===d?null:[d,f]}(s,u);let w,S;null===v?w=S=null:[w,S]=v,null!==w&&lf(s,a,u,w,f,S),f&&function E2(s,a,u){if(a){const d=s.localNames=[];for(let f=0;f<a.length;f+=2){const v=u[a[f+1]];if(null==v)throw new ie(-301,!1);d.push(a[f],v)}}}(u,d,f)}u.mergedAttrs=ua(u.mergedAttrs,u.attrs)}function lf(s,a,u,d,f,v){for(let O=0;O<d.length;O++)Un(u1(u,a),s,d[O].type);!function Gy(s,a,u){s.flags|=1,s.directiveStart=a,s.directiveEnd=a+u,s.providerIndexes=a}(u,s.data.length,d.length);for(let O=0;O<d.length;O++){const $=d[O];$.providersResolver&&$.providersResolver($)}let w=!1,S=!1,D=$i(s,a,d.length,null);for(let O=0;O<d.length;O++){const $=d[O];u.mergedAttrs=ua(u.mergedAttrs,$.hostAttrs),qy(s,u,a,D,$),xo(D,$,f),null!==$.contentQueries&&(u.flags|=4),(null!==$.hostBindings||null!==$.hostAttrs||0!==$.hostVars)&&(u.flags|=64);const oe=$.type.prototype;!w&&(oe.ngOnChanges||oe.ngOnInit||oe.ngDoCheck)&&((s.preOrderHooks??(s.preOrderHooks=[])).push(u.index),w=!0),!S&&(oe.ngOnChanges||oe.ngDoCheck)&&((s.preOrderCheckHooks??(s.preOrderCheckHooks=[])).push(u.index),S=!0),D++}!function Vy(s,a,u){const f=a.directiveEnd,v=s.data,w=a.attrs,S=[];let D=null,O=null;for(let $=a.directiveStart;$<f;$++){const oe=v[$],be=u?u.get(oe):null,Qe=be?be.outputs:null;D=Ug(oe.inputs,$,D,be?be.inputs:null),O=Ug(oe.outputs,$,O,Qe);const mt=null===D||null===w||W6(a)?null:x3(D,$,w);S.push(mt)}null!==D&&(D.hasOwnProperty("class")&&(a.flags|=8),D.hasOwnProperty("style")&&(a.flags|=16)),a.initialInputs=S,a.inputs=D,a.outputs=O}(s,u,v)}function M3(s,a,u){const d=u.directiveStart,f=u.directiveEnd,v=u.index,w=function Q0(){return ln.lFrame.currentDirectiveIndex}();try{fs(v);for(let S=d;S<f;S++){const D=s.data[S],O=a[S];kr(S),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&Gg(D,O)}}finally{fs(-1),kr(w)}}function Gg(s,a){null!==s.hostBindings&&s.hostBindings(1,a)}function U1(s,a,u){a.componentOffset=u,(s.components??(s.components=[])).push(a.index)}function xo(s,a,u){if(u){if(a.exportAs)for(let d=0;d<a.exportAs.length;d++)u[a.exportAs[d]]=s;eo(a)&&(u[""]=s)}}function qy(s,a,u,d,f){s.data[d]=f;const v=f.factory||(f.factory=Bo(f.type)),w=new ps(v,eo(f),Th);s.blueprint[d]=w,u[d]=w,function Yy(s,a,u,d,f){const v=f.hostBindings;if(v){let w=s.hostBindingOpCodes;null===w&&(w=s.hostBindingOpCodes=[]);const S=~a.index;(function Uy(s){let a=s.length;for(;a>0;){const u=s[--a];if("number"==typeof u&&u<0)return u}return 0})(w)!=S&&w.push(S),w.push(u,d,v)}}(s,a,d,$i(s,u,f.hostVars,pn),f)}function cc(s,a,u,d,f,v){const w=Xr(s,a);!function uf(s,a,u,d,f,v,w){if(null==v)s.removeAttribute(a,f,u);else{const S=null==w?ye(v):w(v,d||"",f);s.setAttribute(a,f,S,u)}}(a[yn],w,v,s.value,u,d,f)}function Ky(s,a,u,d,f,v){const w=v[a];if(null!==w){const S=d.setInput;for(let D=0;D<w.length;){const O=w[D++],$=w[D++],oe=w[D++];null!==S?d.setInput(u,oe,O,$):u[$]=oe}}}function x3(s,a,u){let d=null,f=0;for(;f<u.length;){const v=u[f];if(0!==v)if(5!==v){if("number"==typeof v)break;if(s.hasOwnProperty(v)){null===d&&(d=[]);const w=s[v];for(let S=0;S<w.length;S+=2)if(w[S]===a){d.push(v,w[S+1],u[f+1]);break}}f+=2}else f+=2;else f+=4}return d}function df(s,a,u,d){return[s,!0,!1,a,null,0,d,u,null,null]}function vl(s,a){const u=Hr(a,s);if(ds(u)){const d=u[bt];48&u[on]?Eu(d,u,d.template,u[fr]):u[Yn]>0&&I3(u)}}function I3(s){for(let d=D1(s);null!==d;d=Da(d))for(let f=Qr;f<d.length;f++){const v=d[f];if(ds(v))if(512&v[on]){const w=v[bt];Eu(w,v,w.template,v[fr])}else v[Yn]>0&&I3(v)}const u=s[bt].components;if(null!==u)for(let d=0;d<u.length;d++){const f=Hr(u[d],s);ds(f)&&f[Yn]>0&&I3(f)}}function Tu(s,a){const u=Hr(a,s),d=u[bt];(function qg(s,a){for(let u=a.length;u<s.blueprint.length;u++)a.push(s.blueprint[u])})(d,u),wn(d,u,u[fr])}function A3(s,a){return s[ea]?s[ss][Xi]=a:s[ea]=a,s[ss]=a,a}function j1(s){for(;s;){s[on]|=32;const a=T1(s);if(zl(s)&&!a)return s;s=a}return null}function k3(s,a,u,d=!0){const f=a[pi];f.begin&&f.begin();try{Eu(s,a,s.template,u)}catch(w){throw d&&Qg(a,w),w}finally{f.end&&f.end()}}function pf(s,a,u){Yl(0),a(s,u)}function Wg(s){return s[Xs]||(s[Xs]=[])}function Kg(s){return s.cleanup||(s.cleanup=[])}function Zg(s,a,u){return(null===s||eo(s))&&(u=function ja(s){for(;Array.isArray(s);){if("object"==typeof s[Pc])return s;s=s[Ji]}return null}(u[a.index])),u[yn]}function Qg(s,a){const u=s[kc],d=u?u.get(v2,null):null;d&&d.handleError(a)}function mf(s,a,u,d,f){for(let v=0;v<u.length;){const w=u[v++],S=u[v++],D=a[w],O=s.data[w];null!==O.setInput?O.setInput(D,f,d,S):D[S]=f}}function Dh(s,a,u){let d=u?s.styles:null,f=u?s.classes:null,v=0;if(null!==a)for(let w=0;w<a.length;w++){const S=a[w];"number"==typeof S?v=S:1==v?f=q(f,S):2==v&&(d=q(d,S+": "+a[++w]+";"))}u?s.styles=d:s.stylesWithoutHost=d,u?s.classes=f:s.classesWithoutHost=f}function T2(s,a,u,d,f=!1){for(;null!==u;){const v=a[u.index];if(null!==v&&d.push(Jr(v)),Yi(v))for(let S=Qr;S<v.length;S++){const D=v[S],O=D[bt].firstChild;null!==O&&T2(D[bt],D,O,d)}const w=u.type;if(8&w)T2(s,a,u.child,d);else if(32&w){const S=Bs(u,a);let D;for(;D=S();)d.push(D)}else if(16&w){const S=lh(a,u);if(Array.isArray(S))d.push(...S);else{const D=T1(a[Sr]);T2(D[bt],D,S,d,!0)}}u=f?u.projectionNext:u.next}return d}class Mh{get rootNodes(){const a=this._lView,u=a[bt];return T2(u,a,u.firstChild,[])}constructor(a,u){this._lView=a,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[fr]}set context(a){this._lView[fr]=a}get destroyed(){return 128==(128&this._lView[on])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[Qn];if(Yi(a)){const u=a[ks],d=u?u.indexOf(this):-1;d>-1&&(M1(a,d),wa(u,d))}this._attachedToViewContainer=!1}ih(this._lView[bt],this._lView)}onDestroy(a){D3(this._lView[bt],this._lView,null,a)}markForCheck(){j1(this._cdRefInjectingView||this._lView)}detach(){this._lView[on]&=-65}reattach(){this._lView[on]|=64}detectChanges(){k3(this._lView[bt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ie(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function rh(s,a){z1(s,a,a[yn],2,null,null)}(this._lView[bt],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new ie(902,!1);this._appRef=a}}class Zy extends Mh{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;k3(a[bt],a,a[fr],!1)}checkNoChanges(){}get context(){return null}}class gf extends _h{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const u=jt(a);return new D2(u,this.ngModule)}}function vf(s){const a=[];for(let u in s)s.hasOwnProperty(u)&&a.push({propName:s[u],templateName:u});return a}class Jy{constructor(a,u){this.injector=a,this.parentInjector=u}get(a,u,d){d=Mr(d);const f=this.injector.get(a,w3,d);return f!==w3||u===w3?f:this.parentInjector.get(a,u,d)}}class D2 extends gg{get inputs(){return vf(this.componentDef.inputs)}get outputs(){return vf(this.componentDef.outputs)}constructor(a,u){super(),this.componentDef=a,this.ngModule=u,this.componentType=a.type,this.selector=function wy(s){return s.map(_y).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!u}create(a,u,d,f){let v=(f=f||this.ngModule)instanceof B1?f:f?.injector;v&&null!==this.componentDef.getStandaloneInjector&&(v=this.componentDef.getStandaloneInjector(v)||v);const w=v?new Jy(a,v):a,S=w.get(U6,null);if(null===S)throw new ie(407,!1);const D=w.get(dy,null),O=S.createRenderer(null,this.componentDef),$=this.componentDef.selectors[0][0]||"div",oe=d?function af(s,a,u){return s.selectRootElement(a,u===Ze.ShadowDom)}(O,d,this.componentDef.encapsulation):J4(O,$,function Qy(s){const a=s.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}($)),be=this.componentDef.onPush?288:272,Pe=mr(0,null,null,1,0,null,null,null,null,null),Qe=E3(null,Pe,null,be,null,null,S,O,D,w,null);let mt,Tt;jl(Qe);try{const Lt=this.componentDef;let cn,at=null;Lt.findHostDirectiveDefs?(cn=[],at=new Map,Lt.findHostDirectiveDefs(Lt,cn,at),cn.push(Lt)):cn=[Lt];const Bt=function Xy(s,a){const u=s[bt],d=Gn;return s[d]=a,S2(u,d,2,"#host",null)}(Qe,oe),Zt=function e_(s,a,u,d,f,v,w,S){const D=f[bt];!function Xg(s,a,u,d){for(const f of s)a.mergedAttrs=ua(a.mergedAttrs,f.hostAttrs);null!==a.mergedAttrs&&(Dh(a,a.mergedAttrs,!0),null!==u&&O1(d,u,a))}(d,s,a,w);const O=v.createRenderer(a,u),$=E3(f,Yg(u),null,u.onPush?32:16,f[s.index],s,v,O,S||null,null,null);return D.firstCreatePass&&U1(D,s,d.length-1),A3(f,$),f[s.index]=$}(Bt,oe,Lt,cn,Qe,S,O);Tt=Rd(Pe,Gn),oe&&function Io(s,a,u,d){if(d)Ka(s,u,["ng-version",wg.full]);else{const{attrs:f,classes:v}=function by(s){const a=[],u=[];let d=1,f=2;for(;d<s.length;){let v=s[d];if("string"==typeof v)2===f?""!==v&&a.push(v,s[++d]):8===f&&u.push(v);else{if(!Ia(f))break;f=v}d++}return{attrs:a,classes:u}}(a.selectors[0]);f&&Ka(s,u,f),v&&v.length>0&&qo(s,u,v.join(" "))}}(O,Lt,oe,d),void 0!==u&&function z3(s,a,u){const d=s.projection=[];for(let f=0;f<a.length;f++){const v=u[f];d.push(null!=v?Array.from(v):null)}}(Tt,this.ngContentSelectors,u),mt=function t_(s,a,u,d,f,v){const w=Br(),S=f[bt],D=Xr(w,f);lf(S,f,w,u,null,d);for(let $=0;$<u.length;$++)Ve(Er(f,S,w.directiveStart+$,w),f);M3(S,f,w),D&&Ve(D,f);const O=Er(f,S,w.directiveStart+w.componentOffset,w);if(s[fr]=f[fr]=O,null!==v)for(const $ of v)$(O,a);return T3(S,w,s),O}(Zt,Lt,cn,at,Qe,[n_]),wn(Pe,Qe,null)}finally{$l()}return new yl(this.componentType,mt,gl(Tt,Qe),Qe,Tt)}}class yl extends ay{constructor(a,u,d,f,v){super(),this.location=d,this._rootLView=f,this._tNode=v,this.instance=u,this.hostView=this.changeDetectorRef=new Zy(f),this.componentType=a}setInput(a,u){const d=this._tNode.inputs;let f;if(null!==d&&(f=d[a])){const v=this._rootLView;mf(v[bt],v,f,a,u),j1(Hr(this._tNode.index,v))}}get injector(){return new gs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function n_(){const s=Br();Wl(We()[bt],s)}function yf(s){let a=function xh(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),u=!0;const d=[s];for(;a;){let f;if(eo(s))f=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new ie(903,!1);f=a.\u0275dir}if(f){if(u){d.push(f);const w=s;w.inputs=P3(s.inputs),w.declaredInputs=P3(s.declaredInputs),w.outputs=P3(s.outputs);const S=f.hostBindings;S&&e5(s,S);const D=f.viewQuery,O=f.contentQueries;if(D&&i_(s,D),O&&_f(s,O),Q(s.inputs,f.inputs),Q(s.declaredInputs,f.declaredInputs),Q(s.outputs,f.outputs),eo(f)&&f.data.animation){const $=s.data;$.animation=($.animation||[]).concat(f.data.animation)}}const v=f.features;if(v)for(let w=0;w<v.length;w++){const S=v[w];S&&S.ngInherit&&S(s),S===yf&&(u=!1)}}a=Object.getPrototypeOf(a)}!function r_(s){let a=0,u=null;for(let d=s.length-1;d>=0;d--){const f=s[d];f.hostVars=a+=f.hostVars,f.hostAttrs=ua(f.hostAttrs,u=ua(u,f.hostAttrs))}}(d)}function P3(s){return s===Oe?{}:s===ht?[]:s}function i_(s,a){const u=s.viewQuery;s.viewQuery=u?(d,f)=>{a(d,f),u(d,f)}:a}function _f(s,a){const u=s.contentQueries;s.contentQueries=u?(d,f,v)=>{a(d,f,v),u(d,f,v)}:a}function e5(s,a){const u=s.hostBindings;s.hostBindings=u?(d,f)=>{a(d,f),u(d,f)}:a}function x2(s){return!!wf(s)&&(Array.isArray(s)||!(s instanceof Map)&&Symbol.iterator in s)}function wf(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function uc(s,a,u){return s[a]=u}function Gi(s,a,u){return!Object.is(s[a],u)&&(s[a]=u,!0)}function bf(s,a,u,d){const f=We();return Gi(f,oa(),a)&&(fn(),cc(nr(),f,s,a,u,d)),bf}function Sf(s,a,u,d,f,v,w,S){const D=We(),O=fn(),$=s+Gn,oe=O.firstCreatePass?function d_(s,a,u,d,f,v,w,S,D){const O=a.consts,$=S2(a,s,4,w||null,Os(O,S));cf(a,u,$,Os(O,D)),Wl(a,$);const oe=$.tView=mr(2,$,d,f,v,a.directiveRegistry,a.pipeRegistry,null,a.schemas,O);return null!==a.queries&&(a.queries.template(a,$),oe.queries=a.queries.embeddedTView($)),$}($,O,D,a,u,d,f,v,w):O.data[$];ki(oe,!1);const be=D[yn].createComment("");ll(O,D,be,oe),Ve(be,D),A3(D,D[$]=df(be,D,be,oe)),Ju(oe)&&rf(O,D,oe),null!=w&&sf(D,oe,S)}function l5(s){return gi(function Z0(){return ln.lFrame.contextLView}(),Gn+s)}function Ef(s,a,u){const d=We();return Gi(d,oa(),a)&&Wo(fn(),nr(),d,s,a,d[yn],u,!1),Ef}function R3(s,a,u,d,f){const w=f?"class":"style";mf(s,u,a.inputs[w],w,d)}function k2(s,a,u,d){const f=We(),v=fn(),w=Gn+s,S=f[yn],D=v.firstCreatePass?function Tf(s,a,u,d,f,v){const w=a.consts,D=S2(a,s,2,d,Os(w,f));return cf(a,u,D,Os(w,v)),null!==D.attrs&&Dh(D,D.attrs,!1),null!==D.mergedAttrs&&Dh(D,D.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,D),D}(w,v,f,a,u,d):v.data[w],O=f[w]=J4(S,a,function jd(){return ln.lFrame.currentNamespace}()),$=Ju(D);return ki(D,!0),O1(S,O,D),32!=(32&D.flags)&&ll(v,f,O,D),0===function Fd(){return ln.lFrame.elementDepthCount}()&&Ve(O,f),function Fl(){ln.lFrame.elementDepthCount++}(),$&&(rf(v,f,D),T3(v,D,f)),null!==d&&sf(f,D),k2}function N3(){let s=Br();Hd()?Hl():(s=s.parent,ki(s,!1));const a=s;!function Ld(){ln.lFrame.elementDepthCount--}();const u=fn();return u.firstCreatePass&&(Wl(u,s),Oc(s)&&u.queries.elementEnd(s)),null!=a.classesWithoutHost&&function Gc(s){return 0!=(8&s.flags)}(a)&&R3(u,a,We(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function aa(s){return 0!=(16&s.flags)}(a)&&R3(u,a,We(),a.stylesWithoutHost,!1),N3}function Df(s,a,u,d){return k2(s,a,u,d),N3(),Df}function F3(s,a,u){const d=We(),f=fn(),v=s+Gn,w=f.firstCreatePass?function f_(s,a,u,d,f){const v=a.consts,w=Os(v,d),S=S2(a,s,8,"ng-container",w);return null!==w&&Dh(S,w,!0),cf(a,u,S,Os(v,f)),null!==a.queries&&a.queries.elementStart(a,S),S}(v,f,d,a,u):f.data[v];ki(w,!0);const S=d[v]=d[yn].createComment("");return ll(f,d,S,w),Ve(S,d),Ju(w)&&(rf(f,d,w),T3(f,w,d)),null!=u&&sf(d,w),F3}function z2(){let s=Br();const a=fn();return Hd()?Hl():(s=s.parent,ki(s,!1)),a.firstCreatePass&&(Wl(a,s),Oc(s)&&a.queries.elementEnd(s)),z2}function d5(){return We()}function L3(s){return!!s&&"function"==typeof s.then}function h5(s){return!!s&&"function"==typeof s.subscribe}const Mf=h5;function xf(s,a,u,d){const f=We(),v=fn(),w=Br();return If(v,f,f[yn],w,s,a,d),xf}function P2(s,a){const u=Br(),d=We(),f=fn();return If(f,d,Zg(Ga(f.data),u,d),u,s,a),P2}function If(s,a,u,d,f,v,w){const S=Ju(d),O=s.firstCreatePass&&Kg(s),$=a[fr],oe=Wg(a);let be=!0;if(3&d.type||w){const mt=Xr(d,a),Tt=w?w(mt):mt,Lt=oe.length,cn=w?Bt=>w(Jr(Bt[d.index])):d.index;let at=null;if(!w&&S&&(at=function f5(s,a,u,d){const f=s.cleanup;if(null!=f)for(let v=0;v<f.length-1;v+=2){const w=f[v];if(w===u&&f[v+1]===d){const S=a[Xs],D=f[v+2];return S.length>D?S[D]:null}"string"==typeof w&&(v+=2)}return null}(s,a,f,d.index)),null!==at)(at.__ngLastListenerFn__||at).__ngNextListenerFn__=v,at.__ngLastListenerFn__=v,be=!1;else{v=p_(d,a,$,v,!1);const Bt=u.listen(Tt,f,v);oe.push(v,Bt),O&&O.push(f,cn,Lt,Lt+1)}}else v=p_(d,a,$,v,!1);const Pe=d.outputs;let Qe;if(be&&null!==Pe&&(Qe=Pe[f])){const mt=Qe.length;if(mt)for(let Tt=0;Tt<mt;Tt+=2){const Zt=a[Qe[Tt]][Qe[Tt+1]].subscribe(v),Wr=oe.length;oe.push(v,Zt),O&&O.push(f,d.index,Wr,-(Wr+1))}}}function Af(s,a,u,d){try{return Ai(6,a,u),!1!==u(d)}catch(f){return Qg(s,f),!1}finally{Ai(7,a,u)}}function p_(s,a,u,d,f){return function v(w){if(w===Function)return d;j1(s.componentOffset>-1?Hr(s.index,a):a);let D=Af(a,u,d,w),O=v.__ngNextListenerFn__;for(;O;)D=Af(a,u,O,w)&&D,O=O.__ngNextListenerFn__;return f&&!1===D&&(w.preventDefault(),w.returnValue=!1),D}}function p5(s=1){return function R4(s){return(ln.lFrame.contextLView=function Gl(s,a){for(;s>0;)a=a[ta],s--;return a}(s,ln.lFrame.contextLView))[fr]}(s)}function uT(s,a){let u=null;const d=function b3(s){const a=s.attrs;if(null!=a){const u=a.indexOf(5);if(!(1&u))return a[u+1]}return null}(s);for(let f=0;f<a.length;f++){const v=a[f];if("*"!==v){if(null===d?_2(s,v,!0):yy(d,v))return f}else u=f}return u}function m_(s){const a=We()[Sr][Ir];if(!a.projection){const d=a.projection=ou(s?s.length:1,null),f=d.slice();let v=a.child;for(;null!==v;){const w=s?uT(v,s):0;null!==w&&(f[w]?f[w].projectionNext=v:d[w]=v,f[w]=v),v=v.next}}}function g_(s,a=0,u){const d=We(),f=fn(),v=S2(f,Gn+s,16,null,u||null);null===v.projection&&(v.projection=a),Hl(),32!=(32&v.flags)&&function t2(s,a,u){n2(a[yn],0,a,u,vu(s,u,a),sh(u.parent||a[Ir],u,a))}(f,d,v)}function Of(s,a){return s<<17|a<<2}function Iu(s){return s>>17&32767}function Oi(s){return 2|s}function _l(s){return(131068&s)>>2}function Z1(s,a){return-131069&s|a<<2}function bs(s){return 1|s}function Gs(s,a,u,d,f){const v=s[u+1],w=null===a;let S=d?Iu(v):_l(v),D=!1;for(;0!==S&&(!1===D||w);){const $=s[S+1];Mt(s[S],a)&&(D=!0,s[S+1]=d?bs($):Oi($)),S=d?Iu($):_l($)}D&&(s[u+1]=d?Oi(v):bs(v))}function Mt(s,a){return null===s||null==a||(Array.isArray(s)?s[1]:s)===a||!(!Array.isArray(s)||"string"!=typeof a)&&Ui(s,a)>=0}const ti={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function vn(s){return s.substring(ti.key,ti.keyEnd)}function y5(s,a){const u=ti.textEnd;return u===a?-1:(a=ti.keyEnd=function co(s,a,u){for(;a<u&&s.charCodeAt(a)>32;)a++;return a}(s,ti.key=a,u),Ph(s,a,u))}function Ph(s,a,u){for(;a<u&&s.charCodeAt(a)<=32;)a++;return a}function R2(s,a,u){return ui(s,a,u,!1),R2}function B3(s,a){return ui(s,a,null,!0),B3}function Oh(s){!function Ss(s,a,u,d){const f=fn(),v=no(2);f.firstUpdatePass&&S5(f,null,v,d);const w=We();if(u!==pn&&Gi(w,v,u)){const S=f.data[ai()];if(D5(S,d)&&!C5(f,v)){let D=d?S.classesWithoutHost:S.stylesWithoutHost;null!==D&&(u=q(D,u||"")),R3(f,S,w,u,d)}else!function Hf(s,a,u,d,f,v,w,S){f===pn&&(f=ht);let D=0,O=0,$=0<f.length?f[0]:null,oe=0<v.length?v[0]:null;for(;null!==$||null!==oe;){const be=D<f.length?f[D+1]:void 0,Pe=O<v.length?v[O+1]:void 0;let mt,Qe=null;$===oe?(D+=2,O+=2,be!==Pe&&(Qe=oe,mt=Pe)):null===oe||null!==$&&$<oe?(D+=2,Qe=$):(O+=2,Qe=oe,mt=Pe),null!==Qe&&U3(s,a,u,d,Qe,mt,w,S),$=D<f.length?f[D]:null,oe=O<v.length?v[O]:null}}(f,S,w,w[yn],w[v+1],w[v+1]=function Lf(s,a,u){if(null==u||""===u)return ht;const d=[],f=li(u);if(Array.isArray(f))for(let v=0;v<f.length;v++)s(d,f[v],!0);else if("object"==typeof f)for(const v in f)f.hasOwnProperty(v)&&s(d,v,f[v]);else"string"==typeof f&&a(d,f);return d}(s,a,u),d,v)}}(Vf,Cs,s,!0)}function Cs(s,a){for(let u=function O2(s){return function w5(s){ti.key=0,ti.keyEnd=0,ti.value=0,ti.valueEnd=0,ti.textEnd=s.length}(s),y5(s,Ph(s,0,ti.textEnd))}(a);u>=0;u=y5(a,u))zi(s,vn(a),!0)}function ui(s,a,u,d){const f=We(),v=fn(),w=no(2);v.firstUpdatePass&&S5(v,s,w,d),a!==pn&&Gi(f,w,a)&&U3(v,v.data[ai()],f,f[yn],s,f[w+1]=function N2(s,a){return null==s||""===s||("string"==typeof a?s+=a:"object"==typeof s&&(s=W(li(s)))),s}(a,u),d,w)}function C5(s,a){return a>=s.expandoStartIndex}function S5(s,a,u,d){const f=s.data;if(null===f[u+1]){const v=f[ai()],w=C5(s,u);D5(v,d)&&null===a&&!w&&(a=!1),a=function Rh(s,a,u,d){const f=Ga(s);let v=d?a.residualClasses:a.residualStyles;if(null===f)0===(d?a.classBindings:a.styleBindings)&&(u=Nh(u=Ff(null,s,a,u,d),a.attrs,d),v=null);else{const w=a.directiveStylingLast;if(-1===w||s[w]!==f)if(u=Ff(f,s,a,u,d),null===v){let D=function E5(s,a,u){const d=u?a.classBindings:a.styleBindings;if(0!==_l(d))return s[Iu(d)]}(s,a,d);void 0!==D&&Array.isArray(D)&&(D=Ff(null,s,a,D[1],d),D=Nh(D,a.attrs,d),function Nf(s,a,u,d){s[Iu(u?a.classBindings:a.styleBindings)]=d}(s,a,d,D))}else v=function T5(s,a,u){let d;const f=a.directiveEnd;for(let v=1+a.directiveStylingLast;v<f;v++)d=Nh(d,s[v].hostAttrs,u);return Nh(d,a.attrs,u)}(s,a,d)}return void 0!==v&&(d?a.residualClasses=v:a.residualStyles=v),u}(f,v,a,d),function Au(s,a,u,d,f,v){let w=v?a.classBindings:a.styleBindings,S=Iu(w),D=_l(w);s[d]=u;let $,O=!1;if(Array.isArray(u)?($=u[1],(null===$||Ui(u,$)>0)&&(O=!0)):$=u,f)if(0!==D){const be=Iu(s[S+1]);s[d+1]=Of(be,S),0!==be&&(s[be+1]=Z1(s[be+1],d)),s[S+1]=function zh(s,a){return 131071&s|a<<17}(s[S+1],d)}else s[d+1]=Of(S,0),0!==S&&(s[S+1]=Z1(s[S+1],d)),S=d;else s[d+1]=Of(D,0),0===S?S=d:s[D+1]=Z1(s[D+1],d),D=d;O&&(s[d+1]=Oi(s[d+1])),Gs(s,$,d,!0),Gs(s,$,d,!1),function C_(s,a,u,d,f){const v=f?s.residualClasses:s.residualStyles;null!=v&&"string"==typeof a&&Ui(v,a)>=0&&(u[d+1]=bs(u[d+1]))}(a,$,s,d,v),w=Of(S,D),v?a.classBindings=w:a.styleBindings=w}(f,v,a,u,w,d)}}function Ff(s,a,u,d,f){let v=null;const w=u.directiveEnd;let S=u.directiveStylingLast;for(-1===S?S=u.directiveStart:S++;S<w&&(v=a[S],d=Nh(d,v.hostAttrs,f),v!==s);)S++;return null!==s&&(u.directiveStylingLast=S),d}function Nh(s,a,u){const d=u?1:2;let f=-1;if(null!==a)for(let v=0;v<a.length;v++){const w=a[v];"number"==typeof w?f=w:f===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),zi(s,w,!!u||a[++v]))}return void 0===s?null:s}function Vf(s,a,u){const d=String(a);""!==d&&!d.includes(" ")&&zi(s,d,u)}function U3(s,a,u,d,f,v,w,S){if(!(3&a.type))return;const D=s.data,O=D[S+1],$=function b_(s){return 1==(1&s)}(O)?Bf(D,a,u,f,_l(O),w):void 0;j3($)||(j3(v)||function w_(s){return 2==(2&s)}(O)&&(v=Bf(D,null,u,f,S,w)),function Ys(s,a,u,d,f){if(a)f?s.addClass(u,d):s.removeClass(u,d);else{let v=-1===d.indexOf("-")?void 0:Kt.DashCase;null==f?s.removeStyle(u,d,v):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),v|=Kt.Important),s.setStyle(u,d,f,v))}}(d,w,us(ai(),u),f,v))}function Bf(s,a,u,d,f,v){const w=null===a;let S;for(;f>0;){const D=s[f],O=Array.isArray(D),$=O?D[1]:D,oe=null===$;let be=u[f+1];be===pn&&(be=oe?ht:void 0);let Pe=oe?Nn(be,d):$===d?be:void 0;if(O&&!j3(Pe)&&(Pe=Nn(D,d)),j3(Pe)&&(S=Pe,w))return S;const Qe=s[f+1];f=w?Iu(Qe):_l(Qe)}if(null!==a){let D=v?a.residualClasses:a.residualStyles;null!=D&&(S=Nn(D,d))}return S}function j3(s){return void 0!==s}function D5(s,a){return 0!=(s.flags&(a?8:16))}function Fh(s,a=""){const u=We(),d=fn(),f=s+Gn,v=d.firstCreatePass?S2(d,f,1,a,null):d.data[f],w=u[f]=function gu(s,a){return s.createText(a)}(u[yn],a);ll(d,u,w,v),ki(v,!1)}function Yf(s){return $3("",s,""),Yf}function $3(s,a,u){const d=We(),f=function q1(s,a,u,d){return Gi(s,oa(),u)?a+ye(u)+d:pn}(d,s,a,u);return f!==pn&&function yi(s,a,u){const d=us(a,s);!function Q4(s,a,u){s.setValue(a,u)}(s[yn],d,u)}(d,ai(),f),$3}function Z3(s,a,u){const d=We();if(Gi(d,oa(),a)){const v=fn(),w=nr();Wo(v,w,d,s,a,Zg(Ga(v.data),w,d),u,!0)}return Z3}const Q1=void 0;var tp=["en",[["a","p"],["AM","PM"],Q1],[["AM","PM"],Q1,Q1],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Q1,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Q1,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Q1,"{1} 'at' {0}",Q1],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Q3(s){const u=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===d?1:5}];let zu={};function V5(s,a,u){"string"!=typeof a&&(u=a,a=s[Jt.LocaleId]),a=a.toLowerCase().replace(/_/g,"-"),zu[a]=s,u&&(zu[a][Jt.ExtraData]=u)}function np(s){const a=function x_(s){return s.toLowerCase().replace(/_/g,"-")}(s);let u=ip(a);if(u)return u;const d=a.split("-")[0];if(u=ip(d),u)return u;if("en"===d)return tp;throw new ie(701,!1)}function rp(s){return np(s)[Jt.PluralCase]}function ip(s){return s in zu||(zu[s]=Ot.ng&&Ot.ng.common&&Ot.ng.common.locales&&Ot.ng.common.locales[s]),zu[s]}var Jt=(()=>((Jt=Jt||{})[Jt.LocaleId=0]="LocaleId",Jt[Jt.DayPeriodsFormat=1]="DayPeriodsFormat",Jt[Jt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Jt[Jt.DaysFormat=3]="DaysFormat",Jt[Jt.DaysStandalone=4]="DaysStandalone",Jt[Jt.MonthsFormat=5]="MonthsFormat",Jt[Jt.MonthsStandalone=6]="MonthsStandalone",Jt[Jt.Eras=7]="Eras",Jt[Jt.FirstDayOfWeek=8]="FirstDayOfWeek",Jt[Jt.WeekendRange=9]="WeekendRange",Jt[Jt.DateFormat=10]="DateFormat",Jt[Jt.TimeFormat=11]="TimeFormat",Jt[Jt.DateTimeFormat=12]="DateTimeFormat",Jt[Jt.NumberSymbols=13]="NumberSymbols",Jt[Jt.NumberFormats=14]="NumberFormats",Jt[Jt.CurrencyCode=15]="CurrencyCode",Jt[Jt.CurrencySymbol=16]="CurrencySymbol",Jt[Jt.CurrencyName=17]="CurrencyName",Jt[Jt.Currencies=18]="Currencies",Jt[Jt.Directionality=19]="Directionality",Jt[Jt.PluralCase=20]="PluralCase",Jt[Jt.ExtraData=21]="ExtraData",Jt))();const Bh="en-US";let Yh=Bh;function o8(s,a,u,d,f){if(s=P(s),Array.isArray(s))for(let v=0;v<s.length;v++)o8(s[v],a,u,d,f);else{const v=fn(),w=We();let S=ml(s)?s:P(s.provide),D=V6(s);const O=Br(),$=1048575&O.providerIndexes,oe=O.directiveStart,be=O.providerIndexes>>20;if(ml(s)||!s.multi){const Pe=new ps(D,f,Th),Qe=Zh(S,a,f?$:$+be,oe);-1===Qe?(Un(u1(O,w),v,S),s8(v,s,a.length),a.push(S),O.directiveStart++,O.directiveEnd++,f&&(O.providerIndexes+=1048576),u.push(Pe),w.push(Pe)):(u[Qe]=Pe,w[Qe]=Pe)}else{const Pe=Zh(S,a,$+be,oe),Qe=Zh(S,a,$,$+be),Tt=Qe>=0&&u[Qe];if(f&&!Tt||!f&&!(Pe>=0&&u[Pe])){Un(u1(O,w),v,S);const Lt=function j_(s,a,u,d,f){const v=new ps(s,u,Th);return v.multi=[],v.index=a,v.componentProviders=0,Sp(v,f,d&&!u),v}(f?fc:i7,u.length,f,d,D);!f&&Tt&&(u[Qe].providerFactory=Lt),s8(v,s,a.length,0),a.push(S),O.directiveStart++,O.directiveEnd++,f&&(O.providerIndexes+=1048576),u.push(Lt),w.push(Lt)}else s8(v,s,Pe>-1?Pe:Qe,Sp(u[f?Qe:Pe],D,!f&&d));!f&&d&&Tt&&u[Qe].componentProviders++}}}function s8(s,a,u,d){const f=ml(a),v=function g3(s){return!!s.useClass}(a);if(f||v){const D=(v?P(a.useClass):a).prototype.ngOnDestroy;if(D){const O=s.destroyHooks||(s.destroyHooks=[]);if(!f&&a.multi){const $=O.indexOf(u);-1===$?O.push(u,[d,D]):O[$+1].push(d,D)}else O.push(u,D)}}}function Sp(s,a,u){return u&&s.componentProviders++,s.multi.push(a)-1}function Zh(s,a,u,d){for(let f=u;f<d;f++)if(a[f]===s)return f;return-1}function i7(s,a,u,d){return a8(this.multi,[])}function fc(s,a,u,d){const f=this.multi;let v;if(this.providerFactory){const w=this.providerFactory.componentProviders,S=Er(u,u[bt],this.providerFactory.index,d);v=S.slice(0,w),a8(f,v);for(let D=w;D<S.length;D++)v.push(S[D])}else v=[],a8(f,v);return v}function a8(s,a){for(let u=0;u<s.length;u++)a.push((0,s[u])());return a}function Ep(s,a=[]){return u=>{u.providersResolver=(d,f)=>function U_(s,a,u){const d=fn();if(d.firstCreatePass){const f=eo(s);o8(u,d.data,d.blueprint,f,!0),o8(a,d.data,d.blueprint,f,!1)}}(d,f?f(s):s,a)}}class Ou{}class Qh{}function o7(s,a){return new q2(s,a??null)}class q2 extends Ou{constructor(a,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new gf(this);const d=xr(a);this._bootstrapComponents=ac(d.bootstrap),this._r3Injector=Q6(a,u,[{provide:Ou,useValue:this},{provide:_h,useValue:this.componentFactoryResolver}],W(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class c8 extends Qh{constructor(a){super(),this.moduleType=a}create(a){return new q2(this.moduleType,a)}}class l8 extends Ou{constructor(a,u,d){super(),this.componentFactoryResolver=new gf(this),this.instance=null;const f=new pg([...a,{provide:Ou,useValue:this},{provide:_h,useValue:this.componentFactoryResolver}],u||y3(),d,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function Tp(s,a,u=null){return new l8(s,a,u).injector}let a7=(()=>{class s{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const d=gh(0,u.type),f=d.length>0?Tp([d],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,f)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=wt({token:s,providedIn:"environment",factory:()=>new s(En(B1))}),s})();function Jh(s){s.getStandaloneInjector=a=>a.get(a7).getOrCreateStandaloneInjector(s)}function Ws(s,a,u,d,f){return function Pp(s,a,u,d,f,v,w){const S=a+u;return function Du(s,a,u,d){const f=Gi(s,a,u);return Gi(s,a+1,d)||f}(s,S,f,v)?uc(s,S+2,w?d.call(w,f,v):d(f,v)):mc(s,S+2)}(We(),Ar(),s,a,u,d,f)}function mc(s,a){const u=s[a];return u===pn?void 0:u}function W2(s,a){const u=fn();let d;const f=s+Gn;u.firstCreatePass?(d=function g8(s,a){if(a)for(let u=a.length-1;u>=0;u--){const d=a[u];if(s===d.name)return d}}(a,u.pipeRegistry),u.data[f]=d,d.onDestroy&&(u.destroyHooks??(u.destroyHooks=[])).push(f,d.onDestroy)):d=u.data[f];const v=d.factory||(d.factory=Bo(d.type)),w=ot(Th);try{const S=qc(!1),D=v();return qc(S),function h_(s,a,u,d){u>=s.data.length&&(s.data[u]=null,s.blueprint[u]=null),a[u]=d}(u,We(),f,D),D}finally{ot(w)}}function K2(s,a,u){const d=s+Gn,f=We(),v=gi(f,d);return function rd(s,a){return s[bt].data[a].pure}(f,d)?function m8(s,a,u,d,f,v){const w=a+u;return Gi(s,w,f)?uc(s,w+1,v?d.call(v,f):d(f)):mc(s,w+1)}(f,Ar(),a,v.transform,u,v):v.transform(u)}function Op(s){return a=>{setTimeout(s,void 0,a)}}const za=class Z_ extends l.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,u,d){let f=a,v=u||(()=>null),w=d;if(a&&"object"==typeof a){const D=a;f=D.next?.bind(D),v=D.error?.bind(D),w=D.complete?.bind(D)}this.__isAsync&&(v=Op(v),f&&(f=Op(f)),w&&(w=Op(w)));const S=super.subscribe({next:f,error:v,complete:w});return a instanceof V.w0&&a.add(S),S}};function Q_(){return this._results[Symbol.iterator]()}class t4{get changes(){return this._changes||(this._changes=new za)}constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=t4.prototype;u[Symbol.iterator]||(u[Symbol.iterator]=Q_)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,u){return this._results.reduce(a,u)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,u){const d=this;d.dirty=!1;const f=function bo(s){return s.flat(Number.POSITIVE_INFINITY)}(a);(this._changesDetected=!function g1(s,a,u){if(s.length!==a.length)return!1;for(let d=0;d<s.length;d++){let f=s[d],v=a[d];if(u&&(f=u(f),v=u(v)),v!==f)return!1}return!0}(d._results,f,u))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Z2=(()=>{class s{}return s.__NG_ELEMENT_ID__=m7,s})();const J_=Z2,n4=class extends J_{constructor(a,u,d){super(),this._declarationLView=a,this._declarationTContainer=u,this.elementRef=d}createEmbeddedView(a,u){const d=this._declarationTContainer.tView,f=E3(this._declarationLView,d,a,16,null,d.declTNode,null,null,null,null,u||null);f[Ha]=this._declarationLView[this._declarationTContainer.index];const w=this._declarationLView[yo];return null!==w&&(f[yo]=w.createEmbeddedView(d)),wn(d,f,a),new Mh(f)}};function m7(){return ni(Br(),We())}function ni(s,a){return 4&s.type?new n4(a,s,gl(s,a)):null}let Sl=(()=>{class s{}return s.__NG_ELEMENT_ID__=Ru,s})();function Ru(){return Ts(Br(),We())}const Rp=Sl,g7=class extends Rp{constructor(a,u,d){super(),this._lContainer=a,this._hostTNode=u,this._hostLView=d}get element(){return gl(this._hostTNode,this._hostLView)}get injector(){return new gs(this._hostTNode,this._hostLView)}get parentInjector(){const a=Wd(this._hostTNode,this._hostLView);if(da(a)){const u=ha(a,this._hostLView),d=Rs(a);return new gs(u[bt].data[d+8],u)}return new gs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const u=dt(this._lContainer);return null!==u&&u[a]||null}get length(){return this._lContainer.length-Qr}createEmbeddedView(a,u,d){let f,v;"number"==typeof d?f=d:null!=d&&(f=d.index,v=d.injector);const w=a.createEmbeddedView(u||{},v);return this.insert(w,f),w}createComponent(a,u,d,f,v){const w=a&&!function iu(s){return"function"==typeof s}(a);let S;if(w)S=u;else{const oe=u||{};S=oe.index,d=oe.injector,f=oe.projectableNodes,v=oe.environmentInjector||oe.ngModuleRef}const D=w?a:new D2(jt(a)),O=d||this.parentInjector;if(!v&&null==D.ngModule){const be=(w?O:this.parentInjector).get(B1,null);be&&(v=be)}const $=D.create(O,f,void 0,v);return this.insert($.hostView,S),$}insert(a,u){const d=a._lView,f=d[bt];if(function n1(s){return Yi(s[Qn])}(d)){const $=this.indexOf(a);if(-1!==$)this.detach($);else{const oe=d[Qn],be=new g7(oe,oe[Ir],oe[Qn]);be.detach(be.indexOf(a))}}const v=this._adjustIndex(u),w=this._lContainer;!function sl(s,a,u,d){const f=Qr+d,v=u.length;d>0&&(u[f-1][Xi]=a),d<v-Qr?(a[Xi]=u[f],$4(u,Qr+d,a)):(u.push(a),a[Xi]=null),a[Qn]=u;const w=a[Ha];null!==w&&u!==w&&function C6(s,a){const u=s[na];a[Sr]!==a[Qn][Qn][Sr]&&(s[Qu]=!0),null===u?s[na]=[a]:u.push(a)}(w,a);const S=a[yo];null!==S&&S.insertView(s),a[on]|=64}(f,d,w,v);const S=ys(v,w),D=d[yn],O=xa(D,w[Ba]);return null!==O&&function n3(s,a,u,d,f,v){d[Ji]=f,d[Ir]=a,z1(s,d,u,1,f,v)}(f,w[Ir],D,d,O,S),a.attachToViewContainerRef(),$4(Or(w),v,a),a}move(a,u){return this.insert(a,u)}indexOf(a){const u=dt(this._lContainer);return null!==u?u.indexOf(a):-1}remove(a){const u=this._adjustIndex(a,-1),d=M1(this._lContainer,u);d&&(wa(Or(this._lContainer),u),ih(d[bt],d))}detach(a){const u=this._adjustIndex(a,-1),d=M1(this._lContainer,u);return d&&null!=wa(Or(this._lContainer),u)?new Mh(d):null}_adjustIndex(a,u=0){return a??this.length+u}};function dt(s){return s[ks]}function Or(s){return s[ks]||(s[ks]=[])}function Ts(s,a){let u;const d=a[s.index];if(Yi(d))u=d;else{let f;if(8&s.type)f=Jr(d);else{const v=a[yn];f=v.createComment("");const w=Xr(s,a);oc(v,xa(v,w),f,function s3(s,a){return s.nextSibling(a)}(v,w),!1)}a[s.index]=u=df(d,a,f,s),A3(a,u)}return new g7(u,s,a)}class Q2{constructor(a){this.queryList=a,this.matches=null}clone(){return new Q2(this.queryList)}setDirty(){this.queryList.setDirty()}}class Rt{constructor(a=[]){this.queries=a}createEmbeddedView(a){const u=a.queries;if(null!==u){const d=null!==a.contentQueries?a.contentQueries[0]:u.length,f=[];for(let v=0;v<d;v++){const w=u.getByIndex(v);f.push(this.queries[w.indexInDeclarationView].clone())}return new Rt(f)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let u=0;u<this.queries.length;u++)null!==mn(a,u).matches&&this.queries[u].setDirty()}}class Gt{constructor(a,u,d=null){this.predicate=a,this.flags=u,this.read=d}}class Np{constructor(a=[]){this.queries=a}elementStart(a,u){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(a,u)}elementEnd(a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(a)}embeddedTView(a){let u=null;for(let d=0;d<this.length;d++){const f=null!==u?u.length:0,v=this.getByIndex(d).embeddedTView(a,f);v&&(v.indexInDeclarationView=d,null!==u?u.push(v):u=[v])}return null!==u?new Np(u):null}template(a,u){for(let d=0;d<this.queries.length;d++)this.queries[d].template(a,u)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class Et{constructor(a,u=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(a,u){this.isApplyingToNode(u)&&this.matchTNode(a,u)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,u){this.elementStart(a,u)}embeddedTView(a,u){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,u),new Et(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let d=a.parent;for(;null!==d&&8&d.type&&d.index!==u;)d=d.parent;return u===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(a,u){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const v=d[f];this.matchTNodeWithReadOption(a,u,Ye(u,v)),this.matchTNodeWithReadOption(a,u,pa(u,a,v,!1,!1))}else d===Z2?4&u.type&&this.matchTNodeWithReadOption(a,u,-1):this.matchTNodeWithReadOption(a,u,pa(u,a,d,!1,!1))}matchTNodeWithReadOption(a,u,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===wh||f===Sl||f===Z2&&4&u.type)this.addMatch(u.index,-2);else{const v=pa(u,a,f,!1,!1);null!==v&&this.addMatch(u.index,v)}else this.addMatch(u.index,d)}}addMatch(a,u){null===this.matches?this.matches=[a,u]:this.matches.push(a,u)}}function Ye(s,a){const u=s.localNames;if(null!==u)for(let d=0;d<u.length;d+=2)if(u[d]===a)return u[d+1];return null}function bi(s,a,u,d){return-1===u?function nt(s,a){return 11&s.type?gl(s,a):4&s.type?ni(s,a):null}(a,s):-2===u?function v7(s,a,u){return u===wh?gl(a,s):u===Z2?ni(a,s):u===Sl?Ts(a,s):void 0}(s,a,d):Er(s,s[bt],u,a)}function y7(s,a,u,d){const f=a[yo].queries[d];if(null===f.matches){const v=s.data,w=u.matches,S=[];for(let D=0;D<w.length;D+=2){const O=w[D];S.push(O<0?null:bi(a,v[O],w[D+1],u.metadata.read))}f.matches=S}return f.matches}function Fp(s,a,u,d){const f=s.queries.getByIndex(u),v=f.matches;if(null!==v){const w=y7(s,a,f,u);for(let S=0;S<v.length;S+=2){const D=v[S];if(D>0)d.push(w[S/2]);else{const O=v[S+1],$=a[-D];for(let oe=Qr;oe<$.length;oe++){const be=$[oe];be[Ha]===be[Qn]&&Fp(be[bt],be,O,d)}if(null!==$[na]){const oe=$[na];for(let be=0;be<oe.length;be++){const Pe=oe[be];Fp(Pe[bt],Pe,O,d)}}}}}return d}function _7(s){const a=We(),u=fn(),d=r1();Yl(d+1);const f=mn(u,d);if(s.dirty&&function Nl(s){return 4==(4&s[on])}(a)===(2==(2&f.metadata.flags))){if(null===f.matches)s.reset([]);else{const v=f.crossesNgTemplate?Fp(u,a,d,[]):y7(u,a,f,d);s.reset(v,g2),s.notifyOnChanges()}return!0}return!1}function w7(s,a,u){const d=fn();d.firstCreatePass&&(C7(d,new Gt(s,a,u),-1),2==(2&a)&&(d.staticViewQueries=!0)),ew(d,We(),a)}function b7(s,a,u,d){const f=fn();if(f.firstCreatePass){const v=Br();C7(f,new Gt(a,u,d),v.index),function S7(s,a){const u=s.contentQueries||(s.contentQueries=[]);a!==(u.length?u[u.length-1]:-1)&&u.push(s.queries.length-1,a)}(f,s),2==(2&u)&&(f.staticContentQueries=!0)}ew(f,We(),u)}function Lp(){return function X_(s,a){return s[yo].queries[a].queryList}(We(),r1())}function ew(s,a,u){const d=new t4(4==(4&u));D3(s,a,d,d.destroy),null===a[yo]&&(a[yo]=new Rt),a[yo].queries.push(new Q2(d))}function C7(s,a,u){null===s.queries&&(s.queries=new Np),s.queries.track(new Et(a,u))}function mn(s,a){return s.queries.getByIndex(a)}function id(s,a){return ni(s,a)}function St(s){return!!xr(s)}function C8(...s){}const A7=new xn("Application Initializer");let s0=(()=>{class s{constructor(u){this.appInits=u,this.resolve=C8,this.reject=C8,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const u=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const v=this.appInits[f]();if(L3(v))u.push(v);else if(Mf(v)){const w=new Promise((S,D)=>{v.subscribe({complete:S,error:D})});u.push(w)}}Promise.all(u).then(()=>{d()}).catch(f=>{this.reject(f)}),0===u.length&&d(),this.initialized=!0}}return s.\u0275fac=function(u){return new(u||s)(En(A7,8))},s.\u0275prov=wt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Up=new xn("AppId",{providedIn:"root",factory:function k7(){return`${di()}${di()}${di()}`}});function di(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const jp=new xn("Platform Initializer"),Fu=new xn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),dr=new xn("AnimationModuleType");let S8=(()=>{class s{log(u){console.log(u)}warn(u){console.warn(u)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=wt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Xn=new xn("LocaleId",{providedIn:"root",factory:()=>hr(Xn,ge.Optional|ge.SkipSelf)||function Ki(){return typeof $localize<"u"&&$localize.locale||Bh}()}),P7=new xn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class fw{constructor(a,u){this.ngModuleFactory=a,this.componentFactories=u}}let Ci=(()=>{class s{compileModuleSync(u){return new c8(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const d=this.compileModuleSync(u),v=ac(xr(u).declarations).reduce((w,S)=>{const D=jt(S);return D&&w.push(new D2(D)),w},[]);return new fw(d,v)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=wt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const mw=(()=>Promise.resolve(0))();function _c(s){typeof Zone>"u"?mw.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Si{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new za(!1),this.onMicrotaskEmpty=new za(!1),this.onStable=new za(!1),this.onError=new za(!1),typeof Zone>"u")throw new ie(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&u,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function Lu(){let s=Ot.requestAnimationFrame,a=Ot.cancelAnimationFrame;if(typeof Zone<"u"&&s&&a){const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function O7(s){const a=()=>{!function Vu(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Ot,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Hu(s),s.isCheckStableRunning=!0,cd(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Hu(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,d,f,v,w,S)=>{try{return E8(s),u.invokeTask(f,v,w,S)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===v.type||s.shouldCoalesceRunChangeDetection)&&a(),l0(s)}},onInvoke:(u,d,f,v,w,S,D)=>{try{return E8(s),u.invoke(f,v,w,S,D)}finally{s.shouldCoalesceRunChangeDetection&&a(),l0(s)}},onHasTask:(u,d,f,v)=>{u.hasTask(f,v),d===f&&("microTask"==v.change?(s._hasPendingMicrotasks=v.microTask,Hu(s),cd(s)):"macroTask"==v.change&&(s.hasPendingMacrotasks=v.macroTask))},onHandleError:(u,d,f,v)=>(u.handleError(f,v),s.runOutsideAngular(()=>s.onError.emit(v)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Si.isInAngularZone())throw new ie(909,!1)}static assertNotInAngularZone(){if(Si.isInAngularZone())throw new ie(909,!1)}run(a,u,d){return this._inner.run(a,u,d)}runTask(a,u,d,f){const v=this._inner,w=v.scheduleEventTask("NgZoneEvent: "+f,a,wc,C8,C8);try{return v.runTask(w,u,d)}finally{v.cancelTask(w)}}runGuarded(a,u,d){return this._inner.runGuarded(a,u,d)}runOutsideAngular(a){return this._outer.run(a)}}const wc={};function cd(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Hu(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function E8(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function l0(s){s._nesting--,cd(s)}class ld{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new za,this.onMicrotaskEmpty=new za,this.onStable=new za,this.onError=new za}run(a,u,d){return a.apply(u,d)}runGuarded(a,u,d){return a.apply(u,d)}runOutsideAngular(a){return a()}runTask(a,u,d,f){return a.apply(u,d)}}const T8=new xn(""),s4=new xn("");let ud,R7=(()=>{class s{constructor(u,d,f){this._ngZone=u,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,ud||(function D8(s){ud=s}(f),f.addToWindow(d)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Si.assertNotInAngularZone(),_c(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())_c(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(u)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,d,f){let v=-1;d&&d>0&&(v=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==v),u(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:u,timeoutId:v,updateCb:f})}whenStable(u,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,d,f){return[]}}return s.\u0275fac=function(u){return new(u||s)(En(Si),En(qp),En(s4))},s.\u0275prov=wt({token:s,factory:s.\u0275fac}),s})(),qp=(()=>{class s{constructor(){this._applications=new Map}registerApplication(u,d){this._applications.set(u,d)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,d=!0){return ud?.findTestabilityInTree(this,u,d)??null}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=wt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const bc=!1;let Bu=null;const N7=new xn("AllowMultipleToken"),M8=new xn("PlatformDestroyListeners"),Wp=new xn("appBootstrapListener");class Yu{constructor(a,u){this.name=a,this.token=u}}function Kp(s,a,u=[]){const d=`Platform: ${a}`,f=new xn(d);return(v=[])=>{let w=d0();if(!w||w.injector.get(N7,!1)){const S=[...u,...v,{provide:f,useValue:!0}];s?s(S):function F7(s){if(Bu&&!Bu.get(N7,!1))throw new ie(400,!1);Bu=s;const a=s.get(x8);(function dd(s){const a=s.get(jp,null);a&&a.forEach(u=>u())})(s)}(function qn(s=[],a){return Ch.create({name:a,providers:[{provide:Su,useValue:"platform"},{provide:M8,useValue:new Set([()=>Bu=null])},...s]})}(S,d))}return function Rn(s){const a=d0();if(!a)throw new ie(401,!1);return a}()}}function d0(){return Bu?.get(x8)??null}let x8=(()=>{class s{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,d){const f=function I8(s,a){let u;return u="noop"===s?new ld:("zone.js"===s?void 0:s)||new Si(a),u}(d?.ngZone,function Zp(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(d)),v=[{provide:Si,useValue:f}];return f.run(()=>{const w=Ch.create({providers:v,parent:this.injector,name:u.moduleType.name}),S=u.create(w),D=S.injector.get(v2,null);if(!D)throw new ie(402,!1);return f.runOutsideAngular(()=>{const O=f.onError.subscribe({next:$=>{D.handleError($)}});S.onDestroy(()=>{A8(this._modules,S),O.unsubscribe()})}),function Qp(s,a,u){try{const d=u();return L3(d)?d.catch(f=>{throw a.runOutsideAngular(()=>s.handleError(f)),f}):d}catch(d){throw a.runOutsideAngular(()=>s.handleError(d)),d}}(D,f,()=>{const O=S.injector.get(s0);return O.runInitializers(),O.donePromise.then(()=>(function op(s){pe(s,"Expected localeId to be defined"),"string"==typeof s&&(Yh=s.toLowerCase().replace(/_/g,"-"))}(S.injector.get(Xn,Bh)||Bh),this._moduleDoBootstrap(S),S))})})}bootstrapModule(u,d=[]){const f=Jp({},d);return function Zi(s,a,u){const d=new c8(u);return Promise.resolve(d)}(0,0,u).then(v=>this.bootstrapModuleFactory(v,f))}_moduleDoBootstrap(u){const d=u.injector.get(h0);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!u.instance.ngDoBootstrap)throw new ie(-403,!1);u.instance.ngDoBootstrap(d)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ie(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const u=this._injector.get(M8,null);u&&(u.forEach(d=>d()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(u){return new(u||s)(En(Ch))},s.\u0275prov=wt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function Jp(s,a){return Array.isArray(a)?a.reduce(Jp,s):{...s,...a}}let h0=(()=>{class s{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(u,d,f){this._zone=u,this._injector=d,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new M.y(S=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{S.next(this._stable),S.complete()})}),w=new M.y(S=>{let D;this._zone.runOutsideAngular(()=>{D=this._zone.onStable.subscribe(()=>{Si.assertNotInAngularZone(),_c(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,S.next(!0))})})});const O=this._zone.onUnstable.subscribe(()=>{Si.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{S.next(!1)}))});return()=>{D.unsubscribe(),O.unsubscribe()}});this.isStable=(0,F.T)(v,w.pipe((0,H.B)()))}bootstrap(u,d){const f=u instanceof gg;if(!this._injector.get(s0).done){!f&&Zr(u);throw new ie(405,bc)}let w;w=f?u:this._injector.get(_h).resolveComponentFactory(u),this.componentTypes.push(w.componentType);const S=function _r(s){return s.isBoundToModule}(w)?void 0:this._injector.get(Ou),O=w.create(Ch.NULL,[],d||w.selector,S),$=O.location.nativeElement,oe=O.injector.get(T8,null);return oe?.registerApplication($),O.onDestroy(()=>{this.detachView(O.hostView),A8(this.components,O),oe?.unregisterApplication($)}),this._loadComponent(O),O}tick(){if(this._runningTick)throw new ie(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const d=u;this._views.push(d),d.attachToAppRef(this)}detachView(u){const d=u;A8(this._views,d),d.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u);const d=this._injector.get(Wp,[]);d.push(...this._bootstrapListeners),d.forEach(f=>f(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>A8(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new ie(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(u){return new(u||s)(En(Si),En(B1),En(v2))},s.\u0275prov=wt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function A8(s,a){const u=s.indexOf(a);u>-1&&s.splice(u,1)}function H7(){return!1}let _w=(()=>{class s{}return s.__NG_ELEMENT_ID__=Xp,s})();function Xp(s){return function hd(s,a,u){if(Ya(s)&&!u){const d=Hr(s.index,a);return new Mh(d,d)}return 47&s.type?new Mh(a[Sr],a):null}(Br(),We(),16==(16&s))}class j7{constructor(){}supports(a){return x2(a)}create(a){return new Ew(a)}}const Ml=(s,a)=>a;class Ew{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||Ml}forEachItem(a){let u;for(u=this._itHead;null!==u;u=u._next)a(u)}forEachOperation(a){let u=this._itHead,d=this._removalsHead,f=0,v=null;for(;u||d;){const w=!d||u&&u.currentIndex<rm(d,f,v)?u:d,S=rm(w,f,v),D=w.currentIndex;if(w===d)f--,d=d._nextRemoved;else if(u=u._next,null==w.previousIndex)f++;else{v||(v=[]);const O=S-f,$=D-f;if(O!=$){for(let be=0;be<O;be++){const Pe=be<v.length?v[be]:v[be]=0,Qe=Pe+be;$<=Qe&&Qe<O&&(v[be]=Pe+1)}v[w.previousIndex]=$-O}}S!==D&&a(w,S,D)}}forEachPreviousItem(a){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)a(u)}forEachAddedItem(a){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)a(u)}forEachMovedItem(a){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)a(u)}forEachRemovedItem(a){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)a(u)}forEachIdentityChange(a){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)a(u)}diff(a){if(null==a&&(a=[]),!x2(a))throw new ie(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let f,v,w,u=this._itHead,d=!1;if(Array.isArray(a)){this.length=a.length;for(let S=0;S<this.length;S++)v=a[S],w=this._trackByFn(S,v),null!==u&&Object.is(u.trackById,w)?(d&&(u=this._verifyReinsertion(u,v,w,S)),Object.is(u.item,v)||this._addIdentityChange(u,v)):(u=this._mismatch(u,v,w,S),d=!0),u=u._next}else f=0,function n5(s,a){if(Array.isArray(s))for(let u=0;u<s.length;u++)a(s[u]);else{const u=s[Symbol.iterator]();let d;for(;!(d=u.next()).done;)a(d.value)}}(a,S=>{w=this._trackByFn(f,S),null!==u&&Object.is(u.trackById,w)?(d&&(u=this._verifyReinsertion(u,S,w,f)),Object.is(u.item,S)||this._addIdentityChange(u,S)):(u=this._mismatch(u,S,w,f),d=!0),u=u._next,f++}),this.length=f;return this._truncate(u),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,u,d,f){let v;return null===a?v=this._itTail:(v=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(a.item,u)||this._addIdentityChange(a,u),this._reinsertAfter(a,v,f)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(a.item,u)||this._addIdentityChange(a,u),this._moveAfter(a,v,f)):a=this._addAfter(new Jo(u,d),v,f),a}_verifyReinsertion(a,u,d,f){let v=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==v?a=this._reinsertAfter(v,a._prev,f):a.currentIndex!=f&&(a.currentIndex=f,this._addToMoves(a,f)),a}_truncate(a){for(;null!==a;){const u=a._next;this._addToRemovals(this._unlink(a)),a=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,u,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const f=a._prevRemoved,v=a._nextRemoved;return null===f?this._removalsHead=v:f._nextRemoved=v,null===v?this._removalsTail=f:v._prevRemoved=f,this._insertAfter(a,u,d),this._addToMoves(a,d),a}_moveAfter(a,u,d){return this._unlink(a),this._insertAfter(a,u,d),this._addToMoves(a,d),a}_addAfter(a,u,d){return this._insertAfter(a,u,d),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,u,d){const f=null===u?this._itHead:u._next;return a._next=f,a._prev=u,null===f?this._itTail=a:f._prev=a,null===u?this._itHead=a:u._next=a,null===this._linkedRecords&&(this._linkedRecords=new l4),this._linkedRecords.put(a),a.currentIndex=d,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const u=a._prev,d=a._next;return null===u?this._itHead=d:u._next=d,null===d?this._itTail=u:d._prev=u,a}_addToMoves(a,u){return a.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new l4),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,u){return a.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class Jo{constructor(a,u){this.item=a,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class $7{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,u){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===u||u<=d.currentIndex)&&Object.is(d.trackById,a))return d;return null}remove(a){const u=a._prevDup,d=a._nextDup;return null===u?this._head=d:u._nextDup=d,null===d?this._tail=u:d._prevDup=u,null===this._head}}class l4{constructor(){this.map=new Map}put(a){const u=a.trackById;let d=this.map.get(u);d||(d=new $7,this.map.set(u,d)),d.add(a)}get(a,u){const f=this.map.get(a);return f?f.get(a,u):null}remove(a){const u=a.trackById;return this.map.get(u).remove(a)&&this.map.delete(u),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function rm(s,a,u){const d=s.previousIndex;if(null===d)return d;let f=0;return u&&d<u.length&&(f=u[d]),d+a+f}class Oa{constructor(){}supports(a){return a instanceof Map||wf(a)}create(){return new G7}}class G7{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let u;for(u=this._mapHead;null!==u;u=u._next)a(u)}forEachPreviousItem(a){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)a(u)}forEachChangedItem(a){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)a(u)}forEachAddedItem(a){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)a(u)}forEachRemovedItem(a){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)a(u)}diff(a){if(a){if(!(a instanceof Map||wf(a)))throw new ie(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(a,(d,f)=>{if(u&&u.key===f)this._maybeAddToChanges(u,d),this._appendAfter=u,u=u._next;else{const v=this._getOrCreateRecordForKey(f,d);u=this._insertBeforeOrAppend(u,v)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let d=u;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,u){if(a){const d=a._prev;return u._next=a,u._prev=d,a._prev=u,d&&(d._next=u),a===this._mapHead&&(this._mapHead=u),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(a,u){if(this._records.has(a)){const f=this._records.get(a);this._maybeAddToChanges(f,u);const v=f._prev,w=f._next;return v&&(v._next=w),w&&(w._prev=v),f._next=null,f._prev=null,f}const d=new m0(a);return this._records.set(a,d),d.currentValue=u,this._addToAdditions(d),d}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,u){Object.is(u,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=u,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,u){a instanceof Map?a.forEach(u):Object.keys(a).forEach(d=>u(a[d],d))}}class m0{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function q7(){return new im([new j7])}let im=(()=>{class s{constructor(u){this.factories=u}static create(u,d){if(null!=d){const f=d.factories.slice();u=u.concat(f)}return new s(u)}static extend(u){return{provide:s,useFactory:d=>s.create(u,d||q7()),deps:[[s,new Nt,new nl]]}}find(u){const d=this.factories.find(f=>f.supports(u));if(null!=d)return d;throw new ie(901,!1)}}return s.\u0275prov=wt({token:s,providedIn:"root",factory:q7}),s})();function W7(){return new g0([new Oa])}let g0=(()=>{class s{constructor(u){this.factories=u}static create(u,d){if(d){const f=d.factories.slice();u=u.concat(f)}return new s(u)}static extend(u){return{provide:s,useFactory:d=>s.create(u,d||W7()),deps:[[s,new Nt,new nl]]}}find(u){const d=this.factories.find(f=>f.supports(u));if(d)return d;throw new ie(901,!1)}}return s.\u0275prov=wt({token:s,providedIn:"root",factory:W7}),s})();const Dw=Kp(null,"core",[]);let Mw=(()=>{class s{constructor(u){}}return s.\u0275fac=function(u){return new(u||s)(En(h0))},s.\u0275mod=Ne({type:s}),s.\u0275inj=At({}),s})();function Q7(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(Yt,ee,B)=>{"use strict";B.d(ee,{Z:()=>X});var l=B(2090),V=B(4859),M=B(6881),F=B(1877);class H{constructor(ie,ae){this._delegate=ie,this.firebase=ae,(0,M._addComponent)(ie,new V.wA("app-compat",()=>this,"PUBLIC")),this.container=ie.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ie){this._delegate.automaticDataCollectionEnabled=ie}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ie=>{this._delegate.checkDestroyed(),ie()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,M.deleteApp)(this._delegate)))}_getService(ie,ae=M._DEFAULT_ENTRY_NAME){var ye;this._delegate.checkDestroyed();const ve=this._delegate.container.getProvider(ie);return!ve.isInitialized()&&"EXPLICIT"===(null===(ye=ve.getComponent())||void 0===ye?void 0:ye.instantiationMode)&&ve.initialize(),ve.getImmediate({identifier:ae})}_removeServiceInstance(ie,ae=M._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ie).clearInstance(ae)}_addComponent(ie){(0,M._addComponent)(this._delegate,ie)}_addOrOverwriteComponent(ie){(0,M._addOrOverwriteComponent)(this._delegate,ie)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Q=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),z=function q(){const le=function W(le){const ie={},ae={__esModule:!0,initializeApp:function Te(J,Me={}){const I=M.initializeApp(J,Me);if((0,l.r3)(ie,I.name))return ie[I.name];const Re=new le(I,ae);return ie[I.name]=Re,Re},app:ve,registerVersion:M.registerVersion,setLogLevel:M.setLogLevel,onLog:M.onLog,apps:null,SDK_VERSION:M.SDK_VERSION,INTERNAL:{registerComponent:function we(J){const Me=J.name,I=Me.replace("-compat","");if(M._registerComponent(J)&&"PUBLIC"===J.type){const Re=(et=ve())=>{if("function"!=typeof et[I])throw Q.create("invalid-app-argument",{appName:Me});return et[I]()};void 0!==J.serviceProps&&(0,l.ZB)(Re,J.serviceProps),ae[I]=Re,le.prototype[I]=function(...et){return this._getService.bind(this,Me).apply(this,J.multipleInstances?et:[])}}return"PUBLIC"===J.type?ae[I]:null},removeApp:function ye(J){delete ie[J]},useAsService:function Ge(J,Me){return"serverAuth"===Me?null:Me},modularAPIs:M}};function ve(J){if(!(0,l.r3)(ie,J=J||M._DEFAULT_ENTRY_NAME))throw Q.create("no-app",{appName:J});return ie[J]}return ae.default=ae,Object.defineProperty(ae,"apps",{get:function de(){return Object.keys(ie).map(J=>ie[J])}}),ve.App=le,ae}(H);return le.INTERNAL=Object.assign(Object.assign({},le.INTERNAL),{createFirebaseNamespace:q,extendNamespace:function ie(ae){(0,l.ZB)(le,ae)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),le}(),L=new F.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){L.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const le=self.firebase.SDK_VERSION;le&&le.indexOf("LITE")>=0&&L.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const X=z;!function U(le){(0,M.registerVersion)("@firebase/app-compat","0.2.13",le)}()},6881:(Yt,ee,B)=>{"use strict";B.r(ee),B.d(ee,{FirebaseError:()=>F.ZR,SDK_VERSION:()=>Vo,_DEFAULT_ENTRY_NAME:()=>Pt,_addComponent:()=>Dt,_addOrOverwriteComponent:()=>$t,_apps:()=>Ot,_clearComponents:()=>Vr,_components:()=>dn,_getProvider:()=>Mn,_registerComponent:()=>Lr,_removeServiceInstance:()=>ar,deleteApp:()=>Kr,getApp:()=>Vi,getApps:()=>En,initializeApp:()=>Sn,onLog:()=>mo,registerVersion:()=>Mr,setLogLevel:()=>Zn});var l=B(5861),V=B(4859),M=B(1877),F=B(2090);const H=($e,Ne)=>Ne.some(ct=>$e instanceof ct);let j,Q;const z=new WeakMap,L=new WeakMap,P=new WeakMap,G=new WeakMap,U=new WeakMap;let ie={get($e,Ne,ct){if($e instanceof IDBTransaction){if("done"===Ne)return L.get($e);if("objectStoreNames"===Ne)return $e.objectStoreNames||P.get($e);if("store"===Ne)return ct.objectStoreNames[1]?void 0:ct.objectStore(ct.objectStoreNames[0])}return Te($e[Ne])},set:($e,Ne,ct)=>($e[Ne]=ct,!0),has:($e,Ne)=>$e instanceof IDBTransaction&&("done"===Ne||"store"===Ne)||Ne in $e};function ve($e){return"function"==typeof $e?function ye($e){return $e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function q(){return Q||(Q=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes($e)?function(...Ne){return $e.apply(de(this),Ne),Te(z.get(this))}:function(...Ne){return Te($e.apply(de(this),Ne))}:function(Ne,...ct){const Ut=$e.call(de(this),Ne,...ct);return P.set(Ut,Ne.sort?Ne.sort():[Ne]),Te(Ut)}}($e):($e instanceof IDBTransaction&&function le($e){if(L.has($e))return;const Ne=new Promise((ct,Ut)=>{const Qt=()=>{$e.removeEventListener("complete",_n),$e.removeEventListener("error",jt),$e.removeEventListener("abort",jt)},_n=()=>{ct(),Qt()},jt=()=>{Ut($e.error||new DOMException("AbortError","AbortError")),Qt()};$e.addEventListener("complete",_n),$e.addEventListener("error",jt),$e.addEventListener("abort",jt)});L.set($e,Ne)}($e),H($e,function W(){return j||(j=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy($e,ie):$e)}function Te($e){if($e instanceof IDBRequest)return function X($e){const Ne=new Promise((ct,Ut)=>{const Qt=()=>{$e.removeEventListener("success",_n),$e.removeEventListener("error",jt)},_n=()=>{ct(Te($e.result)),Qt()},jt=()=>{Ut($e.error),Qt()};$e.addEventListener("success",_n),$e.addEventListener("error",jt)});return Ne.then(ct=>{ct instanceof IDBCursor&&z.set(ct,$e)}).catch(()=>{}),U.set(Ne,$e),Ne}($e);if(G.has($e))return G.get($e);const Ne=ve($e);return Ne!==$e&&(G.set($e,Ne),U.set(Ne,$e)),Ne}const de=$e=>U.get($e),J=["get","getKey","getAll","getAllKeys","count"],Me=["put","add","delete","clear"],I=new Map;function Re($e,Ne){if(!($e instanceof IDBDatabase)||Ne in $e||"string"!=typeof Ne)return;if(I.get(Ne))return I.get(Ne);const ct=Ne.replace(/FromIndex$/,""),Ut=Ne!==ct,Qt=Me.includes(ct);if(!(ct in(Ut?IDBIndex:IDBObjectStore).prototype)||!Qt&&!J.includes(ct))return;const _n=function(){var jt=(0,l.Z)(function*(On,...zn){const Zr=this.transaction(On,Qt?"readwrite":"readonly");let xr=Zr.store;return Ut&&(xr=xr.index(zn.shift())),(yield Promise.all([xr[ct](...zn),Qt&&Zr.done]))[0]});return function(zn){return jt.apply(this,arguments)}}();return I.set(Ne,_n),_n}!function ae($e){ie=$e(ie)}($e=>({...$e,get:(Ne,ct,Ut)=>Re(Ne,ct)||$e.get(Ne,ct,Ut),has:(Ne,ct)=>!!Re(Ne,ct)||$e.has(Ne,ct)}));class et{constructor(Ne){this.container=Ne}getPlatformInfoString(){return this.container.getProviders().map(ct=>{if(function qe($e){return"VERSION"===$e.getComponent()?.type}(ct)){const Ut=ct.getImmediate();return`${Ut.library}/${Ut.version}`}return null}).filter(ct=>ct).join(" ")}}const it="@firebase/app",Ht=new M.Yd("@firebase/app"),Pt="[DEFAULT]",Cn={[it]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ot=new Map,dn=new Map;function Dt($e,Ne){try{$e.container.addComponent(Ne)}catch(ct){Ht.debug(`Component ${Ne.name} failed to register with FirebaseApp ${$e.name}`,ct)}}function $t($e,Ne){$e.container.addOrOverwriteComponent(Ne)}function Lr($e){const Ne=$e.name;if(dn.has(Ne))return Ht.debug(`There were multiple attempts to register component ${Ne}.`),!1;dn.set(Ne,$e);for(const ct of Ot.values())Dt(ct,$e);return!0}function Mn($e,Ne){const ct=$e.container.getProvider("heartbeat").getImmediate({optional:!0});return ct&&ct.triggerHeartbeat(),$e.container.getProvider(Ne)}function ar($e,Ne,ct=Pt){Mn($e,Ne).clearInstance(ct)}function Vr(){dn.clear()}const oi=new F.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ln{constructor(Ne,ct,Ut){this._isDeleted=!1,this._options=Object.assign({},Ne),this._config=Object.assign({},ct),this._name=ct.name,this._automaticDataCollectionEnabled=ct.automaticDataCollectionEnabled,this._container=Ut,this.container.addComponent(new V.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ne){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ne}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ne){this._isDeleted=Ne}checkDestroyed(){if(this.isDeleted)throw oi.create("app-deleted",{appName:this._name})}}const Vo="9.23.0";function Sn($e,Ne={}){let ct=$e;"object"!=typeof Ne&&(Ne={name:Ne});const Ut=Object.assign({name:Pt,automaticDataCollectionEnabled:!1},Ne),Qt=Ut.name;if("string"!=typeof Qt||!Qt)throw oi.create("bad-app-name",{appName:String(Qt)});if(ct||(ct=(0,F.aH)()),!ct)throw oi.create("no-options");const _n=Ot.get(Qt);if(_n){if((0,F.vZ)(ct,_n.options)&&(0,F.vZ)(Ut,_n.config))return _n;throw oi.create("duplicate-app",{appName:Qt})}const jt=new V.H0(Qt);for(const zn of dn.values())jt.addComponent(zn);const On=new Ln(ct,Ut,jt);return Ot.set(Qt,On),On}function Vi($e=Pt){const Ne=Ot.get($e);if(!Ne&&$e===Pt&&(0,F.aH)())return Sn();if(!Ne)throw oi.create("no-app",{appName:$e});return Ne}function En(){return Array.from(Ot.values())}function Kr($e){return hr.apply(this,arguments)}function hr(){return(hr=(0,l.Z)(function*($e){const Ne=$e.name;Ot.has(Ne)&&(Ot.delete(Ne),yield Promise.all($e.container.getProviders().map(ct=>ct.delete())),$e.isDeleted=!0)})).apply(this,arguments)}function Mr($e,Ne,ct){var Ut;let Qt=null!==(Ut=Cn[$e])&&void 0!==Ut?Ut:$e;ct&&(Qt+=`-${ct}`);const _n=Qt.match(/\s|\//),jt=Ne.match(/\s|\//);if(_n||jt){const On=[`Unable to register library "${Qt}" with version "${Ne}":`];return _n&&On.push(`library name "${Qt}" contains illegal characters (whitespace or "/")`),_n&&jt&&On.push("and"),jt&&On.push(`version name "${Ne}" contains illegal characters (whitespace or "/")`),void Ht.warn(On.join(" "))}Lr(new V.wA(`${Qt}-version`,()=>({library:Qt,version:Ne}),"VERSION"))}function mo($e,Ne){if(null!==$e&&"function"!=typeof $e)throw oi.create("invalid-log-argument");(0,M.Am)($e,Ne)}function Zn($e){(0,M.Ub)($e)}const go="firebase-heartbeat-database",Ii=1,fe="firebase-heartbeat-store";let ce=null;function Se(){return ce||(ce=function we($e,Ne,{blocked:ct,upgrade:Ut,blocking:Qt,terminated:_n}={}){const jt=indexedDB.open($e,Ne),On=Te(jt);return Ut&&jt.addEventListener("upgradeneeded",zn=>{Ut(Te(jt.result),zn.oldVersion,zn.newVersion,Te(jt.transaction),zn)}),ct&&jt.addEventListener("blocked",zn=>ct(zn.oldVersion,zn.newVersion,zn)),On.then(zn=>{_n&&zn.addEventListener("close",()=>_n()),Qt&&zn.addEventListener("versionchange",Zr=>Qt(Zr.oldVersion,Zr.newVersion,Zr))}).catch(()=>{}),On}(go,Ii,{upgrade:($e,Ne)=>{0===Ne&&$e.createObjectStore(fe)}}).catch($e=>{throw oi.create("idb-open",{originalErrorMessage:$e.message})})),ce}function Oe(){return(Oe=(0,l.Z)(function*($e){try{return yield(yield Se()).transaction(fe).objectStore(fe).get(kn($e))}catch(Ne){if(Ne instanceof F.ZR)Ht.warn(Ne.message);else{const ct=oi.create("idb-get",{originalErrorMessage:Ne?.message});Ht.warn(ct.message)}}})).apply(this,arguments)}function ht($e,Ne){return tn.apply(this,arguments)}function tn(){return(tn=(0,l.Z)(function*($e,Ne){try{const Ut=(yield Se()).transaction(fe,"readwrite");yield Ut.objectStore(fe).put(Ne,kn($e)),yield Ut.done}catch(ct){if(ct instanceof F.ZR)Ht.warn(ct.message);else{const Ut=oi.create("idb-set",{originalErrorMessage:ct?.message});Ht.warn(Ut.message)}}})).apply(this,arguments)}function kn($e){return`${$e.name}!${$e.options.appId}`}class Vn{constructor(Ne){this.container=Ne,this._heartbeatsCache=null;const ct=this.container.getProvider("app").getImmediate();this._storage=new vo(ct),this._heartbeatsCachePromise=this._storage.read().then(Ut=>(this._heartbeatsCache=Ut,Ut))}triggerHeartbeat(){var Ne=this;return(0,l.Z)(function*(){const Ut=Ne.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Qt=Tn();if(null===Ne._heartbeatsCache&&(Ne._heartbeatsCache=yield Ne._heartbeatsCachePromise),Ne._heartbeatsCache.lastSentHeartbeatDate!==Qt&&!Ne._heartbeatsCache.heartbeats.some(_n=>_n.date===Qt))return Ne._heartbeatsCache.heartbeats.push({date:Qt,agent:Ut}),Ne._heartbeatsCache.heartbeats=Ne._heartbeatsCache.heartbeats.filter(_n=>{const jt=new Date(_n.date).valueOf();return Date.now()-jt<=2592e6}),Ne._storage.overwrite(Ne._heartbeatsCache)})()}getHeartbeatsHeader(){var Ne=this;return(0,l.Z)(function*(){if(null===Ne._heartbeatsCache&&(yield Ne._heartbeatsCachePromise),null===Ne._heartbeatsCache||0===Ne._heartbeatsCache.heartbeats.length)return"";const ct=Tn(),{heartbeatsToSend:Ut,unsentEntries:Qt}=function fi($e,Ne=1024){const ct=[];let Ut=$e.slice();for(const Qt of $e){const _n=ct.find(jt=>jt.agent===Qt.agent);if(_n){if(_n.dates.push(Qt.date),Ho(ct)>Ne){_n.dates.pop();break}}else if(ct.push({agent:Qt.agent,dates:[Qt.date]}),Ho(ct)>Ne){ct.pop();break}Ut=Ut.slice(1)}return{heartbeatsToSend:ct,unsentEntries:Ut}}(Ne._heartbeatsCache.heartbeats),_n=(0,F.L)(JSON.stringify({version:2,heartbeats:Ut}));return Ne._heartbeatsCache.lastSentHeartbeatDate=ct,Qt.length>0?(Ne._heartbeatsCache.heartbeats=Qt,yield Ne._storage.overwrite(Ne._heartbeatsCache)):(Ne._heartbeatsCache.heartbeats=[],Ne._storage.overwrite(Ne._heartbeatsCache)),_n})()}}function Tn(){return(new Date).toISOString().substring(0,10)}class vo{constructor(Ne){this.app=Ne,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,F.hl)()&&(0,F.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ne=this;return(0,l.Z)(function*(){return(yield Ne._canUseIndexedDBPromise)&&(yield function Ze($e){return Oe.apply(this,arguments)}(Ne.app))||{heartbeats:[]}})()}overwrite(Ne){var ct=this;return(0,l.Z)(function*(){var Ut;if(yield ct._canUseIndexedDBPromise){const _n=yield ct.read();return ht(ct.app,{lastSentHeartbeatDate:null!==(Ut=Ne.lastSentHeartbeatDate)&&void 0!==Ut?Ut:_n.lastSentHeartbeatDate,heartbeats:Ne.heartbeats})}})()}add(Ne){var ct=this;return(0,l.Z)(function*(){var Ut;if(yield ct._canUseIndexedDBPromise){const _n=yield ct.read();return ht(ct.app,{lastSentHeartbeatDate:null!==(Ut=Ne.lastSentHeartbeatDate)&&void 0!==Ut?Ut:_n.lastSentHeartbeatDate,heartbeats:[..._n.heartbeats,...Ne.heartbeats]})}})()}}function Ho($e){return(0,F.L)(JSON.stringify({version:2,heartbeats:$e})).length}!function Ac($e){Lr(new V.wA("platform-logger",Ne=>new et(Ne),"PRIVATE")),Lr(new V.wA("heartbeat",Ne=>new Vn(Ne),"PRIVATE")),Mr(it,"0.9.13",$e),Mr(it,"0.9.13","esm2017"),Mr("fire-js","")}("")},4859:(Yt,ee,B)=>{"use strict";B.d(ee,{H0:()=>W,wA:()=>M});var l=B(5861),V=B(2090);class M{constructor(z,L,P){this.name=z,this.instanceFactory=L,this.type=P,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(z){return this.instantiationMode=z,this}setMultipleInstances(z){return this.multipleInstances=z,this}setServiceProps(z){return this.serviceProps=z,this}setInstanceCreatedCallback(z){return this.onInstanceCreated=z,this}}const F="[DEFAULT]";class H{constructor(z,L){this.name=z,this.container=L,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(z){const L=this.normalizeInstanceIdentifier(z);if(!this.instancesDeferred.has(L)){const P=new V.BH;if(this.instancesDeferred.set(L,P),this.isInitialized(L)||this.shouldAutoInitialize())try{const G=this.getOrInitializeService({instanceIdentifier:L});G&&P.resolve(G)}catch{}}return this.instancesDeferred.get(L).promise}getImmediate(z){var L;const P=this.normalizeInstanceIdentifier(z?.identifier),G=null!==(L=z?.optional)&&void 0!==L&&L;if(!this.isInitialized(P)&&!this.shouldAutoInitialize()){if(G)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:P})}catch(U){if(G)return null;throw U}}getComponent(){return this.component}setComponent(z){if(z.name!==this.name)throw Error(`Mismatching Component ${z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=z,this.shouldAutoInitialize()){if(function Q(q){return"EAGER"===q.instantiationMode}(z))try{this.getOrInitializeService({instanceIdentifier:F})}catch{}for(const[L,P]of this.instancesDeferred.entries()){const G=this.normalizeInstanceIdentifier(L);try{const U=this.getOrInitializeService({instanceIdentifier:G});P.resolve(U)}catch{}}}}clearInstance(z=F){this.instancesDeferred.delete(z),this.instancesOptions.delete(z),this.instances.delete(z)}delete(){var z=this;return(0,l.Z)(function*(){const L=Array.from(z.instances.values());yield Promise.all([...L.filter(P=>"INTERNAL"in P).map(P=>P.INTERNAL.delete()),...L.filter(P=>"_delete"in P).map(P=>P._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(z=F){return this.instances.has(z)}getOptions(z=F){return this.instancesOptions.get(z)||{}}initialize(z={}){const{options:L={}}=z,P=this.normalizeInstanceIdentifier(z.instanceIdentifier);if(this.isInitialized(P))throw Error(`${this.name}(${P}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const G=this.getOrInitializeService({instanceIdentifier:P,options:L});for(const[U,X]of this.instancesDeferred.entries())P===this.normalizeInstanceIdentifier(U)&&X.resolve(G);return G}onInit(z,L){var P;const G=this.normalizeInstanceIdentifier(L),U=null!==(P=this.onInitCallbacks.get(G))&&void 0!==P?P:new Set;U.add(z),this.onInitCallbacks.set(G,U);const X=this.instances.get(G);return X&&z(X,G),()=>{U.delete(z)}}invokeOnInitCallbacks(z,L){const P=this.onInitCallbacks.get(L);if(P)for(const G of P)try{G(z,L)}catch{}}getOrInitializeService({instanceIdentifier:z,options:L={}}){let P=this.instances.get(z);if(!P&&this.component&&(P=this.component.instanceFactory(this.container,{instanceIdentifier:(q=z,q===F?void 0:q),options:L}),this.instances.set(z,P),this.instancesOptions.set(z,L),this.invokeOnInitCallbacks(P,z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,z,P)}catch{}var q;return P||null}normalizeInstanceIdentifier(z=F){return this.component?this.component.multipleInstances?z:F:z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class W{constructor(z){this.name=z,this.providers=new Map}addComponent(z){const L=this.getProvider(z.name);if(L.isComponentSet())throw new Error(`Component ${z.name} has already been registered with ${this.name}`);L.setComponent(z)}addOrOverwriteComponent(z){this.getProvider(z.name).isComponentSet()&&this.providers.delete(z.name),this.addComponent(z)}getProvider(z){if(this.providers.has(z))return this.providers.get(z);const L=new H(z,this);return this.providers.set(z,L),L}getProviders(){return Array.from(this.providers.values())}}},1877:(Yt,ee,B)=>{"use strict";B.d(ee,{Am:()=>q,Ub:()=>W,Yd:()=>Q,in:()=>V});const l=[];var V=(()=>{return(z=V||(V={}))[z.DEBUG=0]="DEBUG",z[z.VERBOSE=1]="VERBOSE",z[z.INFO=2]="INFO",z[z.WARN=3]="WARN",z[z.ERROR=4]="ERROR",z[z.SILENT=5]="SILENT",V;var z})();const M={debug:V.DEBUG,verbose:V.VERBOSE,info:V.INFO,warn:V.WARN,error:V.ERROR,silent:V.SILENT},F=V.INFO,H={[V.DEBUG]:"log",[V.VERBOSE]:"log",[V.INFO]:"info",[V.WARN]:"warn",[V.ERROR]:"error"},j=(z,L,...P)=>{if(L<z.logLevel)return;const G=(new Date).toISOString(),U=H[L];if(!U)throw new Error(`Attempted to log a message with an invalid logType (value: ${L})`);console[U](`[${G}]  ${z.name}:`,...P)};class Q{constructor(L){this.name=L,this._logLevel=F,this._logHandler=j,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(L){if(!(L in V))throw new TypeError(`Invalid value "${L}" assigned to \`logLevel\``);this._logLevel=L}setLogLevel(L){this._logLevel="string"==typeof L?M[L]:L}get logHandler(){return this._logHandler}set logHandler(L){if("function"!=typeof L)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=L}get userLogHandler(){return this._userLogHandler}set userLogHandler(L){this._userLogHandler=L}debug(...L){this._userLogHandler&&this._userLogHandler(this,V.DEBUG,...L),this._logHandler(this,V.DEBUG,...L)}log(...L){this._userLogHandler&&this._userLogHandler(this,V.VERBOSE,...L),this._logHandler(this,V.VERBOSE,...L)}info(...L){this._userLogHandler&&this._userLogHandler(this,V.INFO,...L),this._logHandler(this,V.INFO,...L)}warn(...L){this._userLogHandler&&this._userLogHandler(this,V.WARN,...L),this._logHandler(this,V.WARN,...L)}error(...L){this._userLogHandler&&this._userLogHandler(this,V.ERROR,...L),this._logHandler(this,V.ERROR,...L)}}function W(z){l.forEach(L=>{L.setLogLevel(z)})}function q(z,L){for(const P of l){let G=null;L&&L.level&&(G=M[L.level]),P.userLogHandler=null===z?null:(U,X,...le)=>{const ie=le.map(ae=>{if(null==ae)return null;if("string"==typeof ae)return ae;if("number"==typeof ae||"boolean"==typeof ae)return ae.toString();if(ae instanceof Error)return ae.message;try{return JSON.stringify(ae)}catch{return null}}).filter(ae=>ae).join(" ");X>=(G??U.logLevel)&&z({level:V[X].toLowerCase(),message:ie,args:le,type:U.name})}}}},259:(Yt,ee,B)=>{"use strict";B.d(ee,{C6:()=>l.getApps,Mq:()=>l.getApp});var l=B(6881);(0,l.registerVersion)("firebase","9.23.0","app")},9260:(Yt,ee,B)=>{"use strict";B.d(ee,{Z:()=>l.Z});var l=B(3942);l.Z.registerVersion("firebase","9.23.0","app-compat")},2644:(Yt,ee,B)=>{"use strict";B.r(ee);var l=B(5861),V=B(3942),M=B(2090),F=B(6881),H=B(7582),j=B(1877),Q=B(4859);const q={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},P_EMAIL_SIGNIN="EMAIL_SIGNIN",P_PASSWORD_RESET="PASSWORD_RESET",P_RECOVER_EMAIL="RECOVER_EMAIL",P_REVERT_SECOND_FACTOR_ADDITION="REVERT_SECOND_FACTOR_ADDITION",P_VERIFY_AND_CHANGE_EMAIL="VERIFY_AND_CHANGE_EMAIL",P_VERIFY_EMAIL="VERIFY_EMAIL";const X=function G(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},le=function U(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ie=new M.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ye=new j.Yd("@firebase/auth");function Te(y,...p){ye.logLevel<=j.in.ERROR&&ye.error(`Auth (${F.SDK_VERSION}): ${y}`,...p)}function de(y,...p){throw Me(y,...p)}function we(y,...p){return Me(y,...p)}function Ge(y,p,m){const b=Object.assign(Object.assign({},le()),{[p]:m});return new M.LL("auth","Firebase",b).create(p,{appName:y.name})}function J(y,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&de(y,"argument-error"),Ge(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Me(y,...p){if("string"!=typeof y){const m=p[0],b=[...p.slice(1)];return b[0]&&(b[0].appName=y.name),y._errorFactory.create(m,...b)}return ie.create(y,...p)}function I(y,p,...m){if(!y)throw Me(p,...m)}function Re(y){const p="INTERNAL ASSERTION FAILED: "+y;throw Te(p),new Error(p)}function et(y,p){y||Re(p)}function qe(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function it(){return"http:"===lt()||"https:"===lt()}function lt(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class Le{constructor(p,m){this.shortDelay=p,this.longDelay=m,et(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,M.uI)()||(0,M.b$)()}get(){return function Ht(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(it()||(0,M.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ce(y,p){et(y.emulator,"Emulator should always be set here");const{url:m}=y.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class _e{static initialize(p,m,b){this.fetchImpl=p,m&&(this.headersImpl=m),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Re("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Re("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Re("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const pe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ke=new Le(3e4,6e4);function je(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function He(y,p,m,b){return ut.apply(this,arguments)}function ut(){return(ut=(0,l.Z)(function*(y,p,m,b,k={}){return wt(y,k,(0,l.Z)(function*(){let Y={},he={};b&&("GET"===p?he=b:Y={body:JSON.stringify(b)});const Ae=(0,M.xO)(Object.assign({key:y.config.apiKey},he)).slice(1),rt=yield y._getAdditionalHeaders();return rt["Content-Type"]="application/json",y.languageCode&&(rt["X-Firebase-Locale"]=y.languageCode),_e.fetch()(N(y,y.config.apiHost,m,Ae),Object.assign({method:p,headers:rt,referrerPolicy:"no-referrer"},Y))}))})).apply(this,arguments)}function wt(y,p,m){return en.apply(this,arguments)}function en(){return(en=(0,l.Z)(function*(y,p,m){y._canInitEmulator=!1;const b=Object.assign(Object.assign({},pe),p);try{const k=new Ke(y),Y=yield Promise.race([m(),k.promise]);k.clearNetworkTimeout();const he=yield Y.json();if("needConfirmation"in he)throw ze(y,"account-exists-with-different-credential",he);if(Y.ok&&!("errorMessage"in he))return he;{const Ae=Y.ok?he.errorMessage:he.error.message,[rt,yt]=Ae.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===rt)throw ze(y,"credential-already-in-use",he);if("EMAIL_EXISTS"===rt)throw ze(y,"email-already-in-use",he);if("USER_DISABLED"===rt)throw ze(y,"user-disabled",he);const It=b[rt]||rt.toLowerCase().replace(/[_\s]+/g,"-");if(yt)throw Ge(y,It,yt);de(y,It)}}catch(k){if(k instanceof M.ZR)throw k;de(y,"network-request-failed",{message:String(k)})}})).apply(this,arguments)}function At(y,p,m,b){return rn.apply(this,arguments)}function rn(){return(rn=(0,l.Z)(function*(y,p,m,b,k={}){const Y=yield He(y,p,m,b,k);return"mfaPendingCredential"in Y&&de(y,"multi-factor-auth-required",{_serverResponse:Y}),Y})).apply(this,arguments)}function N(y,p,m,b){const k=`${p}${m}?${b}`;return y.config.emulator?Ce(y.config,k):`${y.config.apiScheme}://${k}`}class Ke{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,b)=>{this.timer=setTimeout(()=>b(we(this.auth,"network-request-failed")),ke.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ze(y,p,m){const b={appName:y.name};m.email&&(b.email=m.email),m.phoneNumber&&(b.phoneNumber=m.phoneNumber);const k=we(y,p,b);return k.customData._tokenResponse=m,k}function re(){return(re=(0,l.Z)(function*(y,p){return He(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Je(){return(Je=(0,l.Z)(function*(y,p){return He(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function ge(){return(ge=(0,l.Z)(function*(y,p){return He(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function st(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function Pt(){return(Pt=(0,l.Z)(function*(y,p=!1){const m=(0,M.m9)(y),b=yield m.getIdToken(p),k=Ot(b);I(k&&k.exp&&k.auth_time&&k.iat,m.auth,"internal-error");const Y="object"==typeof k.firebase?k.firebase:void 0,he=Y?.sign_in_provider;return{claims:k,token:b,authTime:st(Cn(k.auth_time)),issuedAtTime:st(Cn(k.iat)),expirationTime:st(Cn(k.exp)),signInProvider:he||null,signInSecondFactor:Y?.sign_in_second_factor||null}})).apply(this,arguments)}function Cn(y){return 1e3*Number(y)}function Ot(y){const[p,m,b]=y.split(".");if(void 0===p||void 0===m||void 0===b)return Te("JWT malformed, contained fewer than 3 sections"),null;try{const k=(0,M.tV)(m);return k?JSON.parse(k):(Te("Failed to decode base64 JWT payload"),null)}catch(k){return Te("Caught error parsing JWT payload as JSON",k?.toString()),null}}function Dt(y,p){return $t.apply(this,arguments)}function $t(){return($t=(0,l.Z)(function*(y,p,m=!1){if(m)return p;try{return yield p}catch(b){throw b instanceof M.ZR&&function Lr({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}(b)&&y.auth.currentUser===y&&(yield y.auth.signOut()),b}})).apply(this,arguments)}class Mn{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const k=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,k)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const b=this.getInterval(p);this.timerId=setTimeout((0,l.Z)(function*(){yield m.iteration()}),b)}iteration(){var p=this;return(0,l.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&p.schedule(!0))}p.schedule()})()}}class ar{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=st(this.lastLoginAt),this.creationTime=st(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Vr(y){return Pn.apply(this,arguments)}function Pn(){return Pn=(0,l.Z)(function*(y){var p;const m=y.auth,b=yield y.getIdToken(),k=yield Dt(y,function Xe(y,p){return ge.apply(this,arguments)}(m,{idToken:b}));I(k?.users.length,m,"internal-error");const Y=k.users[0];y._notifyReloadListener(Y);const he=null!==(p=Y.providerUserInfo)&&void 0!==p&&p.length?function Sn(y){return y.map(p=>{var{providerId:m}=p,b=(0,H._T)(p,["providerId"]);return{providerId:m,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}(Y.providerUserInfo):[],Ae=function Vo(y,p){return[...y.filter(b=>!p.some(k=>k.providerId===b.providerId)),...p]}(y.providerData,he),It=!!y.isAnonymous&&!(y.email&&Y.passwordHash||Ae?.length),zt={uid:Y.localId,displayName:Y.displayName||null,photoURL:Y.photoUrl||null,email:Y.email||null,emailVerified:Y.emailVerified||!1,phoneNumber:Y.phoneNumber||null,tenantId:Y.tenantId||null,providerData:Ae,metadata:new ar(Y.createdAt,Y.lastLoginAt),isAnonymous:It};Object.assign(y,zt)}),Pn.apply(this,arguments)}function Ln(){return(Ln=(0,l.Z)(function*(y){const p=(0,M.m9)(y);yield Vr(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function En(){return(En=(0,l.Z)(function*(y,p){const m=yield wt(y,{},(0,l.Z)(function*(){const b=(0,M.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:k,apiKey:Y}=y.config,he=N(y,k,"/v1/token",`key=${Y}`),Ae=yield y._getAdditionalHeaders();return Ae["Content-Type"]="application/x-www-form-urlencoded",_e.fetch()(he,{method:"POST",headers:Ae,body:b})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Kr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){I(p.idToken,"internal-error"),I(typeof p.idToken<"u","internal-error"),I(typeof p.refreshToken<"u","internal-error");const m="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function dn(y){const p=Ot(y);return I(p,"internal-error"),I(typeof p.exp<"u","internal-error"),I(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var b=this;return(0,l.Z)(function*(){return I(!b.accessToken||b.refreshToken,p,"user-token-expired"),m||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(p,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var b=this;return(0,l.Z)(function*(){const{accessToken:k,refreshToken:Y,expiresIn:he}=yield function Vi(y,p){return En.apply(this,arguments)}(p,m);b.updateTokensAndExpiration(k,Y,Number(he))})()}updateTokensAndExpiration(p,m,b){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(p,m){const{refreshToken:b,accessToken:k,expirationTime:Y}=m,he=new Kr;return b&&(I("string"==typeof b,"internal-error",{appName:p}),he.refreshToken=b),k&&(I("string"==typeof k,"internal-error",{appName:p}),he.accessToken=k),Y&&(I("number"==typeof Y,"internal-error",{appName:p}),he.expirationTime=Y),he}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Kr,this.toJSON())}_performRefresh(){return Re("not implemented")}}function hr(y,p){I("string"==typeof y||typeof y>"u","internal-error",{appName:p})}class Mr{constructor(p){var{uid:m,auth:b,stsTokenManager:k}=p,Y=(0,H._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Mn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=b,this.stsTokenManager=k,this.accessToken=k.accessToken,this.displayName=Y.displayName||null,this.email=Y.email||null,this.emailVerified=Y.emailVerified||!1,this.phoneNumber=Y.phoneNumber||null,this.photoURL=Y.photoURL||null,this.isAnonymous=Y.isAnonymous||!1,this.tenantId=Y.tenantId||null,this.providerData=Y.providerData?[...Y.providerData]:[],this.metadata=new ar(Y.createdAt||void 0,Y.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,l.Z)(function*(){const b=yield Dt(m,m.stsTokenManager.getToken(m.auth,p));return I(b,m.auth,"internal-error"),m.accessToken!==b&&(m.accessToken=b,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),b})()}getIdTokenResult(p){return function ot(y){return Pt.apply(this,arguments)}(this,p)}reload(){return function oi(y){return Ln.apply(this,arguments)}(this)}_assign(p){this!==p&&(I(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const m=new Mr(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(p){I(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var b=this;return(0,l.Z)(function*(){let k=!1;p.idToken&&p.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(p),k=!0),m&&(yield Vr(b)),yield b.auth._persistUserIfCurrent(b),k&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var p=this;return(0,l.Z)(function*(){const m=yield p.getIdToken();return yield Dt(p,function se(y,p){return re.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var b,k,Y,he,Ae,rt,yt,It;const zt=null!==(b=m.displayName)&&void 0!==b?b:void 0,ir=null!==(k=m.email)&&void 0!==k?k:void 0,ws=null!==(Y=m.phoneNumber)&&void 0!==Y?Y:void 0,F1=null!==(he=m.photoURL)&&void 0!==he?he:void 0,I6=null!==(Ae=m.tenantId)&&void 0!==Ae?Ae:void 0,or=null!==(rt=m._redirectEventId)&&void 0!==rt?rt:void 0,f2=null!==(yt=m.createdAt)&&void 0!==yt?yt:void 0,m3=null!==(It=m.lastLoginAt)&&void 0!==It?It:void 0,{uid:L1,emailVerified:V1,isAnonymous:Do,providerData:fh,stsTokenManager:Cu}=m;I(L1&&Cu,p,"internal-error");const A6=Kr.fromJSON(this.name,Cu);I("string"==typeof L1,p,"internal-error"),hr(zt,p.name),hr(ir,p.name),I("boolean"==typeof V1,p,"internal-error"),I("boolean"==typeof Do,p,"internal-error"),hr(ws,p.name),hr(F1,p.name),hr(I6,p.name),hr(or,p.name),hr(f2,p.name),hr(m3,p.name);const ph=new Mr({uid:L1,auth:p,email:ir,emailVerified:V1,displayName:zt,isAnonymous:Do,photoURL:F1,phoneNumber:ws,tenantId:I6,stsTokenManager:A6,createdAt:f2,lastLoginAt:m3});return fh&&Array.isArray(fh)&&(ph.providerData=fh.map(k6=>Object.assign({},k6))),or&&(ph._redirectEventId=or),ph}static _fromIdTokenResponse(p,m,b=!1){return(0,l.Z)(function*(){const k=new Kr;k.updateFromServerResponse(m);const Y=new Mr({uid:m.localId,auth:p,stsTokenManager:k,isAnonymous:b});return yield Vr(Y),Y})()}}const mo=new Map;function Zn(y){et(y instanceof Function,"Expected a class definition");let p=mo.get(y);return p?(et(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,mo.set(y,p),p)}const Ii=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(m,b){var k=this;return(0,l.Z)(function*(){k.storage[m]=b})()}_get(m){var b=this;return(0,l.Z)(function*(){const k=b.storage[m];return void 0===k?null:k})()}_remove(m){var b=this;return(0,l.Z)(function*(){delete b.storage[m]})()}_addListener(m,b){}_removeListener(m,b){}}return y.type="NONE",y})();function fe(y,p,m){return`firebase:${y}:${p}:${m}`}class ce{constructor(p,m,b){this.persistence=p,this.auth=m,this.userKey=b;const{config:k,name:Y}=this.auth;this.fullUserKey=fe(this.userKey,k.apiKey,Y),this.fullPersistenceKey=fe("persistence",k.apiKey,Y),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,l.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?Mr._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,l.Z)(function*(){if(m.persistence===p)return;const b=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,b?m.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,b="authUser"){return(0,l.Z)(function*(){if(!m.length)return new ce(Zn(Ii),p,b);const k=(yield Promise.all(m.map(function(){var yt=(0,l.Z)(function*(It){if(yield It._isAvailable())return It});return function(It){return yt.apply(this,arguments)}}()))).filter(yt=>yt);let Y=k[0]||Zn(Ii);const he=fe(b,p.config.apiKey,p.name);let Ae=null;for(const yt of m)try{const It=yield yt._get(he);if(It){const zt=Mr._fromJSON(p,It);yt!==Y&&(Ae=zt),Y=yt;break}}catch{}const rt=k.filter(yt=>yt._shouldAllowMigration);return Y._shouldAllowMigration&&rt.length?(Y=rt[0],Ae&&(yield Y._set(he,Ae.toJSON())),yield Promise.all(m.map(function(){var yt=(0,l.Z)(function*(It){if(It!==Y)try{yield It._remove(he)}catch{}});return function(It){return yt.apply(this,arguments)}}())),new ce(Y,p,b)):new ce(Y,p,b)})()}}function Se(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(tn(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Ze(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Cr(p))return"Blackberry";if(er(p))return"Webos";if(Oe(p))return"Safari";if((p.includes("chrome/")||ht(p))&&!p.includes("edge/"))return"Chrome";if(kn(p))return"Android";{const b=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===b?.length)return b[1]}return"Other"}function Ze(y=(0,M.z$)()){return/firefox\//i.test(y)}function Oe(y=(0,M.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function ht(y=(0,M.z$)()){return/crios\//i.test(y)}function tn(y=(0,M.z$)()){return/iemobile/i.test(y)}function kn(y=(0,M.z$)()){return/android/i.test(y)}function Cr(y=(0,M.z$)()){return/blackberry/i.test(y)}function er(y=(0,M.z$)()){return/webos/i.test(y)}function Vn(y=(0,M.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function Ho(y=(0,M.z$)()){return Vn(y)||kn(y)||er(y)||Cr(y)||/windows phone/i.test(y)||tn(y)}function $e(y,p=[]){let m;switch(y){case"Browser":m=Se((0,M.z$)());break;case"Worker":m=`${Se((0,M.z$)())}-${y}`;break;default:m=y}const b=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${F.SDK_VERSION}/${b}`}function ct(){return(ct=(0,l.Z)(function*(y){return(yield He(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ut(y,p){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,l.Z)(function*(y,p){return He(y,"GET","/v2/recaptchaConfig",je(y,p))})).apply(this,arguments)}function _n(y){return void 0!==y&&void 0!==y.getResponse}function jt(y){return void 0!==y&&void 0!==y.enterprise}class On{constructor(p){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.emailPasswordEnabled=p.recaptchaEnforcementState.some(m=>"EMAIL_PASSWORD_PROVIDER"===m.provider&&"OFF"!==m.enforcementState)}}function Zr(y){return new Promise((p,m)=>{const b=document.createElement("script");b.setAttribute("src",y),b.onload=p,b.onerror=k=>{const Y=we("internal-error");Y.customData=k,m(Y)},b.type="text/javascript",b.charset="UTF-8",function zn(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(b)})}function xr(y){return`__${y}${Math.floor(1e6*Math.random())}`}const Js="NO_RECAPTCHA";class Ji{constructor(p){this.type="recaptcha-enterprise",this.auth=Yn(p)}verify(p="verify",m=!1){var b=this;return(0,l.Z)(function*(){function Y(){return Y=(0,l.Z)(function*(Ae){if(!m){if(null==Ae.tenantId&&null!=Ae._agentRecaptchaConfig)return Ae._agentRecaptchaConfig.siteKey;if(null!=Ae.tenantId&&void 0!==Ae._tenantRecaptchaConfigs[Ae.tenantId])return Ae._tenantRecaptchaConfigs[Ae.tenantId].siteKey}return new Promise(function(){var rt=(0,l.Z)(function*(yt,It){Ut(Ae,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(zt=>{if(void 0!==zt.recaptchaKey){const ir=new On(zt);return null==Ae.tenantId?Ae._agentRecaptchaConfig=ir:Ae._tenantRecaptchaConfigs[Ae.tenantId]=ir,yt(ir.siteKey)}It(new Error("recaptcha Enterprise site key undefined"))}).catch(zt=>{It(zt)})});return function(yt,It){return rt.apply(this,arguments)}}())}),Y.apply(this,arguments)}function he(Ae,rt,yt){const It=window.grecaptcha;jt(It)?It.enterprise.ready(()=>{It.enterprise.execute(Ae,{action:p}).then(zt=>{rt(zt)}).catch(()=>{rt(Js)})}):yt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Ae,rt)=>{(function k(Ae){return Y.apply(this,arguments)})(b.auth).then(yt=>{if(!m&&jt(window.grecaptcha))he(yt,Ae,rt);else{if(typeof window>"u")return void rt(new Error("RecaptchaVerifier is only supported in browser"));Zr("https://www.google.com/recaptcha/enterprise.js?render="+yt).then(()=>{he(yt,Ae,rt)}).catch(It=>{rt(It)})}}).catch(yt=>{rt(yt)})})})()}}function bt(y,p,m){return on.apply(this,arguments)}function on(){return(on=(0,l.Z)(function*(y,p,m,b=!1){const k=new Ji(y);let Y;try{Y=yield k.verify(m)}catch{Y=yield k.verify(m,!0)}const he=Object.assign({},p);return Object.assign(he,b?{captchaResp:Y}:{captchaResponse:Y}),Object.assign(he,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(he,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),he})).apply(this,arguments)}class Qn{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const b=Y=>new Promise((he,Ae)=>{try{he(p(Y))}catch(rt){Ae(rt)}});b.onAbort=m,this.queue.push(b);const k=this.queue.length-1;return()=>{this.queue[k]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,l.Z)(function*(){if(m.auth.currentUser===p)return;const b=[];try{for(const k of m.queue)yield k(p),k.onAbort&&b.push(k.onAbort)}catch(k){b.reverse();for(const Y of b)try{Y()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:k?.message})}})()}}class Xi{constructor(p,m,b,k){this.app=p,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=b,this.config=k,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ir(this),this.idTokenSubscription=new Ir(this),this.beforeStateQueue=new Qn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ie,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=k.sdkClientVersion}_initializeWithPersistence(p,m){var b=this;return m&&(this._popupRedirectResolver=Zn(m)),this._initializationPromise=this.queue((0,l.Z)(function*(){var k,Y;if(!b._deleted&&(b.persistenceManager=yield ce.create(b,p),!b._deleted)){if(null!==(k=b._popupRedirectResolver)&&void 0!==k&&k._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch{}yield b.initializeCurrentUser(m),b.lastNotifiedUid=(null===(Y=b.currentUser)||void 0===Y?void 0:Y.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,l.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUser(p){var m=this;return(0,l.Z)(function*(){var b;const k=yield m.assertedPersistence.getCurrentUser();let Y=k,he=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const Ae=null===(b=m.redirectUser)||void 0===b?void 0:b._redirectEventId,rt=Y?._redirectEventId,yt=yield m.tryRedirectSignIn(p);(!Ae||Ae===rt)&&yt?.user&&(Y=yt.user,he=!0)}if(!Y)return m.directlySetCurrentUser(null);if(!Y._redirectEventId){if(he)try{yield m.beforeStateQueue.runMiddleware(Y)}catch(Ae){Y=k,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(Ae))}return Y?m.reloadAndSetCurrentUserOrClear(Y):m.directlySetCurrentUser(null)}return I(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===Y._redirectEventId?m.directlySetCurrentUser(Y):m.reloadAndSetCurrentUserOrClear(Y)})()}tryRedirectSignIn(p){var m=this;return(0,l.Z)(function*(){let b=null;try{b=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch{yield m._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,l.Z)(function*(){try{yield Vr(p)}catch(b){if("auth/network-request-failed"!==b?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Be(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,l.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,l.Z)(function*(){const b=p?(0,M.m9)(p):null;return b&&I(b.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(b&&b._clone(m))})()}_updateCurrentUser(p,m=!1){var b=this;return(0,l.Z)(function*(){if(!b._deleted)return p&&I(b.tenantId===p.tenantId,b,"tenant-id-mismatch"),m||(yield b.beforeStateQueue.runMiddleware(p)),b.queue((0,l.Z)(function*(){yield b.directlySetCurrentUser(p),b.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,l.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var m=this;return this.queue((0,l.Z)(function*(){yield m.assertedPersistence.setPersistence(Zn(p))}))}initializeRecaptchaConfig(){var p=this;return(0,l.Z)(function*(){const m=yield Ut(p,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),b=new On(m);null==p.tenantId?p._agentRecaptchaConfig=b:p._tenantRecaptchaConfigs[p.tenantId]=b,b.emailPasswordEnabled&&new Ji(p).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new M.LL("auth","Firebase",p())}onAuthStateChanged(p,m,b){return this.registerStateListener(this.authStateSubscription,p,m,b)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,b){return this.registerStateListener(this.idTokenSubscription,p,m,b)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var b=this;return(0,l.Z)(function*(){const k=yield b.getOrInitRedirectPersistenceManager(m);return null===p?k.removeCurrentUser():k.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,l.Z)(function*(){if(!m.redirectPersistenceManager){const b=p&&Zn(p)||m._popupRedirectResolver;I(b,m,"argument-error"),m.redirectPersistenceManager=yield ce.create(m,[Zn(b._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,l.Z)(function*(){var b,k;return m._isInitialized&&(yield m.queue((0,l.Z)(function*(){}))),(null===(b=m._currentUser)||void 0===b?void 0:b._redirectEventId)===p?m._currentUser:(null===(k=m.redirectUser)||void 0===k?void 0:k._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,l.Z)(function*(){if(p===m.currentUser)return m.queue((0,l.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,b,k){if(this._deleted)return()=>{};const Y="function"==typeof m?m:m.next.bind(m),he=this._isInitialized?Promise.resolve():this._initializationPromise;return I(he,this,"internal-error"),he.then(()=>Y(this.currentUser)),"function"==typeof m?p.addObserver(m,b,k):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,l.Z)(function*(){m.currentUser&&m.currentUser!==p&&m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh(),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return I(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=$e(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,l.Z)(function*(){var m;const b={"X-Client-Version":p.clientVersion};p.app.options.appId&&(b["X-Firebase-gmpid"]=p.app.options.appId);const k=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();k&&(b["X-Firebase-Client"]=k);const Y=yield p._getAppCheckToken();return Y&&(b["X-Firebase-AppCheck"]=Y),b})()}_getAppCheckToken(){var p=this;return(0,l.Z)(function*(){var m;const b=yield null===(m=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getToken();return b?.error&&function ve(y,...p){ye.logLevel<=j.in.WARN&&ye.warn(`Auth (${F.SDK_VERSION}): ${y}`,...p)}(`Error while retrieving App Check token: ${b.error}`),b?.token})()}}function Yn(y){return(0,M.m9)(y)}class Ir{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,M.ne)(m=>this.observer=m)}get next(){return I(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function pi(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function zc(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class ss{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return Re("not implemented")}_getIdTokenResponse(p){return Re("not implemented")}_linkToIdToken(p,m){return Re("not implemented")}_getReauthenticationResolver(p){return Re("not implemented")}}function ta(y,p){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,l.Z)(function*(y,p){return He(y,"POST","/v1/accounts:resetPassword",je(y,p))})).apply(this,arguments)}function Ha(y,p){return as.apply(this,arguments)}function as(){return(as=(0,l.Z)(function*(y,p){return He(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function _o(){return(_o=(0,l.Z)(function*(y,p){return He(y,"POST","/v1/accounts:update",je(y,p))})).apply(this,arguments)}function si(y,p){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,l.Z)(function*(y,p){return At(y,"POST","/v1/accounts:signInWithPassword",je(y,p))})).apply(this,arguments)}function Hi(y,p){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,l.Z)(function*(y,p){return He(y,"POST","/v1/accounts:sendOobCode",je(y,p))})).apply(this,arguments)}function Ba(){return(Ba=(0,l.Z)(function*(y,p){return Hi(y,p)})).apply(this,arguments)}function ks(y,p){return na.apply(this,arguments)}function na(){return(na=(0,l.Z)(function*(y,p){return Hi(y,p)})).apply(this,arguments)}function Qr(y,p){return kl.apply(this,arguments)}function kl(){return(kl=(0,l.Z)(function*(y,p){return Hi(y,p)})).apply(this,arguments)}function Yi(){return(Yi=(0,l.Z)(function*(y,p){return Hi(y,p)})).apply(this,arguments)}function Ya(){return(Ya=(0,l.Z)(function*(y,p){return At(y,"POST","/v1/accounts:signInWithEmailLink",je(y,p))})).apply(this,arguments)}function eo(){return(eo=(0,l.Z)(function*(y,p){return At(y,"POST","/v1/accounts:signInWithEmailLink",je(y,p))})).apply(this,arguments)}class zl extends ss{constructor(p,m,b,k=null){super("password",b),this._email=p,this._password=m,this._tenantId=k}static _fromEmailAndPassword(p,m){return new zl(p,m,"password")}static _fromEmailAndCode(p,m,b=null){return new zl(p,m,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,l.Z)(function*(){var b;switch(m.signInMethod){case"password":const k={returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(b=p._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const Y=yield bt(p,k,"signInWithPassword");return si(p,Y)}return si(p,k).catch(function(){var Y=(0,l.Z)(function*(he){if("auth/missing-recaptcha-token"===he.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Ae=yield bt(p,k,"signInWithPassword");return si(p,Ae)}return Promise.reject(he)});return function(he){return Y.apply(this,arguments)}}());case"emailLink":return function Oc(y,p){return Ya.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:de(p,"internal-error")}})()}_linkToIdToken(p,m){var b=this;return(0,l.Z)(function*(){switch(b.signInMethod){case"password":return Ha(p,{idToken:m,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function Ju(y,p){return eo.apply(this,arguments)}(p,{idToken:m,email:b._email,oobCode:b._password});default:de(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function wo(y,p){return xd.apply(this,arguments)}function xd(){return(xd=(0,l.Z)(function*(y,p){return At(y,"POST","/v1/accounts:signInWithIdp",je(y,p))})).apply(this,arguments)}class cs extends ss{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new cs(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):de("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:k}=m,Y=(0,H._T)(m,["providerId","signInMethod"]);if(!b||!k)return null;const he=new cs(b,k);return he.idToken=Y.idToken||void 0,he.accessToken=Y.accessToken||void 0,he.secret=Y.secret,he.nonce=Y.nonce,he.pendingToken=Y.pendingToken||null,he}_getIdTokenResponse(p){return wo(p,this.buildRequest())}_linkToIdToken(p,m){const b=this.buildRequest();return b.idToken=m,wo(p,b)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,wo(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,M.xO)(m)}return p}}function Xu(){return(Xu=(0,l.Z)(function*(y,p){return He(y,"POST","/v1/accounts:sendVerificationCode",je(y,p))})).apply(this,arguments)}function Id(){return(Id=(0,l.Z)(function*(y,p){return At(y,"POST","/v1/accounts:signInWithPhoneNumber",je(y,p))})).apply(this,arguments)}function Pl(){return(Pl=(0,l.Z)(function*(y,p){const m=yield At(y,"POST","/v1/accounts:signInWithPhoneNumber",je(y,p));if(m.temporaryProof)throw ze(y,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Ad={USER_NOT_FOUND:"user-not-found"};function Ol(){return(Ol=(0,l.Z)(function*(y,p){return At(y,"POST","/v1/accounts:signInWithPhoneNumber",je(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Ad)})).apply(this,arguments)}class tr extends ss{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new tr({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new tr({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function q0(y,p){return Id.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function W0(y,p){return Pl.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function m6(y,p){return Ol.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:b,verificationCode:k}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:b,code:k}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:b,phoneNumber:k,temporaryProof:Y}=p;return b||m||k||Y?new tr({verificationId:m,verificationCode:b,phoneNumber:k,temporaryProof:Y}):null}}class Ua{constructor(p){var m,b,k,Y,he,Ae;const rt=(0,M.zd)((0,M.pd)(p)),yt=null!==(m=rt.apiKey)&&void 0!==m?m:null,It=null!==(b=rt.oobCode)&&void 0!==b?b:null,zt=function P4(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(k=rt.mode)&&void 0!==k?k:null);I(yt&&It&&zt,"argument-error"),this.apiKey=yt,this.operation=zt,this.code=It,this.continueUrl=null!==(Y=rt.continueUrl)&&void 0!==Y?Y:null,this.languageCode=null!==(he=rt.languageCode)&&void 0!==he?he:null,this.tenantId=null!==(Ae=rt.tenantId)&&void 0!==Ae?Ae:null}static parseLink(p){const m=function kd(y){const p=(0,M.zd)((0,M.pd)(y)).link,m=p?(0,M.zd)((0,M.pd)(p)).deep_link_id:null,b=(0,M.zd)((0,M.pd)(y)).deep_link_id;return(b?(0,M.zd)((0,M.pd)(b)).link:null)||b||m||p||y}(p);try{return new Ua(m)}catch{return null}}}let zd=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(m,b){return zl._fromEmailAndPassword(m,b)}static credentialWithLink(m,b){const k=Ua.parseLink(b);return I(k,"argument-error"),zl._fromEmailAndCode(m,k.code,k.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class ls{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Bo extends ls{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class ra extends Bo{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return I("providerId"in m&&"signInMethod"in m,"argument-error"),cs._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return I(p.idToken||p.accessToken,"argument-error"),cs._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return ra.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return ra.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:b,oauthTokenSecret:k,pendingToken:Y,nonce:he,providerId:Ae}=p;if(!b&&!k&&!m&&!Y||!Ae)return null;try{return new ra(Ae)._credential({idToken:m,accessToken:b,nonce:he,pendingToken:Y})}catch{return null}}}let e1=(()=>{class y extends Bo{constructor(){super("facebook.com")}static credential(m){return cs._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Rc=(()=>{class y extends Bo{constructor(){super("google.com"),this.addScope("profile")}static credential(m,b){return cs._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:b})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:b,oauthAccessToken:k}=m;if(!b&&!k)return null;try{return y.credential(b,k)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Pd=(()=>{class y extends Bo{constructor(){super("github.com")}static credential(m){return cs._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class zs extends ss{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return wo(p,this.buildRequest())}_linkToIdToken(p,m){const b=this.buildRequest();return b.idToken=m,wo(p,b)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,wo(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:k,pendingToken:Y}=m;return b&&k&&Y&&b===k?new zs(b,Y):null}static _create(p,m){return new zs(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Nc extends ls{constructor(p){I(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Nc.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Nc.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=zs.fromJSON(p);return I(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:b}=p;if(!m||!b)return null;try{return zs._create(b,m)}catch{return null}}}let Rl=(()=>{class y extends Bo{constructor(){super("twitter.com")}static credential(m,b){return cs._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:b})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:b,oauthTokenSecret:k}=m;if(!b||!k)return null;try{return y.credential(b,k)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Ps(y,p){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,l.Z)(function*(y,p){return At(y,"POST","/v1/accounts:signUp",je(y,p))})).apply(this,arguments)}class mi{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,b,k=!1){return(0,l.Z)(function*(){const Y=yield Mr._fromIdTokenResponse(p,b,k),he=Fc(b);return new mi({user:Y,providerId:he,_tokenResponse:b,operationType:m})})()}static _forOperation(p,m,b){return(0,l.Z)(function*(){yield p._updateTokensIfNecessary(b,!0);const k=Fc(b);return new mi({user:p,providerId:k,_tokenResponse:b,operationType:m})})()}}function Fc(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function ja(){return(ja=(0,l.Z)(function*(y){var p;const m=Yn(y);if(yield m._initializationPromise,null!==(p=m.currentUser)&&void 0!==p&&p.isAnonymous)return new mi({user:m.currentUser,providerId:null,operationType:"signIn"});const b=yield Ps(m,{returnSecureToken:!0}),k=yield mi._fromIdTokenResponse(m,"signIn",b,!0);return yield m._updateCurrentUser(k.user),k})).apply(this,arguments)}class us extends M.ZR{constructor(p,m,b,k){var Y;super(m.code,m.message),this.operationType=b,this.user=k,Object.setPrototypeOf(this,us.prototype),this.customData={appName:p.name,tenantId:null!==(Y=p.tenantId)&&void 0!==Y?Y:void 0,_serverResponse:m.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(p,m,b,k){return new us(p,m,b,k)}}function Xr(y,p,m,b){return("reauthenticate"===p?m._getReauthenticationResolver(y):m._getIdTokenResponse(y)).catch(Y=>{throw"auth/multi-factor-auth-required"===Y.code?us._fromErrorAndOperation(y,Y,p,b):Y})}function Od(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function gi(){return gi=(0,l.Z)(function*(y,p){const m=(0,M.m9)(y);yield ds(!0,m,p);const{providerUserInfo:b}=yield function Ee(y,p){return Je.apply(this,arguments)}(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),k=Od(b||[]);return m.providerData=m.providerData.filter(Y=>k.has(Y.providerId)),k.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m}),gi.apply(this,arguments)}function Hr(y,p){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,l.Z)(function*(y,p,m=!1){const b=yield Dt(y,p._linkToIdToken(y.auth,yield y.getIdToken()),m);return mi._forOperation(y,"link",b)})).apply(this,arguments)}function ds(y,p,m){return n1.apply(this,arguments)}function n1(){return(n1=(0,l.Z)(function*(y,p,m){yield Vr(p);const k=!1===y?"provider-already-linked":"no-such-provider";I(Od(p.providerData).has(m)===y,p.auth,k)})).apply(this,arguments)}function Os(y,p){return $a.apply(this,arguments)}function $a(){return($a=(0,l.Z)(function*(y,p,m=!1){const{auth:b}=y,k="reauthenticate";try{const Y=yield Dt(y,Xr(b,k,p,y),m);I(Y.idToken,b,"internal-error");const he=Ot(Y.idToken);I(he,b,"internal-error");const{sub:Ae}=he;return I(y.uid===Ae,b,"user-mismatch"),mi._forOperation(y,k,Y)}catch(Y){throw"auth/user-not-found"===Y?.code&&de(b,"user-mismatch"),Y}})).apply(this,arguments)}function Lc(y,p){return ln.apply(this,arguments)}function ln(){return(ln=(0,l.Z)(function*(y,p,m=!1){const b="signIn",k=yield Xr(y,b,p),Y=yield mi._fromIdTokenResponse(y,b,k);return m||(yield y._updateCurrentUser(Y.user)),Y})).apply(this,arguments)}function Vc(y,p){return Nd.apply(this,arguments)}function Nd(){return(Nd=(0,l.Z)(function*(y,p){return Lc(Yn(y),p)})).apply(this,arguments)}function Fd(y,p){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,l.Z)(function*(y,p){const m=(0,M.m9)(y);return yield ds(!1,m,p.providerId),Hr(m,p)})).apply(this,arguments)}function Ld(y,p){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,l.Z)(function*(y,p){return Os((0,M.m9)(y),p)})).apply(this,arguments)}function Vd(){return(Vd=(0,l.Z)(function*(y,p){return At(y,"POST","/v1/accounts:signInWithCustomToken",je(y,p))})).apply(this,arguments)}function fn(){return fn=(0,l.Z)(function*(y,p){const m=Yn(y),b=yield function K0(y,p){return Vd.apply(this,arguments)}(m,{token:p,returnSecureToken:!0}),k=yield mi._fromIdTokenResponse(m,"signIn",b);return yield m._updateCurrentUser(k.user),k}),fn.apply(this,arguments)}class Hc{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?Bc._fromServerResponse(p,m):"totpInfo"in m?Br._fromServerResponse(p,m):de(p,"internal-error")}}class Bc extends Hc{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new Bc(m)}}class Br extends Hc{constructor(p){super("totp",p)}static _fromServerResponse(p,m){return new Br(m)}}function ia(y,p,m){var b;I((null===(b=m.url)||void 0===b?void 0:b.length)>0,y,"invalid-continue-uri"),I(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(I(m.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(I(m.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function ki(){return ki=(0,l.Z)(function*(y,p,m){var b;const k=Yn(y),Y={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};if(null!==(b=k._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const he=yield bt(k,Y,"getOobCode",!0);m&&ia(k,he,m),yield ks(k,he)}else m&&ia(k,Y,m),yield ks(k,Y).catch(function(){var he=(0,l.Z)(function*(Ae){if("auth/missing-recaptcha-token"!==Ae.code)return Promise.reject(Ae);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const rt=yield bt(k,Y,"getOobCode",!0);m&&ia(k,rt,m),yield ks(k,rt)}});return function(Ae){return he.apply(this,arguments)}}())}),ki.apply(this,arguments)}function Hl(){return(Hl=(0,l.Z)(function*(y,p,m){yield ta((0,M.m9)(y),{oobCode:p,newPassword:m})})).apply(this,arguments)}function hs(){return hs=(0,l.Z)(function*(y,p){yield function yo(y,p){return _o.apply(this,arguments)}((0,M.m9)(y),{oobCode:p})}),hs.apply(this,arguments)}function Yc(y,p){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,l.Z)(function*(y,p){const m=(0,M.m9)(y),b=yield ta(m,{oobCode:p}),k=b.requestType;switch(I(k,m,"internal-error"),k){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":I(b.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":I(b.mfaInfo,m,"internal-error");default:I(b.email,m,"internal-error")}let Y=null;return b.mfaInfo&&(Y=Hc._fromServerResponse(Yn(m),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:Y},operation:k}})).apply(this,arguments)}function Yo(){return(Yo=(0,l.Z)(function*(y,p){const{data:m}=yield Yc((0,M.m9)(y),p);return m.email})).apply(this,arguments)}function no(){return no=(0,l.Z)(function*(y,p,m){var b;const k=Yn(y),Y={returnSecureToken:!0,email:p,password:m,clientType:"CLIENT_TYPE_WEB"};let he;if(null!==(b=k._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const yt=yield bt(k,Y,"signUpPassword");he=Ps(k,yt)}else he=Ps(k,Y).catch(function(){var yt=(0,l.Z)(function*(It){if("auth/missing-recaptcha-token"===It.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const zt=yield bt(k,Y,"signUpPassword");return Ps(k,zt)}return Promise.reject(It)});return function(It){return yt.apply(this,arguments)}}());const Ae=yield he.catch(yt=>Promise.reject(yt)),rt=yield mi._fromIdTokenResponse(k,"signIn",Ae);return yield k._updateCurrentUser(rt.user),rt}),no.apply(this,arguments)}function Bl(){return Bl=(0,l.Z)(function*(y,p,m){var b;const k=Yn(y),Y={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};function he(Ae,rt){I(rt.handleCodeInApp,k,"argument-error"),rt&&ia(k,Ae,rt)}if(null!==(b=k._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const Ae=yield bt(k,Y,"getOobCode",!0);he(Ae,m),yield Qr(k,Ae)}else he(Y,m),yield Qr(k,Y).catch(function(){var Ae=(0,l.Z)(function*(rt){if("auth/missing-recaptcha-token"!==rt.code)return Promise.reject(rt);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const yt=yield bt(k,Y,"getOobCode",!0);he(yt,m),yield Qr(k,yt)}});return function(rt){return Ae.apply(this,arguments)}}())}),Bl.apply(this,arguments)}function Ga(){return(Ga=(0,l.Z)(function*(y,p,m){const b=(0,M.m9)(y),k=zd.credentialWithLink(p,m||qe());return I(k._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),Vc(b,k)})).apply(this,arguments)}function Yl(){return(Yl=(0,l.Z)(function*(y,p){return He(y,"POST","/v1/accounts:createAuthUri",je(y,p))})).apply(this,arguments)}function Ul(){return Ul=(0,l.Z)(function*(y,p){const b={identifier:p,continueUri:it()?qe():"http://localhost"},{signinMethods:k}=yield function r1(y,p){return Yl.apply(this,arguments)}((0,M.m9)(y),b);return k||[]}),Ul.apply(this,arguments)}function jc(){return jc=(0,l.Z)(function*(y,p){const m=(0,M.m9)(y),k={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&ia(m.auth,k,p);const{email:Y}=yield function Qu(y,p){return Ba.apply(this,arguments)}(m.auth,k);Y!==y.email&&(yield y.reload())}),jc.apply(this,arguments)}function $c(){return $c=(0,l.Z)(function*(y,p,m){const b=(0,M.m9)(y),Y={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};m&&ia(b.auth,Y,m);const{email:he}=yield function Bi(y,p){return Yi.apply(this,arguments)}(b.auth,Y);he!==y.email&&(yield y.reload())}),$c.apply(this,arguments)}function $l(){return($l=(0,l.Z)(function*(y,p){return He(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Gl(){return Gl=(0,l.Z)(function*(y,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const b=(0,M.m9)(y),Y={idToken:yield b.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},he=yield Dt(b,function Ud(y,p){return $l.apply(this,arguments)}(b.auth,Y));b.displayName=he.displayName||null,b.photoURL=he.photoUrl||null;const Ae=b.providerData.find(({providerId:rt})=>"password"===rt);Ae&&(Ae.displayName=b.displayName,Ae.photoURL=b.photoURL),yield b._updateTokensIfNecessary(he)}),Gl.apply(this,arguments)}function nr(y,p,m){return ql.apply(this,arguments)}function ql(){return(ql=(0,l.Z)(function*(y,p,m){const{auth:b}=y,Y={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(Y.email=p),m&&(Y.password=m);const he=yield Dt(y,Ha(b,Y));yield y._updateTokensIfNecessary(he,!0)})).apply(this,arguments)}class sa{constructor(p,m,b={}){this.isNewUser=p,this.providerId=m,this.profile=b}}class F4 extends sa{constructor(p,m,b,k){super(p,m,b),this.username=k}}class jd extends sa{constructor(p,m){super(p,"facebook.com",m)}}class J0 extends F4{constructor(p,m){super(p,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class Wl extends sa{constructor(p,m){super(p,"google.com",m)}}class s1 extends F4{constructor(p,m,b){super(p,"twitter.com",m,b)}}function a1(y){const{user:p,_tokenResponse:m}=y;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function N4(y){var p,m;if(!y)return null;const{providerId:b}=y,k=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},Y=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!b&&y?.idToken){const he=null===(m=null===(p=Ot(y.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(he)return new sa(Y,"anonymous"!==he&&"custom"!==he?he:null)}if(!b)return null;switch(b){case"facebook.com":return new jd(Y,k);case"github.com":return new J0(Y,k);case"google.com":return new Wl(Y,k);case"twitter.com":return new s1(Y,k,y.screenName||null);case"custom":case"anonymous":return new sa(Y,null);default:return new sa(Y,b,k)}}(m)}class aa{constructor(p,m,b){this.type=p,this.credential=m,this.auth=b}static _fromIdtoken(p,m){return new aa("enroll",p,m)}static _fromMfaPendingCredential(p){return new aa("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,b;if(p?.multiFactorSession){if(null!==(m=p.multiFactorSession)&&void 0!==m&&m.pendingCredential)return aa._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(b=p.multiFactorSession)&&void 0!==b&&b.idToken)return aa._fromIdtoken(p.multiFactorSession.idToken)}return null}}class ca{constructor(p,m,b){this.session=p,this.hints=m,this.signInResolver=b}static _fromError(p,m){const b=Yn(p),k=m.customData._serverResponse,Y=(k.mfaInfo||[]).map(Ae=>Hc._fromServerResponse(b,Ae));I(k.mfaPendingCredential,b,"internal-error");const he=aa._fromMfaPendingCredential(k.mfaPendingCredential);return new ca(he,Y,function(){var Ae=(0,l.Z)(function*(rt){const yt=yield rt._process(b,he);delete k.mfaInfo,delete k.mfaPendingCredential;const It=Object.assign(Object.assign({},k),{idToken:yt.idToken,refreshToken:yt.refreshToken});switch(m.operationType){case"signIn":const zt=yield mi._fromIdTokenResponse(b,m.operationType,It);return yield b._updateCurrentUser(zt.user),zt;case"reauthenticate":return I(m.user,b,"internal-error"),mi._forOperation(m.user,m.operationType,It);default:de(b,"internal-error")}});return function(rt){return Ae.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,l.Z)(function*(){return m.signInResolver(p)})()}}class da{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(b=>Hc._fromServerResponse(p.auth,b)))})}static _fromUser(p){return new da(p)}getSession(){var p=this;return(0,l.Z)(function*(){return aa._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,m){var b=this;return(0,l.Z)(function*(){const k=p,Y=yield b.getSession(),he=yield Dt(b.user,k._process(b.user.auth,Y,m));return yield b.user._updateTokensIfNecessary(he),b.user.reload()})()}unenroll(p){var m=this;return(0,l.Z)(function*(){const b="string"==typeof p?p:p.uid,k=yield m.user.getIdToken();try{const Y=yield Dt(m.user,function Ql(y,p){return He(y,"POST","/v2/accounts/mfaEnrollment:withdraw",je(y,p))}(m.user.auth,{idToken:k,mfaEnrollmentId:b}));m.enrolledFactors=m.enrolledFactors.filter(({uid:he})=>he!==b),yield m.user._updateTokensIfNecessary(Y),yield m.user.reload()}catch(Y){throw Y}})()}}const Rs=new WeakMap,ha="__sak";class Jl{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(ha,"1"),this.storage.removeItem(ha),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const fa=(()=>{class y extends Jl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,b)=>this.onStorageEvent(m,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function qc(){const y=(0,M.z$)();return Oe(y)||Vn(y)}()&&function Ac(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ho(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const b of Object.keys(this.listeners)){const k=this.storage.getItem(b),Y=this.localCache[b];k!==Y&&m(b,Y,k)}}onStorageEvent(m,b=!1){if(!m.key)return void this.forAllChangedKeys((Ae,rt,yt)=>{this.notifyListeners(Ae,yt)});const k=m.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ae=this.storage.getItem(k);if(m.newValue!==Ae)null!==m.newValue?this.storage.setItem(k,m.newValue):this.storage.removeItem(k);else if(this.localCache[k]===m.newValue&&!b)return}const Y=()=>{const Ae=this.storage.getItem(k);!b&&this.localCache[k]===Ae||this.notifyListeners(k,Ae)},he=this.storage.getItem(k);!function vo(){return(0,M.w1)()&&10===document.documentMode}()||he===m.newValue||m.newValue===m.oldValue?Y():setTimeout(Y,10)}notifyListeners(m,b){this.localCache[m]=b;const k=this.listeners[m];if(k)for(const Y of Array.from(k))Y(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,b,k)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:b,newValue:k}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,b){var k=()=>super._set,Y=this;return(0,l.Z)(function*(){yield k().call(Y,m,b),Y.localCache[m]=JSON.stringify(b)})()}_get(m){var b=()=>super._get,k=this;return(0,l.Z)(function*(){const Y=yield b().call(k,m);return k.localCache[m]=JSON.stringify(Y),Y})()}_remove(m){var b=()=>super._remove,k=this;return(0,l.Z)(function*(){yield b().call(k,m),delete k.localCache[m]})()}}return y.type="LOCAL",y})(),ms=(()=>{class y extends Jl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,b){}_removeListener(m,b){}}return y.type="SESSION",y})();let Za=(()=>{class y{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const b=this.receivers.find(Y=>Y.isListeningto(m));if(b)return b;const k=new y(m);return this.receivers.push(k),k}isListeningto(m){return this.eventTarget===m}handleEvent(m){var b=this;return(0,l.Z)(function*(){const k=m,{eventId:Y,eventType:he,data:Ae}=k.data,rt=b.handlersMap[he];if(!rt?.size)return;k.ports[0].postMessage({status:"ack",eventId:Y,eventType:he});const yt=Array.from(rt).map(function(){var zt=(0,l.Z)(function*(ir){return ir(k.origin,Ae)});return function(ir){return zt.apply(this,arguments)}}()),It=yield function u1(y){return Promise.all(y.map(function(){var p=(0,l.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(b){return{fulfilled:!1,reason:b}}});return function(m){return p.apply(this,arguments)}}()))}(yt);k.ports[0].postMessage({status:"done",eventId:Y,eventType:he,response:It})})()}_subscribe(m,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(b)}_unsubscribe(m,b){this.handlersMap[m]&&b&&this.handlersMap[m].delete(b),(!b||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Qa(y="",p=10){let m="";for(let b=0;b<p;b++)m+=Math.floor(10*Math.random());return y+m}class Wd{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,b=50){var k=this;return(0,l.Z)(function*(){const Y=typeof MessageChannel<"u"?new MessageChannel:null;if(!Y)throw new Error("connection_unavailable");let he,Ae;return new Promise((rt,yt)=>{const It=Qa("",20);Y.port1.start();const zt=setTimeout(()=>{yt(new Error("unsupported_event"))},b);Ae={messageChannel:Y,onMessage(ir){const ws=ir;if(ws.data.eventId===It)switch(ws.data.status){case"ack":clearTimeout(zt),he=setTimeout(()=>{yt(new Error("timeout"))},3e3);break;case"done":clearTimeout(he),rt(ws.data.response);break;default:clearTimeout(zt),clearTimeout(he),yt(new Error("invalid_response"))}}},k.handlers.add(Ae),Y.port1.addEventListener("message",Ae.onMessage),k.target.postMessage({eventType:p,eventId:It,data:m},[Y.port2])}).finally(()=>{Ae&&k.removeMessageHandler(Ae)})})()}}function Un(){return window}function eu(){return typeof Un().WorkerGlobalScope<"u"&&"function"==typeof Un().importScripts}function tu(){return(tu=(0,l.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const pa="firebaseLocalStorageDb",Er=1,h1="firebaseLocalStorage",Wc="fbase_key";class Kc{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function gs(y,p){return y.transaction([h1],p?"readwrite":"readonly").objectStore(h1)}function ru(){const y=indexedDB.open(pa,Er);return new Promise((p,m)=>{y.addEventListener("error",()=>{m(y.error)}),y.addEventListener("upgradeneeded",()=>{const b=y.result;try{b.createObjectStore(h1,{keyPath:Wc})}catch(k){m(k)}}),y.addEventListener("success",(0,l.Z)(function*(){const b=y.result;b.objectStoreNames.contains(h1)?p(b):(b.close(),yield function H4(){const y=indexedDB.deleteDatabase(pa);return new Kc(y).toPromise()}(),p(yield ru()))}))})}function ma(y,p,m){return f1.apply(this,arguments)}function f1(){return(f1=(0,l.Z)(function*(y,p,m){const b=gs(y,!0).put({[Wc]:p,value:m});return new Kc(b).toPromise()})).apply(this,arguments)}function Ja(){return(Ja=(0,l.Z)(function*(y,p){const m=gs(y,!1).get(p),b=yield new Kc(m).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function Ns(y,p){const m=gs(y,!0).delete(p);return new Kc(m).toPromise()}const va=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,l.Z)(function*(){return m.db||(m.db=yield ru()),m.db})()}_withRetries(m){var b=this;return(0,l.Z)(function*(){let k=0;for(;;)try{const Y=yield b._openDb();return yield m(Y)}catch(Y){if(k++>3)throw Y;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,l.Z)(function*(){return eu()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,l.Z)(function*(){m.receiver=Za._getInstance(function Yr(){return eu()?self:null}()),m.receiver._subscribe("keyChanged",function(){var b=(0,l.Z)(function*(k,Y){return{keyProcessed:(yield m._poll()).includes(Y.key)}});return function(k,Y){return b.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var b=(0,l.Z)(function*(k,Y){return["keyChanged"]});return function(k,Y){return b.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,l.Z)(function*(){var b,k;if(m.activeServiceWorker=yield function d1(){return tu.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Wd(m.activeServiceWorker);const Y=yield m.sender._send("ping",{},800);Y&&null!==(b=Y[0])&&void 0!==b&&b.fulfilled&&null!==(k=Y[0])&&void 0!==k&&k.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var b=this;return(0,l.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function nu(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:m},b.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const m=yield ru();return yield ma(m,ha,"1"),yield Ns(m,ha),!0}catch{}return!1})()}_withPendingWrite(m){var b=this;return(0,l.Z)(function*(){b.pendingWrites++;try{yield m()}finally{b.pendingWrites--}})()}_set(m,b){var k=this;return(0,l.Z)(function*(){return k._withPendingWrite((0,l.Z)(function*(){return yield k._withRetries(Y=>ma(Y,m,b)),k.localCache[m]=b,k.notifyServiceWorker(m)}))})()}_get(m){var b=this;return(0,l.Z)(function*(){const k=yield b._withRetries(Y=>function Zc(y,p){return Ja.apply(this,arguments)}(Y,m));return b.localCache[m]=k,k})()}_remove(m){var b=this;return(0,l.Z)(function*(){return b._withPendingWrite((0,l.Z)(function*(){return yield b._withRetries(k=>Ns(k,m)),delete b.localCache[m],b.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,l.Z)(function*(){const b=yield m._withRetries(he=>{const Ae=gs(he,!1).getAll();return new Kc(Ae).toPromise()});if(!b)return[];if(0!==m.pendingWrites)return[];const k=[],Y=new Set;for(const{fbase_key:he,value:Ae}of b)Y.add(he),JSON.stringify(m.localCache[he])!==JSON.stringify(Ae)&&(m.notifyListeners(he,Ae),k.push(he));for(const he of Object.keys(m.localCache))m.localCache[he]&&!Y.has(he)&&(m.notifyListeners(he,null),k.push(he));return k})()}notifyListeners(m,b){this.localCache[m]=b;const k=this.listeners[m];if(k)for(const Y of Array.from(k))Y(b)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})(),Jc=1e12;class p1{constructor(p){this.auth=p,this.counter=Jc,this._widgets=new Map}render(p,m){const b=this.counter;return this._widgets.set(b,new m1(p,this.auth.name,m||{})),this.counter++,b}reset(p){var m;const b=p||Jc;null===(m=this._widgets.get(b))||void 0===m||m.delete(),this._widgets.delete(b)}getResponse(p){var m;return(null===(m=this._widgets.get(p||Jc))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,l.Z)(function*(){var b;return null===(b=m._widgets.get(p||Jc))||void 0===b||b.execute(),""})()}}class m1{constructor(p,m,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const k="string"==typeof p?document.getElementById(p):p;I(k,"argument-error",{appName:m}),this.container=k,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function y6(y){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<y;b++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const U4=xr("rcb"),_6=new Le(3e4,6e4);class w6{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=Un().grecaptcha)||void 0===p||!p.render)}load(p,m=""){return I(function j4(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(m),p,"argument-error"),this.shouldResolveImmediately(m)&&_n(Un().grecaptcha)?Promise.resolve(Un().grecaptcha):new Promise((b,k)=>{const Y=Un().setTimeout(()=>{k(we(p,"network-request-failed"))},_6.get());Un()[U4]=()=>{Un().clearTimeout(Y),delete Un()[U4];const Ae=Un().grecaptcha;if(!Ae||!_n(Ae))return void k(we(p,"internal-error"));const rt=Ae.render;Ae.render=(yt,It)=>{const zt=rt(yt,It);return this.counter++,zt},this.hostLanguage=m,b(Ae)},Zr(`https://www.google.com/recaptcha/api.js??${(0,M.xO)({onload:U4,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(Y),k(we(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var m;return!(null===(m=Un().grecaptcha)||void 0===m||!m.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ur{load(p){return(0,l.Z)(function*(){return new p1(p)})()}clearedOneInstance(){}}const Xc="recaptcha",iu={theme:"light",type:"image"};class g1{constructor(p,m=Object.assign({},iu),b){this.parameters=m,this.type=Xc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Yn(b),this.isInvisible="invisible"===this.parameters.size,I(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const k="string"==typeof p?document.getElementById(p):p;I(k,this.auth,"argument-error"),this.container=k,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ur:new w6,this.validateStartingState()}verify(){var p=this;return(0,l.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),b=p.getAssertedRecaptcha();return b.getResponse(m)||new Promise(Y=>{const he=Ae=>{Ae&&(p.tokenChangeListeners.delete(he),Y(Ae))};p.tokenChangeListeners.add(he),p.isInvisible&&b.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){I(!this.parameters.sitekey,this.auth,"argument-error"),I(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),I(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(b=>b(m)),"function"==typeof p)p(m);else if("string"==typeof p){const b=Un()[p];"function"==typeof b&&b(m)}}}assertNotDestroyed(){I(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,l.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const b=document.createElement("div");m.appendChild(b),m=b}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,l.Z)(function*(){I(it()&&!eu(),p.auth,"internal-error"),yield function bo(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function Ne(y){return ct.apply(this,arguments)}(p.auth);I(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return I(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Uo{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=tr._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function wa(){return(wa=(0,l.Z)(function*(y,p,m){const b=Yn(y),k=yield el(b,p,(0,M.m9)(m));return new Uo(k,Y=>Vc(b,Y))})).apply(this,arguments)}function su(){return(su=(0,l.Z)(function*(y,p,m){const b=(0,M.m9)(y);yield ds(!1,b,"phone");const k=yield el(b.auth,p,(0,M.m9)(m));return new Uo(k,Y=>Fd(b,Y))})).apply(this,arguments)}function au(){return(au=(0,l.Z)(function*(y,p,m){const b=(0,M.m9)(y),k=yield el(b.auth,p,(0,M.m9)(m));return new Uo(k,Y=>Ld(b,Y))})).apply(this,arguments)}function el(y,p,m){return zi.apply(this,arguments)}function zi(){return zi=(0,l.Z)(function*(y,p,m){var b;const k=yield m.verify();try{let Y;if(I("string"==typeof k,y,"argument-error"),I(m.type===Xc,y,"argument-error"),Y="string"==typeof p?{phoneNumber:p}:p,"session"in Y){const he=Y.session;if("phoneNumber"in Y)return I("enroll"===he.type,y,"internal-error"),(yield function Ka(y,p){return He(y,"POST","/v2/accounts/mfaEnrollment:start",je(y,p))}(y,{idToken:he.credential,phoneEnrollmentInfo:{phoneNumber:Y.phoneNumber,recaptchaToken:k}})).phoneSessionInfo.sessionInfo;{I("signin"===he.type,y,"internal-error");const Ae=(null===(b=Y.multiFactorHint)||void 0===b?void 0:b.uid)||Y.multiFactorUid;return I(Ae,y,"missing-multi-factor-info"),(yield function ya(y,p){return He(y,"POST","/v2/accounts/mfaSignIn:start",je(y,p))}(y,{mfaPendingCredential:he.credential,mfaEnrollmentId:Ae,phoneSignInInfo:{recaptchaToken:k}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:he}=yield function G0(y,p){return Xu.apply(this,arguments)}(y,{phoneNumber:Y.phoneNumber,recaptchaToken:k});return he}}finally{m._reset()}}),zi.apply(this,arguments)}function Ui(){return(Ui=(0,l.Z)(function*(y,p){yield Hr((0,M.m9)(y),p)})).apply(this,arguments)}let kt=(()=>{class y{constructor(m){this.providerId=y.PROVIDER_ID,this.auth=Yn(m)}verifyPhoneNumber(m,b){return el(this.auth,m,(0,M.m9)(b))}static credential(m,b){return tr._fromVerification(m,b)}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:b,temporaryProof:k}=m;return b&&k?tr._fromTokenResponse(b,k):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Ct(y,p){return p?Zn(p):(I(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Jn extends ss{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return wo(p,this._buildIdpRequest())}_linkToIdToken(p,m){return wo(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return wo(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function Qd(y){return Lc(y.auth,new Jn(y),y.bypassAuthState)}function tl(y){const{auth:p,user:m}=y;return I(m,p,"internal-error"),Os(m,new Jn(y),y.bypassAuthState)}function rr(y){return cu.apply(this,arguments)}function cu(){return(cu=(0,l.Z)(function*(y){const{auth:p,user:m}=y;return I(m,p,"internal-error"),Hr(m,new Jn(y),y.bypassAuthState)})).apply(this,arguments)}class v1{constructor(p,m,b,k,Y=!1){this.auth=p,this.resolver=b,this.user=k,this.bypassAuthState=Y,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,l.Z)(function*(b,k){p.pendingPromise={resolve:b,reject:k};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(Y){p.reject(Y)}});return function(b,k){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,l.Z)(function*(){const{urlResponse:b,sessionId:k,postBody:Y,tenantId:he,error:Ae,type:rt}=p;if(Ae)return void m.reject(Ae);const yt={auth:m.auth,requestUri:b,sessionId:k,tenantId:he||void 0,postBody:Y||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(rt)(yt))}catch(It){m.reject(It)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Qd;case"linkViaPopup":case"linkViaRedirect":return rr;case"reauthViaPopup":case"reauthViaRedirect":return tl;default:de(this.auth,"internal-error")}}resolve(p){et(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){et(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const io=new Le(2e3,1e4);function tc(){return(tc=(0,l.Z)(function*(y,p,m){const b=Yn(y);J(y,p,ls);const k=Ct(b,m);return new lu(b,"signInViaPopup",p,k).executeNotNull()})).apply(this,arguments)}function Fs(){return(Fs=(0,l.Z)(function*(y,p,m){const b=(0,M.m9)(y);J(b.auth,p,ls);const k=Ct(b.auth,m);return new lu(b.auth,"reauthViaPopup",p,k,b).executeNotNull()})).apply(this,arguments)}function y1(){return(y1=(0,l.Z)(function*(y,p,m){const b=(0,M.m9)(y);J(b.auth,p,ls);const k=Ct(b.auth,m);return new lu(b.auth,"linkViaPopup",p,k,b).executeNotNull()})).apply(this,arguments)}let lu=(()=>{class y extends v1{constructor(m,b,k,Y,he){super(m,b,Y,he),this.provider=k,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var m=this;return(0,l.Z)(function*(){const b=yield m.execute();return I(b,m.auth,"internal-error"),b})()}onExecution(){var m=this;return(0,l.Z)(function*(){et(1===m.filter.length,"Popup operations only handle one event");const b=Qa();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],b),m.authWindow.associatedEvent=b,m.resolver._originValidation(m.auth).catch(k=>{m.reject(k)}),m.resolver._isIframeWebStorageSupported(m.auth,k=>{k||m.reject(we(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(we(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const m=()=>{var b,k;this.pollId=null!==(k=null===(b=this.authWindow)||void 0===b?void 0:b.window)&&void 0!==k&&k.closed?window.setTimeout(()=>{this.pollId=null,this.reject(we(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(m,io.get())};m()}}return y.currentPopupAction=null,y})();const vs="pendingRedirect",Ls=new Map;class pr extends v1{constructor(p,m,b=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,b),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,l.Z)(function*(){let b=Ls.get(m.auth._key());if(!b){try{const Y=(yield function _1(y,p){return uu.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;b=()=>Promise.resolve(Y)}catch(k){b=()=>Promise.reject(k)}Ls.set(m.auth._key(),b)}return m.bypassAuthState||Ls.set(m.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,b=this;return(0,l.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(b,p);if("unknown"!==p.type){if(p.eventId){const k=yield b.auth._redirectUserForId(p.eventId);if(k)return b.user=k,m().call(b,p);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function uu(){return(uu=(0,l.Z)(function*(y,p){const m=jo(p),b=nc(y);if(!(yield b._isAvailable()))return!1;const k="true"===(yield b._get(m));return yield b._remove(m),k})).apply(this,arguments)}function ba(y,p){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,l.Z)(function*(y,p){return nc(y)._set(jo(p),"true")})).apply(this,arguments)}function Jd(y,p){Ls.set(y._key(),p)}function nc(y){return Zn(y._redirectPersistence)}function jo(y){return fe(vs,y.config.apiKey,y.name)}function w1(y,p,m){return function G4(y,p,m){return Pi.apply(this,arguments)}(y,p,m)}function Pi(){return(Pi=(0,l.Z)(function*(y,p,m){const b=Yn(y);J(y,p,ls),yield b._initializationPromise;const k=Ct(b,m);return yield ba(k,b),k._openRedirect(b,p,"signInViaRedirect")})).apply(this,arguments)}function rl(y,p,m){return function Co(y,p,m){return jr.apply(this,arguments)}(y,p,m)}function jr(){return(jr=(0,l.Z)(function*(y,p,m){const b=(0,M.m9)(y);J(b.auth,p,ls),yield b.auth._initializationPromise;const k=Ct(b.auth,m);yield ba(k,b.auth);const Y=yield lr(b);return k._openRedirect(b.auth,p,"reauthViaRedirect",Y)})).apply(this,arguments)}function zr(y,p,m){return function b1(y,p,m){return C1.apply(this,arguments)}(y,p,m)}function C1(){return(C1=(0,l.Z)(function*(y,p,m){const b=(0,M.m9)(y);J(b.auth,p,ls),yield b.auth._initializationPromise;const k=Ct(b.auth,m);yield ds(!1,b,p.providerId),yield ba(k,b.auth);const Y=yield lr(b);return k._openRedirect(b.auth,p,"linkViaRedirect",Y)})).apply(this,arguments)}function cr(){return(cr=(0,l.Z)(function*(y,p){return yield Yn(y)._initializationPromise,ci(y,p,!1)})).apply(this,arguments)}function ci(y,p){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,l.Z)(function*(y,p,m=!1){const b=Yn(y),k=Ct(b,p),he=yield new pr(b,k,m).execute();return he&&!m&&(delete he.user._redirectEventId,yield b._persistUserIfCurrent(he.user),yield b._setRedirectUser(null,p)),he})).apply(this,arguments)}function lr(y){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,l.Z)(function*(y){const p=Qa(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class rc{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(p,b)&&(m=!0,this.sendToConsumer(p,b),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Pr(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $o(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var b;if(p.error&&!$o(p)){const k=(null===(b=p.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";m.onError(we(this.auth,k))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const b=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&b}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(oo(p))}saveEventToCache(p){this.cachedEventUids.add(oo(p)),this.lastProcessedEventTime=Date.now()}}function oo(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function $o({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===p?.code}function Vs(y){return q4.apply(this,arguments)}function q4(){return(q4=(0,l.Z)(function*(y,p={}){return He(y,"GET","/v1/projects",p)})).apply(this,arguments)}const hu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fu=/^https?/;function Go(){return(Go=(0,l.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield Vs(y);for(const m of p)try{if(il(m))return}catch{}de(y,"unauthorized-domain")})).apply(this,arguments)}function il(y){const p=qe(),{protocol:m,hostname:b}=new URL(p);if(y.startsWith("chrome-extension://")){const he=new URL(y);return""===he.hostname&&""===b?"chrome-extension:"===m&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&he.hostname===b}if(!fu.test(m))return!1;if(hu.test(y))return b===y;const k=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+k+"|"+k+")$","i").test(b)}const Ea=new Le(3e4,6e4);function Kt(){const y=Un().___jsl;if(y?.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let m=0;m<y.CP.length;m++)y.CP[m]=null}let mu=null;const W4=new Le(5e3,15e3),Xd="__/auth/iframe",Eo="emulator/auth/iframe",eh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},th=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nh(y){const p=y.config;I(p.authDomain,y,"auth-domain-config-required");const m=p.emulator?Ce(p,Eo):`https://${y.config.authDomain}/${Xd}`,b={apiKey:p.apiKey,appName:y.name,v:F.SDK_VERSION},k=th.get(y.config.apiHost);k&&(b.eid=k);const Y=y._getFrameworks();return Y.length&&(b.fw=Y.join(",")),`${m}?${(0,M.xO)(b).slice(1)}`}function T(){return T=(0,l.Z)(function*(y){const p=yield function so(y){return mu=mu||function So(y){return new Promise((p,m)=>{var b,k,Y;function he(){Kt(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Kt(),m(we(y,"network-request-failed"))},timeout:Ea.get()})}if(null!==(k=null===(b=Un().gapi)||void 0===b?void 0:b.iframes)&&void 0!==k&&k.Iframe)p(gapi.iframes.getContext());else{if(null===(Y=Un().gapi)||void 0===Y||!Y.load){const Ae=xr("iframefcb");return Un()[Ae]=()=>{gapi.load?he():m(we(y,"network-request-failed"))},Zr(`https://apis.google.com/js/api.js?onload=${Ae}`).catch(rt=>m(rt))}he()}}).catch(p=>{throw mu=null,p})}(y),mu}(y),m=Un().gapi;return I(m,y,"internal-error"),p.open({where:document.body,url:nh(y),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eh,dontclear:!0},b=>new Promise(function(){var k=(0,l.Z)(function*(Y,he){yield b.restyle({setHideOnLeave:!1});const Ae=we(y,"network-request-failed"),rt=Un().setTimeout(()=>{he(Ae)},W4.get());function yt(){Un().clearTimeout(rt),Y(b)}b.ping(yt).then(yt,()=>{he(Ae)})});return function(Y,he){return k.apply(this,arguments)}}()))}),T.apply(this,arguments)}const R={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},te=500,me=600,xe="_blank",Ve="http://localhost";class _t{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const sn="__/auth/handler",an="emulator/auth/handler",vi=encodeURIComponent("fac");function jn(y,p,m,b,k,Y){return hn.apply(this,arguments)}function hn(){return(hn=(0,l.Z)(function*(y,p,m,b,k,Y){I(y.config.authDomain,y,"auth-domain-config-required"),I(y.config.apiKey,y,"invalid-api-key");const he={apiKey:y.config.apiKey,appName:y.name,authType:m,redirectUrl:b,v:F.SDK_VERSION,eventId:k};if(p instanceof ls){p.setDefaultLanguage(y.languageCode),he.providerId=p.providerId||"",(0,M.xb)(p.getCustomParameters())||(he.customParameters=JSON.stringify(p.getCustomParameters()));for(const[It,zt]of Object.entries(Y||{}))he[It]=zt}if(p instanceof Bo){const It=p.getScopes().filter(zt=>""!==zt);It.length>0&&(he.scopes=It.join(","))}y.tenantId&&(he.tid=y.tenantId);const Ae=he;for(const It of Object.keys(Ae))void 0===Ae[It]&&delete Ae[It];const rt=yield y._getAppCheckToken(),yt=rt?`#${vi}=${encodeURIComponent(rt)}`:"";return`${function Hs({config:y}){return y.emulator?Ce(y,an):`https://${y.authDomain}/${sn}`}(y)}?${(0,M.xO)(Ae).slice(1)}${yt}`})).apply(this,arguments)}const Ta="webStorageSupport",To=class ei{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ms,this._completeRedirectFn=ci,this._overrideRedirectResult=Jd}_openPopup(p,m,b,k){var Y=this;return(0,l.Z)(function*(){var he;et(null===(he=Y.eventManagers[p._key()])||void 0===he?void 0:he.manager,"_initialize() not called before _openPopup()");const Ae=yield jn(p,m,b,qe(),k);return function vt(y,p,m,b=te,k=me){const Y=Math.max((window.screen.availHeight-k)/2,0).toString(),he=Math.max((window.screen.availWidth-b)/2,0).toString();let Ae="";const rt=Object.assign(Object.assign({},R),{width:b.toString(),height:k.toString(),top:Y,left:he}),yt=(0,M.z$)().toLowerCase();m&&(Ae=ht(yt)?xe:m),Ze(yt)&&(p=p||Ve,rt.scrollbars="yes");const It=Object.entries(rt).reduce((ir,[ws,F1])=>`${ir}${ws}=${F1},`,"");if(function fi(y=(0,M.z$)()){var p;return Vn(y)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(yt)&&"_self"!==Ae)return function Ft(y,p){const m=document.createElement("a");m.href=y,m.target=p;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(b)}(p||"",Ae),new _t(null);const zt=window.open(p||"",Ae,It);I(zt,y,"popup-blocked");try{zt.focus()}catch{}return new _t(zt)}(p,Ae,Qa())})()}_openRedirect(p,m,b,k){var Y=this;return(0,l.Z)(function*(){return yield Y._originValidation(p),function Kd(y){Un().location.href=y}(yield jn(p,m,b,qe(),k)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:k,promise:Y}=this.eventManagers[m];return k?Promise.resolve(k):(et(Y,"If manager is not set, promise should be"),Y)}const b=this.initAndGetManager(p);return this.eventManagers[m]={promise:b},b.catch(()=>{delete this.eventManagers[m]}),b}initAndGetManager(p){var m=this;return(0,l.Z)(function*(){const b=yield function C(y){return T.apply(this,arguments)}(p),k=new rc(p);return b.register("authEvent",Y=>(I(Y?.authEvent,p,"invalid-auth-event"),{status:k.onEvent(Y.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:k},m.iframes[p._key()]=b,k})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(Ta,{type:Ta},k=>{var Y;const he=null===(Y=k?.[0])||void 0===Y?void 0:Y[Ta];void 0!==he&&m(!!he),de(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function pu(y){return Go.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return Ho()||Oe()||Vn()}};class Bs{constructor(p){this.factorId=p}_process(p,m,b){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,b);case"signin":return this._finalizeSignIn(p,m.credential);default:return Re("unexpected MultiFactorSessionType")}}}class E1 extends Bs{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new E1(p)}_finalizeEnroll(p,m,b){return function l1(y,p){return He(y,"POST","/v2/accounts/mfaEnrollment:finalize",je(y,p))}(p,{idToken:m,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function Y4(y,p){return He(y,"POST","/v2/accounts/mfaSignIn:finalize",je(y,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let T1=(()=>{class y{constructor(){}static assertion(m){return E1._fromCredential(m)}}return y.FACTOR_ID="phone",y})();var Z4="@firebase/auth";class gu{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,l.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(b=>{p(b?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);m&&(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){I(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function sl(){return window}(0,M.Pz)("authIdTokenMaxAge"),function t3(y){(0,F._registerComponent)(new Q.wA("auth",(p,{options:m})=>{const b=p.getProvider("app").getImmediate(),k=p.getProvider("heartbeat"),Y=p.getProvider("app-check-internal"),{apiKey:he,authDomain:Ae}=b.options;I(he&&!he.includes(":"),"invalid-api-key",{appName:b.name});const rt={apiKey:he,authDomain:Ae,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$e(y)},yt=new Xi(b,k,Y,rt);return function fr(y,p){const m=p?.persistence||[],b=(Array.isArray(m)?m:[m]).map(Zn);p?.errorMap&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(b,p?.popupRedirectResolver)}(yt,m),yt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,b)=>{p.getProvider("auth-internal").initialize()})),(0,F._registerComponent)(new Q.wA("auth-internal",p=>{const m=Yn(p.getProvider("auth").getImmediate());return new gu(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,F.registerVersion)(Z4,"0.23.2",function Q4(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,F.registerVersion)(Z4,"0.23.2","esm2017")}("Browser");const C6=2e3;function M1(){return M1=(0,l.Z)(function*(y,p,m){var b;const{BuildInfo:k}=sl();et(p.sessionId,"AuthEvent did not contain a session ID");const Y=yield function oc(y){return x1.apply(this,arguments)}(p.sessionId),he={};return Vn()?he.ibi=k.packageName:kn()?he.apn=k.packageName:de(y,"operation-not-supported-in-this-environment"),k.displayName&&(he.appDisplayName=k.displayName),he.sessionId=Y,jn(y,m,p.type,void 0,null!==(b=p.eventId)&&void 0!==b?b:void 0,he)}),M1.apply(this,arguments)}function ic(){return(ic=(0,l.Z)(function*(y){const{BuildInfo:p}=sl(),m={};Vn()?m.iosBundleId=p.packageName:kn()?m.androidPackageName=p.packageName:de(y,"operation-not-supported-in-this-environment"),yield Vs(y,m)})).apply(this,arguments)}function vu(){return(vu=(0,l.Z)(function*(y,p,m){const{cordova:b}=sl();let k=()=>{};try{yield new Promise((Y,he)=>{let Ae=null;function rt(){var zt;Y();const ir=null===(zt=b.plugins.browsertab)||void 0===zt?void 0:zt.close;"function"==typeof ir&&ir(),"function"==typeof m?.close&&m.close()}function yt(){Ae||(Ae=window.setTimeout(()=>{he(we(y,"redirect-cancelled-by-user"))},C6))}function It(){"visible"===document?.visibilityState&&yt()}p.addPassiveListener(rt),document.addEventListener("resume",yt,!1),kn()&&document.addEventListener("visibilitychange",It,!1),k=()=>{p.removePassiveListener(rt),document.removeEventListener("resume",yt,!1),document.removeEventListener("visibilitychange",It,!1),Ae&&window.clearTimeout(Ae)}})}finally{k()}})).apply(this,arguments)}function x1(){return(x1=(0,l.Z)(function*(y){const p=function o3(y){if(et(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),m=new Uint8Array(p);for(let b=0;b<y.length;b++)m[b]=y.charCodeAt(b);return m}(y),m=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(m)).map(k=>k.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const I1=20;class oh extends rc{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(p)),super.onEvent(p)}initialized(){var p=this;return(0,l.Z)(function*(){yield p.initPromise})()}}function sh(y){return A1.apply(this,arguments)}function A1(){return(A1=(0,l.Z)(function*(y){const p=yield ah()._get(ll(y));return p&&(yield ah()._remove(ll(y))),p})).apply(this,arguments)}function X4(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<I1;m++){const b=Math.floor(Math.random()*p.length);y.push(p.charAt(b))}return y.join("")}function ah(){return Zn(fa)}function ll(y){return fe("authEvent",y.config.apiKey,y.name)}function ys(y){if(!y?.includes("?"))return{};const[p,...m]=y.split("?");return(0,M.zd)(m.join("?"))}const z1=class k1{constructor(){this._redirectPersistence=ms,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ci,this._overrideRedirectResult=Jd}_initialize(p){var m=this;return(0,l.Z)(function*(){const b=p._key();let k=m.eventManagers.get(b);return k||(k=new oh(p),m.eventManagers.set(b,k),m.attachCallbackListeners(p,k)),k})()}_openPopup(p){de(p,"operation-not-supported-in-this-environment")}_openRedirect(p,m,b,k){var Y=this;return(0,l.Z)(function*(){!function E6(y){var p,m,b,k,Y,he,Ae,rt,yt,It;const zt=sl();I("function"==typeof(null===(p=zt?.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),I(typeof(null===(m=zt?.BuildInfo)||void 0===m?void 0:m.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),I("function"==typeof(null===(Y=null===(k=null===(b=zt?.cordova)||void 0===b?void 0:b.plugins)||void 0===k?void 0:k.browsertab)||void 0===Y?void 0:Y.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),I("function"==typeof(null===(rt=null===(Ae=null===(he=zt?.cordova)||void 0===he?void 0:he.plugins)||void 0===Ae?void 0:Ae.browsertab)||void 0===rt?void 0:rt.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),I("function"==typeof(null===(It=null===(yt=zt?.cordova)||void 0===yt?void 0:yt.InAppBrowser)||void 0===It?void 0:It.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const he=yield Y._initialize(p);yield he.initialized(),he.resetRedirect(),function du(){Ls.clear()}(),yield Y._originValidation(p);const Ae=function xa(y,p,m=null){return{type:p,eventId:m,urlResponse:null,sessionId:X4(),postBody:null,tenantId:y.tenantId,error:we(y,"no-auth-event")}}(p,b,k);yield function s3(y,p){return ah()._set(ll(y),p)}(p,Ae);const rt=yield function r3(y,p,m){return M1.apply(this,arguments)}(p,Ae,m),yt=yield function S6(y){const{cordova:p}=sl();return new Promise(m=>{p.plugins.browsertab.isAvailable(b=>{let k=null;b?p.plugins.browsertab.openUrl(y):k=p.InAppBrowser.open(y,function Tn(y=(0,M.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),m(k)})})}(rt);return function al(y,p,m){return vu.apply(this,arguments)}(p,he,yt)})()}_isIframeWebStorageSupported(p,m){throw new Error("Method not implemented.")}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function ih(y){return ic.apply(this,arguments)}(p)),this.originValidationPromises[m]}attachCallbackListeners(p,m){const{universalLinks:b,handleOpenURL:k,BuildInfo:Y}=sl(),he=setTimeout((0,l.Z)(function*(){yield sh(p),m.onEvent(t2())}),500),Ae=function(){var It=(0,l.Z)(function*(zt){clearTimeout(he);const ir=yield sh(p);let ws=null;ir&&zt?.url&&(ws=function cl(y,p){var m,b;const k=function lh(y){const p=ys(y),m=p.link?decodeURIComponent(p.link):void 0,b=ys(m).link,k=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return ys(k).link||k||b||m||y}(p);if(k.includes("/__/auth/callback")){const Y=ys(k),he=Y.firebaseError?function ch(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(Y.firebaseError)):null,Ae=null===(b=null===(m=he?.code)||void 0===m?void 0:m.split("auth/"))||void 0===b?void 0:b[1],rt=Ae?we(Ae):null;return rt?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:rt,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:k,postBody:null}}return null}(ir,zt.url)),m.onEvent(ws||t2())});return function(ir){return It.apply(this,arguments)}}();typeof b<"u"&&"function"==typeof b.subscribe&&b.subscribe(null,Ae);const rt=k,yt=`${Y.packageName.toLowerCase()}://`;sl().handleOpenURL=function(){var It=(0,l.Z)(function*(zt){if(zt.toLowerCase().startsWith(yt)&&Ae({url:zt}),"function"==typeof rt)try{rt(zt)}catch(ir){console.error(ir)}});return function(zt){return It.apply(this,arguments)}}()}};function t2(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:we("no-auth-event")}}const r2=1e3;function qo(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function sc(y=(0,M.z$)()){return!("file:"!==qo()&&"ionic:"!==qo()&&"capacitor:"!==qo()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function M6(){try{const y=self.localStorage,p=Qa();if(y)return y.setItem(p,"1"),y.removeItem(p),!function D6(y=(0,M.z$)()){return function yu(){return(0,M.w1)()&&11===document?.documentMode}()||function T6(y=(0,M.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,M.hl)()}catch{return o2()&&(0,M.hl)()}return!1}function o2(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function N1(){return(function O1(){return"http:"===qo()||"https:"===qo()}()||(0,M.ru)()||sc())&&!function R1(){return(0,M.b$)()||(0,M.UG)()}()&&M6()&&!o2()}function a3(){return sc()&&typeof document<"u"}function _u(){return(_u=(0,l.Z)(function*(){return!!a3()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},r2);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const ao={LOCAL:"local",NONE:"none",SESSION:"session"},ul=I,a2="persistence";function c2(y){return l2.apply(this,arguments)}function l2(){return(l2=(0,l.Z)(function*(y){yield y._initializationPromise;const p=u2(),m=fe(a2,y.config.apiKey,y.name);p&&p.setItem(m,y._getPersistence())})).apply(this,arguments)}function u2(){var y;try{return(null===(y=function s2(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const d2=I;class li{constructor(){this.browserResolver=Zn(To),this.cordovaResolver=Zn(z1),this.underlyingResolver=null,this._redirectPersistence=ms,this._completeRedirectFn=ci,this._overrideRedirectResult=Jd}_initialize(p){var m=this;return(0,l.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,m,b,k){var Y=this;return(0,l.Z)(function*(){return yield Y.selectUnderlyingResolver(),Y.assertedUnderlyingResolver._openPopup(p,m,b,k)})()}_openRedirect(p,m,b,k){var Y=this;return(0,l.Z)(function*(){return yield Y.selectUnderlyingResolver(),Y.assertedUnderlyingResolver._openRedirect(p,m,b,k)})()}_isIframeWebStorageSupported(p,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,m)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return a3()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return d2(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,l.Z)(function*(){if(p.underlyingResolver)return;const m=yield function c3(){return _u.apply(this,arguments)}();p.underlyingResolver=m?p.cordovaResolver:p.browserResolver})()}}function ji(y){return y.unwrap()}function l3(y){return d3(y)}function d3(y){const{_tokenResponse:p}=y instanceof M.ZR?y.customData:y;if(!p)return null;if(!(y instanceof M.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return kt.credentialFromResult(y);const m=p.providerId;if(!m||m===q.PASSWORD)return null;let b;switch(m){case q.GOOGLE:b=Rc;break;case q.FACEBOOK:b=e1;break;case q.GITHUB:b=Pd;break;case q.TWITTER:b=Rl;break;default:const{oauthIdToken:k,oauthAccessToken:Y,oauthTokenSecret:he,pendingToken:Ae,nonce:rt}=p;return Y||he||k||Ae?Ae?m.startsWith("saml.")?zs._create(m,Ae):cs._fromParams({providerId:m,signInMethod:m,pendingToken:Ae,idToken:k,accessToken:Y}):new ra(m).credential({idToken:k,accessToken:Y,rawNonce:rt}):null}return y instanceof M.ZR?b.credentialFromError(y):b.credentialFromResult(y)}function $r(y,p){return p.catch(m=>{throw m instanceof M.ZR&&function u3(y,p){var m;const b=null===(m=p.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===p?.code)p.resolver=new hh(y,function Zl(y,p){var m;const b=(0,M.m9)(y),k=p;return I(p.customData.operationType,b,"argument-error"),I(null===(m=k.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,b,"argument-error"),ca._fromError(b,k)}(y,p));else if(b){const k=d3(p),Y=p;k&&(Y.credential=k,Y.tenantId=b.tenantId||void 0,Y.email=b.email||void 0,Y.phoneNumber=b.phoneNumber||void 0)}}(y,m),m}).then(m=>{const k=m.user;return{operationType:m.operationType,credential:l3(m),additionalUserInfo:a1(m),user:Us.getOrCreate(k)}})}function uh(y,p){return dh.apply(this,arguments)}function dh(){return(dh=(0,l.Z)(function*(y,p){const m=yield p;return{verificationId:m.verificationId,confirm:b=>$r(y,m.confirm(b))}})).apply(this,arguments)}class hh{constructor(p,m){this.resolver=m,this.auth=function wu(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return $r(ji(this.auth),this.resolver.resolveSignIn(p))}}class Us{constructor(p){this._delegate=p,this.multiFactor=function Gd(y){const p=(0,M.m9)(y);return Rs.has(p)||Rs.set(p,da._fromUser(p)),Rs.get(p)}(p)}static getOrCreate(p){return Us.USER_MAP.has(p)||Us.USER_MAP.set(p,new Us(p)),Us.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var m=this;return(0,l.Z)(function*(){return $r(m.auth,Fd(m._delegate,p))})()}linkWithPhoneNumber(p,m){var b=this;return(0,l.Z)(function*(){return uh(b.auth,function ou(y,p,m){return su.apply(this,arguments)}(b._delegate,p,m))})()}linkWithPopup(p){var m=this;return(0,l.Z)(function*(){return $r(m.auth,function Nt(y,p,m){return y1.apply(this,arguments)}(m._delegate,p,li))})()}linkWithRedirect(p){var m=this;return(0,l.Z)(function*(){return yield c2(Yn(m.auth)),zr(m._delegate,p,li)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var m=this;return(0,l.Z)(function*(){return $r(m.auth,Ld(m._delegate,p))})()}reauthenticateWithPhoneNumber(p,m){return uh(this.auth,function Xa(y,p,m){return au.apply(this,arguments)}(this._delegate,p,m))}reauthenticateWithPopup(p){return $r(this.auth,function nl(y,p,m){return Fs.apply(this,arguments)}(this._delegate,p,li))}reauthenticateWithRedirect(p){var m=this;return(0,l.Z)(function*(){return yield c2(Yn(m.auth)),rl(m._delegate,p,li)})()}sendEmailVerification(p){return function jl(y,p){return jc.apply(this,arguments)}(this._delegate,p)}unlink(p){var m=this;return(0,l.Z)(function*(){return yield function Rd(y,p){return gi.apply(this,arguments)}(m._delegate,p),m})()}updateEmail(p){return function ai(y,p){return nr((0,M.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function fs(y,p){return nr((0,M.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function Nn(y,p){return Ui.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function R4(y,p){return Gl.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,m){return function o1(y,p,m){return $c.apply(this,arguments)}(this._delegate,p,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Us.USER_MAP=new WeakMap;const hl=I;let h2=(()=>{class y{constructor(m,b){if(this.app=m,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:k}=m.options;hl(k,"invalid-api-key",{appName:m.name}),hl(k,"invalid-api-key",{appName:m.name});const Y=typeof window<"u"?li:void 0;this._delegate=b.initialize({options:{persistence:_s(k,m.name),popupRedirectResolver:Y}}),this._delegate._updateErrorMap(X),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Us.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,b){!function kc(y,p,m){const b=Yn(y);I(b._canInitEmulator,b,"emulator-config-failed"),I(/^https?:\/\//.test(p),b,"invalid-emulator-scheme");const k=!!m?.disableWarnings,Y=pi(p),{host:he,port:Ae}=function yn(y){const p=pi(y),m=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!m)return{host:"",port:null};const b=m[2].split("@").pop()||"",k=/^(\[[^\]]+\])(:|$)/.exec(b);if(k){const Y=k[1];return{host:Y,port:zc(b.substr(Y.length+1))}}{const[Y,he]=b.split(":");return{host:Y,port:zc(he)}}}(p);b.config.emulator={url:`${Y}//${he}${null===Ae?"":`:${Ae}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:he,port:Ae,protocol:Y.replace(":",""),options:Object.freeze({disableWarnings:k})}),k||function ea(){function y(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,m,b)}applyActionCode(m){return function Z0(y,p){return hs.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return Yc(this._delegate,m)}confirmPasswordReset(m,b){return function Hd(y,p,m){return Hl.apply(this,arguments)}(this._delegate,m,b)}createUserWithEmailAndPassword(m,b){var k=this;return(0,l.Z)(function*(){return $r(k._delegate,function oa(y,p,m){return no.apply(this,arguments)}(k._delegate,m,b))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function Yd(y,p){return Ul.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function Q0(y,p){return"EMAIL_SIGNIN"===Ua.parseLink(p)?.operation}(0,m)}getRedirectResult(){var m=this;return(0,l.Z)(function*(){hl(N1(),m._delegate,"operation-not-supported-in-this-environment");const b=yield function Tr(y,p){return cr.apply(this,arguments)}(m._delegate,li);return b?$r(m._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function n2(y,p){Yn(y)._logFramework(p)}(this._delegate,m)}onAuthStateChanged(m,b,k){const{next:Y,error:he,complete:Ae}=fl(m,b,k);return this._delegate.onAuthStateChanged(Y,he,Ae)}onIdTokenChanged(m,b,k){const{next:Y,error:he,complete:Ae}=fl(m,b,k);return this._delegate.onIdTokenChanged(Y,he,Ae)}sendSignInLinkToEmail(m,b){return function Uc(y,p,m){return Bl.apply(this,arguments)}(this._delegate,m,b)}sendPasswordResetEmail(m,b){return function Vl(y,p,m){return ki.apply(this,arguments)}(this._delegate,m,b||void 0)}setPersistence(m){var b=this;return(0,l.Z)(function*(){let k;switch(function dl(y,p){ul(Object.values(ao).includes(p),y,"invalid-persistence-type"),(0,M.b$)()?ul(p!==ao.SESSION,y,"unsupported-persistence-type"):(0,M.UG)()?ul(p===ao.NONE,y,"unsupported-persistence-type"):o2()?ul(p===ao.NONE||p===ao.LOCAL&&(0,M.hl)(),y,"unsupported-persistence-type"):ul(p===ao.NONE||M6(),y,"unsupported-persistence-type")}(b._delegate,m),m){case ao.SESSION:k=ms;break;case ao.LOCAL:k=(yield Zn(va)._isAvailable())?va:fa;break;case ao.NONE:k=Ii;break;default:return de("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(k)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return $r(this._delegate,function Jr(y){return ja.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return $r(this._delegate,Vc(this._delegate,m))}signInWithCustomToken(m){return $r(this._delegate,function We(y,p){return fn.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,b){return $r(this._delegate,function Bd(y,p,m){return Vc((0,M.m9)(y),zd.credential(p,m))}(this._delegate,m,b))}signInWithEmailLink(m,b){return $r(this._delegate,function kr(y,p,m){return Ga.apply(this,arguments)}(this._delegate,m,b))}signInWithPhoneNumber(m,b){return uh(this._delegate,function $4(y,p,m){return wa.apply(this,arguments)}(this._delegate,m,b))}signInWithPopup(m){var b=this;return(0,l.Z)(function*(){return hl(N1(),b._delegate,"operation-not-supported-in-this-environment"),$r(b._delegate,function ec(y,p,m){return tc.apply(this,arguments)}(b._delegate,m,li))})()}signInWithRedirect(m){var b=this;return(0,l.Z)(function*(){return hl(N1(),b._delegate,"operation-not-supported-in-this-environment"),yield c2(b._delegate),w1(b._delegate,m,li)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function to(y,p){return Yo.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=ao,y})();function fl(y,p,m){let b=y;"function"!=typeof y&&({next:b,error:p,complete:m}=y);const k=b;return{next:he=>k(he&&Us.getOrCreate(he)),error:p,complete:m}}function _s(y,p){const m=function x6(y,p){const m=u2();if(!m)return[];const b=fe(a2,y,p);switch(m.getItem(b)){case ao.NONE:return[Ii];case ao.LOCAL:return[va,ms];case ao.SESSION:return[ms];default:return[]}}(y,p);if(typeof self<"u"&&!m.includes(va)&&m.push(va),typeof window<"u")for(const b of[fa,ms])m.includes(b)||m.push(b);return m.includes(Ii)||m.push(Ii),m}class pl{constructor(){this.providerId="phone",this._delegate=new kt(ji(V.Z.auth()))}static credential(p,m){return kt.credential(p,m)}verifyPhoneNumber(p,m){return this._delegate.verifyPhoneNumber(p,m)}unwrap(){return this._delegate}}pl.PHONE_SIGN_IN_METHOD=kt.PHONE_SIGN_IN_METHOD,pl.PROVIDER_ID=kt.PROVIDER_ID;const bu=I;class h3{constructor(p,m,b=V.Z.app()){var k;bu(null===(k=b.options)||void 0===k?void 0:k.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new g1(p,m,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function p3(y){y.INTERNAL.registerComponent(new Q.wA("auth-compat",p=>{const m=p.getProvider("app-compat").getImmediate(),b=p.getProvider("auth");return new h2(m,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:P_EMAIL_SIGNIN,PASSWORD_RESET:P_PASSWORD_RESET,RECOVER_EMAIL:P_RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:P_REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:P_VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:P_VERIFY_EMAIL}},EmailAuthProvider:zd,FacebookAuthProvider:e1,GithubAuthProvider:Pd,GoogleAuthProvider:Rc,OAuthProvider:ra,SAMLAuthProvider:Nc,PhoneAuthProvider:pl,PhoneMultiFactorGenerator:T1,RecaptchaVerifier:h3,TwitterAuthProvider:Rl,Auth:h2,AuthCredential:ss,Error:M.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.4.2")}(V.Z)},5861:(Yt,ee,B)=>{"use strict";function l(M,F,H,j,Q,W,q){try{var z=M[W](q),L=z.value}catch(P){return void H(P)}z.done?F(L):Promise.resolve(L).then(j,Q)}function V(M){return function(){var F=this,H=arguments;return new Promise(function(j,Q){var W=M.apply(F,H);function q(L){l(W,j,Q,q,z,"next",L)}function z(L){l(W,j,Q,q,z,"throw",L)}q(void 0)})}}B.d(ee,{Z:()=>V})},7582:(Yt,ee,B)=>{"use strict";function F(Ce,_e){var pe={};for(var ke in Ce)Object.prototype.hasOwnProperty.call(Ce,ke)&&_e.indexOf(ke)<0&&(pe[ke]=Ce[ke]);if(null!=Ce&&"function"==typeof Object.getOwnPropertySymbols){var je=0;for(ke=Object.getOwnPropertySymbols(Ce);je<ke.length;je++)_e.indexOf(ke[je])<0&&Object.prototype.propertyIsEnumerable.call(Ce,ke[je])&&(pe[ke[je]]=Ce[ke[je]])}return pe}function H(Ce,_e,pe,ke){var ut,je=arguments.length,He=je<3?_e:null===ke?ke=Object.getOwnPropertyDescriptor(_e,pe):ke;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)He=Reflect.decorate(Ce,_e,pe,ke);else for(var wt=Ce.length-1;wt>=0;wt--)(ut=Ce[wt])&&(He=(je<3?ut(He):je>3?ut(_e,pe,He):ut(_e,pe))||He);return je>3&&He&&Object.defineProperty(_e,pe,He),He}function P(Ce,_e,pe,ke){return new(pe||(pe=Promise))(function(He,ut){function wt(rn){try{At(ke.next(rn))}catch(N){ut(N)}}function en(rn){try{At(ke.throw(rn))}catch(N){ut(N)}}function At(rn){rn.done?He(rn.value):function je(He){return He instanceof pe?He:new pe(function(ut){ut(He)})}(rn.value).then(wt,en)}At((ke=ke.apply(Ce,_e||[])).next())})}function Te(Ce){return this instanceof Te?(this.v=Ce,this):new Te(Ce)}function de(Ce,_e,pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var je,ke=pe.apply(Ce,_e||[]),He=[];return je=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),wt("next"),wt("throw"),wt("return",function ut(ze){return function(se){return Promise.resolve(se).then(ze,N)}}),je[Symbol.asyncIterator]=function(){return this},je;function wt(ze,se){ke[ze]&&(je[ze]=function(re){return new Promise(function(Ee,Je){He.push([ze,re,Ee,Je])>1||en(ze,re)})},se&&(je[ze]=se(je[ze])))}function en(ze,se){try{!function At(ze){ze.value instanceof Te?Promise.resolve(ze.value.v).then(rn,N):Ke(He[0][2],ze)}(ke[ze](se))}catch(re){Ke(He[0][3],re)}}function rn(ze){en("next",ze)}function N(ze){en("throw",ze)}function Ke(ze,se){ze(se),He.shift(),He.length&&en(He[0][0],He[0][1])}}function Ge(Ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var pe,_e=Ce[Symbol.asyncIterator];return _e?_e.call(Ce):(Ce=function le(Ce){var _e="function"==typeof Symbol&&Symbol.iterator,pe=_e&&Ce[_e],ke=0;if(pe)return pe.call(Ce);if(Ce&&"number"==typeof Ce.length)return{next:function(){return Ce&&ke>=Ce.length&&(Ce=void 0),{value:Ce&&Ce[ke++],done:!Ce}}};throw new TypeError(_e?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ce),pe={},ke("next"),ke("throw"),ke("return"),pe[Symbol.asyncIterator]=function(){return this},pe);function ke(He){pe[He]=Ce[He]&&function(ut){return new Promise(function(wt,en){!function je(He,ut,wt,en){Promise.resolve(en).then(function(At){He({value:At,done:wt})},ut)}(wt,en,(ut=Ce[He](ut)).done,ut.value)})}}}B.d(ee,{FC:()=>de,KL:()=>Ge,_T:()=>F,gn:()=>H,mG:()=>P,qq:()=>Te}),"function"==typeof SuppressedError&&SuppressedError}},Yt=>{Yt(Yt.s=4789)}]);